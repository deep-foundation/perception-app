{"version":3,"file":"static/chunks/pages/index-7ead5605da4754a0.js","mappings":"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","sources":["webpack://_N_E/?22d1","webpack://_N_E/./imports/provider.tsx","webpack://_N_E/./pages/index.tsx","webpack://_N_E/./pages/tab.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/\"])\n      });\n    }\n  ","import { TokenProvider, useTokenController } from '@deep-foundation/deeplinks/imports/react-token';\nimport { ApolloClientTokenizedProvider } from '@deep-foundation/react-hasura/apollo-client-tokenized-provider';\nimport { LocalStoreProvider } from '@deep-foundation/store/local';\nimport { QueryStoreProvider } from '@deep-foundation/store/query';\n\nexport function ProviderConnected({\n  children,\n}: {\n  children: JSX.Element;\n}) {\n  const [token, setToken] = useTokenController();\n  return <>{children}</>;\n}\n\nexport const GRAPHQL_PATH = process.env.NEXT_PUBLIC_GQL_PATH;\nexport const GRAPHQL_SSL = !!+process.env.NEXT_PUBLIC_GQL_SSL;\nconsole.log(GRAPHQL_PATH);\n\n\n\n\nexport function Provider({\n  children,\n}: {\n  children: JSX.Element;\n}) {\n  return (\n    // <Analitics\n    //   yandexMetrikaAccounts={[84726091]}\n    //   googleAnalyticsAccounts={['G-DC5RRWLRNV']}\n    // >\n\n        <QueryStoreProvider>\n           <LocalStoreProvider>\n            <TokenProvider>\n              <ApolloClientTokenizedProvider options={{ client: 'deeplinks-app', path: GRAPHQL_PATH, ssl: GRAPHQL_SSL, ws: !!process?.browser }}>\n                <ProviderConnected>\n                  {children}\n                </ProviderConnected>\n              </ApolloClientTokenizedProvider>\n            </TokenProvider>\n           </LocalStoreProvider>\n         </QueryStoreProvider>\n    // </Analitics>\n  )\n};","import { useEffect, useState } from \"react\";\nimport { Button, ChakraProvider, Stack, Text } from '@chakra-ui/react';\nimport { useLocalStore } from '@deep-foundation/store/local';\nimport { DeepProvider, useDeep, } from \"@deep-foundation/deeplinks/imports/client\";\nimport { Provider } from \"../imports/provider\";\nimport TabCard from \"./tab\";\n\n\nexport function Extension() {\n  const deep = useDeep();\n  const [auth, setAuth] = useState(false);\n  const [tabsUpdate, setTabsUpdate] = useState(false);\n  const [tabs, setTabs] = useState([]);\n\n  // useEffect(() => {\n  //   const authUser = async () => {\n  //     await deep.guest();\n  //     const { linkId, token, error } = await deep.login({\n  //       linkId: await deep.id(\"deep\", 'admin')\n  //     })\n  //     token ? setAuth(true) : setAuth(false)\n  //   };\n  //   authUser();\n  // })\n\n  useEffect(() => {\n    if (typeof (window) === \"object\") {\n      const interval = setInterval(() => {\n        chrome.tabs.query({}, newTabs => {\n          setTabs([...tabs, newTabs]);\n        })\n      }, 1000)\n      // return () => clearInterval(interval)\n    }\n  })\n\n\n  // useEffect(() => {\n  //   console.log({ tabs });\n  // }, [tabs])\n\n  return (\n    // <Stack>\n    //   <Button style={{ background: auth ? \"green\" : \"red\" }}>ADMIN</Button>\n    //   <Button onClick={() => setTabsUpdate(true)}>SUBSCRIBE TO TABS</Button>\n    //   <Button onClick={() => setTabsUpdate(false)}>UNSUBSCRIBE</Button>\n     \n    // </Stack>\n    <>{tabs?.map((tab) =>(<TabCard key={tab.id} id={tab.id} stringA={tab.url} stringB={tab.id} />))}</> \n  )\n}\n\nexport default function Index() {\n  return (\n    <>\n      <ChakraProvider>\n        <Provider>\n          <DeepProvider>\n            <Extension />\n          </DeepProvider>\n        </Provider>\n      </ChakraProvider>\n    </>\n  );\n}","import { Button } from \"@chakra-ui/react\";\n\nexport default function TabCard({ stringA, stringB, id }) {\n  console.log(id);\n  function createDiv() {\n    const injectElement = document.createElement('div'); injectElement.innerHTML = 'XXXXXXXXXXXXXXXXXXXXX'; document.body.appendChild(injectElement);\n  }\n  const injectDiv = (id) => {\n    if (typeof (window) === 'object') {\n      chrome.scripting.executeScript({ target: { tabId: id }, func: createDiv, }, null);\n    }\n  }\n\n  return <div style={{\n    height: \"100px\",\n    width: \"450px\",\n    background: '#CCCCFF',\n    display: \"flex\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    paddingTop: \"5\",\n    paddingBottom: \"5\"\n  }}>\n    <div style={{\n      height: \"40px\",\n      width: \"200px\",\n      background: \"green\",\n      display: \"flex\"\n    }}>\n      {stringA}\n    </div>\n\n    <div style={{\n      height: \"40px\",\n      width: \"200px\",\n      background: \"yellow\",\n      display: \"flex\"\n    }}>\n      {stringB}\n    </div>\n    <Button onClick={() => injectDiv(id)} style={{\n      height: \"40px\",\n      width: \"200px\",\n      background: \"pink\",\n      display: \"flex\"\n    }}>\n      INJECT DIV\n    </Button>\n  </div>\n}"],"names":["window","__NEXT_P","push","__webpack_require__","ProviderConnected","param","children","token","setToken","useTokenController","jsx_runtime","jsx","Fragment","GRAPHQL_PATH","process","Provider","QueryStoreProvider","LocalStoreProvider","TokenProvider","ApolloClientTokenizedProvider","options","client","path","ssl","ws","console","log","Extension","useDeep","auth","setAuth","useState","tabsUpdate","setTabsUpdate","tabs","setTabs","useEffect","setInterval","chrome","query","newTabs","map","TabCard","id","tab","stringA","url","stringB","Index","ChakraProvider","DeepProvider","createDiv","injectElement","document","createElement","innerHTML","body","appendChild","injectDiv","scripting","executeScript","target","tabId","func","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","style","height","width","background","display","justifyContent","alignItems","flexDirection","paddingTop","paddingBottom","Button","onClick"],"sourceRoot":""}