export default {
  "packages": [
    {
      "id": 1267,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 414,
        "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { GrGraphQl } = require(\"react-icons/gr\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Layer = deep.idLocal(dpl, 'Layer');\n    const Graphql = deep.idLocal(dpl, 'Graphql');\n    return ({ go, handlerId, isActive, }, ref) => {\n        return React.createElement(go.Provider, { onDo: {\n                space: () => go.go.go.focus(Layer).go(Layer).focus(Graphql),\n                enter: () => go.go.go.focus(Layer).go(Layer).focus(Graphql),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, onClick: () => {\n                    go.go.focus(handlerId);\n                    go.do('enter');\n                }, ref: ref },\n                React.createElement(GrGraphQl, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNoRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUU3QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsUUFBUSxJQUFDLElBQUksRUFBRTtnQkFDeEIsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQztnQkFDM0QsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQzthQUM1RDtZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxPQUFPLEVBQUUsR0FBRyxFQUFFO29CQUNaLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUN2QixFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNqQixDQUFDLEVBQ0QsR0FBRyxFQUFFLEdBQUc7Z0JBRVIsb0JBQUMsU0FBUyxPQUFFLENBQ0gsQ0FDQyxDQUFDO0lBQ2pCLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgR3JHcmFwaFFsIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvZ3JcIik7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgTGF5ZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnTGF5ZXInKTtcbiAgY29uc3QgR3JhcGhxbCA9IGRlZXAuaWRMb2NhbChkcGwsICdHcmFwaHFsJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgaGFuZGxlcklkLFxuXG4gICAgaXNBY3RpdmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiA8Z28uUHJvdmlkZXIgb25Ebz17e1xuICAgICAgc3BhY2U6ICgpID0+IGdvLmdvLmdvLmZvY3VzKExheWVyKS5nbyhMYXllcikuZm9jdXMoR3JhcGhxbCksXG4gICAgICBlbnRlcjogKCkgPT4gZ28uZ28uZ28uZm9jdXMoTGF5ZXIpLmdvKExheWVyKS5mb2N1cyhHcmFwaHFsKSxcbiAgICB9fT5cbiAgICAgIDxjLkJ1dHRvblxuICAgICAgICB3PSczZW0nIGg9JzNlbSdcbiAgICAgICAgdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIGdvLmdvLmZvY3VzKGhhbmRsZXJJZCk7XG4gICAgICAgICAgZ28uZG8oJ2VudGVyJyk7XG4gICAgICAgIH19XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgPlxuICAgICAgICA8R3JHcmFwaFFsLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Qcm92aWRlcj47XG4gIH07XG59Il19",
        "link_id": 1267
      }
    },
    {
      "id": 1268,
      "type_id": 3,
      "from_id": 885,
      "to_id": 1267,
      "value": {
        "id": 413,
        "value": "generated",
        "link_id": 1268
      }
    },
    {
      "id": 1269,
      "type_id": 143,
      "from_id": 1267,
      "to_id": 885
    },
    {
      "id": 1270,
      "type_id": 3,
      "from_id": 885,
      "to_id": 1269
    },
    {
      "id": 886,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 415,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  const { GraphQL } = require('@deep-foundation/perception-app');\n  \n  const c = require('@chakra-ui/react');\n\n  return ({\n    go,\n\n    children,\n  }, ref) => {\n    // console.log('GraphQL', GraphQL)\n    return <go.Provider\n      onDo={{\n        focus: () => go.set('current').go.scroll(),\n        enter: () => {},\n        space: () => {},\n        return: () => {},\n        left: () => {},\n        up: () => {},\n        right: () => {},\n        down: () => {},\n      }}\n    >\n      <GraphQL deep={deep}/>\n    </go.Provider>;\n  };\n}",
        "link_id": 886
      }
    },
    {
      "id": 1294,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 423,
        "value": "({ deep, data, require, Go }) => {\n    const { BsCheck2All } = require(\"react-icons/bs\");\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const Query = deep.idLocal(dc, 'Query');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const FinderQuery = deep.idLocal(dpl, 'FinderQuery');\n    const Tree = deep.idLocal(dpl, 'Tree');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const Search = deep.idLocal(dpl, 'Search');\n    return ({ go, isActive, saveHistory = false, disclosure: __disclosure, startProps, onSubmit, ...props }, ref) => {\n        const _disclosure = c.useDisclosure();\n        const disclosure = __disclosure || _disclosure;\n        React.useEffect(() => () => deep.minilinks.apply([], `deep-perception-finder-${go.__p}`), []);\n        const [queryId, setQueryId] = React.useState(!saveHistory ? 'virtual' : undefined);\n        return React.createElement(go.On, { do: {\n                open: (g, v, o) => {\n                    if (!o?.id)\n                        return;\n                    disclosure.onClose();\n                    go.root().do('open', { id: o?.id, focus: true });\n                },\n                exec: async (g, v, o) => {\n                    if (saveHistory) {\n                        const { data: [{ id }] } = await deep.insert({\n                            type_id: Query,\n                            object: {\n                                _or: [{ in: { type_id: Contain, string: { value: { _ilike: `%Type%` } } } }],\n                            },\n                            containerId: deep.linkId,\n                            in: {\n                                type_id: FinderQuery,\n                                from_id: deep.linkId,\n                                containerId: deep.linkId,\n                            },\n                        });\n                        await deep.select(id, { apply: `deep-perception-finder-${go.__p}` });\n                        setQueryId(id);\n                    }\n                    disclosure.onOpen();\n                    go.focus(Tree);\n                }\n            } },\n            React.createElement(c.Button, { ref: ref, h: '3em', w: '3em', variant: isActive ? 'active' : null, onClick: () => go.do('exec'), ...props }, \"\\uD83E\\uDEAC\"),\n            !!queryId && disclosure.isOpen && React.createElement(go.Component, { path: [dpl, 'Finder'], disclosure: disclosure, initialId: queryId, initialHandlerId: TreeList, onSubmit: onSubmit || ((id) => go.do('open', { id })), startProps: startProps }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDbEQsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRS9CLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBQ25DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBRWhELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3JELE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBRTNDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFFRixRQUFRLEVBQ1IsV0FBVyxHQUFHLEtBQUssRUFDbkIsVUFBVSxFQUFFLFlBQVksRUFDeEIsVUFBVSxFQUNWLFFBQVEsRUFDUixHQUFHLEtBQUssRUFDVCxFQUFFLEdB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LFFBQVEsRUFDdEUsUUFBUSxFQUFFLFFBQVEsSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFDckQsVUFBVSxFQUFFLFVBQVUsR0FDdEIsQ0FDSSxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCB7IEJzQ2hlY2syQWxsIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvYnNcIik7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgXG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIFxuICBjb25zdCBRdWVyeSA9IGRlZXAuaWRMb2NhbChkYywgJ1F1ZXJ5Jyk7XG4gIGNvbnN0IENvbnRhaW4gPSBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyk7XG4gIGNvbnN0IEZpbmRlclF1ZXJ5ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0ZpbmRlclF1ZXJ5Jyk7XG4gIGNvbnN0IFRyZWUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZScpO1xuICBjb25zdCBUcmVlTGlzdCA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlzdCcpO1xuICBjb25zdCBTZWFyY2ggPSBkZWVwLmlkTG9jYWwoZHBsLCAnU2VhcmNoJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICBpc0FjdGl2ZSxcbiAgICBzYXZlSGlzdG9yeSA9IGZhbHNlLFxuICAgIGRpc2Nsb3N1cmU6IF9fZGlzY2xvc3VyZSxcbiAgICBzdGFydFByb3BzLFxuICAgIG9uU3VibWl0LFxuICAgIC4uLnByb3BzXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IF9kaXNjbG9zdXJlID0gYy51c2VEaXNjbG9zdXJlKCk7XG4gICAgY29uc3QgZGlzY2xvc3VyZSA9IF9fZGlzY2xvc3VyZSB8fCBfZGlzY2xvc3VyZTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiAoKSA9PiBkZWVwLm1pbmlsaW5rcy5hcHBseShbXSwgYGRlZXAtcGVyY2VwdGlvbi1maW5kZXItJHtnby5fX3B9YCksIFtdKTtcbiAgICBjb25zdCBbcXVlcnlJZCwgc2V0UXVlcnlJZF0gPSBSZWFjdC51c2VTdGF0ZSghc2F2ZUhpc3RvcnkgPyAndmlydHVhbCcgOiB1bmRlZmluZWQpO1xuXG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgb3BlbjogKGcsdixvKSA9PiB7XG4gICAgICAgICAgaWYgKCFvPy5pZCkgcmV0dXJuO1xuICAgICAgICAgIGRpc2Nsb3N1cmUub25DbG9zZSgpO1xuICAgICAgICAgIGdvLnJvb3QoKS5kbygnb3BlbicsIHsgaWQ6IG8/LmlkLCBmb2N1czogdHJ1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZXhlYzogYXN5bmMgKGcsdixvKSA9PiB7XG4gICAgICAgICAgaWYgKHNhdmVIaXN0b3J5KSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IFt7IGlkIH1dIH0gPSBhd2FpdCBkZWVwLmluc2VydCh7XG4gICAgICAgICAgICAgIHR5cGVfaWQ6IFF1ZXJ5LFxuICAgICAgICAgICAgICBvYmplY3Q6IHtcbiAgICAgICAgICAgICAgICBfb3I6IFt7IGluOiB7IHR5cGVfaWQ6IENvbnRhaW4sIHN0cmluZzogeyB2YWx1ZTogeyBfaWxpa2U6IGAlVHlwZSVgIH0gfSB9IH1dLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjb250YWluZXJJZDogZGVlcC5saW5rSWQsXG4gICAgICAgICAgICAgIGluOiB7XG4gICAgICAgICAgICAgICAgdHlwZV9pZDogRmluZGVyUXVlcnksXG4gICAgICAgICAgICAgICAgZnJvbV9pZDogZGVlcC5saW5rSWQsXG4gICAgICAgICAgICAgICAgY29udGFpbmVySWQ6IGRlZXAubGlua0lkLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBkZWVwLnNlbGVjdChpZCwgeyBhcHBseTogYGRlZXAtcGVyY2VwdGlvbi1maW5kZXItJHtnby5fX3B9YCB9KTtcbiAgICAgICAgICAgIHNldFF1ZXJ5SWQoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaXNjbG9zdXJlLm9uT3BlbigpO1xuICAgICAgICAgIGdvLmZvY3VzKFRyZWUpO1xuICAgICAgICB9XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLkJ1dHRvblxuICAgICAgICByZWY9e3JlZn0gaD0nM2VtJyB3PSczZW0nIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiBudWxsfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnZXhlYycpfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICA+8J+qrDwvYy5CdXR0b24+XG4gICAgICB7ISFxdWVyeUlkICYmIGRpc2Nsb3N1cmUuaXNPcGVuICYmIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ0ZpbmRlciddfVxuICAgICAgICBkaXNjbG9zdXJlPXtkaXNjbG9zdXJlfSBpbml0aWFsSWQ9e3F1ZXJ5SWR9IGluaXRpYWxIYW5kbGVySWQ9e1RyZWVMaXN0fVxuICAgICAgICBvblN1Ym1pdD17b25TdWJtaXQgfHwgKChpZCkgPT4gZ28uZG8oJ29wZW4nLCB7IGlkIH0pKX1cbiAgICAgICAgc3RhcnRQcm9wcz17c3RhcnRQcm9wc31cbiAgICAgIC8+fVxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1294
      }
    },
    {
      "id": 1295,
      "type_id": 3,
      "from_id": 889,
      "to_id": 1294,
      "value": {
        "id": 422,
        "value": "generated",
        "link_id": 1295
      }
    },
    {
      "id": 1296,
      "type_id": 143,
      "from_id": 1294,
      "to_id": 889
    },
    {
      "id": 1297,
      "type_id": 3,
      "from_id": 889,
      "to_id": 1296
    },
    {
      "id": 890,
      "type_id": 35,
      "from_id": 145,
      "to_id": 889
    },
    {
      "id": 891,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 424,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  const { BsX, BsCheck2, BsXLg, BsDatabase, BsRegex } = require('react-icons/bs');\n\n  const {\n    TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon,\n  } = require('@deep-foundation/perception-app');\n\n  const { useAsyncMemo } = require('use-async-memo');\n  \n  const c = require('@chakra-ui/react');\n\n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n\n  const V = deep.idLocal(dc, 'Value');\n  const S = deep.idLocal(dc, 'String');\n  const N = deep.idLocal(dc, 'Number');\n  const O = deep.idLocal(dc, 'Object');\n  const F = deep.idLocal(dc, 'File');\n  const Any = deep.idLocal(dc, 'Any');\n\n  return ({\n    go,\n\n    defaultContainerId,\n    defaultTypeId,\n    defaultFromId,\n    defaultToId,\n\n    customInsert: _customInsert = {},\n\n    onInsert,\n\n    disclosure,\n  }, ref) => {\n    if (!disclosure) throw new Error('!disclosure');\n\n    const [name, setName] = React.useState('');\n\n    const customInsert = React.useMemo(() => {\n      return typeof(_customInsert) == 'function' ? _customInsert({ name }) : _customInsert;\n    }, [_customInsert, name]);\n\n    const [typeId, setTypeId] = React.useState(defaultTypeId || (deep.isId(customInsert?.type_id) ? customInsert?.type_id : deep.isId(customInsert?.type) ? customInsert?.type : undefined));\n    const [fromId, setFromId] = React.useState(defaultFromId || (deep.isId(customInsert?.from_id) ? customInsert?.from_id : deep.isId(customInsert?.from) ? customInsert?.from : undefined));\n    const [toId, setToId] = React.useState(defaultToId || (deep.isId(customInsert?.to_id) ? customInsert?.to_id : deep.isId(customInsert?.to) ? customInsert?.to : undefined));\n    const [containerId, setContainerId] = React.useState(defaultContainerId || (deep.isId(customInsert?.containerId) ? customInsert?.containerId : undefined));\n    const type = React.useMemo(() => typeId ? deep.get(+typeId) : null, [typeId]);\n    const prevTypeBasedNameRef = React.useRef();\n    React.useEffect(() => {\n      if (!type) return;\n      const tn = _.lowerFirst(type?.name);\n      if (!name || name === prevTypeBasedNameRef.current) {\n        prevTypeBasedNameRef.current = tn;\n        setName(tn);\n      }\n    }, [type]);\n    const from = React.useMemo(() => fromId ? deep.get(+fromId) : null, [fromId]);\n    const to = React.useMemo(() => toId ? deep.get(+toId) : null, [toId]);\n\n    const [value, setValue] = React.useState();\n\n    const tV = useAsyncMemo(async () => {\n      return typeId ? (await deep.select({ type_id: V, from_id: +typeId }))?.data?.[0]?.to_id : undefined;\n    }, [type]);\n    const { isValid, validated } = React.useMemo(() => {\n      try {\n        if (tV === S) return { validated: value, isValid: true };\n        if (tV === N) return { validated: +value, isValud: typeof(validated) === 'number' && !Number.isNaN(validated) };\n        if (tV === O) return { validated: JSON.parse(value), isValid: true };\n        if (!tV) return { validated: value, isValid: true };\n      } catch(e) {}\n      return { validated: value, isValid: false };\n    }, [value, tV]);\n\n    const [v, setV] = React.useState();\n\n    const AllowAdmin = useAsyncMemo<any>(async () => {\n      return await deep.can(deep.linkId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowAdmin'));\n    }, [], false);\n    const AllowInsertType = useAsyncMemo<any>(async () => {\n      return !typeId ? false : await deep.can(+typeId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowInsertType'));\n    }, [typeId], false);\n    const can = AllowInsertType || AllowAdmin;\n    \n    const insertQuery = type ? {\n      ...customInsert,\n      type_id: type.id,\n      ...(fromId && toId ? { from_id: +fromId, to_id: +toId } : {}),\n      containerId,\n      ...(name ? { name } : {}),\n      ...(validated ? (\n        tV == S ? { string: { data: { value: validated } } } :\n        tV == N ? { number: { data: { value: validated } }} :\n        tV == O ? { object: { data: { value: validated } } } :\n        {}\n      ) : {}),\n    } : {};\n    if (v) {\n      insertQuery.out = (\n        _.isArray(insertQuery.out) ? insertQuery.out :\n        typeof(insertQuery.out) === 'object' ? [insertQuery.out] :\n        []\n      );\n      insertQuery.out.push({ type_id: V, to_id: v, name: `${name}Value` });\n    }\n\n    const isValidLink = React.useMemo(() => {\n      const type = !!typeId && deep.get(typeId);\n      return (\n        (insertQuery?.type_id || insertQuery?.type) &&\n        (insertQuery?.from_id || insertQuery?.from || (!!type && (!type?.from_id || type?.from_id === Any))) &&\n        (insertQuery?.to_id || insertQuery?.to || (!!type && (!type?.to_id || type?.to_id === Any)))\n      );\n    }, [typeId, fromId, toId, insertQuery]);\n\n    const valueType = React.useMemo(() => type?.outByType[V]?.[0]?.to_id, [type]);\n\n    const [inserting, setInserting] = React.useState(false);\n\n    const buttons = <>\n      <c.SlideFade in={true} offsetX='-0.5rem' style={{position: 'absolute', top: 0, right: '-4em'}}>\n        <c.Button\n          w='3em' h='3em'\n          boxShadow='dark-lg'\n          variant={undefined}\n          onClick={disclosure.onClose}\n        ><BsX /></c.Button>\n      </c.SlideFade>\n      <c.SlideFade\n        in={(isValidLink) && (isValid || value === '')}\n        offsetX='-0.5rem' style={{position: 'absolute', bottom: 0, right: '-4em'}}\n      >\n        <c.Button\n          w='3em' h='3em'\n          boxShadow='dark-lg'\n          variant={'active'}\n          isLoading={inserting}\n          onClick={async () => {\n            setInserting(true);\n            const { data: [inserted] } = await deep.insert(insertQuery);\n            onInsert && onInsert(inserted, insertQuery);\n            setInserting(false);\n            disclosure.onClose();\n          }}\n        ><BsCheck2 /></c.Button>\n      </c.SlideFade>\n    </>;\n\n    const alert = <>\n      <c.Alert status={can ? 'info' : 'error'}>\n        <c.AlertIcon />\n        <c.AlertTitle>You {can ? 'can' : 'can`t'} do it.</c.AlertTitle>\n      </c.Alert>\n      <go.Editor\n        value={`await deep.can(deep.linkId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowAdmin'))\n// ${AllowAdmin}${!!typeId ? `\nawait deep.can(${typeId}, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowInsertType'))\n// ${AllowInsertType}` : ''}`}\n        editable={false}\n      />\n    </>;\n\n    return <go.On\n      do={{\n      }}\n    >\n      <c.Modal\n        ref={ref}\n        closeOnOverlayClick blockScrollOnMount={false}\n        onClose={disclosure.onClose}\n        isOpen={disclosure.isOpen} portalProps={{ containerRef: go.root().ref }}\n      >\n        <c.ModalOverlay />\n        <c.ModalContent w='30em' maxW='30em' position='relative'>\n          <c.ModalHeader>Link inserting:</c.ModalHeader>\n          <c.ModalBody p={0} w='100%' h='100%'>\n            {!can && alert}\n            <go.Component path={[dpl, 'FinderInput']}\n              leftIcon={<TypeIcon/>}\n              value={typeId}\n              onChange={id => setTypeId(id)}\n            />\n            {(((!!typeId && !!type) && ((!!type?.from_id && !!type?.to_id) || type?.id === 1)) || (!typeId)) && <c.SimpleGrid columns={2}>\n              <go.Component path={[dpl, 'FinderInput']}\n                leftIcon={<FromIcon/>}\n                value={fromId}\n                onChange={id => setFromId(id)}\n              />\n              <go.Component path={[dpl, 'FinderInput']}\n                leftIcon={<ToIcon/>}\n                value={toId}\n                onChange={id => setToId(id)}\n              />\n            </c.SimpleGrid>}\n            <c.SimpleGrid columns={2}>\n              <go.Component path={[dpl, 'FinderInput']}\n                leftIcon={<>🗂️</>}\n                value={containerId}\n                onChange={id => setContainerId(id)}\n              />\n              <c.Input\n                placeholder='name' h='3em'\n                value={name}\n                onChange={e => setName(e.target.value)}\n              />\n            </c.SimpleGrid>\n            {!!type && <>\n              <c.Box>\n                {!valueType && <>\n                  <c.Alert status='info'>\n                    <c.AlertIcon/>\n                    <c.AlertTitle>type {+type} can't have Value</c.AlertTitle>\n                  </c.Alert>\n                </>}\n                {valueType === S && <>\n                  <go.Editor placeholder='String value' value={value} onChange={setValue}/>\n                </>}\n                {valueType === N && <>\n                  <c.Input\n                    type='string'\n                    value={value}\n                    placeholder='Number value'\n                    onChange={e => setValue(e.target.value)}\n                  />\n                </>}\n                {valueType === O && <>\n                  <go.Editor placeholder='Object value' value={value} onChange={setValue}/>\n                </>}\n                {(tV === S || tV === N || tV === O) && <c.Tag\n                  size='lg' colorScheme={value === '' ? 'black' : isValid ? 'deepActive' : 'danger'} variant='solid' borderRadius='full'\n                  position='absolute' bottom='-0.5em' right='-0.5em'\n                >{value === '' ? 'empty' : isValid ? 'valid' : 'invalid'}</c.Tag>}\n              </c.Box>\n            </>}\n            <c.Flex>\n              <c.Button flex='1' variant={v === N ? 'active' : undefined} onClick={() => setV(N)}>number</c.Button>\n              <c.Button flex='1' variant={v === S ? 'active' : undefined} onClick={() => setV(S)}>string</c.Button>\n              <c.Button flex='1' variant={v === O ? 'active' : undefined} onClick={() => setV(O)}>object</c.Button>\n              <c.Button flex='1' variant={v === F ? 'active' : undefined} onClick={() => setV(F)}>file</c.Button>\n              <c.Button onClick={() => setV()}>x</c.Button>\n            </c.Flex>\n            <c.Divider mb='1em'/>\n            {<go.Editor\n              value={`await deep.insert(${JSON.stringify(insertQuery, null, 2)})`}\n              editable={false}\n            />}\n            {!!can && alert}\n          </c.ModalBody>\n          {buttons}\n        </c.ModalContent>\n      </c.Modal>\n    </go.On>;\n  };\n}",
        "link_id": 891
      }
    },
    {
      "id": 940,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 490,
        "value": "async ({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n  const djf = '@deep-foundation/jsonschema-form';\n  const dpt = '@deep-foundation/payments-tinkoff-c2b';\n  const c = require('@chakra-ui/react');\n\n  const Tree = await deep.id(dpl, 'Tree');\n  const Stack = await deep.id(dpl, 'Stack');\n  const Inserting = await deep.id(djf, 'Inserting');\n  const Updating = await deep.id(djf, 'Updating');\n  const Payment = await deep.id(dpt, 'Payment');\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n\n    ...props\n  }, ref) => {\n    const [mode, setMode] = React.useState('business');\n    const { data: payments } = deep.useSubscription({\n      type_id: Payment, to_id: linkId,\n    });\n    return <go.On\n      do={{\n        business: (g,v,o) => setMode(v),\n        payments: (g,v,o) => setMode(v),\n        pay: async (g,v,o) => {\n          setMode('payments');\n          const { data: [{ id }] } = await deep.insert({ type_id: Payment, from_id: deep.linkId, to_id: linkId });\n          go.parent(Tree).do('open', { id, parentId: linkId });\n        },\n      }}\n    >\n      <c.HStack>\n        <c.Button variant={go.value === 'business' ? 'active' : undefined} onClick={() => go.focus('business').go.do('business')}>business</c.Button>\n        <c.Button variant={go.value === 'payments' ? 'active' : undefined} onClick={() => go.focus('payments').go.do('payments')}>payments</c.Button>\n        <c.Button variant={go.value === 'pay' ? 'active' : undefined} onClick={() => go.focus('pay').go.do('pay')} onClick={() => go.do('pay')}>+ payment</c.Button>\n      </c.HStack>\n      {mode === 'business' && <go.Component\n        path={[djf, 'Updating']} linkId={linkId} link={link}\n        buttonProps={{\n          children: <>Save</>\n        }}\n      />}\n      {mode === 'payments' && <c.VStack>\n        {!!payments?.length && <go.Provider linkId={Stack}>\n          <go.Component path={[dpl, 'Stack']} links={payments} direction='vertical' flex='1' />\n        </go.Provider>}\n      </c.VStack>}\n    </go.On>;\n  };\n}",
        "link_id": 940
      }
    },
    {
      "id": 942,
      "type_id": 35,
      "from_id": 145,
      "to_id": 941
    },
    {
      "id": 943,
      "type_id": 827,
      "from_id": 942,
      "to_id": 836
    },
    {
      "id": 944,
      "type_id": 827,
      "from_id": 942,
      "to_id": 2
    },
    {
      "id": 945,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 496,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n  const { IoFingerPrintOutline } = require(\"react-icons/io5\");\n\n  var dtsx = '@deep-foundation/tsx';\n  var dpl = '@deep-foundation/perception-links';\n  var dc = '@deep-foundation/core';\n\n  const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n  const Handler = deep.idLocal(dc, 'Handler');\n  const TSX = deep.idLocal(dtsx, 'TSX');\n  const MenuAuth = deep.idLocal(dpl, 'MenuAuth');\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const After = deep.idLocal(dpl, 'After');\n  const Compatable = deep.idLocal(dpl, 'Compatable');\n  const StackInsertButton = deep.idLocal(dpl, 'StackInsertButton');\n\n  const templateLayerButton = (id) => `      <go.On do={{\n        exec: async (g,v,o) => go.go.do('right', { ...o, id: await deep.id(${id}, 'NameOfComponent') }),\n        click: (g,v,o) => go.do('exec', o),\n        right: (g,v,o) => go.do('exec', o),\n      }}>\n        <c.Button w='3em' h='3em' variant={isActive ? 'active' : undefined} onClick={() => go.do('exec')}>?</c.Button>\n        {/*<go.Component path={[${id}, 'NameOfComponent']}/>*/}\n      </go.On>`;\n\n  const Item = ({ link, isActive }) => {\n    const go = Go.useGo();\n    return (link?.id === After ? (\n      <go.Handler handlerId={StackInsertButton} insertProps={{ customInsert: ({ name }) => ({\n        containerId: dpl,\n        type_id: Handler,\n        from_id: clientSupportsJs,\n        to: {\n          type_id: TSX,\n          string: go.componentTemplate({ children: templateLayerButton('dpl') }),\n          name: `${name}Component`,\n        },\n        out: {\n          type_id: Compatable,\n          to_id: MenuAuth,\n          name: `${name}CompatableMenuAuth`,\n        },\n      }) }}>+</go.Handler>\n    ) : (<Go.Handler\n      handlerId={link.id}\n      linkId={link.id}\n      isActive={isActive}\n    />))\n  };\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n  }, ref) => {\n    const containerRef = React.useMemo(() => go.root().ref, []);\n    const [opened, setOpened] = React.useState();\n\n    const { data: auths } = deep.useQuery({\n      type_id: Handler,\n      out: {\n        type_id: Compatable,\n        to_id: handlerId,\n      },\n      order_by: { id: 'desc' }\n    });\n\n    return <go.On\n      do={{\n        focus: (g,v,id,o) => {\n          if (!v) go.set('current');\n        },\n        right: (g,v,o) => {\n          // mode[1](go.next(modes.map(m => ({ id: m })), mode[0]));\n        },\n        left: (g,v,o) => {\n          // modes[0] === mode[0]  ? go.set() : mode[1](go.prev(modes.map(m => ({ id: m })), mode[0]));\n        },\n      }}\n    >\n      <c.Popover placement='right-end' closeOnBlur={false} isOpen={!!go.value} onClose={() => go.set()}>\n        <c.PopoverTrigger>\n          <c.Button\n            ref={ref} w='3em' h='3em' variant={!!go.value || isActive ? 'active' : undefined}\n            onClick={() => go.value ? go.set() : go.set('current')}\n          >\n            <IoFingerPrintOutline/>\n          </c.Button>\n        </c.PopoverTrigger>\n        <c.Portal containerRef={containerRef}>\n          <c.PopoverContent w='30em' maxH='30em' minH='30em' position='relative'>\n            <go.Provider linkId={Stack}>\n              <go.Component\n                path={[dpl, 'Stack']} links={[...auths, { id: After }]} direction='vertical' Item={Item}\n              />\n            </go.Provider>\n          </c.PopoverContent>\n        </c.Portal>\n      </c.Popover>\n    </go.On>;\n  };\n}",
        "link_id": 945
      }
    },
    {
      "id": 1000,
      "type_id": 3,
      "from_id": 948,
      "to_id": 853,
      "value": {
        "id": 547,
        "value": "MenuTreeComponent",
        "link_id": 1000
      }
    },
    {
      "id": 1001,
      "type_id": 3,
      "from_id": 948,
      "to_id": 857,
      "value": {
        "id": 548,
        "value": "Layer",
        "link_id": 1001
      }
    },
    {
      "id": 1002,
      "type_id": 3,
      "from_id": 948,
      "to_id": 856,
      "value": {
        "id": 549,
        "value": "LayerComponent",
        "link_id": 1002
      }
    },
    {
      "id": 1003,
      "type_id": 3,
      "from_id": 948,
      "to_id": 861,
      "value": {
        "id": 550,
        "value": "Layout",
        "link_id": 1003
      }
    },
    {
      "id": 1004,
      "type_id": 3,
      "from_id": 948,
      "to_id": 860,
      "value": {
        "id": 551,
        "value": "LayoutComponent",
        "link_id": 1004
      }
    },
    {
      "id": 1005,
      "type_id": 3,
      "from_id": 948,
      "to_id": 863,
      "value": {
        "id": 552,
        "value": "Header",
        "link_id": 1005
      }
    },
    {
      "id": 1006,
      "type_id": 3,
      "from_id": 948,
      "to_id": 862,
      "value": {
        "id": 553,
        "value": "HeaderComponent",
        "link_id": 1006
      }
    },
    {
      "id": 1007,
      "type_id": 3,
      "from_id": 948,
      "to_id": 865,
      "value": {
        "id": 554,
        "value": "GraphLinkActions",
        "link_id": 1007
      }
    },
    {
      "id": 1008,
      "type_id": 3,
      "from_id": 948,
      "to_id": 864,
      "value": {
        "id": 555,
        "value": "GraphLinkActionsComponent",
        "link_id": 1008
      }
    },
    {
      "id": 1009,
      "type_id": 3,
      "from_id": 948,
      "to_id": 867,
      "value": {
        "id": 556,
        "value": "GraphLink",
        "link_id": 1009
      }
    },
    {
      "id": 1010,
      "type_id": 3,
      "from_id": 948,
      "to_id": 866,
      "value": {
        "id": 557,
        "value": "GraphLinkComponent",
        "link_id": 1010
      }
    },
    {
      "id": 1011,
      "type_id": 3,
      "from_id": 948,
      "to_id": 869,
      "value": {
        "id": 558,
        "value": "TreeLinkActions",
        "link_id": 1011
      }
    },
    {
      "id": 1012,
      "type_id": 3,
      "from_id": 948,
      "to_id": 868,
      "value": {
        "id": 559,
        "value": "TreeLinkActionsComponent",
        "link_id": 1012
      }
    },
    {
      "id": 1013,
      "type_id": 3,
      "from_id": 948,
      "to_id": 871,
      "value": {
        "id": 560,
        "value": "MenuGraph",
        "link_id": 1013
      }
    },
    {
      "id": 1050,
      "type_id": 3,
      "from_id": 948,
      "to_id": 910,
      "value": {
        "id": 597,
        "value": "PlanetOperations",
        "link_id": 1050
      }
    },
    {
      "id": 1065,
      "type_id": 3,
      "from_id": 948,
      "to_id": 927,
      "value": {
        "id": 612,
        "value": "QueryComponent",
        "link_id": 1065
      }
    },
    {
      "id": 1066,
      "type_id": 3,
      "from_id": 948,
      "to_id": 930,
      "value": {
        "id": 613,
        "value": "StackInsertButton",
        "link_id": 1066
      }
    },
    {
      "id": 1067,
      "type_id": 3,
      "from_id": 948,
      "to_id": 929,
      "value": {
        "id": 614,
        "value": "StackInsertButtonComponent",
        "link_id": 1067
      }
    },
    {
      "id": 1068,
      "type_id": 3,
      "from_id": 948,
      "to_id": 932,
      "value": {
        "id": 615,
        "value": "MenuSite",
        "link_id": 1068
      }
    },
    {
      "id": 1069,
      "type_id": 3,
      "from_id": 948,
      "to_id": 931,
      "value": {
        "id": 616,
        "value": "MenuSiteComponent",
        "link_id": 1069
      }
    },
    {
      "id": 1070,
      "type_id": 3,
      "from_id": 948,
      "to_id": 935,
      "value": {
        "id": 617,
        "value": "Site",
        "link_id": 1070
      }
    },
    {
      "id": 1071,
      "type_id": 3,
      "from_id": 948,
      "to_id": 934,
      "value": {
        "id": 618,
        "value": "SiteComponent",
        "link_id": 1071
      }
    },
    {
      "id": 1072,
      "type_id": 3,
      "from_id": 948,
      "to_id": 937,
      "value": {
        "id": 619,
        "value": "TreeLinkPackage",
        "link_id": 1072
      }
    },
    {
      "id": 1073,
      "type_id": 3,
      "from_id": 948,
      "to_id": 936,
      "value": {
        "id": 620,
        "value": "TreeLinkPackageComponent",
        "link_id": 1073
      }
    },
    {
      "id": 1074,
      "type_id": 3,
      "from_id": 948,
      "to_id": 939,
      "value": {
        "id": 621,
        "value": "TreePackage",
        "link_id": 1074
      }
    },
    {
      "id": 1075,
      "type_id": 3,
      "from_id": 948,
      "to_id": 938,
      "value": {
        "id": 622,
        "value": "TreePackageComponent",
        "link_id": 1075
      }
    },
    {
      "id": 1076,
      "type_id": 3,
      "from_id": 948,
      "to_id": 823,
      "value": {
        "id": 623,
        "value": "After",
        "link_id": 1076
      }
    },
    {
      "id": 1077,
      "type_id": 3,
      "from_id": 948,
      "to_id": 824,
      "value": {
        "id": 624,
        "value": "Before",
        "link_id": 1077
      }
    },
    {
      "id": 1078,
      "type_id": 3,
      "from_id": 948,
      "to_id": 940,
      "value": {
        "id": 625,
        "value": "handlerBusinessComponent",
        "link_id": 1078
      }
    },
    {
      "id": 1079,
      "type_id": 3,
      "from_id": 948,
      "to_id": 942,
      "value": {
        "id": 626,
        "value": "packageView",
        "link_id": 1079
      }
    },
    {
      "id": 1080,
      "type_id": 3,
      "from_id": 948,
      "to_id": 941,
      "value": {
        "id": 627,
        "value": "packageViewComponent",
        "link_id": 1080
      }
    },
    {
      "id": 1081,
      "type_id": 3,
      "from_id": 948,
      "to_id": 946,
      "value": {
        "id": 628,
        "value": "MenuAuth",
        "link_id": 1081
      }
    },
    {
      "id": 1560,
      "type_id": 15,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1637,
      "type_id": 99,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 1,
        "value": 4001,
        "link_id": 1637
      }
    },
    {
      "id": 1640,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 662,
        "value": "async ({deep, require, data: {\r\n  newLink: { \r\n    id: actionLoginId, \r\n    from_id: youUserId, \r\n    to_id: loginedUserId,  \r\n  } \r\n  }}) => {\r\n\r\n    await deep.insert({\r\n          type_id: await deep.id('@deep-foundation/core', 'Rule'),\r\n          out: { data: [\r\n            {\r\n              type_id: await deep.id('@deep-foundation/core', 'RuleSubject'),\r\n              to: { data: {\r\n                type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n                out: { data: {\r\n                  type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\r\n                  to_id: youUserId,\r\n                  out: { data: {\r\n                    type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\r\n                    to_id: await deep.id('@deep-foundation/core', 'containTree'),\r\n                  } },\r\n                } }\r\n              } }\r\n            },\r\n            {\r\n              type_id: await deep.id('@deep-foundation/core', 'RuleObject'),\r\n              to: { data: {\r\n                type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n                out: { data: {\r\n                  type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\r\n                  to_id: youUserId,\r\n                  out: { data: {\r\n                    type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\r\n                    to_id: await deep.id('@deep-foundation/core', 'containTree'),\r\n                  } },\r\n                } }\r\n              } }\r\n            },\r\n            {\r\n              type_id: await deep.id('@deep-foundation/core', 'RuleAction'),\r\n              to: { data: {\r\n                type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n                out: { data: {\r\n                  type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\r\n                  to_id: await deep.id('@deep-foundation/core', 'AllowSelect'),\r\n                  out: { data: {\r\n                    type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\r\n                    to_id: await deep.id('@deep-foundation/core', 'containTree'),\r\n                  } },\r\n                } }\r\n              } }\r\n            },\r\n          ] },\r\n        });\r\n}",
        "link_id": 1640
      }
    },
    {
      "id": 1646,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 664,
        "value": "@l4legenda/auth-core",
        "link_id": 1646
      }
    },
    {
      "id": 1652,
      "type_id": 3,
      "from_id": 1646,
      "to_id": 1645,
      "value": {
        "id": 666,
        "value": "ActionLoginUserHandlerInsert",
        "link_id": 1652
      }
    },
    {
      "id": 1653,
      "type_id": 3,
      "from_id": 1646,
      "to_id": 1644,
      "value": {
        "id": 667,
        "value": "ActionLoginUserHandler",
        "link_id": 1653
      }
    },
    {
      "id": 1654,
      "type_id": 3,
      "from_id": 1646,
      "to_id": 1638,
      "value": {
        "id": 668,
        "value": "ActionLoginUser",
        "link_id": 1654
      }
    },
    {
      "id": 1655,
      "type_id": 3,
      "from_id": 1646,
      "to_id": 1637,
      "value": {
        "id": 669,
        "value": "Port",
        "link_id": 1655
      }
    },
    {
      "id": 1656,
      "type_id": 3,
      "from_id": 1646,
      "to_id": 1642,
      "value": {
        "id": 670,
        "value": "ActionSelectUserHandlerInsert",
        "link_id": 1656
      }
    },
    {
      "id": 1657,
      "type_id": 3,
      "from_id": 1646,
      "to_id": 1641,
      "value": {
        "id": 671,
        "value": "ActionSelectUserHandler",
        "link_id": 1657
      }
    },
    {
      "id": 1658,
      "type_id": 3,
      "from_id": 1646,
      "to_id": 1640,
      "value": {
        "id": 672,
        "value": "ActionSelectUserSyncTextFile",
        "link_id": 1658
      }
    },
    {
      "id": 1659,
      "type_id": 3,
      "from_id": 1646,
      "to_id": 1639,
      "value": {
        "id": 673,
        "value": "ActionSelectUser",
        "link_id": 1659
      }
    },
    {
      "id": 1660,
      "type_id": 3,
      "from_id": 1646,
      "to_id": 1643,
      "value": {
        "id": 674,
        "value": "ActionLoginUserSyncTextFile",
        "link_id": 1660
      }
    },
    {
      "id": 1782,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 696,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const { useDebounce } = require('@react-hook/debounce');\n    const axios = require('axios');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const da = '@deep-foundation/authorization';\n    const dup = '@deep-foundation/passport-username-password';\n    const c = require('@chakra-ui/react');\n    const Authorization = deep.idLocal(dc, 'Authorization');\n    const Username = deep.idLocal(dup, 'Username');\n    const authorization = async (op, input) => {\n        console.log('authorization input', op, input);\n        const type = op === 'try' ? 'AuthorizationTryInput' : op === 'get' ? 'AuthorizationGetInput' : op === 'set' ? 'AuthorizationSetInput' : undefined;\n        const result = op === 'try' ? 'id error' : op === 'get' ? 'linkId token error' : op === 'set' ? 'error' : undefined;\n        const response = await deep.apolloClient.query({\n            query: deep.gql `query Authorization($input: ${type}) { authorization { ${op}(input: $input) { ${result} } } }`,\n            variables: { input },\n        });\n        console.log('authorization output', op, input, response?.data?.authorization?.[op]);\n        return response?.data?.authorization?.[op];\n    };\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, onRequest, onResponse, ...props }, ref) => {\n        const [username, setUsername] = React.useState('');\n        const [password, setPassword] = React.useState('');\n        const [password1, setPassword1] = React.useState('');\n        const [password2, setPassword2] = React.useState('');\n        const { data: [u] } = deep.useQuery({\n            type_id: Username,\n            string: username,\n        }, { skip: !username, debounce: 1000 });\n        const [tryId, setTryId] = React.useState();\n        const [error, setError] = React.useState();\n        React.useEffect(() => {\n            if (!tryId)\n                clearInterval(intervalRef.current);\n        }, [tryId]);\n        const intervalRef = React.useRef();\n        const login = React.useCallback(async (username, password, operation) => {\n            onRequest && onRequest(operation, username);\n            const { id: tryId } = await authorization('try', { linkId: deep.linkId });\n            setTryId(tryId);\n            axios.get(`${deep.url('deeplinks')}/deep-foundation/passport-username-password?username=${username}&password=${password}&try=${tryId}`);\n            const nextTimeout = () => {\n                intervalRef.current = setInterval(() => {\n                    authorization('get', { id: tryId }).then(({ linkId, token, error }) => {\n                        let prevented = false;\n                        if (token || (!!error && error !== '!allow'))\n                            clearInterval(intervalRef.current);\n                        if (!!error && error !== '!allow') {\n                            onResponse && onResponse(operation, username, { linkId, token, error }, () => prevented = true);\n                            setError(error);\n                        }\n                        if (token) {\n                            onResponse && onResponse(operation, username, { linkId, token, error }, () => prevented = true);\n                            console.log('deep.login', { linkId, token });\n                            if (!prevented)\n                                deep.login({ linkId, token });\n                        }\n                        else {\n                            nextTimeout();\n                        }\n                    });\n                }, 3000);\n            };\n            nextTimeout();\n        }, []);\n        return React.createElement(go.On, { do: {} },\n            React.createElement(go.On, { do: {\n                    exec: async (g, v, o) => go.go.do('right', { ...o, id: await deep.id(dpl, 'NameOfComponent') }),\n                    click: (g, v, o) => go.do('exec', o),\n                    right: (g, v, o) => go.do('exec', o),\n                } },\n                React.createElement(c.Box, { p: '1em' },\n                    !username && React.createElement(c.Box, null, \"Login or Register\"),\n                    React.createElement(c.Input, { placeholder: 'username', value: username, onChange: e => setUsername(e.target.value) }),\n                    !!username && React.createElement(React.Fragment, null, !!u ? React.createElement(React.Fragment, null,\n                        React.createElement(c.Input, { placeholder: 'password', value: password, type: 'password', onChange: e => setPassword(e.target.value) }),\n                        !!password && React.createElement(c.Flex, null,\n                            !!tryId && React.createElement(c.Button, { onClick: () => setTryId() }, \"x\"),\n                            React.createElement(c.Button, { flex: '1', isLoading: tryId, onClick: () => login(username, password, 'login') }, \"Login\"),\n                            !!error && React.createElement(React.Fragment, null,\n                                React.createElement(c.Alert, { status: 'error' },\n                                    React.createElement(c.AlertIcon, null),\n                                    error)))) : React.createElement(React.Fragment, null,\n                        React.createElement(c.Input, { placeholder: 'password', value: password1, type: 'password', onChange: e => setPassword1(e.target.value) }),\n                        React.createElement(c.Input, { placeholder: 'password', value: password2, type: 'password', onChange: e => setPassword2(e.target.value) }),\n                        !!password1 && (password1 != password2 ? React.createElement(React.Fragment, null,\n                            React.createElement(c.Alert, { status: 'error' },\n                                React.createElement(c.AlertIcon, null),\n                                \"Passwords must be equal\")) : React.createElement(React.Fragment, null,\n                            React.createElement(c.Alert, { status: 'success' },\n                                React.createElement(c.AlertIcon, null),\n                                \"Passwords valid\"),\n                            React.createElement(c.Flex, null,\n                                !!tryId && React.createElement(c.Button, { onClick: () => setTryId() }, \"x\"),\n                                React.createElement(c.Button, { flex: '1', isLoading: tryId, isDisabled: !password1 || (password1 !== password2), onClick: () => login(username, password1, 'register') }, \"Register\")))))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQ3hELE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUUvQixNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyxnQ0FBZ0MsQ0FBQztJQUM1QyxNQUFNLEdBQUcsR0FBRyw2Q0FBNkMsQ0FBQztJQUMxRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQztJQUN4RCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUUvQyxNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsRUFBVSxFQUFFLEtBQVUsRUFBRSxFQUFFO1FBQ3JELE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzlDLE1BQU0sSUFBSSxHQUFHLEVBQUUsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsdUJB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YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgdXNlRGVib3VuY2UgfSA9IHJlcXVpcmUoJ0ByZWFjdC1ob29rL2RlYm91bmNlJyk7XG4gIGNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcbiAgXG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYSA9ICdAZGVlcC1mb3VuZGF0aW9uL2F1dGhvcml6YXRpb24nO1xuICBjb25zdCBkdXAgPSAnQGRlZXAtZm91bmRhdGlvbi9wYXNzcG9ydC11c2VybmFtZS1wYXNzd29yZCc7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgQXV0aG9yaXphdGlvbiA9IGRlZXAuaWRMb2NhbChkYywgJ0F1dGhvcml6YXRpb24nKTtcbiAgY29uc3QgVXNlcm5hbWUgPSBkZWVwLmlkTG9jYWwoZHVwLCAnVXNlcm5hbWUnKTtcblxuICBjb25zdCBhdXRob3JpemF0aW9uID0gYXN5bmMgKG9wOiBzdHJpbmcsIGlucHV0OiBhbnkpID0+IHtcbiAgICBjb25zb2xlLmxvZygnYXV0aG9yaXphdGlvbiBpbnB1dCcsIG9wLCBpbnB1dCk7XG4gICAgY29uc3QgdHlwZSA9IG9wID09PSAndHJ5JyA/ICdBdXRob3JpemF0aW9uVHJ5SW5wdXQnIDogb3AgPT09ICdnZXQnID8gJ0F1dGhvcml6YXRpb25HZXRJbnB1dCcgOiBvcCA9PT0gJ3NldCcgPyAnQXV0aG9yaXphdGlvblNldElucHV0JyA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCByZXN1bHQgPSBvcCA9PT0gJ3RyeScgPyAnaWQgZXJyb3InIDogb3AgPT09ICdnZXQnID8gJ2xpbmtJZCB0b2tlbiBlcnJvcicgOiBvcCA9PT0gJ3NldCcgPyAnZXJyb3InIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGVlcC5hcG9sbG9DbGllbnQucXVlcnkoe1xuICAgICAgcXVlcnk6IGRlZXAuZ3FsYHF1ZXJ5IEF1dGhvcml6YXRpb24oJGlucHV0OiAke3R5cGV9KSB7IGF1dGhvcml6YXRpb24geyAke29wfShpbnB1dDogJGlucHV0KSB7ICR7cmVzdWx0fSB9IH0gfWAsXG4gICAgICB2YXJpYWJsZXM6IHsgaW5wdXQgfSxcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygnYXV0aG9yaXphdGlvbiBvdXRwdXQnLCBvcCwgaW5wdXQsIHJlc3BvbnNlPy5kYXRhPy5hdXRob3JpemF0aW9uPy5bb3BdKTtcbiAgICByZXR1cm4gcmVzcG9uc2U/LmRhdGE/LmF1dGhvcml6YXRpb24/LltvcF07XG4gIH07XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgZ29IYW5kbGVyLFxuXG4gICAgaGFuZGxlcklkLFxuICAgIENvbXBvbmVudCxcblxuICAgIGxpbmtJZCxcbiAgICBsaW5rLFxuXG4gICAgY2hpbGRyZW4sXG5cbiAgICBpc0FjdGl2ZSxcblxuICAgIG9uUmVxdWVzdCwgLy8gKG9wZXJhdGlvbjogJ2xvZ2luJyB8ICdyZWdpc3RlcicsIHVzZXJuYW1lKSA9PlxuICAgIG9uUmVzcG9uc2UsIC8vIChvcGVyYXRpb246ICdsb2dpbicgfCAncmVnaXN0ZXInLCB1c2VybmFtZSwgand0OiB7IGxpbmtJZCwgdG9rZW4sIGVycm9yIH0sIHByZXZlbnQ6ICgpID0+IHZvaWQpID0+XG5cbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBbdXNlcm5hbWUsIHNldFVzZXJuYW1lXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBbcGFzc3dvcmQsIHNldFBhc3N3b3JkXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBbcGFzc3dvcmQxLCBzZXRQYXNzd29yZDFdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtwYXNzd29yZDIsIHNldFBhc3N3b3JkMl0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgeyBkYXRhOiBbdV0gfSA9IGRlZXAudXNlUXVlcnkoe1xuICAgICAgdHlwZV9pZDogVXNlcm5hbWUsXG4gICAgICBzdHJpbmc6IHVzZXJuYW1lLFxuICAgIH0sIHsgc2tpcDogIXVzZXJuYW1lLCBkZWJvdW5jZTogMTAwMCB9KTtcblxuICAgIGNvbnN0IFt0cnlJZCwgc2V0VHJ5SWRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmICghdHJ5SWQpIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgfSwgW3RyeUlkXSk7XG4gICAgY29uc3QgaW50ZXJ2YWxSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCBsb2dpbiA9IFJlYWN0LnVzZUNhbGxiYWNrKGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIG9wZXJhdGlvbikgPT4ge1xuICAgICAgb25SZXF1ZXN0ICYmIG9uUmVxdWVzdChvcGVyYXRpb24sIHVzZXJuYW1lKTtcbiAgICAgIGNvbnN0IHsgaWQ6IHRyeUlkIH0gPSBhd2FpdCBhdXRob3JpemF0aW9uKCd0cnknLCB7IGxpbmtJZDogZGVlcC5saW5rSWQgfSk7XG4gICAgICBzZXRUcnlJZCh0cnlJZCk7XG4gICAgICBheGlvcy5nZXQoYCR7ZGVlcC51cmwoJ2RlZXBsaW5rcycpfS9kZWVwLWZvdW5kYXRpb24vcGFzc3BvcnQtdXNlcm5hbWUtcGFzc3dvcmQ/dXNlcm5hbWU9JHt1c2VybmFtZX0mcGFzc3dvcmQ9JHtwYXNzd29yZH0mdHJ5PSR7dHJ5SWR9YCk7XG4gICAgICBjb25zdCBuZXh0VGltZW91dCA9ICgpID0+IHtcbiAgICAgICAgaW50ZXJ2YWxSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uKCdnZXQnLCB7IGlkOiB0cnlJZCB9KS50aGVuKCh7IGxpbmtJZCwgdG9rZW4sIGVycm9yIH0pID0+IHtcbiAgICAgICAgICAgIGxldCBwcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0b2tlbiB8fCAoISFlcnJvciAmJiBlcnJvciAhPT0gJyFhbGxvdycpKSBjbGVhckludGVydmFsKGludGVydmFsUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgaWYgKCEhZXJyb3IgJiYgZXJyb3IgIT09ICchYWxsb3cnKSB7XG4gICAgICAgICAgICAgIG9uUmVzcG9uc2UgJiYgb25SZXNwb25zZShvcGVyYXRpb24sIHVzZXJuYW1lLCB7IGxpbmtJZCwgdG9rZW4sIGVycm9yIH0sICgpID0+IHByZXZlbnRlZCA9IHRydWUpO1xuICAgICAgICAgICAgICBzZXRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgICAgb25SZXNwb25zZSAmJiBvblJlc3BvbnNlKG9wZXJhdGlvbiwgdXNlcm5hbWUsIHsgbGlua0lkLCB0b2tlbiwgZXJyb3IgfSwgKCkgPT4gcHJldmVudGVkID0gdHJ1ZSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWVwLmxvZ2luJywgeyBsaW5rSWQsIHRva2VuIH0pO1xuICAgICAgICAgICAgICBpZiAoIXByZXZlbnRlZCkgZGVlcC5sb2dpbih7IGxpbmtJZCwgdG9rZW4gfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXh0VGltZW91dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAzMDAwKTtcbiAgICAgIH07XG4gICAgICBuZXh0VGltZW91dCgpO1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxnby5PbiBkbz17e1xuICAgICAgICBleGVjOiBhc3luYyAoZyx2LG8pID0+IGdvLmdvLmRvKCdyaWdodCcsIHsgLi4ubywgaWQ6IGF3YWl0IGRlZXAuaWQoZHBsLCAnTmFtZU9mQ29tcG9uZW50JykgfSksXG4gICAgICAgIGNsaWNrOiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgICB9fT5cbiAgICAgICAgPGMuQm94IHA9JzFlbSc+XG4gICAgICAgICAgeyF1c2VybmFtZSAmJiA8Yy5Cb3g+TG9naW4gb3IgUmVnaXN0ZXI8L2MuQm94Pn1cbiAgICAgICAgICA8Yy5JbnB1dCBwbGFjZWhvbGRlcj0ndXNlcm5hbWUnIHZhbHVlPXt1c2VybmFtZX0gb25DaGFuZ2U9e2UgPT4gc2V0VXNlcm5hbWUoZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgeyEhdXNlcm5hbWUgJiYgPD57ISF1ID8gPD5cbiAgICAgICAgICAgIDxjLklucHV0IHBsYWNlaG9sZGVyPSdwYXNzd29yZCcgdmFsdWU9e3Bhc3N3b3JkfSB0eXBlPSdwYXNzd29yZCcgb25DaGFuZ2U9e2UgPT4gc2V0UGFzc3dvcmQoZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICB7ISFwYXNzd29yZCAmJiA8Yy5GbGV4PlxuICAgICAgICAgICAgICB7ISF0cnlJZCAmJiA8Yy5CdXR0b24gb25DbGljaz17KCkgPT4gc2V0VHJ5SWQoKX0+eDwvYy5CdXR0b24+fVxuICAgICAgICAgICAgICA8Yy5CdXR0b24gZmxleD0nMScgaXNMb2FkaW5nPXt0cnlJZH0gb25DbGljaz17KCkgPT4gbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkLCAnbG9naW4nKX0+TG9naW48L2MuQnV0dG9uPlxuICAgICAgICAgICAgICB7ISFlcnJvciAmJiA8PlxuICAgICAgICAgICAgICAgIDxjLkFsZXJ0IHN0YXR1cz0nZXJyb3InPlxuICAgICAgICAgICAgICAgICAgPGMuQWxlcnRJY29uIC8+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICAgICAgPC9jLkFsZXJ0PlxuICAgICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICA8L2MuRmxleD59XG4gICAgICAgICAgPC8+IDogPD5cbiAgICAgICAgICAgIDxjLklucHV0IHBsYWNlaG9sZGVyPSdwYXNzd29yZCcgdmFsdWU9e3Bhc3N3b3JkMX0gdHlwZT0ncGFzc3dvcmQnIG9uQ2hhbmdlPXtlID0+IHNldFBhc3N3b3JkMShlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIDxjLklucHV0IHBsYWNlaG9sZGVyPSdwYXNzd29yZCcgdmFsdWU9e3Bhc3N3b3JkMn0gdHlwZT0ncGFzc3dvcmQnIG9uQ2hhbmdlPXtlID0+IHNldFBhc3N3b3JkMihlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIHshIXBhc3N3b3JkMSAmJiAocGFzc3dvcmQxICE9IHBhc3N3b3JkMiA/IDw+XG4gICAgICAgICAgICAgIDxjLkFsZXJ0IHN0YXR1cz0nZXJyb3InPlxuICAgICAgICAgICAgICAgIDxjLkFsZXJ0SWNvbiAvPlxuICAgICAgICAgICAgICAgIFBhc3N3b3JkcyBtdXN0IGJlIGVxdWFsXG4gICAgICAgICAgICAgIDwvYy5BbGVydD5cbiAgICAgICAgICAgIDwvPiA6IDw+XG4gICAgICAgICAgICAgIDxjLkFsZXJ0IHN0YXR1cz0nc3VjY2Vzcyc+XG4gICAgICAgICAgICAgICAgPGMuQWxlcnRJY29uIC8+XG4gICAgICAgICAgICAgICAgUGFzc3dvcmRzIHZhbGlkXG4gICAgICAgICAgICAgIDwvYy5BbGVydD5cbiAgICAgICAgICAgICAgPGMuRmxleD5cbiAgICAgICAgICAgICAgICB7ISF0cnlJZCAmJiA8Yy5CdXR0b24gb25DbGljaz17KCkgPT4gc2V0VHJ5SWQoKX0+eDwvYy5CdXR0b24+fVxuICAgICAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyBpc0xvYWRpbmc9e3RyeUlkfSBpc0Rpc2FibGVkPXshcGFzc3dvcmQxIHx8IChwYXNzd29yZDEgIT09IHBhc3N3b3JkMn0gb25DbGljaz17KCkgPT4gbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkMSwgJ3JlZ2lzdGVyJyl9PlJlZ2lzdGVyPC9jLkJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9jLkZsZXg+XG4gICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgIDwvPn08Lz59XG4gICAgICAgIDwvYy5Cb3g+XG4gICAgICAgIHsvKjxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ05hbWVPZkNvbXBvbmVudCddfS8+Ki99XG4gICAgICA8L2dvLk9uPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1782
      }
    },
    {
      "id": 1783,
      "type_id": 3,
      "from_id": 1728,
      "to_id": 1782,
      "value": {
        "id": 695,
        "value": "generated",
        "link_id": 1783
      }
    },
    {
      "id": 1784,
      "type_id": 143,
      "from_id": 1782,
      "to_id": 1728
    },
    {
      "id": 1785,
      "type_id": 3,
      "from_id": 1728,
      "to_id": 1784
    },
    {
      "id": 1733,
      "type_id": 99,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 2,
        "value": 4001,
        "link_id": 1733
      }
    },
    {
      "id": 559,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 207,
        "value": "@deep-foundation/core-symbols",
        "link_id": 559
      }
    },
    {
      "id": 565,
      "type_id": 146,
      "from_id": 559,
      "to_id": 146,
      "value": {
        "id": 209,
        "value": "🙂",
        "link_id": 565
      }
    },
    {
      "id": 566,
      "type_id": 3,
      "from_id": 559,
      "to_id": 565,
      "value": {
        "id": 210,
        "value": "SymbolSymbol",
        "link_id": 566
      }
    },
    {
      "id": 567,
      "type_id": 146,
      "from_id": 559,
      "to_id": 143,
      "value": {
        "id": 211,
        "value": "🏗",
        "link_id": 567
      }
    },
    {
      "id": 568,
      "type_id": 3,
      "from_id": 559,
      "to_id": 567,
      "value": {
        "id": 212,
        "value": "GeneratedFromSymbol",
        "link_id": 568
      }
    },
    {
      "id": 569,
      "type_id": 146,
      "from_id": 559,
      "to_id": 142,
      "value": {
        "id": 213,
        "value": "🔑",
        "link_id": 569
      }
    },
    {
      "id": 570,
      "type_id": 3,
      "from_id": 559,
      "to_id": 569,
      "value": {
        "id": 214,
        "value": "AuthorizationSymbol",
        "link_id": 570
      }
    },
    {
      "id": 571,
      "type_id": 146,
      "from_id": 559,
      "to_id": 106,
      "value": {
        "id": 215,
        "value": "🔗",
        "link_id": 571
      }
    },
    {
      "id": 572,
      "type_id": 3,
      "from_id": 559,
      "to_id": 571,
      "value": {
        "id": 216,
        "value": "RouterStringUseSymbol",
        "link_id": 572
      }
    },
    {
      "id": 573,
      "type_id": 146,
      "from_id": 559,
      "to_id": 105,
      "value": {
        "id": 217,
        "value": "🔗",
        "link_id": 573
      }
    },
    {
      "id": 574,
      "type_id": 3,
      "from_id": 559,
      "to_id": 573,
      "value": {
        "id": 218,
        "value": "RouterListeningSymbol",
        "link_id": 574
      }
    },
    {
      "id": 575,
      "type_id": 146,
      "from_id": 559,
      "to_id": 104,
      "value": {
        "id": 219,
        "value": "🚏",
        "link_id": 575
      }
    },
    {
      "id": 576,
      "type_id": 3,
      "from_id": 559,
      "to_id": 575,
      "value": {
        "id": 220,
        "value": "RouteSymbol",
        "link_id": 576
      }
    },
    {
      "id": 577,
      "type_id": 146,
      "from_id": 559,
      "to_id": 99,
      "value": {
        "id": 221,
        "value": "🗜",
        "link_id": 577
      }
    },
    {
      "id": 578,
      "type_id": 3,
      "from_id": 559,
      "to_id": 577,
      "value": {
        "id": 222,
        "value": "PortSymbol",
        "link_id": 578
      }
    },
    {
      "id": 579,
      "type_id": 146,
      "from_id": 559,
      "to_id": 97,
      "value": {
        "id": 223,
        "value": "🏷",
        "link_id": 579
      }
    },
    {
      "id": 580,
      "type_id": 3,
      "from_id": 559,
      "to_id": 579,
      "value": {
        "id": 224,
        "value": "PackageQuerySymbol",
        "link_id": 580
      }
    },
    {
      "id": 581,
      "type_id": 146,
      "from_id": 559,
      "to_id": 95,
      "value": {
        "id": 225,
        "value": "🧷",
        "link_id": 581
      }
    },
    {
      "id": 582,
      "type_id": 3,
      "from_id": 559,
      "to_id": 581,
      "value": {
        "id": 226,
        "value": "PromiseOutSymbol",
        "link_id": 582
      }
    },
    {
      "id": 583,
      "type_id": 146,
      "from_id": 559,
      "to_id": 92,
      "value": {
        "id": 227,
        "value": "💡",
        "link_id": 583
      }
    },
    {
      "id": 631,
      "type_id": 146,
      "from_id": 559,
      "to_id": 30,
      "value": {
        "id": 275,
        "value": "📄",
        "link_id": 631
      }
    },
    {
      "id": 805,
      "type_id": 3,
      "from_id": 799,
      "to_id": 798,
      "value": {
        "id": 346,
        "value": "port",
        "link_id": 805
      }
    },
    {
      "id": 1168,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 381,
        "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { FaTree } = require(\"react-icons/fa\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Tree = deep.idLocal(dpl, 'Tree');\n    return ({ go, handlerId, isActive, }, ref) => {\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.go.do('right', { ...o, id: Tree }),\n                click: (g, v, o) => go.do('exec', o),\n                right: (g, v, o) => go.do('exec', o),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(FaTree, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM3QyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUV2QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQztnQkFDdEQsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztnQkFDbEMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQzthQUNuQztZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxHQUFHLEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFFNUIsb0JBQUMsTUFBTSxPQUFFLENBQ0EsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBGYVRyZWUgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9mYVwiKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICBjb25zdCBUcmVlID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWUnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBoYW5kbGVySWQsXG5cbiAgICBpc0FjdGl2ZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKGcsdixvKSA9PiBnby5nby5kbygncmlnaHQnLCB7IC4uLm8sIGlkOiBUcmVlIH0pKSxcbiAgICAgIGNsaWNrOiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgICByaWdodDogKGcsdixvKSA9PiBnby5kbygnZXhlYycsIG8pLFxuICAgIH19PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIHc9JzNlbScgaD0nM2VtJ1xuICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZG8oJ2V4ZWMnKX1cbiAgICAgID5cbiAgICAgICAgPEZhVHJlZS8+XG4gICAgICA8L2MuQnV0dG9uPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1168
      }
    },
    {
      "id": 1169,
      "type_id": 3,
      "from_id": 853,
      "to_id": 1168,
      "value": {
        "id": 380,
        "value": "generated",
        "link_id": 1169
      }
    },
    {
      "id": 1170,
      "type_id": 143,
      "from_id": 1168,
      "to_id": 853
    },
    {
      "id": 1171,
      "type_id": 3,
      "from_id": 853,
      "to_id": 1170
    },
    {
      "id": 854,
      "type_id": 35,
      "from_id": 145,
      "to_id": 853
    },
    {
      "id": 855,
      "type_id": 827,
      "from_id": 854,
      "to_id": 852
    },
    {
      "id": 856,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 382,
        "value": "async ({ deep, data, require }) => {\n  const React = require('react');\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Tree = deep.idLocal(dpl, 'Tree');\n\n  return ({\n    go,\n\n    using = false,\n    fullWidth = null,\n  }, ref) => {\n    // const [layer, setLayer] = go.useQueryStore(`layer`, Tree);\n    // React.useEffect(() => go.value && setLayer(go.value), [go.value]);\n\n    return <go.On do={{\n      focus: (g,v,linkId,o) => o?.id && go.focus(o.id),\n      use: (g,v,o) => go.current && go.current.do('use',o),\n      open: async (g,v,o) => {\n        if (!go.current) await (go.focus(Tree).go.awaitRef(Tree));\n        if (o?.id) go.current.do('open',o);\n      },\n      concentrate: (g,v,o) => {\n        go.current && go.current.do('concentrate', o);\n      },\n    }}>\n      <c.Box ref={ref} w='100%' h='100%'>\n        {!!go.value && [<go.Provider key={go.value} linkId={go.value}>\n          <go.Handler\n            initialId={deep?.linkId}\n            handlerId={go.value}\n            saveHistory\n            using={using}\n            fullWidth={fullWidth}\n            queryField='opened'\n            operations\n          />\n        </go.Provider>]}\n      </c.Box>\n    </go.On>;\n  };\n}",
        "link_id": 856
      }
    },
    {
      "id": 864,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1276,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 417,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const { GraphQL } = require('@deep-foundation/perception-app');\n    const c = require('@chakra-ui/react');\n    return ({ go, children, }, ref) => {\n        return React.createElement(go.Provider, { onDo: {\n                focus: () => go.set('current').go.scroll(),\n                enter: () => { },\n                space: () => { },\n                return: () => { },\n                left: () => { },\n                up: () => { },\n                right: () => { },\n                down: () => { },\n            } },\n            React.createElement(GraphQL, { deep: deep }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9ELE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFFRixRQUFRLEdBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUVSLE9BQU8sb0JBQUMsRUFBRSxDQUFDLFFBQVEsSUFDakIsSUFBSSxFQUFFO2dCQUNKLEtBQUssRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUU7Z0JBQzFDLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRSxDQUFDO2dCQUNmLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRSxDQUFDO2dCQUNmLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRSxDQUFDO2dCQUNoQixJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUUsQ0FBQztnQkFDZCxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUUsQ0FBQztnQkFDWixLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUUsQ0FBQztnQkFDZixJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUUsQ0FBQzthQUNmO1lBRUQsb0JBQUMsT0FBTyxJQUFDLElBQUksRUFBRSxJQUFJLEdBQUcsQ0FDVixDQUFDO0lBQ2pCLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCB7IEdyYXBoUUwgfSA9IHJlcXVpcmUoJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1hcHAnKTtcbiAgXG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICBjaGlsZHJlbixcbiAgfSwgcmVmKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ0dyYXBoUUwnLCBHcmFwaFFMKVxuICAgIHJldHVybiA8Z28uUHJvdmlkZXJcbiAgICAgIG9uRG89e3tcbiAgICAgICAgZm9jdXM6ICgpID0+IGdvLnNldCgnY3VycmVudCcpLmdvLnNjcm9sbCgpLFxuICAgICAgICBlbnRlcjogKCkgPT4ge30sXG4gICAgICAgIHNwYWNlOiAoKSA9PiB7fSxcbiAgICAgICAgcmV0dXJuOiAoKSA9PiB7fSxcbiAgICAgICAgbGVmdDogKCkgPT4ge30sXG4gICAgICAgIHVwOiAoKSA9PiB7fSxcbiAgICAgICAgcmlnaHQ6ICgpID0+IHt9LFxuICAgICAgICBkb3duOiAoKSA9PiB7fSxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPEdyYXBoUUwgZGVlcD17ZGVlcH0vPlxuICAgIDwvZ28uUHJvdmlkZXI+O1xuICB9O1xufSJdfQ==",
        "link_id": 1276
      }
    },
    {
      "id": 1277,
      "type_id": 3,
      "from_id": 886,
      "to_id": 1276,
      "value": {
        "id": 416,
        "value": "generated",
        "link_id": 1277
      }
    },
    {
      "id": 1278,
      "type_id": 143,
      "from_id": 1276,
      "to_id": 886
    },
    {
      "id": 1279,
      "type_id": 3,
      "from_id": 886,
      "to_id": 1278
    },
    {
      "id": 887,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 418,
        "value": "({ deep, data, require, Go }) => {\n  const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n  const React = require('react');\n  const _ = require('lodash');\n\n  const {\n    TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon,\n    useSymbol,\n  } = require('@deep-foundation/perception-app');\n  \n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n  \n  const History = deep.idLocal(dpl, 'History');\n  const Header = deep.idLocal(dpl, 'Header');\n  const Search = deep.idLocal(dpl, 'Search');\n  const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n  const TreeList = deep.idLocal(dpl, 'TreeList');\n  const TreeLink = deep.idLocal(dpl, 'TreeLink');\n  const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n  const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n  const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n\n  const _Item = React.memo((props) => {\n    const { link, isActive, isConcentrated, Item, direction, startProps } = props;\n    // console.log('XXXXX 2', link?.id, props);\n    const go = Go.useGo();\n    return <c.Box ref={go.ref} {...(direction === 'vertical' ? { w: '100%' } : { h: '100%' })}>\n      {!!Item ? <Item link={link} go={go} isActive={isActive} {...startProps}\n        isConcentrated={isConcentrated}\n      /> : <go.Handler\n        handlerId={TreeLinkButton} linkId={link.id} variant='full' {...startProps}\n        isActive={isActive} {...(direction === 'vertical' ? { w: '100%' } : { h: '100%' })}\n        isConcentrated={isConcentrated}\n      />}\n    </c.Box>;\n  }, (o, n) => {\n    // console.log('XXXXX', o?.link?.id, _.isEqual(o, n), o, n);\n    return _.isEqual(o, n);\n  });\n\n  const startPropsPlaceholder = {};\n\n  return ({\n    go,\n    handlerId,\n\n    links = [],\n    Item = _Item,\n\n    direction = 'vertical', // 'vertical' | 'horizontal'\n\n    using = false,\n    saveHistory = false,\n\n    startProps = {},\n\n    concentrated,\n\n    children = null,\n\n    ...props\n  }, ref) => {\n    const _startProps = React.useMemo(() => startProps, [startProps]);\n    const list = links.map((link, i) => !!link ? <go.Provider key={`${link?.id}`} linkId={link.id}>\n      <_Item\n        link={link} isActive={go.value === link.id} Item={Item}\n        direction={direction} saveHistory={saveHistory}\n        startProps={!i ? _startProps : startPropsPlaceholder}\n        isConcentrated={concentrated ? !!concentrated[link.id] : undefined}\n      />\n    </go.Provider> : <React.Fragment/>);\n\n    const content = direction === 'vertical' ? <c.VStack ref={ref}\n      overflowY='scroll' overflowX='hidden'\n      css={go.noScrollBar} flex={1}\n      w='100%' h='100%'\n      {...props}\n    >\n      {list}\n      {children}\n    </c.VStack> : <c.HStack ref={ref}\n      overflowX='scroll' overflowY='hidden'\n      css={go.noScrollBar} flex={1}\n      w='100%' h='100%'\n      {...props}\n    >\n      {list}\n      {children}\n    </c.HStack>;\n\n    React.useEffect(() => {\n      if (go?.current) {\n        if (using && go.root()?.data?.usedId != go.value) go.root().do('use', { id: go.value });\n        go.do('changed', { id: go.value });\n        go?.current?.scroll();\n      }\n    }, [go.value]);\n\n    const events = direction === 'vertical' ? {\n      up: (g,v,o) => {\n        if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n          go.focus(links?.[0]?.id);\n        } else go.value === links?.[0]?.id ? go.go.do('up') : go.focus(go.prev(links));\n      },\n      down: (g,v,o) => {\n        if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n          go.focus(links?.[links.length - 1]?.id);\n        } else go.value === links?.[links.length - 1]?.id ? go.go.do('down') : go.focus(go.next(links));\n      },\n    } : {\n      left: (g,v,o) => {\n        if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n          go.focus(links?.[0]?.id);\n        } else go.value === links?.[0]?.id ? go.go.do('left') : go.focus(go.prev(links));\n      },\n      right: (g,v,o) => {\n        if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n          go.focus(links?.[links.length - 1]?.id);\n        } else go.value === links?.[links.length - 1]?.id ? go.go.do('right') : go.focus(go.next(links));\n      },\n    };\n\n    return <go.On\n      do={{\n        focus: (g,d,v,o) => !v && go.set(o?.id ? o?.id : links?.[0]?.id),\n        use: (g,v,o) => o?.id && o?.id != go.value && go(o?.id) && go.set(o.id).go(o?.id).go?.scroll().go?.do('use'),\n        exec: (g,v,o) => (o?.id || go.value) && go.set(o?.id || go.value).go.go.do('exec', { id: o?.id || go.value })\n        ...events,\n      }}\n    >\n      {content}\n    </go.On>\n  };\n}\n",
        "link_id": 887
      }
    },
    {
      "id": 1321,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 432,
        "value": "({ deep, data, require, Go }) => {\n    const { BsX, BsCheck2All } = require(\"react-icons/bs\");\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const Query = deep.idLocal(dc, 'Query');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const FinderQuery = deep.idLocal(dpl, 'FinderQuery');\n    const Tree = deep.idLocal(dpl, 'Tree');\n    const Search = deep.idLocal(dpl, 'Search');\n    return ({ go, initialId = deep.linkId, initialHandlerId, startProps = {}, isActive, onSubmit, disclosure: __disclosure, operations = false, }, ref) => {\n        const _disclosure = c.useDisclosure();\n        const disclosure = __disclosure || _disclosure;\n        const [selectedId, setSelectedId] = React.useState();\n        const [queryId, setQueryId] = React.useState();\n        const buttons = React.createElement(React.Fragment, null,\n            React.createElement(c.SlideFade, { in: true, offsetX: '-0.5rem', style: { position: 'absolute', top: 0, right: '-4em' } },\n                React.createElement(c.Button, { w: '3em', h: '3em', boxShadow: 'dark-lg', variant: undefined, onClick: disclosure.onClose },\n                    React.createElement(BsX, null))),\n            React.createElement(c.Box, { position: 'absolute', right: '0', bottom: '-4em' }, !!selectedId && React.createElement(c.Button, { h: '3em', rightIcon: React.createElement(BsCheck2All, null), onClick: () => {\n                    onSubmit && onSubmit(selectedId);\n                } }, `${deep.get(selectedId)}`)));\n        return React.createElement(go.On, { do: {\n                changed: (g, v, o) => o?.id && setSelectedId(o.id),\n            } },\n            React.createElement(c.Modal, { ref: disclosure.isOpen ? ref : null, closeOnOverlayClick: true, blockScrollOnMount: false, onClose: () => {\n                    disclosure.onClose();\n                    go.focus();\n                }, isOpen: disclosure.isOpen, portalProps: { containerRef: go.root().ref } },\n                React.createElement(c.ModalOverlay, null),\n                React.createElement(c.ModalContent, { w: '30em', maxW: '30em', h: '80vh', position: 'relative' },\n                    React.createElement(c.ModalHeader, null, \"Finder\"),\n                    React.createElement(c.ModalBody, { p: 0, w: '100%', h: '100%' },\n                        React.createElement(go.Provider, { linkId: Tree }, !!disclosure.isOpen && React.createElement(go.Handler, { initialId: initialId, initialHandlerId: initialHandlerId, startProps: startProps, handlerId: Tree, fullWidth: '30em', flex: '1', saveHistory: false, using: false, operations: operations }))),\n                    buttons)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3ZELE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUUvQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUVoRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUNyRCxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN2QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUUzQyxPQUFPLENBQUMsRUFDTixFQUFFLEVBRUYsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQ3ZCLGdCQUFnQixFQUNoQixVQUFVLEdBQUcsRUFBRSxFQUNmLFFBQVEsRUFDUixRQUFRLEVBQ1IsVUFBVSxFQUFFLFlBQVksRUFDeEIsVUFBVSxHQUFHLEtBQUssR0FDbkIsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNS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QUFFLFVBQVUsRUFDdEIsU0FBUyxFQUFFLElBQUksRUFDZixTQUFTLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxHQUFHLEVBQ3pCLFdBQVcsRUFBRSxLQUFLLEVBQ2xCLEtBQUssRUFBRSxLQUFLLEVBQ1osVUFBVSxFQUFFLFVBQVUsR0FDdEIsQ0FDVSxDQUNGO29CQUNiLE9BQU8sQ0FDTyxDQUNULENBQ0osQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgeyBCc1gsIEJzQ2hlY2syQWxsIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvYnNcIik7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgXG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIFxuICBjb25zdCBRdWVyeSA9IGRlZXAuaWRMb2NhbChkYywgJ1F1ZXJ5Jyk7XG4gIGNvbnN0IENvbnRhaW4gPSBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyk7XG4gIGNvbnN0IEZpbmRlclF1ZXJ5ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0ZpbmRlclF1ZXJ5Jyk7XG4gIGNvbnN0IFRyZWUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZScpO1xuICBjb25zdCBTZWFyY2ggPSBkZWVwLmlkTG9jYWwoZHBsLCAnU2VhcmNoJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICBpbml0aWFsSWQgPSBkZWVwLmxpbmtJZCxcbiAgICBpbml0aWFsSGFuZGxlcklkLFxuICAgIHN0YXJ0UHJvcHMgPSB7fSxcbiAgICBpc0FjdGl2ZSxcbiAgICBvblN1Ym1pdCxcbiAgICBkaXNjbG9zdXJlOiBfX2Rpc2Nsb3N1cmUsXG4gICAgb3BlcmF0aW9ucyA9IGZhbHNlLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBfZGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IGRpc2Nsb3N1cmUgPSBfX2Rpc2Nsb3N1cmUgfHwgX2Rpc2Nsb3N1cmU7XG5cbiAgICBjb25zdCBbc2VsZWN0ZWRJZCwgc2V0U2VsZWN0ZWRJZF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIGNvbnN0IFtxdWVyeUlkLCBzZXRRdWVyeUlkXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG5cbiAgICBjb25zdCBidXR0b25zID0gPD5cbiAgICAgIDxjLlNsaWRlRmFkZSBpbj17dHJ1ZX0gb2Zmc2V0WD0nLTAuNXJlbScgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCByaWdodDogJy00ZW0nfX0+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHc9JzNlbScgaD0nM2VtJ1xuICAgICAgICAgIGJveFNoYWRvdz0nZGFyay1sZydcbiAgICAgICAgICB2YXJpYW50PXt1bmRlZmluZWR9XG4gICAgICAgICAgb25DbGljaz17ZGlzY2xvc3VyZS5vbkNsb3NlfVxuICAgICAgICA+PEJzWCAvPjwvYy5CdXR0b24+XG4gICAgICA8L2MuU2xpZGVGYWRlPlxuICAgICAgPGMuQm94IHBvc2l0aW9uPSdhYnNvbHV0ZScgcmlnaHQ9JzAnIGJvdHRvbT0nLTRlbSc+XG4gICAgICAgIHshIXNlbGVjdGVkSWQgJiYgPGMuQnV0dG9uXG4gICAgICAgICAgaD0nM2VtJyByaWdodEljb249ezxCc0NoZWNrMkFsbCAvPn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBvblN1Ym1pdCAmJiBvblN1Ym1pdChzZWxlY3RlZElkKTtcbiAgICAgICAgICB9fVxuICAgICAgICA+e2Ake2RlZXAuZ2V0KHNlbGVjdGVkSWQpfWB9PC9jLkJ1dHRvbj5cbiAgICAgIDwvYy5Cb3g+XG4gICAgPC8+O1xuXG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgY2hhbmdlZDogKGcsdixvKSA9PiBvPy5pZCAmJiBzZXRTZWxlY3RlZElkKG8uaWQpLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5Nb2RhbFxuICAgICAgICByZWY9e2Rpc2Nsb3N1cmUuaXNPcGVuID8gcmVmIDogbnVsbH1cbiAgICAgICAgY2xvc2VPbk92ZXJsYXlDbGljayBibG9ja1Njcm9sbE9uTW91bnQ9e2ZhbHNlfVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiB7XG4gICAgICAgICAgZGlzY2xvc3VyZS5vbkNsb3NlKCk7XG4gICAgICAgICAgZ28uZm9jdXMoKTtcbiAgICAgICAgfX1cbiAgICAgICAgaXNPcGVuPXtkaXNjbG9zdXJlLmlzT3Blbn0gcG9ydGFsUHJvcHM9e3sgY29udGFpbmVyUmVmOiBnby5yb290KCkucmVmIH19XG4gICAgICA+XG4gICAgICAgIDxjLk1vZGFsT3ZlcmxheSAvPlxuICAgICAgICA8Yy5Nb2RhbENvbnRlbnQgdz0nMzBlbScgbWF4Vz0nMzBlbScgaD0nODB2aCcgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICA8Yy5Nb2RhbEhlYWRlcj5GaW5kZXI8L2MuTW9kYWxIZWFkZXI+XG4gICAgICAgICAgey8qIDxCb3ggcG9zaXRpb249J2Fic29sdXRlJyBib3R0b209Jy0wLjVlbScgcmlnaHQ9Jy0wLjVlbScgYm94U2hhZG93PSdkYXJrLWxnJyB6SW5kZXg9ezJ9PlxuICAgICAgICAgICAgeyEhc2VsZWN0ZWRMaW5rICYmIDxMaW5rQnV0dG9uIGlkPXtzZWxlY3RlZExpbms/LmlkfSBtYXhXPScxMDAlJy8+fVxuICAgICAgICAgIDwvQm94PiAqL31cbiAgICAgICAgICA8Yy5Nb2RhbEJvZHkgcD17MH0gdz0nMTAwJScgaD0nMTAwJSc+XG4gICAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtUcmVlfT5cbiAgICAgICAgICAgICAgeyEhZGlzY2xvc3VyZS5pc09wZW4gJiYgPGdvLkhhbmRsZXJcbiAgICAgICAgICAgICAgICBpbml0aWFsSWQ9e2luaXRpYWxJZH1cbiAgICAgICAgICAgICAgICBpbml0aWFsSGFuZGxlcklkPXtpbml0aWFsSGFuZGxlcklkfVxuICAgICAgICAgICAgICAgIHN0YXJ0UHJvcHM9e3N0YXJ0UHJvcHN9XG4gICAgICAgICAgICAgICAgaGFuZGxlcklkPXtUcmVlfVxuICAgICAgICAgICAgICAgIGZ1bGxXaWR0aD0nMzBlbScgZmxleD0nMSdcbiAgICAgICAgICAgICAgICBzYXZlSGlzdG9yeT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgdXNpbmc9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbnM9e29wZXJhdGlvbnN9XG4gICAgICAgICAgICAgIC8+fVxuICAgICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgICA8L2MuTW9kYWxCb2R5PlxuICAgICAgICAgIHtidXR0b25zfVxuICAgICAgICA8L2MuTW9kYWxDb250ZW50PlxuICAgICAgPC9jLk1vZGFsPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1321
      }
    },
    {
      "id": 1322,
      "type_id": 3,
      "from_id": 895,
      "to_id": 1321,
      "value": {
        "id": 431,
        "value": "generated",
        "link_id": 1322
      }
    },
    {
      "id": 1323,
      "type_id": 143,
      "from_id": 1321,
      "to_id": 895
    },
    {
      "id": 1324,
      "type_id": 3,
      "from_id": 895,
      "to_id": 1323
    },
    {
      "id": 896,
      "type_id": 35,
      "from_id": 145,
      "to_id": 895
    },
    {
      "id": 897,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 433,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const _ = require('lodash');\n  const c = require('@chakra-ui/react');\n  const { useDebounce } = require('@react-hook/debounce');\n\n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n  const FinderButton = deep.idLocal(dpl, 'FinderButton');\n\n  return ({\n    go,\n\n    placeholder = '',\n    value, // linkId\n    onChange,\n    leftIcon,\n    children,\n  }, ref) => {\n    const [search, setSearch] = useDebounce('', 100);\n    const { data } = deep.useSearch(search, { remote: false, skip: !search });\n    React.useEffect(() => {\n      go.focus(Stack);\n    }, [search]);\n    const [id, setId] = React.useState(value);\n    const link = React.useMemo(() => {\n      return id ? deep.get(+id) : undefined;\n    }, [id]);\n    React.useEffect(() => {\n      if (link && link?.id != value) onChange(link.id);\n    }, [link]);\n    return <go.On\n      do={{\n      }}\n    >\n      <c.InputGroup position='relative' zIndex={search ? 1 : 0}>\n        {!!leftIcon && <c.InputLeftElement h='3em' w='3em' minW='3em'>\n          {leftIcon}\n        </c.InputLeftElement>}\n        <c.Input\n          placeholder={value || placeholder}\n          onChange={(e) => {\n            setSearch(e.target.value);\n            if (+e.target.value === 0) onChange(0);\n          }}\n          h='3em' pl={leftIcon ? '3em' : 0} pr='3em' pt={link ? '0.25em' : undefined}\n        />\n        {!!link && <c.Text\n          position='absolute' left={leftIcon ? '4em' : '1em'} bottom='0.25em'\n          pointerEvents='none' fontSize='xs'\n          noOfLines={1}\n        >\n          {`${link.symbol} ${link.name != link.id ? link.name : link.id}`}\n        </c.Text>}\n        <c.InputRightElement h='3em'>\n          <go.Provider linkId={FinderButton} on={{\n            do: {\n              open: (g,v,o) => o?.id && setId && setId(o?.id),\n            }\n          }}>\n            <go.Handler handlerId={FinderButton} bg='transparent' isActive={go.value === FinderButton}/>\n          </go.Provider>\n        </c.InputRightElement>\n        {!!search && <c.Box position='absolute' top='100%' left='0' w='100%' maxH='7em' h='7em'>\n          <go.Provider linkId={Stack} value={data?.[0]?.id} on={{ do: {\n            exec: (g,v,o) => {\n              if (o?.id) {\n                setSearch('');\n                setId(o?.id);\n              }\n            },\n          } }}>\n            <go.Handler handlerId={Stack} links={data} direction='vertical' maxH='7em' h='7em'/>\n          </go.Provider>\n        </c.Box>}\n      </c.InputGroup>\n    </go.On>;\n  };\n}",
        "link_id": 897
      }
    },
    {
      "id": 1375,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 450,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n    const { IoInfiniteSharp } = require(\"react-icons/io5\");\n    const { Planet } = require('react-planet');\n    const c = require('@chakra-ui/react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const dpl = '@deep-foundation/perception-links';\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const Item = ({ isActive, link, position }) => {\n        const go = Go.useGo();\n        return React.createElement(c.Button, { variant: isActive ? 'planetActive' : 'planet', onClick: () => go.go.focus(link.id).go.do(link.id) }, link.icon);\n    };\n    let i = 1;\n    return ({ go, linkId, isActive = false, }, ref) => {\n        const { cy } = go.useGraph();\n        const links = [\n            { id: 'ups', icon: React.createElement(UpIcon, null) },\n            { id: 'out', icon: React.createElement(OutIcon, null) },\n            { id: 'from', icon: React.createElement(FromIcon, null) },\n            { id: 'type', icon: React.createElement(TypeIcon, null) },\n            { id: 'typed', icon: React.createElement(TypedIcon, null) },\n            { id: 'to', icon: React.createElement(ToIcon, null) },\n            { id: 'in', icon: React.createElement(InIcon, null) },\n            { id: 'downs', icon: React.createElement(DownIcon, null) },\n        ];\n        const focus = {};\n        for (let l in links) {\n            focus[links[l].id] = (g, v, o) => { };\n        }\n        return React.createElement(go.On, { do: {\n                exec: () => go.do(go.value),\n                typed: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { type_id: linkId } });\n                    go.go.set();\n                },\n                out: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { from_id: linkId } });\n                    go.go.set();\n                },\n                in: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { to_id: linkId } });\n                    go.go.set();\n                },\n                type: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { id: deep.get(linkId).type_id } });\n                    go.go.set();\n                },\n                from: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { id: deep.get(linkId).from_id } });\n                    go.go.set();\n                },\n                to: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { id: deep.get(linkId).to_id } });\n                    go.go.set();\n                },\n                ups: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { down: { link_id: linkId } } });\n                    go.go.set();\n                },\n                downs: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { up: { parent_id: linkId } } });\n                    go.go.set();\n                },\n            }, focus: focus },\n            React.createElement(go.Component, { open: isActive, path: [dpl, 'Planet'], links: links, Item: Item, orbitRadius: 70, mass: 1 }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BFLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUN2RCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFDSixTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxHQUN6RSxHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBRWhELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sSUFBSSxHQUFHLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUU7UUFDNUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3RCLE9BQU8sb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFDNUQsT0FBTyxFQUFFLEdBQUcs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QyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQ2QsQ0FBQztnQkFFRCxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ25CLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztvQkFDcEYsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztnQkFDZCxDQUFDO2dCQUNELEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRTtvQkFDckIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUNwRixFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUNkLENBQUM7YUFDRixFQUFFLEtBQUssRUFBRSxLQUFLO1lBQ2Isb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFDWCxJQUFJLEVBQUUsUUFBUSxFQUNkLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUNuQyxJQUFJLEVBQUUsSUFBSSxFQUNWLFdBQVcsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FDeEIsQ0FDSSxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgR28sIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgTHVDaGV2cm9uTGFzdCwgTHVDaGV2cm9uRmlyc3QgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9sdVwiKTtcbiAgY29uc3QgeyBJb0luZmluaXRlU2hhcnAgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9pbzVcIik7XG4gIGNvbnN0IHsgUGxhbmV0IH0gPSByZXF1aXJlKCdyZWFjdC1wbGFuZXQnKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCB7XG4gICAgVHlwZWRJY29uLCBEb3duSWNvbiwgVXBJY29uLCBUeXBlSWNvbiwgSW5JY29uLCBPdXRJY29uLCBGcm9tSWNvbiwgVG9JY29uLFxuICB9ID0gcmVxdWlyZSgnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWFwcCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuXG4gIGNvbnN0IFRyZWVMaXN0ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaXN0Jyk7XG5cbiAgY29uc3QgSXRlbSA9ICh7IGlzQWN0aXZlLCBsaW5rLCBwb3NpdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgZ28gPSBHby51c2VHbygpO1xuICAgIHJldHVybiA8Yy5CdXR0b24gdmFyaWFudD17aXNBY3RpdmUgPyAncGxhbmV0QWN0aXZlJyA6ICdwbGFuZXQnfVxuICAgICAgb25DbGljaz17KCkgPT4gZ28uZ28uZm9jdXMobGluay5pZCkuZ28uZG8obGluay5pZCl9XG4gICAgPntsaW5rLmljb259PC9jLkJ1dHRvbj47XG4gIH07XG5cbiAgbGV0IGkgPSAxO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgbGlua0lkLFxuXG4gICAgaXNBY3RpdmUgPSBmYWxzZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgeyBjeSB9ID0gZ28udXNlR3JhcGgoKTtcblxuICAgIGNvbnN0IGxpbmtzID0gW1xuICAgICAgeyBpZDogJ3VwcycsIGljb246IDxVcEljb24vPiB9LFxuICAgICAgeyBpZDogJ291dCcsIGljb246IDxPdXRJY29uLz4gfSxcbiAgICAgIHsgaWQ6ICdmcm9tJywgaWNvbjogPEZyb21JY29uLz4gfSxcbiAgICAgIHsgaWQ6ICd0eXBlJywgaWNvbjogPFR5cGVJY29uLz4gfSxcbiAgICAgIHsgaWQ6ICd0eXBlZCcsIGljb246IDxUeXBlZEljb24vPiB9LFxuICAgICAgeyBpZDogJ3RvJywgaWNvbjogPFRvSWNvbi8+IH0sXG4gICAgICB7IGlkOiAnaW4nLCBpY29uOiA8SW5JY29uLz4gfSxcbiAgICAgIHsgaWQ6ICdkb3ducycsIGljb246IDxEb3duSWNvbi8+IH0sXG4gICAgXTtcblxuICAgIGNvbnN0IGZvY3VzID0ge307XG4gICAgZm9yIChsZXQgbCBpbiBsaW5rcykge1xuICAgICAgZm9jdXNbbGlua3NbbF0uaWRdID0gKGcsdixvKSA9PiB7fVxuICAgIH1cblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6ICgpID0+IGdvLmRvKGdvLnZhbHVlKSxcblxuICAgICAgdHlwZWQ6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBnby5kbygncXVlcnknLCB7IG5hbWU6IHYsIHBhcmVudElkOiBsaW5rSWQsIHF1ZXJ5OiB7IHR5cGVfaWQ6IGxpbmtJZCB9IH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG4gICAgICBvdXQ6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBnby5kbygncXVlcnknLCB7IG5hbWU6IHYsIHBhcmVudElkOiBsaW5rSWQsIHF1ZXJ5OiB7IGZyb21faWQ6IGxpbmtJZCB9IH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG4gICAgICBpbjogYXN5bmMgKGcsdixvKSA9PiB7XG4gICAgICAgIGdvLmRvKCdxdWVyeScsIHsgbmFtZTogdiwgcGFyZW50SWQ6IGxpbmtJZCwgcXVlcnk6IHsgdG9faWQ6IGxpbmtJZCB9IH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG5cbiAgICAgIHR5cGU6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBnby5kbygncXVlcnknLCB7IG5hbWU6IHYsIHBhcmVudElkOiBsaW5rSWQsIHF1ZXJ5OiB7IGlkOiBkZWVwLmdldChsaW5rSWQpLnR5cGVfaWQgfSB9KTtcbiAgICAgICAgZ28uZ28uc2V0KCk7XG4gICAgICB9LFxuICAgICAgZnJvbTogYXN5bmMgKGcsdixvKSA9PiB7XG4gICAgICAgIGdvLmRvKCdxdWVyeScsIHsgbmFtZTogdiwgcGFyZW50SWQ6IGxpbmtJZCwgcXVlcnk6IHsgaWQ6IGRlZXAuZ2V0KGxpbmtJZCkuZnJvbV9pZCB9IH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG4gICAgICB0bzogYXN5bmMgKGcsdixvKSA9PiB7XG4gICAgICAgIGdvLmRvKCdxdWVyeScsIHsgbmFtZTogdiwgcGFyZW50SWQ6IGxpbmtJZCwgcXVlcnk6IHsgaWQ6IGRlZXAuZ2V0KGxpbmtJZCkudG9faWQgfSB9KTtcbiAgICAgICAgZ28uZ28uc2V0KCk7XG4gICAgICB9LFxuXG4gICAgICB1cHM6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBnby5kbygncXVlcnknLCB7IG5hbWU6IHYsIHBhcmVudElkOiBsaW5rSWQsIHF1ZXJ5OiB7IGRvd246IHsgbGlua19pZDogbGlua0lkIH0gfSB9KTtcbiAgICAgICAgZ28uZ28uc2V0KCk7XG4gICAgICB9LFxuICAgICAgZG93bnM6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBnby5kbygncXVlcnknLCB7IG5hbWU6IHYsIHBhcmVudElkOiBsaW5rSWQsIHF1ZXJ5OiB7IHVwOiB7IHBhcmVudF9pZDogbGlua0lkIH0gfSB9KTtcbiAgICAgICAgZ28uZ28uc2V0KCk7XG4gICAgICB9LFxuICAgIH19IGZvY3VzPXtmb2N1c30+XG4gICAgICA8Z28uQ29tcG9uZW50XG4gICAgICAgIG9wZW49e2lzQWN0aXZlfVxuICAgICAgICBwYXRoPXtbZHBsLCAnUGxhbmV0J119IGxpbmtzPXtsaW5rc31cbiAgICAgICAgSXRlbT17SXRlbX1cbiAgICAgICAgb3JiaXRSYWRpdXM9ezcwfSBtYXNzPXsxfVxuICAgICAgLz5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1375
      }
    },
    {
      "id": 1376,
      "type_id": 3,
      "from_id": 907,
      "to_id": 1375,
      "value": {
        "id": 449,
        "value": "generated",
        "link_id": 1376
      }
    },
    {
      "id": 1377,
      "type_id": 143,
      "from_id": 1375,
      "to_id": 907
    },
    {
      "id": 1378,
      "type_id": 3,
      "from_id": 907,
      "to_id": 1377
    },
    {
      "id": 908,
      "type_id": 35,
      "from_id": 145,
      "to_id": 907
    },
    {
      "id": 909,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 451,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n  const { IoInfiniteSharp } = require(\"react-icons/io5\");\n  const { Planet } = require('react-planet');\n  const c = require('@chakra-ui/react');\n\n  const {\n    TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon,\n  } = require('@deep-foundation/perception-app');\n\n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n  const dr = '@deep-foundation/readme';\n\n  const Contain = deep.idLocal(dc, 'Contain');\n  const Graph = deep.idLocal(dpl, 'Graph');\n  const TreeList = deep.idLocal(dpl, 'TreeList');\n  const Readme = await deep.id(dr, 'Readme');\n\n  const Item = ({ isActive, link, position }) => {\n    const go = Go.useGo();\n    return <c.Button variant={isActive ? 'planetActive' : 'planet'}\n      onClick={() => go.go.focus(link.id).go.do(link.id)}\n    >{link.icon}</c.Button>;\n  };\n\n  return ({\n    go,\n\n    linkId,\n\n    deleteDisclosure,\n    finderDisclosure,\n    readmeDisclosure,\n\n    isActive = false,\n  }, ref) => {\n    const { cy } = go.useGraph();\n\n    const [link] = deep.useLinks(linkId);\n    const [contain] = deep.useLocalQuery({ type_id: Contain, to_id: linkId });\n\n    const links = [\n      { id: 'contains', icon: <>🗂️</> },\n      { id: 'finder', icon: <>🪬</> },\n      { id: 'delete', icon: <>❌</> },\n      { id: 'handlers', icon: <>👁️</> },\n      { id: 'readme', icon: <>?</> },\n      { id: 'trees', icon: <>🎄</> },\n      { id: 'containerId', icon: <>🗃️</> },\n      { id: 'spaceId', icon: <>🔮</> },\n    ];\n\n    const focus = {};\n    for (let l in links) {\n      focus[links[l].id] = (g,v,o) => {}\n    }\n\n    const [readme, setReadme] = React.useState();\n    const readmeRef = React.useRef();\n\n    return <go.On do={{\n      exec: () => go.do(go.value),\n\n      contains: async (g,v,o) => {\n        go.do('query', { name: v, parentId: linkId, query: {\n          in: { type_id: Contain, from_id: linkId },\n          return: {\n            contains: { relation: 'in', type_id: Contain }\n          },\n        } });\n        go.go.set();\n      },\n      delete: () => {\n        deleteDisclosure.onOpen();\n      },\n      readme: async (g,v,o) => {\n        const { data: [readme] } = await deep.select({ type_id: Readme, to_id: linkId });\n        if (readme) {\n          setReadme(readme.id); readmeRef.current = readme.id;\n        }\n        if (!readmeRef?.current) {\n          const { data: [readme] } = await deep.insert({\n            type_id: Readme,\n            string: ' ',\n            from_id: linkId,\n            to_id: linkId,\n            name: `${link.name}Readme`,\n            containerId: contain.from_id,\n          });\n          setReadme(readme.id); readmeRef.current = readme.id;\n        }\n        readmeDisclosure.onOpen();\n      },\n      finder: (g,v,o) => {\n        finderDisclosure.onOpen();\n      },\n\n      containerId: (g,v,o) => {\n        go.parent(Graph).do('containerId', { id: linkId });\n        go.go.set();\n      },\n      spaceId: (g,v,o) => {\n        go.parent(Graph).do('containerId', { id: linkId });\n        go.parent(Graph).do('spaceId', { id: linkId });\n        go.go.set();\n      },\n    }} focus={focus}>\n      <go.Component\n        open={isActive}\n        path={[dpl, 'Planet']} links={links}\n        Item={Item}\n        orbitRadius={130} mass={3}\n      />\n      <go.Component path={[dpl, 'LinkDeleteModal']} disclosure={deleteDisclosure} linkId={linkId}/>\n      <go.Component path={[dpl, 'Finder']}\n        disclosure={finderDisclosure} initialId={linkId}\n        onSubmit={(id) => go.do('open', { id })}\n        operations\n      />\n      {!!readme && <go.Component path={[dpl, 'Finder']}\n        disclosure={readmeDisclosure} initialId={readme}\n      />}\n    </go.On>;\n  };\n}",
        "link_id": 909
      }
    },
    {
      "id": 1384,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 453,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n    const { IoInfiniteSharp } = require(\"react-icons/io5\");\n    const { Planet } = require('react-planet');\n    const c = require('@chakra-ui/react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const dr = '@deep-foundation/readme';\n    const Contain = deep.idLocal(dc, 'Contain');\n    const Graph = deep.idLocal(dpl, 'Graph');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const Readme = await deep.id(dr, 'Readme');\n    const Item = ({ isActive, link, position }) => {\n        const go = Go.useGo();\n        return React.createElement(c.Button, { variant: isActive ? 'planetActive' : 'planet', onClick: () => go.go.focus(link.id).go.do(link.id) }, link.icon);\n    };\n    return ({ go, linkId, deleteDisclosure, finderDisclosure, readmeDisclosure, isActive = false, }, ref) => {\n        const { cy } = go.useGraph();\n        const [link] = deep.useLinks(linkId);\n        const [contain] = deep.useLocalQuery({ type_id: Contain, to_id: linkId });\n        const links = [\n            { id: 'contains', icon: React.createElement(React.Fragment, null, \"\\uD83D\\uDDC2\\uFE0F\") },\n            { id: 'finder', icon: React.createElement(React.Fragment, null, \"\\uD83E\\uDEAC\") },\n            { id: 'delete', icon: React.createElement(React.Fragment, null, \"\\u274C\") },\n            { id: 'handlers', icon: React.createElement(React.Fragment, null, \"\\uD83D\\uDC41\\uFE0F\") },\n            { id: 'readme', icon: React.createElement(React.Fragment, null, \"?\") },\n            { id: 'trees', icon: React.createElement(React.Fragment, null, \"\\uD83C\\uDF84\") },\n            { id: 'containerId', icon: React.createElement(React.Fragment, null, \"\\uD83D\\uDDC3\\uFE0F\") },\n            { id: 'spaceId', icon: React.createElement(React.Fragment, null, \"\\uD83D\\uDD2E\") },\n        ];\n        const focus = {};\n        for (let l in links) {\n            focus[links[l].id] = (g, v, o) => { };\n        }\n        const [readme, setReadme] = React.useState();\n        const readmeRef = React.useRef();\n        return React.createElement(go.On, { do: {\n                exec: () => go.do(go.value),\n                contains: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: {\n                            in: { type_id: Contain, from_id: linkId },\n                            return: {\n                                contains: { relation: 'in', type_id: Contain }\n                            },\n                        } });\n                    go.go.set();\n                },\n                delete: () => {\n                    deleteDisclosure.onOpen();\n                },\n                readme: async (g, v, o) => {\n                    const { data: [readme] } = await deep.select({ type_id: Readme, to_id: linkId });\n                    if (readme) {\n                        setReadme(readme.id);\n                        readmeRef.current = readme.id;\n                    }\n                    if (!readmeRef?.current) {\n                        const { data: [readme] } = await deep.insert({\n                            type_id: Readme,\n                            string: ' ',\n                            from_id: linkId,\n                            to_id: linkId,\n                            name: `${link.name}Readme`,\n                            containerId: contain.from_id,\n                        });\n                        setReadme(readme.id);\n                        readmeRef.current = readme.id;\n                    }\n                    readmeDisclosure.onOpen();\n                },\n                finder: (g, v, o) => {\n                    finderDisclosure.onOpen();\n                },\n                containerId: (g, v, o) => {\n                    go.parent(Graph).do('containerId', { id: linkId });\n                    go.go.set();\n                },\n                spaceId: (g, v, o) => {\n                    go.parent(Graph).do('containerId', { id: linkId });\n                    go.parent(Graph).do('spaceId', { id: linkId });\n                    go.go.set();\n                },\n            }, focus: focus },\n            React.createElement(go.Component, { open: isActive, path: [dpl, 'Planet'], links: links, Item: Item, orbitRadius: 130, mass: 3 }),\n            React.createElement(go.Component, { path: [dpl, 'LinkDeleteModal'], disclosure: deleteDisclosure, linkId: linkId }),\n            React.createElement(go.Component, { path: [dpl, 'Finder'], disclosure: finderDisclosure, initialId: linkId, onSubmit: (id) => go.do('open', { id }), operations: true }),\n            !!readme && React.createElement(go.Component, { path: [dpl, 'Finder'], disclosure: readmeDisclosure, initialId: readme }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BFLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUN2RCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFDSixTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxHQUN6RSxHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBQ25DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHlCQUF5QixDQUFDO0lBRXJDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxD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SSxFQUNWLFdBQVcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FDekI7WUFDRixvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsTUFBTSxHQUFHO1lBQzdGLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxFQUNqQyxVQUFVLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFDL0MsUUFBUSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQ3ZDLFVBQVUsU0FDVjtZQUNELENBQUMsQ0FBQyxNQUFNLElBQUksb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQzlDLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxHQUMvQyxDQUNJLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBMdUNoZXZyb25MYXN0LCBMdUNoZXZyb25GaXJzdCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2x1XCIpO1xuICBjb25zdCB7IElvSW5maW5pdGVTaGFycCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2lvNVwiKTtcbiAgY29uc3QgeyBQbGFuZXQgfSA9IHJlcXVpcmUoJ3JlYWN0LXBsYW5ldCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IHtcbiAgICBUeXBlZEljb24sIERvd25JY29uLCBVcEljb24sIFR5cGVJY29uLCBJbkljb24sIE91dEljb24sIEZyb21JY29uLCBUb0ljb24sXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG5cbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRyID0gJ0BkZWVwLWZvdW5kYXRpb24vcmVhZG1lJztcblxuICBjb25zdCBDb250YWluID0gZGVlcC5pZExvY2FsKGRjLCAnQ29udGFpbicpO1xuICBjb25zdCBHcmFwaCA9IGRlZXAuaWRMb2NhbChkcGwsICdHcmFwaCcpO1xuICBjb25zdCBUcmVlTGlzdCA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlzdCcpO1xuICBjb25zdCBSZWFkbWUgPSBhd2FpdCBkZWVwLmlkKGRyLCAnUmVhZG1lJyk7XG5cbiAgY29uc3QgSXRlbSA9ICh7IGlzQWN0aXZlLCBsaW5rLCBwb3NpdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgZ28gPSBHby51c2VHbygpO1xuICAgIHJldHVybiA8Yy5CdXR0b24gdmFyaWFudD17aXNBY3RpdmUgPyAncGxhbmV0QWN0aXZlJyA6ICdwbGFuZXQnfVxuICAgICAgb25DbGljaz17KCkgPT4gZ28uZ28uZm9jdXMobGluay5pZCkuZ28uZG8obGluay5pZCl9XG4gICAgPntsaW5rLmljb259PC9jLkJ1dHRvbj47XG4gIH07XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICBsaW5rSWQsXG5cbiAgICBkZWxldGVEaXNjbG9zdXJlLFxuICAgIGZpbmRlckRpc2Nsb3N1cmUsXG4gICAgcmVhZG1lRGlzY2xvc3VyZSxcblxuICAgIGlzQWN0aXZlID0gZmFsc2UsXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IHsgY3kgfSA9IGdvLnVzZUdyYXBoKCk7XG5cbiAgICBjb25zdCBbbGlua10gPSBkZWVwLnVzZUxpbmtzKGxpbmtJZCk7XG4gICAgY29uc3QgW2NvbnRhaW5dID0gZGVlcC51c2VMb2NhbFF1ZXJ5KHsgdHlwZV9pZDogQ29udGFpbiwgdG9faWQ6IGxpbmtJZCB9KTtcblxuICAgIGNvbnN0IGxpbmtzID0gW1xuICAgICAgeyBpZDogJ2NvbnRhaW5zJywgaWNvbjogPD7wn5eC77iPPC8+IH0sXG4gICAgICB7IGlkOiAnZmluZGVyJywgaWNvbjogPD7wn6qsPC8+IH0sXG4gICAgICB7IGlkOiAnZGVsZXRlJywgaWNvbjogPD7inYw8Lz4gfSxcbiAgICAgIHsgaWQ6ICdoYW5kbGVycycsIGljb246IDw+8J+Rge+4jzwvPiB9LFxuICAgICAgeyBpZDogJ3JlYWRtZScsIGljb246IDw+PzwvPiB9LFxuICAgICAgeyBpZDogJ3RyZWVzJywgaWNvbjogPD7wn46EPC8+IH0sXG4gICAgICB7IGlkOiAnY29udGFpbmVySWQnLCBpY29uOiA8PvCfl4PvuI88Lz4gfSxcbiAgICAgIHsgaWQ6ICdzcGFjZUlkJywgaWNvbjogPD7wn5SuPC8+IH0sXG4gICAgXTtcblxuICAgIGNvbnN0IGZvY3VzID0ge307XG4gICAgZm9yIChsZXQgbCBpbiBsaW5rcykge1xuICAgICAgZm9jdXNbbGlua3NbbF0uaWRdID0gKGcsdixvKSA9PiB7fVxuICAgIH1cblxuICAgIGNvbnN0IFtyZWFkbWUsIHNldFJlYWRtZV0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIGNvbnN0IHJlYWRtZVJlZiA9IFJlYWN0LnVzZVJlZigpO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKCkgPT4gZ28uZG8oZ28udmFsdWUpLFxuXG4gICAgICBjb250YWluczogYXN5bmMgKGcsdixvKSA9PiB7XG4gICAgICAgIGdvLmRvKCdxdWVyeScsIHsgbmFtZTogdiwgcGFyZW50SWQ6IGxpbmtJZCwgcXVlcnk6IHtcbiAgICAgICAgICBpbjogeyB0eXBlX2lkOiBDb250YWluLCBmcm9tX2lkOiBsaW5rSWQgfSxcbiAgICAgICAgICByZXR1cm46IHtcbiAgICAgICAgICAgIGNvbnRhaW5zOiB7IHJlbGF0aW9uOiAnaW4nLCB0eXBlX2lkOiBDb250YWluIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9IH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG4gICAgICBkZWxldGU6ICgpID0+IHtcbiAgICAgICAgZGVsZXRlRGlzY2xvc3VyZS5vbk9wZW4oKTtcbiAgICAgIH0sXG4gICAgICByZWFkbWU6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBjb25zdCB7IGRhdGE6IFtyZWFkbWVdIH0gPSBhd2FpdCBkZWVwLnNlbGVjdCh7IHR5cGVfaWQ6IFJlYWRtZSwgdG9faWQ6IGxpbmtJZCB9KTtcbiAgICAgICAgaWYgKHJlYWRtZSkge1xuICAgICAgICAgIHNldFJlYWRtZShyZWFkbWUuaWQpOyByZWFkbWVSZWYuY3VycmVudCA9IHJlYWRtZS5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlYWRtZVJlZj8uY3VycmVudCkge1xuICAgICAgICAgIGNvbnN0IHsgZGF0YTogW3JlYWRtZV0gfSA9IGF3YWl0IGRlZXAuaW5zZXJ0KHtcbiAgICAgICAgICAgIHR5cGVfaWQ6IFJlYWRtZSxcbiAgICAgICAgICAgIHN0cmluZzogJyAnLFxuICAgICAgICAgICAgZnJvbV9pZDogbGlua0lkLFxuICAgICAgICAgICAgdG9faWQ6IGxpbmtJZCxcbiAgICAgICAgICAgIG5hbWU6IGAke2xpbmsubmFtZX1SZWFkbWVgLFxuICAgICAgICAgICAgY29udGFpbmVySWQ6IGNvbnRhaW4uZnJvbV9pZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRSZWFkbWUocmVhZG1lLmlkKTsgcmVhZG1lUmVmLmN1cnJlbnQgPSByZWFkbWUuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmVhZG1lRGlzY2xvc3VyZS5vbk9wZW4oKTtcbiAgICAgIH0sXG4gICAgICBmaW5kZXI6IChnLHYsbykgPT4ge1xuICAgICAgICBmaW5kZXJEaXNjbG9zdXJlLm9uT3BlbigpO1xuICAgICAgfSxcblxuICAgICAgY29udGFpbmVySWQ6IChnLHYsbykgPT4ge1xuICAgICAgICBnby5wYXJlbnQoR3JhcGgpLmRvKCdjb250YWluZXJJZCcsIHsgaWQ6IGxpbmtJZCB9KTtcbiAgICAgICAgZ28uZ28uc2V0KCk7XG4gICAgICB9LFxuICAgICAgc3BhY2VJZDogKGcsdixvKSA9PiB7XG4gICAgICAgIGdvLnBhcmVudChHcmFwaCkuZG8oJ2NvbnRhaW5lcklkJywgeyBpZDogbGlua0lkIH0pO1xuICAgICAgICBnby5wYXJlbnQoR3JhcGgpLmRvKCdzcGFjZUlkJywgeyBpZDogbGlua0lkIH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG4gICAgfX0gZm9jdXM9e2ZvY3VzfT5cbiAgICAgIDxnby5Db21wb25lbnRcbiAgICAgICAgb3Blbj17aXNBY3RpdmV9XG4gICAgICAgIHBhdGg9e1tkcGwsICdQbGFuZXQnXX0gbGlua3M9e2xpbmtzfVxuICAgICAgICBJdGVtPXtJdGVtfVxuICAgICAgICBvcmJpdFJhZGl1cz17MTMwfSBtYXNzPXszfVxuICAgICAgLz5cbiAgICAgIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ0xpbmtEZWxldGVNb2RhbCddfSBkaXNjbG9zdXJlPXtkZWxldGVEaXNjbG9zdXJlfSBsaW5rSWQ9e2xpbmtJZH0vPlxuICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVyJ119XG4gICAgICAgIGRpc2Nsb3N1cmU9e2ZpbmRlckRpc2Nsb3N1cmV9IGluaXRpYWxJZD17bGlua0lkfVxuICAgICAgICBvblN1Ym1pdD17KGlkKSA9PiBnby5kbygnb3BlbicsIHsgaWQgfSl9XG4gICAgICAgIG9wZXJhdGlvbnNcbiAgICAgIC8+XG4gICAgICB7ISFyZWFkbWUgJiYgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVyJ119XG4gICAgICAgIGRpc2Nsb3N1cmU9e3JlYWRtZURpc2Nsb3N1cmV9IGluaXRpYWxJZD17cmVhZG1lfVxuICAgICAgLz59XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1384
      }
    },
    {
      "id": 1385,
      "type_id": 3,
      "from_id": 909,
      "to_id": 1384,
      "value": {
        "id": 452,
        "value": "generated",
        "link_id": 1385
      }
    },
    {
      "id": 1386,
      "type_id": 143,
      "from_id": 1384,
      "to_id": 909
    },
    {
      "id": 1387,
      "type_id": 3,
      "from_id": 909,
      "to_id": 1386
    },
    {
      "id": 910,
      "type_id": 35,
      "from_id": 145,
      "to_id": 909
    },
    {
      "id": 911,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 454,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n  const _ = require('lodash');\n  const moment = require('moment');\n  const { useDebounceCallback } = require('@react-hook/debounce');\n\n  var dpl = '@deep-foundation/perception-links';\n  var dc = '@deep-foundation/core';\n\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const Queries = deep.idLocal(dpl, 'Queries');\n  const Compatable = deep.idLocal(dpl, 'Compatable');\n  const Handler = deep.idLocal(dc, 'Handler');\n  const Query = deep.idLocal(dpl, 'Query');\n  const QueriesClient = deep.idLocal(dpl, 'QueriesClient');\n\n  let initialMemoryObject = {\n    useQuery: {}, useSubscription: {}, select: {}, subscribe: {}, insert: {}, update: {}, 'delete': {},\n  };\n  if (typeof(window) === 'object') {\n    if (window._deep_perception_queries_memory) initialMemoryObject = window._deep_perception_queries_memory;\n    window._deep_perception_queries_memory = initialMemoryObject;\n  }\n\n  return ({\n    go,\n\n    isActive = false,\n\n    children,\n  }, ref) => {\n    const containerRef = React.useMemo(() => go.root().ref, []);\n\n    const { sync, setSync } = React.useContext(go.HandlerConfigContext);\n    const mode = React.useState('useQuery');\n    const modeRef = React.useRef(mode); modeRef.current = mode[0];\n\n    const modes = Object.keys(initialMemoryObject);\n\n    const [list, setList] = React.useState([]);\n    const generateList = React.useCallback(() => {\n      if (!modeRef.current) return;\n      const list = _.chain(Object.values(initialMemoryObject[modeRef.current] || {})).sortBy('mounted').reverse().value();\n      setList(list);\n    }, []);\n    const generateListDebounced = useDebounceCallback(generateList, 1000);\n\n    const apply = React.useCallback((mode, event) => {\n      const prev = initialMemoryObject[mode][event.name] || {};\n      const next = initialMemoryObject[mode][event.name] = { id: event.name, mode, ...prev, ...event, count: (prev?.count || 0) + 1 };\n      next[next.mounted ? 'updated' : 'mounted'] = new Date().valueOf();\n      if (mode === modeRef.current) generateListDebounced();\n    }, []);\n\n    const unapply = React.useCallback((mode, event) => {\n      delete initialMemoryObject[mode][event.name];\n      if (mode === modeRef.current) generateListDebounced();\n    }, []);\n\n    const events = React.useMemo(() => ({\n      'useQuery.mount': (event) => apply('useQuery', event),\n      'useQuery': (event) => apply('useQuery', event),\n      'useQuery.unmount': (event) => unapply('useQuery', event),\n      'useSubscription.mount': (event) => apply('useSubscription', event),\n      'useSubscription': (event) => apply('useSubscription', event),\n      'useSubscription.unmount': (event) => unapply('useSubscription', event),\n      'select': (event) => apply('select', event),\n      'subscribe.before': (event) => apply('subscribe', event),\n      'subscribe': (event) => apply('subscribe', event),\n      'insert': (event) => {\n        if (event?.table === 'links' && event.remoteData?.length) {\n          event.remoteData.forEach(l => go.root().do('open', { id: l?.id }));\n        }\n        apply('insert', event);\n      },\n      'update': (event) => apply('update', event),\n      'delete': (event) => apply('delete', event),\n    }), []);\n\n    React.useEffect(() => {\n      const sub = (name) => events?.[name] && deep.emitter.on(name, events?.[name]);\n      Object.keys(events).forEach(name => sub(name));\n    }, []);\n\n    const [opened, setOpened] = React.useState();\n\n    const Item = React.useMemo(() => React.memo(({ link, isActive }) => {\n      const go = Go.useGo();\n\n      const q = JSON.stringify(link?.query) || '';\n\n      return <go.On do={{\n        exec: (g,v,o) => setOpened(link),\n      }}>\n        <c.Button bg={isActive ? 'deepBgDark' : undefined} onClick={() => go.do('exec')} w='100%'>\n          <c.Flex w='100%'>\n            <c.Box flex='1' p='0.5em' pl='1em'>\n              <c.Box noOfLines={1} textAlign='left'>\n                {q.slice(0, 43)}{q.length > 43 ? '...' : ''}\n              </c.Box>\n              {!!link?.value && <c.Box noOfLines={1}>\n                {JSON.stringify(link?.value)}\n              </c.Box>}\n            </c.Box>\n            <c.Box p='0.25em' pr='1em' fontSize='xs'>\n              <c.Box>{moment(link.mounted).format('HH:mm:ss')}</c.Box>\n              {!!link.updated && <c.Box>{moment(link.updated).format('HH:mm:ss')}</c.Box>}\n            </c.Box>\n          </c.Flex>\n        </go.Button>\n      </go.On>\n    }, _.isEqual), []);\n\n    React.useMemo(() => {\n      setOpened();\n      generateList();\n    }, [mode[0]]);\n\n    React.useMemo(() => {\n      if (!go.value) mode[1]();\n      else if (!mode) mode[1]('useQuery');\n    }, [go.value]);\n\n    React.useMemo(() => {\n      opened && go.focus(Query);\n    }, [opened]);\n\n    return <go.On\n      do={{\n        focus: (g,v,id,o) => {\n          if (!v) go.set('useQuery');\n          else if (modes.includes(v)) setMode(v);\n        },\n        right: (g,v,o) => {\n          mode[1](go.next(modes.map(m => ({ id: m })), mode[0]));\n        },\n        left: (g,v,o) => {\n          modes[0] === mode[0]  ? go.set() : mode[1](go.prev(modes.map(m => ({ id: m })), mode[0]));\n        },\n      }}\n    >\n      <c.Popover placement='right-end' closeOnBlur={false} isOpen={!!go.value} onClose={() => go.set()}>\n        <c.PopoverTrigger>\n          <c.Button\n            ref={ref} w='3em' h='3em' variant={!!go.value || isActive ? 'active' : undefined}\n            onClick={() => go.value ? go.set() : go.set('useQuery')}\n          >\n            {children}\n          </c.Button>\n        </c.PopoverTrigger>\n        <c.Portal containerRef={containerRef}>\n          <c.PopoverContent w='30em' maxH='30em' minH='30em' position='relative'>\n            <c.PopoverArrow />\n            <c.Flex direction='column' position='absolute' top='0' left='0' w='100%' h='100%'>\n              <c.Flex overflowX='scroll' css={go.noScrollBar}>\n                <c.Flex columns={modes.length} flex='1'>\n                  {modes.map(m => <c.Button {...go.activator(mode, m)}>{m}</c.Button>)}\n                </c.Flex>\n                <c.Divider orientation='vertical' />\n                <c.Button {...go.activator([sync, setSync], true)}>sync</c.Button>\n              </c.Flex>\n              <c.Divider/>\n              <go.Provider linkId={Stack} value={list?.[0]?.id}>\n                {!opened && <go.Component key={mode[0]} path={[dpl, 'Stack']} direction='vertical' links={list} Item={Item} flex='1'/>}\n              </go.Provider>\n              {!!opened && <>\n                <go.Provider linkId={Query} value={list?.[0]?.id}>\n                  <go.Component path={[dpl, 'Query']} event={opened}/>\n                </go.Provider>\n                {/* <go.Component path={[dpl, 'Stack']} direction='horizontal' links={views} Item={ViewItem}/> */}\n                {/* <go.Component path={[dpl, 'QueriesGQL']} extendInsert={{ out: { type_id: Compatable, to_id: Queries } }}/>\n                <go.Component path={[dpl, 'QueriesReact']} extendInsert={{ out: { type_id: Compatable, to_id: Queries } }}/>\n                <go.Component path={[dpl, 'QueriesClient']} extendInsert={{ out: { type_id: Compatable, to_id: Queries } }}/>\n                <go.Component path={[dpl, 'QueriesResults']} extendInsert={{ out: { type_id: Compatable, to_id: Queries } }}/> */}\n              </>}\n            </c.Flex>\n          </c.PopoverContent>\n        </c.Portal>\n      </c.Popover>\n    </go.On>;\n  };\n}",
        "link_id": 911
      }
    },
    {
      "id": 1402,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 459,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    return ({ go, children, }, ref) => {\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.Box, { ref: ref, h: '3em' }, `${go}`));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUVGLFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUNYLEVBQUUsRUFBRSxFQUNIO1lBRUQsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBQyxLQUFLLElBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBUyxDQUNwQyxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgY2hpbGRyZW4sXG4gIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLkJveCByZWY9e3JlZn0gaD0nM2VtJz57YCR7Z299YH08L2MuQm94PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1402
      }
    },
    {
      "id": 1403,
      "type_id": 3,
      "from_id": 913,
      "to_id": 1402,
      "value": {
        "id": 458,
        "value": "generated",
        "link_id": 1403
      }
    },
    {
      "id": 1404,
      "type_id": 143,
      "from_id": 1402,
      "to_id": 913
    },
    {
      "id": 1405,
      "type_id": 3,
      "from_id": 913,
      "to_id": 1404
    },
    {
      "id": 914,
      "type_id": 35,
      "from_id": 145,
      "to_id": 913
    },
    {
      "id": 915,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 460,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const { GrGraphQl } = require(\"react-icons/gr\");\n  const c = require('@chakra-ui/react');\n  const _ = require('lodash');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  return ({\n    go,\n    handlerId,\n\n    isActive,\n  }, ref) => {\n    const View = React.useCallback(({ event }) => {\n      const value = `// query\n${event?.remoteQuery?.query?.queryString || ''}\n\n// variables\n${JSON.stringify(event?.remoteQuery?.query?.variables || {}, null, 2)}\n`\n  \n      return <Go.Editor editable={false} value={value} fillSize/>;\n    }, []);\n\n    return <go.On do={{\n      exec: (g,v,o) => go.do('view', { id: go.linkId, Component: View })),\n    }}>\n      <c.Button\n        w='3em' h='3em'\n        variant={isActive ? 'active' : undefined}\n        ref={ref}\n        onClick={() => go.do('exec')}\n      >\n        <GrGraphQl/>\n      </c.Button>\n    </go.On>;\n  };\n}",
        "link_id": 915
      }
    },
    {
      "id": 1456,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 477,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, insertProps = {}, ...props }, ref) => {\n        const disclosure = c.useDisclosure();\n        return React.createElement(go.On, { do: {\n                'exec': () => disclosure.onOpen(),\n            } },\n            React.createElement(c.Button, { ref: ref, h: '3em', w: '3em', variant: isActive ? 'active' : undefined, onClick: () => go.do('exec'), ...props }, children),\n            React.createElement(go.Component, { path: [dpl, 'LinkInsertModal'], disclosure: disclosure, ...insertProps }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFFaEQsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUNGLFNBQVMsRUFFVCxTQUFTLEVBQ1QsU0FBUyxFQUVULE1BQU0sRUFDTixJQUFJLEVBRUosUUFBUSxFQUVSLFFBQVEsRUFFUixXQUFXLEdBQUcsRUFBRSxFQUVoQixHQUFHLEtBQUssRUFDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBRXJDLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFDWCxFQUFFLEVBQUU7Z0JBQ0YsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7YUFDbEM7WUFFRCxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUN6QixPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDeEMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQ3hCLEtBQUssSUFDVCxRQUFRLENBQVk7WUFDdEIsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLENBQUMsRUFBRSxVQUFVLEVBQUUsVUFBVSxLQUM5RCxXQUFXLEdBQ2YsQ0FDSSxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG5cbiAgICBpbnNlcnRQcm9wcyA9IHt9LFxuXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgZGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuXG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgJ2V4ZWMnOiAoKSA9PiBkaXNjbG9zdXJlLm9uT3BlbigpLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgcmVmPXtyZWZ9IGg9JzNlbScgdz0nM2VtJ1xuICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnZXhlYycpfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICA+e2NoaWxkcmVufTwvYy5CdXR0b24+XG4gICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdMaW5rSW5zZXJ0TW9kYWwnXX0gZGlzY2xvc3VyZT17ZGlzY2xvc3VyZX1cbiAgICAgICAgey4uLmluc2VydFByb3BzfVxuICAgICAgLz5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1456
      }
    },
    {
      "id": 1457,
      "type_id": 3,
      "from_id": 929,
      "to_id": 1456,
      "value": {
        "id": 476,
        "value": "generated",
        "link_id": 1457
      }
    },
    {
      "id": 1458,
      "type_id": 143,
      "from_id": 1456,
      "to_id": 929
    },
    {
      "id": 1459,
      "type_id": 3,
      "from_id": 929,
      "to_id": 1458
    },
    {
      "id": 930,
      "type_id": 35,
      "from_id": 145,
      "to_id": 929
    },
    {
      "id": 931,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 478,
        "value": "async ({ deep, data, require }) => {\n  const React = require('react');\n  const { IoIosHome } = require(\"react-icons/io\");\n  // const { default: Image } = require('next/image');\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Site = await deep.id(dpl, 'Site');\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n\n    ...props\n  }, ref) => {\n    return <go.On do={{\n      exec: (g,v,o) => go.go.do('right', { ...o, id: Site })),\n      click: (g,v,o) => go.do('exec', o),\n      right: (g,v,o) => go.do('exec', o),\n    }}>\n      <c.Button\n        w='3em' h='3em' p='0.3em'\n        variant={isActive ? 'active' : undefined}\n        ref={ref}\n        onClick={() => go.do('exec')}\n      >\n        {/* <Image src=\"/logo.svg\" width={32} height={32}/> */}\n        <IoIosHome/>\n      </c.Button>\n    </go.On>;\n}",
        "link_id": 931
      }
    },
    {
      "id": 584,
      "type_id": 3,
      "from_id": 559,
      "to_id": 583,
      "value": {
        "id": 228,
        "value": "ActiveSymbol",
        "link_id": 584
      }
    },
    {
      "id": 632,
      "type_id": 3,
      "from_id": 559,
      "to_id": 631,
      "value": {
        "id": 276,
        "value": "SyncTextFileSymbol",
        "link_id": 632
      }
    },
    {
      "id": 633,
      "type_id": 146,
      "from_id": 559,
      "to_id": 29,
      "value": {
        "id": 277,
        "value": "💾",
        "link_id": 633
      }
    },
    {
      "id": 634,
      "type_id": 3,
      "from_id": 559,
      "to_id": 633,
      "value": {
        "id": 278,
        "value": "FileSymbol",
        "link_id": 634
      }
    },
    {
      "id": 635,
      "type_id": 146,
      "from_id": 559,
      "to_id": 23,
      "value": {
        "id": 279,
        "value": "🔥",
        "link_id": 635
      }
    },
    {
      "id": 636,
      "type_id": 3,
      "from_id": 559,
      "to_id": 635,
      "value": {
        "id": 280,
        "value": "OperationSymbol",
        "link_id": 636
      }
    },
    {
      "id": 637,
      "type_id": 146,
      "from_id": 559,
      "to_id": 22,
      "value": {
        "id": 281,
        "value": "👤",
        "link_id": 637
      }
    },
    {
      "id": 638,
      "type_id": 3,
      "from_id": 559,
      "to_id": 637,
      "value": {
        "id": 282,
        "value": "UserSymbol",
        "link_id": 638
      }
    },
    {
      "id": 639,
      "type_id": 146,
      "from_id": 559,
      "to_id": 17,
      "value": {
        "id": 283,
        "value": "🔥",
        "link_id": 639
      }
    },
    {
      "id": 640,
      "type_id": 3,
      "from_id": 559,
      "to_id": 639,
      "value": {
        "id": 284,
        "value": "RuleActionSymbol",
        "link_id": 640
      }
    },
    {
      "id": 641,
      "type_id": 146,
      "from_id": 559,
      "to_id": 19,
      "value": {
        "id": 285,
        "value": "🍏",
        "link_id": 641
      }
    },
    {
      "id": 642,
      "type_id": 3,
      "from_id": 559,
      "to_id": 641,
      "value": {
        "id": 286,
        "value": "RuleObjectSymbol",
        "link_id": 642
      }
    },
    {
      "id": 643,
      "type_id": 146,
      "from_id": 559,
      "to_id": 18,
      "value": {
        "id": 287,
        "value": "👤",
        "link_id": 643
      }
    },
    {
      "id": 644,
      "type_id": 3,
      "from_id": 559,
      "to_id": 643,
      "value": {
        "id": 288,
        "value": "RuleSubjectSymbol",
        "link_id": 644
      }
    },
    {
      "id": 645,
      "type_id": 146,
      "from_id": 559,
      "to_id": 17,
      "value": {
        "id": 289,
        "value": "📜",
        "link_id": 645
      }
    },
    {
      "id": 646,
      "type_id": 3,
      "from_id": 559,
      "to_id": 645,
      "value": {
        "id": 290,
        "value": "RuleSymbol",
        "link_id": 646
      }
    },
    {
      "id": 647,
      "type_id": 146,
      "from_id": 559,
      "to_id": 72,
      "value": {
        "id": 291,
        "value": "🪡",
        "link_id": 647
      }
    },
    {
      "id": 648,
      "type_id": 3,
      "from_id": 559,
      "to_id": 647,
      "value": {
        "id": 292,
        "value": "SelectorExcludeSymbol",
        "link_id": 648
      }
    },
    {
      "id": 649,
      "type_id": 146,
      "from_id": 559,
      "to_id": 16,
      "value": {
        "id": 293,
        "value": "🪡",
        "link_id": 649
      }
    },
    {
      "id": 650,
      "type_id": 3,
      "from_id": 559,
      "to_id": 649,
      "value": {
        "id": 294,
        "value": "SelectorIncludeSymbol",
        "link_id": 650
      }
    },
    {
      "id": 651,
      "type_id": 146,
      "from_id": 559,
      "to_id": 15,
      "value": {
        "id": 295,
        "value": "🪢",
        "link_id": 651
      }
    },
    {
      "id": 652,
      "type_id": 3,
      "from_id": 559,
      "to_id": 651,
      "value": {
        "id": 296,
        "value": "SelectorSymbol",
        "link_id": 652
      }
    },
    {
      "id": 1186,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 387,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { MoonIcon, SunIcon } = require('@chakra-ui/icons');\n    const { GrGraphQl } = require(\"react-icons/gr\");\n    const { IoReload, IoMdBrowsers } = require(\"react-icons/io\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Menu = deep.idLocal(dpl, 'Menu');\n    const Layer = deep.idLocal(dpl, 'Layer');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Queries = deep.idLocal(dpl, 'Queries');\n    const Tree = deep.idLocal(dpl, 'Tree');\n    return ({ go, linkId, Status, Auth, ColorMode, children, }, ref) => {\n        const nav = go.useNav();\n        nav(Menu, Menu, Header, Layer, Queries);\n        nav(Queries, Queries, Menu, Layer, Queries);\n        nav(Layer, Menu, Header, Layer, Layer);\n        nav(Header, Header, Header, Header, Layer);\n        React.useEffect(() => {\n            go.focus(Menu);\n        }, []);\n        const isMobile = c.useBreakpointValue({ base: true, md: false }, { fallback: 'xs' });\n        return React.createElement(go.On, { do: {\n                left: (g, v, o) => go.focus(nav.get(go.value, 'left'), o),\n                up: (g, v, o) => go.focus(nav.get(go.value, 'up'), o),\n                right: (g, v, o) => go.focus(nav.get(go.value, 'right'), o),\n                down: (g, v, o) => go.focus(nav.get(go.value, 'down'), o),\n                use: (g, v, o) => {\n                    if (go.data.usedId != o?.id && o?.id) {\n                        go.data.usedId = o.id;\n                        go(Header).do('use', o);\n                        go(Layer).do('use', o);\n                    }\n                },\n                open: async (g, v, o) => {\n                    if (!go(Layer))\n                        await (go.focus(Layer).go.awaitRef(Layer));\n                    go(Layer).do('open', o);\n                },\n                concentrate: (g, v, o) => {\n                    go(Layer).do('concentrate', o);\n                },\n            } },\n            React.createElement(c.Box, { ref: go.ref, h: '100vh', w: \"100vw\", position: \"fixed\", left: \"0%\", top: \"0%\" },\n                React.createElement(c.Grid, { templateAreas: `\"tabs tabs\"\n                              \"nav main\"`, gridTemplateRows: '3em 1fr', gridTemplateColumns: '3em 1fr', h: '100vh', w: \"100vw\", position: \"fixed\", left: \"0%\", top: \"0%\", color: 'blackAlpha.700', fontWeight: 'bold', ref: ref },\n                    React.createElement(c.GridItem, { area: 'tabs', zIndex: 1 },\n                        React.createElement(c.Flex, { w: \"100%\", h: \"100%\", bg: go.value === Header ? 'deepBgDark' : 'deepBg' },\n                            React.createElement(go.Provider, { linkId: Header },\n                                React.createElement(go.Handler, { linkId: deep.linkId, handlerId: Header, using: true })))),\n                    React.createElement(c.GridItem, { area: 'nav', zIndex: 1, position: \"relative\", h: \"100%\" },\n                        React.createElement(c.Flex, { direction: 'column', h: '100%', bg: go.value === Menu ? 'deepBgDark' : 'deepBg' },\n                            React.createElement(go.Provider, { linkId: Menu },\n                                React.createElement(go.Handler, { linkId: deep.linkId, handlerId: Menu, flex: '1' })),\n                            React.createElement(c.VStack, null,\n                                React.createElement(c.Button, { w: '3em', h: '3em', as: 'a', target: '_blank', href: `https://deep-foundation.github.io/perception-app?path=\"http${deep.client.ssl ? 's' : ''}://${deep.client.path}\"&token=${deep.token}` },\n                                    React.createElement(IoMdBrowsers, null)),\n                                React.createElement(c.Button, { w: '3em', h: '3em', as: 'a', href: `http://${deep?.client?.path}` },\n                                    React.createElement(GrGraphQl, null)),\n                                React.createElement(ColorMode, { w: '3em', h: '3em', dark: { children: React.createElement(SunIcon, null) }, light: { children: React.createElement(MoonIcon, null) } }),\n                                React.createElement(go.Provider, { linkId: Queries },\n                                    React.createElement(go.Component, { path: [dpl, 'Queries'], isActive: go.value === Queries },\n                                        React.createElement(Status, null))),\n                                React.createElement(Auth, null)))),\n                    React.createElement(c.GridItem, { area: 'main', overflow: \"hidden\", position: \"relative\", h: '100%', bg: go.value === Layer ? 'deepBgDark' : 'deepBg' },\n                        React.createElement(go.Provider, { linkId: Layer, value: Tree },\n                            React.createElement(go.Handler, { linkId: deep.linkId, handlerId: Layer, using: true, fullWidth: isMobile ? 'calc(100vw - 3em)' : null }))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQzFELE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzdELE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBRTdDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRXZDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixNQUFNLEVBRU4sTUFBTSxFQUNO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LENBQ04sQ0FDSCxDQUNGLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBNb29uSWNvbiwgU3VuSWNvbiB9ID0gcmVxdWlyZSgnQGNoYWtyYS11aS9pY29ucycpO1xuICBjb25zdCB7IEdyR3JhcGhRbCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2dyXCIpO1xuICBjb25zdCB7IElvUmVsb2FkLCBJb01kQnJvd3NlcnMgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9pb1wiKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICBjb25zdCBNZW51ID0gZGVlcC5pZExvY2FsKGRwbCwgJ01lbnUnKTtcbiAgY29uc3QgTGF5ZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnTGF5ZXInKTtcbiAgY29uc3QgSGVhZGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hlYWRlcicpO1xuICBjb25zdCBRdWVyaWVzID0gZGVlcC5pZExvY2FsKGRwbCwgJ1F1ZXJpZXMnKTtcblxuICBjb25zdCBUcmVlID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWUnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBsaW5rSWQsXG5cbiAgICBTdGF0dXMsXG4gICAgQXV0aCxcbiAgICBDb2xvck1vZGUsXG5cbiAgICBjaGlsZHJlbixcblxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBuYXYgPSBnby51c2VOYXYoKTtcbiAgICBuYXYoTWVudSwgTWVudSwgSGVhZGVyLCBMYXllciwgUXVlcmllcyk7XG4gICAgbmF2KFF1ZXJpZXMsIFF1ZXJpZXMsIE1lbnUsIExheWVyLCBRdWVyaWVzKTtcbiAgICBuYXYoTGF5ZXIsIE1lbnUsIEhlYWRlciwgTGF5ZXIsIExheWVyKTtcbiAgICBuYXYoSGVhZGVyLCBIZWFkZXIsIEhlYWRlciwgSGVhZGVyLCBMYXllcik7XG5cbiAgICAvLyBjb25zdCB1c2VUaGVtZSA9IGdvLnVzZUhvb2soeyBwYXRoOiBbZHBsLCAndXNlVGhlbWUnXSB9KTtcbiAgICAvLyBjb25zb2xlLmxvZygndXNlVGhlbWUnLCB1c2VUaGVtZSk7XG5cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgZ28uZm9jdXMoTWVudSlcblxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGlzTW9iaWxlID0gYy51c2VCcmVha3BvaW50VmFsdWUoXG4gICAgICB7IGJhc2U6IHRydWUsIG1kOiBmYWxzZSB9LFxuICAgICAgeyBmYWxsYmFjazogJ3hzJyB9LFxuICAgICk7XG5cbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgICBsZWZ0OiAoZywgdiwgbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSwgJ2xlZnQnKSwgbyksXG4gICAgICAgIHVwOiAoZywgdiwgbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSwgJ3VwJyksIG8pLFxuICAgICAgICByaWdodDogKGcsIHYsIG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICdyaWdodCcpLCBvKSxcbiAgICAgICAgZG93bjogKGcsIHYsIG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICdkb3duJyksIG8pLFxuICAgICAgICB1c2U6IChnLCB2LCBvKSA9PiB7XG4gICAgICAgICAgaWYgKGdvLmRhdGEudXNlZElkICE9IG8/LmlkICYmIG8/LmlkKSB7XG4gICAgICAgICAgICBnby5kYXRhLnVzZWRJZCA9IG8uaWQ7XG4gICAgICAgICAgICBnbyhIZWFkZXIpLmRvKCd1c2UnLCBvKTtcbiAgICAgICAgICAgIGdvKExheWVyKS5kbygndXNlJywgbyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcGVuOiBhc3luYyAoZywgdiwgbykgPT4ge1xuICAgICAgICAgIGlmICghZ28oTGF5ZXIpKSBhd2FpdCAoZ28uZm9jdXMoTGF5ZXIpLmdvLmF3YWl0UmVmKExheWVyKSk7XG4gICAgICAgICAgZ28oTGF5ZXIpLmRvKCdvcGVuJywgbyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmNlbnRyYXRlOiAoZyx2LG8pID0+IHtcbiAgICAgICAgICBnbyhMYXllcikuZG8oJ2NvbmNlbnRyYXRlJywgbyk7XG4gICAgICAgIH0sXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLkJveCByZWY9e2dvLnJlZn0gaD0nMTAwdmgnIHc9XCIxMDB2d1wiIHBvc2l0aW9uPVwiZml4ZWRcIiBsZWZ0PVwiMCVcIiB0b3A9XCIwJVwiPlxuICAgICAgICA8Yy5HcmlkXG4gICAgICAgICAgdGVtcGxhdGVBcmVhcz17YFwidGFicyB0YWJzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmF2IG1haW5cImB9XG4gICAgICAgICAgZ3JpZFRlbXBsYXRlUm93cz17JzNlbSAxZnInfVxuICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM9eyczZW0gMWZyJ31cbiAgICAgICAgICBoPScxMDB2aCcgdz1cIjEwMHZ3XCIgcG9zaXRpb249XCJmaXhlZFwiIGxlZnQ9XCIwJVwiIHRvcD1cIjAlXCJcbiAgICAgICAgICBjb2xvcj0nYmxhY2tBbHBoYS43MDAnXG4gICAgICAgICAgZm9udFdlaWdodD0nYm9sZCdcbiAgICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLkdyaWRJdGVtIGFyZWE9eyd0YWJzJ30gekluZGV4PXsxfT5cbiAgICAgICAgICAgIDxjLkZsZXggdz1cIjEwMCVcIiBoPVwiMTAwJVwiIGJnPXtnby52YWx1ZSA9PT0gSGVhZGVyID8gJ2RlZXBCZ0RhcmsnIDogJ2RlZXBCZyd9PlxuICAgICAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtIZWFkZXJ9PlxuICAgICAgICAgICAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgICAgICAgICAgICBsaW5rSWQ9e2RlZXAubGlua0lkfVxuICAgICAgICAgICAgICAgICAgaGFuZGxlcklkPXtIZWFkZXJ9XG4gICAgICAgICAgICAgICAgICB1c2luZ1xuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICAgICAgICA8L2MuRmxleD5cbiAgICAgICAgICA8L2MuR3JpZEl0ZW0+XG4gICAgICAgICAgPGMuR3JpZEl0ZW0gYXJlYT17J25hdid9IHpJbmRleD17MX0gcG9zaXRpb249XCJyZWxhdGl2ZVwiIGg9XCIxMDAlXCI+XG4gICAgICAgICAgICA8Yy5GbGV4IGRpcmVjdGlvbj0nY29sdW1uJyBoPScxMDAlJyBiZz17Z28udmFsdWUgPT09IE1lbnUgPyAnZGVlcEJnRGFyaycgOiAnZGVlcEJnJ30+XG4gICAgICAgICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e01lbnV9PlxuICAgICAgICAgICAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgICAgICAgICAgICBsaW5rSWQ9e2RlZXAubGlua0lkfVxuICAgICAgICAgICAgICAgICAgaGFuZGxlcklkPXtNZW51fVxuICAgICAgICAgICAgICAgICAgZmxleD0nMSdcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgICAgICA8Yy5WU3RhY2s+XG4gICAgICAgICAgICAgICAgPGMuQnV0dG9uIHc9JzNlbScgaD0nM2VtJyBhcz0nYScgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9e2BodHRwczovL2RlZXAtZm91bmRhdGlvbi5naXRodWIuaW8vcGVyY2VwdGlvbi1hcHA/cGF0aD1cImh0dHAke2RlZXAuY2xpZW50LnNzbCA/ICdzJyA6ICcnfTovLyR7ZGVlcC5jbGllbnQucGF0aH1cIiZ0b2tlbj0ke2RlZXAudG9rZW59YH0+PElvTWRCcm93c2VycyAvPjwvYy5CdXR0b24+XG4gICAgICAgICAgICAgICAgPGMuQnV0dG9uIHc9JzNlbScgaD0nM2VtJyBhcz0nYScgaHJlZj17YGh0dHA6Ly8ke2RlZXA/LmNsaWVudD8ucGF0aH1gfT48R3JHcmFwaFFsIC8+PC9jLkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8Q29sb3JNb2RlIHc9JzNlbScgaD0nM2VtJyBkYXJrPXt7IGNoaWxkcmVuOiA8U3VuSWNvbiAvPiB9fSBsaWdodD17eyBjaGlsZHJlbjogPE1vb25JY29uIC8+IH19IC8+XG4gICAgICAgICAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17UXVlcmllc30+XG4gICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdRdWVyaWVzJ119IGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gUXVlcmllc30+PFN0YXR1cyAvPjwvZ28uQ29tcG9uZW50PlxuICAgICAgICAgICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICAgICAgICAgICAgPEF1dGggLz5cbiAgICAgICAgICAgICAgPC9jLlZTdGFjaz5cbiAgICAgICAgICAgIDwvYy5GbGV4PlxuICAgICAgICAgIDwvYy5HcmlkSXRlbT5cbiAgICAgICAgICA8Yy5HcmlkSXRlbSBhcmVhPXsnbWFpbid9IG92ZXJmbG93PVwiaGlkZGVuXCIgcG9zaXRpb249XCJyZWxhdGl2ZVwiIGg9JzEwMCUnIGJnPXtnby52YWx1ZSA9PT0gTGF5ZXIgPyAnZGVlcEJnRGFyaycgOiAnZGVlcEJnJ30+XG4gICAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtMYXllcn0gdmFsdWU9e1RyZWV9PlxuICAgICAgICAgICAgICA8Z28uSGFuZGxlclxuICAgICAgICAgICAgICAgIGxpbmtJZD17ZGVlcC5saW5rSWR9XG4gICAgICAgICAgICAgICAgaGFuZGxlcklkPXtMYXllcn1cbiAgICAgICAgICAgICAgICB1c2luZyBmdWxsV2lkdGg9e2lzTW9iaWxlID8gJ2NhbGMoMTAwdncgLSAzZW0pJyA6IG51bGx9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgIDwvYy5HcmlkSXRlbT5cbiAgICAgICAgPC9jLkdyaWQ+XG4gICAgICA8L2MuQm94PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1186
      }
    },
    {
      "id": 1187,
      "type_id": 3,
      "from_id": 860,
      "to_id": 1186,
      "value": {
        "id": 386,
        "value": "generated",
        "link_id": 1187
      }
    },
    {
      "id": 1188,
      "type_id": 143,
      "from_id": 1186,
      "to_id": 860
    },
    {
      "id": 1189,
      "type_id": 3,
      "from_id": 860,
      "to_id": 1188
    },
    {
      "id": 861,
      "type_id": 35,
      "from_id": 145,
      "to_id": 860
    },
    {
      "id": 862,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 388,
        "value": "async ({ deep, data, Go, require }) => {\n  const { GrClear } = require(\"react-icons/gr\");\n  const React = require('react');\n  const c = require('@chakra-ui/react');\n  const _ = require('lodash');\n  const { useDebounceCallback } = require('@react-hook/debounce');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n  const dtsx = '@deep-foundation/tsx';\n\n  const TSX = deep.idLocal(dtsx, 'TSX');\n  const dockerSupportsJs = deep.idLocal(dc, 'dockerSupportsJs');\n  const Contain = deep.idLocal(dc, 'Contain');\n  const Handler = deep.idLocal(dc, 'Handler');\n  const containTree = deep.idLocal(dc, 'containTree');\n  const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n  const Compatable = deep.idLocal(dpl, 'Compatable');\n  const History = deep.idLocal(dpl, 'History');\n  const HistoryHandler = deep.idLocal(dpl, 'HistoryHandler');\n  const StackInsertButton = await deep.id(dpl, 'StackInsertButton');\n  const Menu = deep.idLocal(dpl, 'Menu');\n  const Header = deep.idLocal(dpl, 'Header');\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const FinderButton = deep.idLocal(dpl, 'FinderButton');\n  \n  const Item = ({ link, isActive, isConcentrated }) => {\n    const go = Go.useGo();\n    return <Go.Handler\n      handlerId={TreeLinkButton}\n      linkId={link.id}\n      isActive={isActive}\n      minW={isConcentrated === false ? '3em' : '8em'} h='100%' maxH='100%' variant='short'\n      isConcentrated={isConcentrated}\n    />;\n  };\n  \n  return ({\n    go,\n\n    using = false,\n  }, ref) => {\n    const { data: history } = deep.useSubscription({\n      type_id: History,\n      from_id: deep.linkId,\n      order_by: { id: 'desc' },\n      return: {\n        item: { relation: 'to' },\n      },\n    });\n\n    const { data: header } = deep.useSubscription({\n      type_id: Handler,\n      out: {\n        type_id: Compatable,\n        to_id: Header,\n      },\n      order_by: { id: 'desc' }\n    });\n\n    const [concentrate, setConcentrate] = React.useState('');\n    const concetrateDebounce = useDebounceCallback((concentrate) => {\n      go.root().do('concentrate', { value: concentrate });\n    }, 500);\n    React.useEffect(() => {\n      concetrateDebounce(concentrate);\n    }, [concentrate]);\n\n    const { data: items, ids } = React.useMemo(() => {\n      const _ids = [];\n      const filtered = _.uniqBy(history.map(h => h?.to), (l) => l?.id).filter(l => {\n        if (!!l?.id) _ids.push(l?.id);\n        return !!l?.id;\n      });\n      return { data: filtered, ids: _ids };\n    }, [history];\n\n    const nav = go.useNav();\n    nav(FinderButton, FinderButton, FinderButton, Stack, 'down');\n    nav(Stack, FinderButton, Stack, 'clear', 'down');\n    nav('clear', Stack, 'clear', 'clear', 'down');\n\n    const { data: founded, ids: concentrated, query: sQ } = deep.useSearch(concentrate, {\n      remote: false, sort: false,\n      query: { id: { _in: ids } },\n      skip: !concentrate,\n    });\n\n    React.useEffect(() => {\n      if (concentrate && founded?.[0] && go(Stack)(founded?.[0])) go(Stack)(founded?.[0]).scroll()\n    }, [concentrate, founded]);\n\n    return <go.On do={{\n      exec: (g,v,o) => o?.id || go.value == Stack || !go.value ? go.root().do('open', { id: o?.id || go(Stack).value, focus: true }) : go.do(go.value),\n      use: (g,v,o) => go(Stack) && go(Stack).do('use',o),\n      focus: (g,v,linkId,o) => {\n        !go.value && go.focus(Stack);\n        o?.id && go(Stack).focus(o?.id);\n      },\n      right: (g,v,o) => go.focus(nav.get(go.value || Stack, 'right')),\n      left: (g,v,o) => go.focus(nav.get(go.value || Stack, 'left')),\n\n      finder: (g,v,o) => go(FinderButton).do('exec'),\n      clear: (g,v,o) => deep.delete({\n        up: {\n          tree_id: containTree,\n          parent: {\n            type_id: Contain,\n            to: { type_id: { _in: [History, HistoryHandler] } },\n          },\n        },\n      }),\n    }}>\n      <c.Flex ref={ref} w='100%'>\n        <go.Provider linkId={FinderButton}>\n          <go.Handler handlerId={FinderButton} isActive={go.value === FinderButton}/>\n        </go.Provider>\n        <c.Box w='12em' h='100%' position='relative'>\n          <go.Editor value={concentrate} onChange={setConcentrate} fillSize lineNumbers={false}/>\n        </c.Box>\n        <go.Provider linkId={Stack}>\n          <go.Component path={[dpl, 'Stack']}\n            links={items} direction='horizontal' Item={Item} flex='1' using={using}\n            concentrated={!!concentrate && concentrated}\n            afterChildren={<go.Provider linkId={StackInsertButton} on={{ do: {\n              exec: async (g,v,o) => {\n              },\n            } }}>\n              <go.Handler handlerId={StackInsertButton} insertProps={{ customInsert: {\n                type_id: Handler,\n                from_id: dockerSupportsJs,\n                to: {\n                  type_id: TSX,\n                  string: go.componentTemplate({ children: `<c.Button variant={isActive ? 'active' : undefined} onClick={() => go.do('exec')}>?</c.Button>` }),\n                },\n                out: {\n                  type_id: Compatable,\n                  to_id: Header,\n                },\n              } }}/>\n            </go.Provider>}\n          />\n        </go.Provider>\n        {header.map(h => <>\n          <go.Provider linkId={h.id}>\n            <go.Handler handlerId={h.id}/>\n          </go.Provider>\n        </>)}\n        <c.Button\n          h='3em' w='3em' variant={go.value === 'clear' ? 'active' : undefined}\n          onClick={() => go.focus('clear').go.do('clear')}\n        ><GrClear/></c.Button>\n      </c.Flex>\n    </go.On>;\n  };\n}",
        "link_id": 862
      }
    },
    {
      "id": 1222,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 399,
        "value": "({ deep, data, require, Go }) => {\n    const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n    const { AiOutlineStop } = require(\"react-icons/ai\");\n    const { BsX, BsCheck2, BsXLg, BsDatabase, BsRegex } = require('react-icons/bs');\n    const { useResizeDetector } = require('react-resize-detector');\n    const { useDebounceCallback } = require('@react-hook/debounce');\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n    const History = deep.idLocal(dpl, 'History');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Search = deep.idLocal(dpl, 'Search');\n    const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n    const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const identifiy = (q) => {\n        let value;\n        const o = {};\n        if (q?._or) {\n            for (let i in q?._or) {\n                if (q?._or[i]?.string?.value?._ilike) {\n                    o.values = true;\n                    o.query = false;\n                    if (!value)\n                        value = q?._or[i]?.string?.value?._ilike.slice(1, -1);\n                }\n                if (q?._or[i]?.string?.value?._iregex) {\n                    o.values = true;\n                    o.query = false;\n                    o.regexp = true;\n                    if (!value)\n                        value = q?._or[i]?.string?.value?._iregex;\n                }\n                if (typeof (q?._or[i]?.number?.value) === 'number') {\n                    o.values = true;\n                    o.query = false;\n                    if (!value)\n                        value = q?._or[i]?.number?.value;\n                }\n                if (q?._or[i]?.in?.type_id === Contain) {\n                    if (q?._or[i]?.in?.string?.value?._iregex) {\n                        o.query = false;\n                        o.regexp = true;\n                        if (!value)\n                            value = q?._or[i]?.in?.string?.value?._iregex;\n                    }\n                    if (q?._or[i]?.in?.string?.value?._ilike) {\n                        o.query = false;\n                        if (!value)\n                            value = q?._or[i]?.in?.string?.value?._ilike.slice(1, -1);\n                    }\n                }\n                if (q?._not?.type_id === Contain)\n                    o.contains = false;\n                else if (q?.type_id === Contain)\n                    o.contains = true;\n            }\n        }\n        console.log('identified', q, o, value);\n        return { options: o, value };\n    };\n    return ({ go, linkId, isActive, oneline = false, saveHistory = false, finder = false, query: _query, search: _search, options: _options = {\n        db: false,\n        regexp: false,\n        query: false,\n        values: false,\n        contains: false,\n    }, onChange, onSearch, childrenSearchRight = null, children, }, ref) => {\n        if (!linkId)\n            throw new Error(`linkId must be Query instance id but ${linkId}`);\n        const nav = go.useNav();\n        if (finder)\n            nav('finder', 'left', 'up', 'current', 'db');\n        nav('current', finder ? 'finder' : 'db', 'up', 'search', 'db');\n        nav('search', 'current', 'up', 'contains', 'contains');\n        nav('db', 'current', 'current', 'regexp', 'down');\n        nav('regexp', 'db', 'current', 'query', 'down');\n        nav('query', 'regexp', 'current', 'values', 'down');\n        nav('values', 'query', 'current', 'contains', 'down');\n        nav('contains', 'values', 'search', 'right', 'down');\n        const options = { ...({ db: false, regexp: false, query: false, values: false, contains: false, }), ..._options };\n        const _q = React.useMemo(() => deep.get(linkId)?.value?.value || _query, []);\n        if (_q)\n            options.query = true;\n        const [toRequest, setToRequest] = React.useState();\n        const identified = React.useMemo(() => {\n            return identifiy(deep.get(linkId)?.value?.value || {});\n        }, []);\n        const [value, setValue] = React.useState(typeof (identified?.value) === 'string' ? identified?.value : (_q ? JSON.stringify(_q) : _search));\n        const [o, setOptions] = React.useState({ ...options, ...identified.options });\n        const optionsRef = React.useRef(o);\n        React.useMemo(() => {\n            if (!optionsRef.current.query && !!o.query) {\n                setValue(JSON.stringify(deep.searchQuery(value, { ...o, query: undefined }), null, 2));\n            }\n            else if (!!optionsRef.current.query && !o.query) {\n                const identified = identifiy(toRequest);\n                setOptions(identified?.options);\n                setValue(identified?.value);\n            }\n        }, [o.query]);\n        optionsRef.current = o;\n        const [results, setResults] = React.useState([]);\n        const request = React.useCallback(async (value) => {\n            const o = optionsRef.current;\n            let cq;\n            console.log('onRequest', { _q, o, identified });\n            if (!o.query) {\n                cq = deep.searchQuery(value, { ...o, query: undefined });\n            }\n            else\n                try {\n                    cq = JSON.parse(value);\n                }\n                catch (error) {\n                    return console.error(error);\n                }\n            console.log('onRequest', cq);\n            if (saveHistory && typeof (linkId) === 'number')\n                deep.value(linkId, cq);\n            setToRequest(cq);\n        }, []);\n        React.useEffect(() => {\n            if (!!value)\n                request(value);\n        }, []);\n        React.useMemo(() => {\n            (async () => {\n                const o = optionsRef.current;\n                if (!toRequest)\n                    return;\n                if (onSearch && value) {\n                    let results;\n                    try {\n                        results = await deep.search(value, { ...o, remote: o.db, query: undefined, apply: `deep-perception-search-${go.__p}` });\n                    }\n                    catch (error) {\n                        results = { error };\n                    }\n                    console.log('onSearch', toRequest, results, o);\n                    onSearch({ ...results, query: toRequest, search: !o.query ? value : null, options: o });\n                }\n            })();\n        }, [toRequest]);\n        return React.createElement(go.On, { do: {\n                focus: () => go.set('current'),\n                left: () => go.focus(nav.get(go.value, 'left')),\n                right: () => go.focus(nav.get(go.value, 'right')),\n                up: () => go.focus(nav.get(go.value, 'up')),\n                down: () => go.focus(nav.get(go.value, 'down')),\n                finder: () => setOptions({ ...o, finder: !o.finder }),\n                search: () => request(value),\n                current: () => setOptions({ ...o, current: !o.current }),\n                db: () => setOptions({ ...o, db: !o.db }),\n                regexp: () => setOptions({ ...o, regexp: !o.regexp }),\n                query: () => setOptions({ ...o, query: !o.query }),\n                values: () => setOptions({ ...o, values: !o.values }),\n                contains: () => setOptions({ ...o, contains: !o.contains }),\n            }, focus: {\n                up: (q, v, o) => go.set().go?.go?.do('up'),\n                down: (q, v, o) => go.set().go?.go?.do('down'),\n                left: (q, v, o) => go.set(o?.left).go?.go?.do('left'),\n                right: (q, v, o) => go.set(o?.right).go?.go?.do('right'),\n            } },\n            React.createElement(c.Box, { ref: ref, position: 'relative', w: '100%', bg: isActive ? 'deepBgDark' : undefined },\n                React.createElement(c.SimpleGrid, { columns: oneline ? 2 : 1, w: oneline ? finder ? '28em' : '25em' : undefined },\n                    React.createElement(c.Flex, null,\n                        !!finder && React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', variant: go.value === 'finder' ? 'active' : undefined, onClick: () => go.do('finder') }, \"\\uD83E\\uDEAC\"),\n                        React.createElement(c.Box, { flex: 1, h: '3em' }, [React.createElement(go.Editor, { key: o.query, fillSize: true, value: value, onChange: value => {\n                                    setValue(value);\n                                    onChange && onChange(value);\n                                }, onSave: value => go.do('search'), basicSetup: {\n                                    lineNumbers: false\n                                }, saveButton: false })]),\n                        React.createElement(c.Flex, null,\n                            React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', variant: go.value === 'search' ? 'active' : undefined, onClick: () => go.do('search') }, \"\\uD83D\\uDD0E\"),\n                            childrenSearchRight)),\n                    React.createElement(c.Flex, null,\n                        React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', position: 'relative', onClick: () => go.do('db'), variant: go.value === 'db' ? 'active' : undefined },\n                            React.createElement(BsDatabase, null),\n                            !o.db && React.createElement(c.Center, { position: 'absolute', top: '0', left: '0', right: '0', bottom: '0', fontSize: '2em' },\n                                React.createElement(AiOutlineStop, null))),\n                        React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', position: 'relative', onClick: () => go.do('regexp'), variant: go.value === 'regexp' ? 'active' : undefined },\n                            React.createElement(BsRegex, null),\n                            !o.regexp && React.createElement(c.Center, { position: 'absolute', top: '0', left: '0', right: '0', bottom: '0', fontSize: '2em' },\n                                React.createElement(AiOutlineStop, null))),\n                        React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', position: 'relative', onClick: () => go.do('query'), variant: go.value === 'query' ? 'active' : undefined },\n                            `{q}`,\n                            !o.query && React.createElement(c.Center, { position: 'absolute', top: '0', left: '0', right: '0', bottom: '0', fontSize: '2em' },\n                                React.createElement(AiOutlineStop, null))),\n                        React.createElement(c.Spacer, null),\n                        React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', position: 'relative', onClick: () => go.do('values'), variant: go.value === 'values' ? 'active' : undefined },\n                            \"\\\"v\\\"\",\n                            !o.values && React.createElement(c.Center, { position: 'absolute', top: '0', left: '0', right: '0', bottom: '0', fontSize: '2em' },\n                                React.createElement(AiOutlineStop, null))),\n                        React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', position: 'relative', onClick: () => go.do('contains'), variant: go.value === 'contains' ? 'active' : undefined },\n                            \"\\uD83D\\uDDC2\\uFE0F\",\n                            !o.contains && React.createElement(c.Center, { position: 'absolute', top: '0', left: '0', right: '0', bottom: '0', fontSize: '2em' },\n                                React.createElement(AiOutlineStop, null)))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEVBQUUsYUFBYSxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDcEQsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNoRixNQUFNLEVBQUUsaUJBQWlCLEVBQUUsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUMvRCxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUVoRSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFFbkMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNqRSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMzQyxNQUFNLE1BQU0sR0FBRyxJQUFJ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QUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FBRyxRQUFRLEVBQUUsQ0FBQztRQUNsSCxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssSUFBSSxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDN0UsSUFBSSxFQUFFO1lBQUUsT0FBTyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFFN0IsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFFbkQsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7WUFDcEMsT0FBTyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3pELENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVQLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUFNLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFFM0ksTUFBTSxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBRyxPQUFPLEVBQUUsR0FBRyxVQUFVLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUU5RSxNQUFNLFVBQVUsR0FB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LENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUMzQyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQy9DLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFDLENBQUM7Z0JBQ3BELE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO2dCQUM1QixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBQyxDQUFDO2dCQUN2RCxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBQyxDQUFDO2dCQUN4QyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBQyxDQUFDO2dCQUNwRCxLQUFLLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBQyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBQyxDQUFDO2dCQUNwRCxRQUFRLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsUUFBUSxF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T0FBRTs0QkFDVCxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxRQUFRLEVBQUMsVUFBVSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLEtBQUs7Z0NBQUMsb0JBQUMsYUFBYSxPQUFFLENBQVcsQ0FDbkg7d0JBQ1gsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDUCxDQUFDLEVBQUMsS0FBSyxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxRQUFRLEVBQUMsVUFBVSxFQUM5QyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUzs0QkFFbkYsS0FBSzs0QkFDTCxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxRQUFRLEVBQUMsVUFBVSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLEtBQUs7Z0NBQUMsb0JBQUMsYUFBYSxPQUFFLENBQVcsQ0FDbEg7d0JBQ1gsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sT0FBRTt3QkFDWCxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLENBQUMsRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxVQUFVLEVBQzlDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBRSxFQUFFLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTOzs0QkFHckYsQ0FBQyxDQUFDLENBQUMsTUFBTSxJQUFJLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLEdBQUcsRUFBQyxNQUFNLEVBQUMsR0FBRyxFQUFDLFFBQVEsRUFBQyxLQUFLO2dDQUFDLG9CQUFDLGFBQWEsT0FBRSxDQUFXLENBQ25IO3dCQUNYLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLFVBQVUsRUFDOUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVM7OzRCQUd6RixDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxRQUFRLEVBQUMsVUFBVSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLEtBQUs7Z0NBQUMsb0JBQUMsYUFBYSxPQUFFLENBQVcsQ0FDckgsQ0FDSixDQUNJLENBQ1QsQ0FDRixDQUFBO0lBQ1YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCB7IE1kRWRpdCwgTWRQcmV2aWV3LCBNZFNhdmVBbHQgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9tZFwiKTtcbiAgY29uc3QgeyBBaU91dGxpbmVTdG9wIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvYWlcIik7XG4gIGNvbnN0IHsgQnNYLCBCc0NoZWNrMiwgQnNYTGcsIEJzRGF0YWJhc2UsIEJzUmVnZXggfSA9IHJlcXVpcmUoJ3JlYWN0LWljb25zL2JzJyk7XG4gIGNvbnN0IHsgdXNlUmVzaXplRGV0ZWN0b3IgfSA9IHJlcXVpcmUoJ3JlYWN0LXJlc2l6ZS1kZXRlY3RvcicpO1xuICBjb25zdCB7IHVzZURlYm91bmNlQ2FsbGJhY2sgfSA9IHJlcXVpcmUoJ0ByZWFjdC1ob29rL2RlYm91bmNlJyk7XG5cbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICBjb25zdCBDb250YWluID0gZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnQ29udGFpbicpO1xuICBjb25zdCBIaXN0b3J5ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hpc3RvcnknKTtcbiAgY29uc3QgSGVhZGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hlYWRlcicpO1xuICBjb25zdCBTZWFyY2ggPSBkZWVwLmlkTG9jYWwoZHBsLCAnU2VhcmNoJyk7XG4gIGNvbnN0IFRyZWVRdWVyeSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlUXVlcnknKTtcbiAgY29uc3QgVHJlZUxpbmsgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmsnKTtcbiAgY29uc3QgVHJlZUxpbmtJbnNlcnQgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtJbnNlcnQnKTtcbiAgY29uc3QgVHJlZUxpbmtEZWxldGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtEZWxldGUnKTtcbiAgY29uc3QgVHJlZUxpbmtCdXR0b24gPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtCdXR0b24nKTtcblxuICBjb25zdCBpZGVudGlmaXkgPSAocSkgPT4ge1xuICAgIGxldCB2YWx1ZTtcbiAgICBjb25zdCBvID0ge307XG4gICAgaWYgKHE/Ll9vcikge1xuICAgICAgZm9yIChsZXQgaSBpbiBxPy5fb3IpIHtcbiAgICAgICAgaWYgKHE/Ll9vcltpXT8uc3RyaW5nPy52YWx1ZT8uX2lsaWtlKSB7XG4gICAgICAgICAgby52YWx1ZXMgPSB0cnVlO1xuICAgICAgICAgIG8ucXVlcnkgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB2YWx1ZSA9IHE/Ll9vcltpXT8uc3RyaW5nPy52YWx1ZT8uX2lsaWtlLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocT8uX29yW2ldPy5zdHJpbmc/LnZhbHVlPy5faXJlZ2V4KSB7XG4gICAgICAgICAgby52YWx1ZXMgPSB0cnVlO1xuICAgICAgICAgIG8ucXVlcnkgPSBmYWxzZTtcbiAgICAgICAgICBvLnJlZ2V4cCA9IHRydWU7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkgdmFsdWUgPSBxPy5fb3JbaV0/LnN0cmluZz8udmFsdWU/Ll9pcmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZihxPy5fb3JbaV0/Lm51bWJlcj8udmFsdWUpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIG8udmFsdWVzID0gdHJ1ZTtcbiAgICAgICAgICBvLnF1ZXJ5ID0gZmFsc2U7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkgdmFsdWUgPSBxPy5fb3JbaV0/Lm51bWJlcj8udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHE/Ll9vcltpXT8uaW4/LnR5cGVfaWQgPT09IENvbnRhaW4pIHtcbiAgICAgICAgICBpZiAocT8uX29yW2ldPy5pbj8uc3RyaW5nPy52YWx1ZT8uX2lyZWdleCkge1xuICAgICAgICAgICAgby5xdWVyeSA9IGZhbHNlO1xuICAgICAgICAgICAgby5yZWdleHAgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkgdmFsdWUgPSBxPy5fb3JbaV0/LmluPy5zdHJpbmc/LnZhbHVlPy5faXJlZ2V4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocT8uX29yW2ldPy5pbj8uc3RyaW5nPy52YWx1ZT8uX2lsaWtlKSB7XG4gICAgICAgICAgICBvLnF1ZXJ5ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB2YWx1ZSA9IHE/Ll9vcltpXT8uaW4/LnN0cmluZz8udmFsdWU/Ll9pbGlrZS5zbGljZSgxLC0xKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHE/Ll9ub3Q/LnR5cGVfaWQgPT09IENvbnRhaW4pIG8uY29udGFpbnMgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAocT8udHlwZV9pZCA9PT0gQ29udGFpbikgby5jb250YWlucyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdpZGVudGlmaWVkJywgcSwgbywgdmFsdWUpO1xuICAgIHJldHVybiB7IG9wdGlvbnM6IG8sIHZhbHVlIH07XG4gIH07XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgbGlua0lkLFxuXG4gICAgaXNBY3RpdmUsXG4gICAgb25lbGluZSA9IGZhbHNlLFxuICAgIHNhdmVIaXN0b3J5ID0gZmFsc2UsXG4gICAgZmluZGVyID0gZmFsc2UsXG5cbiAgICBxdWVyeTogX3F1ZXJ5LFxuICAgIHNlYXJjaDogX3NlYXJjaCxcblxuICAgIG9wdGlvbnM6IF9vcHRpb25zID0ge1xuICAgICAgZGI6IGZhbHNlLFxuICAgICAgcmVnZXhwOiBmYWxzZSxcbiAgICAgIHF1ZXJ5OiBmYWxzZSxcbiAgICAgIHZhbHVlczogZmFsc2UsXG4gICAgICBjb250YWluczogZmFsc2UsXG4gICAgfSxcblxuICAgIG9uQ2hhbmdlLFxuICAgIG9uU2VhcmNoLFxuXG4gICAgY2hpbGRyZW5TZWFyY2hSaWdodCA9IG51bGwsXG5cbiAgICBjaGlsZHJlbixcbiAgfSwgcmVmKSA9PiB7XG4gICAgaWYgKCFsaW5rSWQpIHRocm93IG5ldyBFcnJvcihgbGlua0lkIG11c3QgYmUgUXVlcnkgaW5zdGFuY2UgaWQgYnV0ICR7bGlua0lkfWApO1xuXG4gICAgY29uc3QgbmF2ID0gZ28udXNlTmF2KCk7XG4gICAgaWYgKGZpbmRlcikgbmF2KCdmaW5kZXInLCAnbGVmdCcsICd1cCcsICdjdXJyZW50JywgJ2RiJyk7XG4gICAgbmF2KCdjdXJyZW50JywgZmluZGVyID8gJ2ZpbmRlcicgOiAnZGInLCAndXAnLCAnc2VhcmNoJywgJ2RiJyk7XG4gICAgbmF2KCdzZWFyY2gnLCAnY3VycmVudCcsICd1cCcsICdjb250YWlucycsICdjb250YWlucycpO1xuICAgIG5hdignZGInLCAnY3VycmVudCcsICdjdXJyZW50JywgJ3JlZ2V4cCcsICdkb3duJyk7XG4gICAgbmF2KCdyZWdleHAnLCAnZGInLCAnY3VycmVudCcsICdxdWVyeScsICdkb3duJyk7XG4gICAgbmF2KCdxdWVyeScsICdyZWdleHAnLCAnY3VycmVudCcsICd2YWx1ZXMnLCAnZG93bicpO1xuICAgIG5hdigndmFsdWVzJywgJ3F1ZXJ5JywgJ2N1cnJlbnQnLCAnY29udGFpbnMnLCAnZG93bicpO1xuICAgIG5hdignY29udGFpbnMnLCAndmFsdWVzJywgJ3NlYXJjaCcsICdyaWdodCcsICdkb3duJyk7XG5cbiAgICBjb25zdCBvcHRpb25zID0geyAuLi4oeyBkYjogZmFsc2UsIHJlZ2V4cDogZmFsc2UsIHF1ZXJ5OiBmYWxzZSwgdmFsdWVzOiBmYWxzZSwgY29udGFpbnM6IGZhbHNlLCB9KSwgLi4uX29wdGlvbnMgfTtcbiAgICBjb25zdCBfcSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gZGVlcC5nZXQobGlua0lkKT8udmFsdWU/LnZhbHVlIHx8IF9xdWVyeSwgW10pO1xuICAgIGlmIChfcSkgb3B0aW9ucy5xdWVyeSA9IHRydWU7XG5cbiAgICBjb25zdCBbdG9SZXF1ZXN0LCBzZXRUb1JlcXVlc3RdID0gUmVhY3QudXNlU3RhdGUoKTtcblxuICAgIGNvbnN0IGlkZW50aWZpZWQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIHJldHVybiBpZGVudGlmaXkoZGVlcC5nZXQobGlua0lkKT8udmFsdWU/LnZhbHVlIHx8IHt9KTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlKHR5cGVvZihpZGVudGlmaWVkPy52YWx1ZSkgPT09ICdzdHJpbmcnID8gaWRlbnRpZmllZD8udmFsdWUgOiAoX3EgPyBKU09OLnN0cmluZ2lmeShfcSkgOiBfc2VhcmNoKSk7XG5cbiAgICBjb25zdCBbbywgc2V0T3B0aW9uc10gPSBSZWFjdC51c2VTdGF0ZSh7IC4uLm9wdGlvbnMsIC4uLmlkZW50aWZpZWQub3B0aW9ucyB9KTtcblxuICAgIGNvbnN0IG9wdGlvbnNSZWYgPSBSZWFjdC51c2VSZWYobyk7XG4gICAgUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBpZiAoIW9wdGlvbnNSZWYuY3VycmVudC5xdWVyeSAmJiAhIW8ucXVlcnkpIHtcbiAgICAgICAgc2V0VmFsdWUoSlNPTi5zdHJpbmdpZnkoZGVlcC5zZWFyY2hRdWVyeSh2YWx1ZSwgeyAuLi5vLCBxdWVyeTogdW5kZWZpbmVkIH0pLCBudWxsLCAyKSk7XG4gICAgICB9IGVsc2UgaWYgKCEhb3B0aW9uc1JlZi5jdXJyZW50LnF1ZXJ5ICYmICFvLnF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IGlkZW50aWZpZWQgPSBpZGVudGlmaXkodG9SZXF1ZXN0KTtcbiAgICAgICAgc2V0T3B0aW9ucyhpZGVudGlmaWVkPy5vcHRpb25zKTtcbiAgICAgICAgc2V0VmFsdWUoaWRlbnRpZmllZD8udmFsdWUpO1xuICAgICAgfVxuICAgIH0sIFtvLnF1ZXJ5XSk7XG4gICAgb3B0aW9uc1JlZi5jdXJyZW50ID0gbztcbiAgICBjb25zdCBbcmVzdWx0cywgc2V0UmVzdWx0c10gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG5cblxuICAgIGNvbnN0IHJlcXVlc3QgPSBSZWFjdC51c2VDYWxsYmFjayhhc3luYyAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IG8gPSBvcHRpb25zUmVmLmN1cnJlbnQ7XG4gICAgICBsZXQgY3E7XG4gICAgICBjb25zb2xlLmxvZygnb25SZXF1ZXN0JywgeyBfcSwgbywgaWRlbnRpZmllZCB9KTtcbiAgICAgIGlmICghby5xdWVyeSkge1xuICAgICAgICBjcSA9IGRlZXAuc2VhcmNoUXVlcnkodmFsdWUsIHsgLi4ubywgcXVlcnk6IHVuZGVmaW5lZCB9KTtcbiAgICAgIH0gZWxzZSB0cnkgeyBjcSA9IEpTT04ucGFyc2UodmFsdWUpOyB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCdvblJlcXVlc3QnLCBjcSk7XG4gICAgICBpZiAoc2F2ZUhpc3RvcnkgJiYgdHlwZW9mKGxpbmtJZCkgPT09ICdudW1iZXInKSBkZWVwLnZhbHVlKGxpbmtJZCwgY3EpO1xuICAgICAgc2V0VG9SZXF1ZXN0KGNxKTtcbiAgICB9LCBbXSk7XG5cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKCEhdmFsdWUpIHJlcXVlc3QodmFsdWUpO1xuICAgIH0sIFtdKTtcblxuICAgIFJlYWN0LnVzZU1lbW8oKCkgPT4geyAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbyA9IG9wdGlvbnNSZWYuY3VycmVudDtcbiAgICAgIGlmICghdG9SZXF1ZXN0KSByZXR1cm47XG4gICAgICBpZiAob25TZWFyY2ggJiYgdmFsdWUpIHtcbiAgICAgICAgbGV0IHJlc3VsdHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzdWx0cyA9IGF3YWl0IGRlZXAuc2VhcmNoKHZhbHVlLCB7IC4uLm8sIHJlbW90ZTogby5kYiwgcXVlcnk6IHVuZGVmaW5lZCwgYXBwbHk6IGBkZWVwLXBlcmNlcHRpb24tc2VhcmNoLSR7Z28uX19wfWAgfSk7XG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICByZXN1bHRzID0geyBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKCdvblNlYXJjaCcsIHRvUmVxdWVzdCwgcmVzdWx0cywgbyk7XG4gICAgICAgIG9uU2VhcmNoKHsgLi4ucmVzdWx0cywgcXVlcnk6IHRvUmVxdWVzdCwgc2VhcmNoOiAhby5xdWVyeSA/IHZhbHVlIDogbnVsbCwgb3B0aW9uczogbyB9KTtcbiAgICAgIH1cbiAgICB9KSgpOyB9LCBbdG9SZXF1ZXN0XSk7XG5cbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgICBmb2N1czogKCkgPT4gZ28uc2V0KCdjdXJyZW50JyksXG4gICAgICAgIGxlZnQ6ICgpID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICdsZWZ0JykpLFxuICAgICAgICByaWdodDogKCkgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSwgJ3JpZ2h0JykpLFxuICAgICAgICB1cDogKCkgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSwgJ3VwJykpLFxuICAgICAgICBkb3duOiAoKSA9PiBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlLCAnZG93bicpKSxcbiAgICAgICAgZmluZGVyOiAoKSA9PiBzZXRPcHRpb25zKHsgLi4ubywgZmluZGVyOiAhby5maW5kZXJ9KSxcbiAgICAgICAgc2VhcmNoOiAoKSA9PiByZXF1ZXN0KHZhbHVlKSxcbiAgICAgICAgY3VycmVudDogKCkgPT4gc2V0T3B0aW9ucyh7IC4uLm8sIGN1cnJlbnQ6ICFvLmN1cnJlbnR9KSxcbiAgICAgICAgZGI6ICgpID0+IHNldE9wdGlvbnMoeyAuLi5vLCBkYjogIW8uZGJ9KSxcbiAgICAgICAgcmVnZXhwOiAoKSA9PiBzZXRPcHRpb25zKHsgLi4ubywgcmVnZXhwOiAhby5yZWdleHB9KSxcbiAgICAgICAgcXVlcnk6ICgpID0+IHNldE9wdGlvbnMoeyAuLi5vLCBxdWVyeTogIW8ucXVlcnl9KSxcbiAgICAgICAgdmFsdWVzOiAoKSA9PiBzZXRPcHRpb25zKHsgLi4ubywgdmFsdWVzOiAhby52YWx1ZXN9KSxcbiAgICAgICAgY29udGFpbnM6ICgpID0+IHNldE9wdGlvbnMoeyAuLi5vLCBjb250YWluczogIW8uY29udGFpbnN9KSxcbiAgICAgIH19XG4gICAgICBmb2N1cz17e1xuICAgICAgICB1cDogKHEsdixvKSA9PiBnby5zZXQoKS5nbz8uZ28/LmRvKCd1cCcpLFxuICAgICAgICBkb3duOiAocSx2LG8pID0+IGdvLnNldCgpLmdvPy5nbz8uZG8oJ2Rvd24nKSxcbiAgICAgICAgbGVmdDogKHEsdixvKSA9PiBnby5zZXQobz8ubGVmdCkuZ28/LmdvPy5kbygnbGVmdCcpLFxuICAgICAgICByaWdodDogKHEsdixvKSA9PiBnby5zZXQobz8ucmlnaHQpLmdvPy5nbz8uZG8oJ3JpZ2h0JyksXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLkJveCByZWY9e3JlZn0gcG9zaXRpb249J3JlbGF0aXZlJyB3PScxMDAlJyBiZz17aXNBY3RpdmUgPyAnZGVlcEJnRGFyaycgOiB1bmRlZmluZWR9PlxuICAgICAgICA8Yy5TaW1wbGVHcmlkIGNvbHVtbnM9e29uZWxpbmUgPyAyIDogMX0gdz17b25lbGluZSA/IGZpbmRlciA/ICcyOGVtJyA6ICcyNWVtJyA6IHVuZGVmaW5lZH0+XG4gICAgICAgICAgPGMuRmxleD5cbiAgICAgICAgICAgIHshIWZpbmRlciAmJiA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgdmFyaWFudD17Z28udmFsdWUgPT09ICdmaW5kZXInID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdmaW5kZXInKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg8J+qrFxuICAgICAgICAgICAgPC9jLkJ1dHRvbj59XG4gICAgICAgICAgICA8Yy5Cb3ggZmxleD17MX0gaD0nM2VtJz5cbiAgICAgICAgICAgICAge1s8Z28uRWRpdG9yXG4gICAgICAgICAgICAgICAga2V5PXtvLnF1ZXJ5fVxuICAgICAgICAgICAgICAgIGZpbGxTaXplXG4gICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZSAmJiBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvblNhdmU9e3ZhbHVlID0+IGdvLmRvKCdzZWFyY2gnKX1cbiAgICAgICAgICAgICAgICBiYXNpY1NldHVwPXt7XG4gICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyczogZmFsc2VcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHNhdmVCdXR0b249e2ZhbHNlfVxuICAgICAgICAgICAgICAvPl19XG4gICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgPGMuRmxleD5cbiAgICAgICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgdmFyaWFudD17Z28udmFsdWUgPT09ICdzZWFyY2gnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZG8oJ3NlYXJjaCcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg8J+UjlxuICAgICAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICAgICAgICB7Y2hpbGRyZW5TZWFyY2hSaWdodH1cbiAgICAgICAgICAgIDwvYy5GbGV4PlxuICAgICAgICAgIDwvYy5GbGV4PlxuICAgICAgICAgIDxjLkZsZXg+XG4gICAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgcG9zaXRpb249J3JlbGF0aXZlJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnZGInKX0gdmFyaWFudD17Z28udmFsdWUgPT09ICdkYicgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEJzRGF0YWJhc2UvPlxuICAgICAgICAgICAgICB7IW8uZGIgJiYgPGMuQ2VudGVyIHBvc2l0aW9uPSdhYnNvbHV0ZScgdG9wPScwJyBsZWZ0PScwJyByaWdodD0nMCcgYm90dG9tPScwJyBmb250U2l6ZT0nMmVtJz48QWlPdXRsaW5lU3RvcC8+PC9jLkNlbnRlcj59XG4gICAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICAgIGg9JzNlbScgbWF4Vz0nM2VtJyB3PSczZW0nIHBvc2l0aW9uPSdyZWxhdGl2ZSdcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZG8oJ3JlZ2V4cCcpfSAgdmFyaWFudD17Z28udmFsdWUgPT09ICdyZWdleHAnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxCc1JlZ2V4Lz5cbiAgICAgICAgICAgICAgeyFvLnJlZ2V4cCAmJiA8Yy5DZW50ZXIgcG9zaXRpb249J2Fic29sdXRlJyB0b3A9JzAnIGxlZnQ9JzAnIHJpZ2h0PScwJyBib3R0b209JzAnIGZvbnRTaXplPScyZW0nPjxBaU91dGxpbmVTdG9wLz48L2MuQ2VudGVyPn1cbiAgICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgcG9zaXRpb249J3JlbGF0aXZlJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAgZ28uZG8oJ3F1ZXJ5Jyl9IHZhcmlhbnQ9e2dvLnZhbHVlID09PSAncXVlcnknID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtge3F9YH1cbiAgICAgICAgICAgICAgeyFvLnF1ZXJ5ICYmIDxjLkNlbnRlciBwb3NpdGlvbj0nYWJzb2x1dGUnIHRvcD0nMCcgbGVmdD0nMCcgcmlnaHQ9JzAnIGJvdHRvbT0nMCcgZm9udFNpemU9JzJlbSc+PEFpT3V0bGluZVN0b3AvPjwvYy5DZW50ZXI+fVxuICAgICAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgICAgIDxjLlNwYWNlci8+XG4gICAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgcG9zaXRpb249J3JlbGF0aXZlJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAgZ28uZG8oJ3ZhbHVlcycpfSB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3ZhbHVlcycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgXCJ2XCJcbiAgICAgICAgICAgICAgeyFvLnZhbHVlcyAmJiA8Yy5DZW50ZXIgcG9zaXRpb249J2Fic29sdXRlJyB0b3A9JzAnIGxlZnQ9JzAnIHJpZ2h0PScwJyBib3R0b209JzAnIGZvbnRTaXplPScyZW0nPjxBaU91dGxpbmVTdG9wLz48L2MuQ2VudGVyPn1cbiAgICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgcG9zaXRpb249J3JlbGF0aXZlJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAgZ28uZG8oJ2NvbnRhaW5zJyl9IHZhcmlhbnQ9e2dvLnZhbHVlID09PSAnY29udGFpbnMnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIPCfl4LvuI9cbiAgICAgICAgICAgICAgeyFvLmNvbnRhaW5zICYmIDxjLkNlbnRlciBwb3NpdGlvbj0nYWJzb2x1dGUnIHRvcD0nMCcgbGVmdD0nMCcgcmlnaHQ9JzAnIGJvdHRvbT0nMCcgZm9udFNpemU9JzJlbSc+PEFpT3V0bGluZVN0b3AvPjwvYy5DZW50ZXI+fVxuICAgICAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgICA8L2MuRmxleD5cbiAgICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICA8L2MuQm94PlxuICAgIDwvZ28uT24+XG4gIH07XG59XG4iXX0=",
        "link_id": 1222
      }
    },
    {
      "id": 1223,
      "type_id": 3,
      "from_id": 873,
      "to_id": 1222,
      "value": {
        "id": 398,
        "value": "generated",
        "link_id": 1223
      }
    },
    {
      "id": 1224,
      "type_id": 143,
      "from_id": 1222,
      "to_id": 873
    },
    {
      "id": 1225,
      "type_id": 3,
      "from_id": 873,
      "to_id": 1224
    },
    {
      "id": 874,
      "type_id": 35,
      "from_id": 145,
      "to_id": 873
    },
    {
      "id": 875,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 400,
        "value": "({ deep, data, require, Go }) => {\n  const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n  const React = require('react');\n\n  const {\n    TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon,\n    useSymbol,\n  } = require('@deep-foundation/perception-app');\n\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n  \n  const Query = deep.idLocal(dc, 'Query');\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const History = deep.idLocal(dpl, 'History');\n  const Header = deep.idLocal(dpl, 'Header');\n  const Search = deep.idLocal(dpl, 'Search');\n  const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n  const Tree = deep.idLocal(dpl, 'Tree');\n  const TreeList = deep.idLocal(dpl, 'TreeList');\n  const TreeLink = deep.idLocal(dpl, 'TreeLink');\n  const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n  const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n  const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n\n  return ({\n    go,\n\n    isActive,\n    fullWidth = null,\n\n    saveHistory = false,\n\n    initialResults,\n    ...props\n  }, ref) => {\n    const [links, setLinks] = React.useState(initialResults || []);\n    const firstRef = React.useRef(false);\n    \n    const nav = go.useNav();\n    nav(Search, 'left', 'up', 'right', Stack);\n    nav(Stack, 'left', Search, 'right', 'down');\n\n    return <go.On do={{\n      exec: (g,v,o) => o?.id && go.parent(Tree).do('open', { handlerId: TreeLink, id: o.id, prevId: go.linkId, focus: true }),\n      close: (g,v,o) => go.parent(Tree).do('close', { id: go.linkId }),\n\n      left: (g,v,o) => go.focus(nav.get(go.value || Search, 'left'), { prev: go.value }),\n      up: (g,v,o) => go.focus(nav.get(go.value || Search, 'up'), { prev: go.value }),\n      right: (g,v,o) => go.focus(nav.get(go.value || Search, 'right'), { prev: go.value }),\n      down: (g,v,o) => go.focus(nav.get(go.value || Search, 'down'), { prev: go.value }),\n    }}>\n      <c.Flex direction='column' minW={fullWidth || '30em'} maxW={fullWidth || '30em'} h='100%' maxH='100%' {...props}>\n        <go.Provider linkId={Search}>\n          <go.Handler linkId={go.linkId} handlerId={Search}\n            saveHistory={saveHistory}\n            onSearch={(results) => {\n              if (!initialResults || !!firstRef.current) {\n                console.log('onSearch', results);\n                let links = results.data || [];\n                setLinks(links);\n              }\n              firstRef.current = true;\n            }}\n            childrenSearchRight={<c.Button\n              minW='3e,' w='3em' h='100%' minH='3em' p='0'\n              onClick={() => go.focus('close').go.do('close')}\n              variant={go.value === 'close' ? 'active' : null}\n            >x</c.Button>}\n          />\n        </go.Provider>\n        <go.Provider linkId={Stack}>\n          <go.Handler handlerId={Stack} direction='vertical' links={links} flex='1' saveHistory={saveHistory}/>\n        </go.Provider>\n      </c.Flex>\n    </go.On>\n  };\n}\n",
        "link_id": 875
      }
    },
    {
      "id": 1285,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 420,
        "value": "({ deep, data, require, Go }) => {\n    const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n    const React = require('react');\n    const _ = require('lodash');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, useSymbol, } = require('@deep-foundation/perception-app');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const History = deep.idLocal(dpl, 'History');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Search = deep.idLocal(dpl, 'Search');\n    const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n    const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const _Item = React.memo((props) => {\n        const { link, isActive, isConcentrated, Item, direction, startProps } = props;\n        const go = Go.useGo();\n        return React.createElement(c.Box, { ref: go.ref, ...(direction === 'vertical' ? { w: '100%' } : { h: '100%' }) }, !!Item ? React.createElement(Item, { link: link, go: go, isActive: isActive, ...startProps, isConcentrated: isConcentrated }) : React.createElement(go.Handler, { handlerId: TreeLinkButton, linkId: link.id, variant: 'full', ...startProps, isActive: isActive, ...(direction === 'vertical' ? { w: '100%' } : { h: '100%' }), isConcentrated: isConcentrated }));\n    }, (o, n) => {\n        return _.isEqual(o, n);\n    });\n    const startPropsPlaceholder = {};\n    return ({ go, handlerId, links = [], Item = _Item, direction = 'vertical', using = false, saveHistory = false, startProps = {}, concentrated, children = null, ...props }, ref) => {\n        const _startProps = React.useMemo(() => startProps, [startProps]);\n        const list = links.map((link, i) => !!link ? React.createElement(go.Provider, { key: `${link?.id}`, linkId: link.id },\n            React.createElement(_Item, { link: link, isActive: go.value === link.id, Item: Item, direction: direction, saveHistory: saveHistory, startProps: !i ? _startProps : startPropsPlaceholder, isConcentrated: concentrated ? !!concentrated[link.id] : undefined })) : React.createElement(React.Fragment, null));\n        const content = direction === 'vertical' ? React.createElement(c.VStack, { ref: ref, overflowY: 'scroll', overflowX: 'hidden', css: go.noScrollBar, flex: 1, w: '100%', h: '100%', ...props },\n            list,\n            children) : React.createElement(c.HStack, { ref: ref, overflowX: 'scroll', overflowY: 'hidden', css: go.noScrollBar, flex: 1, w: '100%', h: '100%', ...props },\n            list,\n            children);\n        React.useEffect(() => {\n            if (go?.current) {\n                if (using && go.root()?.data?.usedId != go.value)\n                    go.root().do('use', { id: go.value });\n                go.do('changed', { id: go.value });\n                go?.current?.scroll();\n            }\n        }, [go.value]);\n        const events = direction === 'vertical' ? {\n            up: (g, v, o) => {\n                if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                    go.focus(links?.[0]?.id);\n                }\n                else\n                    go.value === links?.[0]?.id ? go.go.do('up') : go.focus(go.prev(links));\n            },\n            down: (g, v, o) => {\n                if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                    go.focus(links?.[links.length - 1]?.id);\n                }\n                else\n                    go.value === links?.[links.length - 1]?.id ? go.go.do('down') : go.focus(go.next(links));\n            },\n        } : {\n            left: (g, v, o) => {\n                if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                    go.focus(links?.[0]?.id);\n                }\n                else\n                    go.value === links?.[0]?.id ? go.go.do('left') : go.focus(go.prev(links));\n            },\n            right: (g, v, o) => {\n                if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                    go.focus(links?.[links.length - 1]?.id);\n                }\n                else\n                    go.value === links?.[links.length - 1]?.id ? go.go.do('right') : go.focus(go.next(links));\n            },\n        };\n        return React.createElement(go.On, { do: {\n                focus: (g, d, v, o) => !v && go.set(o?.id ? o?.id : links?.[0]?.id),\n                use: (g, v, o) => o?.id && o?.id != go.value && go(o?.id) && go.set(o.id).go(o?.id).go?.scroll().go?.do('use'),\n                exec: (g, v, o) => (o?.id || go.value) && go.set(o?.id || go.value).go.go.do('exec', { id: o?.id || go.value }),\n                ...events,\n            } }, content);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sRUFDSixTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUN4RSxTQUFTLEdBQ1YsR0FBRyxPQUFPLENBQUMsaUNBQWlDLENBQUMsQ0FBQztJQUUvQyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMzQyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMzQyxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNqRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxV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LENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDbkYsQ0FBQztZQUNELEtBQUssRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2YsSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLEtBQUssSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLEdBQUcsRUFBRSxDQUFDO29CQUNqRyxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQzFDLENBQUM7O29CQUFNLEVBQUUsQ0FBQyxLQUFLLEtBQUssS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNuRyxDQUFDO1NBQ0YsQ0FBQztRQUVGLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFDWCxFQUFFLEVBQUU7Z0JBQ0YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDaEUsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUM7Z0JBQzVHLElBQUksRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUM3RyxHQUFHLE1BQU07YUFDVixJQUVBLE9BQU8sQ0FDRixDQUFBO0lBQ1YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCB7IE1kRWRpdCwgTWRQcmV2aWV3LCBNZFNhdmVBbHQgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9tZFwiKTtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbiAgY29uc3Qge1xuICAgIFR5cGVkSWNvbiwgRG93bkljb24sIFVwSWNvbiwgVHlwZUljb24sIEluSWNvbiwgT3V0SWNvbiwgRnJvbUljb24sIFRvSWNvbixcbiAgICB1c2VTeW1ib2wsXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG4gIFxuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBcbiAgY29uc3QgSGlzdG9yeSA9IGRlZXAuaWRMb2NhbChkcGwsICdIaXN0b3J5Jyk7XG4gIGNvbnN0IEhlYWRlciA9IGRlZXAuaWRMb2NhbChkcGwsICdIZWFkZXInKTtcbiAgY29uc3QgU2VhcmNoID0gZGVlcC5pZExvY2FsKGRwbCwgJ1NlYXJjaCcpO1xuICBjb25zdCBUcmVlUXVlcnkgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZVF1ZXJ5Jyk7XG4gIGNvbnN0IFRyZWVMaXN0ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaXN0Jyk7XG4gIGNvbnN0IFRyZWVMaW5rID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rJyk7XG4gIGNvbnN0IFRyZWVMaW5rSW5zZXJ0ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rSW5zZXJ0Jyk7XG4gIGNvbnN0IFRyZWVMaW5rRGVsZXRlID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rRGVsZXRlJyk7XG4gIGNvbnN0IFRyZWVMaW5rQnV0dG9uID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rQnV0dG9uJyk7XG5cbiAgY29uc3QgX0l0ZW0gPSBSZWFjdC5tZW1vKChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbGluaywgaXNBY3RpdmUsIGlzQ29uY2VudHJhdGVkLCBJdGVtLCBkaXJlY3Rpb24sIHN0YXJ0UHJvcHMgfSA9IHByb3BzO1xuICAgIC8vIGNvbnNvbGUubG9nKCdYWFhYWCAyJywgbGluaz8uaWQsIHByb3BzKTtcbiAgICBjb25zdCBnbyA9IEdvLnVzZUdvKCk7XG4gICAgcmV0dXJuIDxjLkJveCByZWY9e2dvLnJlZn0gey4uLihkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyB7IHc6ICcxMDAlJyB9IDogeyBoOiAnMTAwJScgfSl9PlxuICAgICAgeyEhSXRlbSA/IDxJdGVtIGxpbms9e2xpbmt9IGdvPXtnb30gaXNBY3RpdmU9e2lzQWN0aXZlfSB7Li4uc3RhcnRQcm9wc31cbiAgICAgICAgaXNDb25jZW50cmF0ZWQ9e2lzQ29uY2VudHJhdGVkfVxuICAgICAgLz4gOiA8Z28uSGFuZGxlclxuICAgICAgICBoYW5kbGVySWQ9e1RyZWVMaW5rQnV0dG9ufSBsaW5rSWQ9e2xpbmsuaWR9IHZhcmlhbnQ9J2Z1bGwnIHsuLi5zdGFydFByb3BzfVxuICAgICAgICBpc0FjdGl2ZT17aXNBY3RpdmV9IHsuLi4oZGlyZWN0aW9uID09PSAndmVydGljYWwnID8geyB3OiAnMTAwJScgfSA6IHsgaDogJzEwMCUnIH0pfVxuICAgICAgICBpc0NvbmNlbnRyYXRlZD17aXNDb25jZW50cmF0ZWR9XG4gICAgICAvPn1cbiAgICA8L2MuQm94PjtcbiAgfSwgKG8sIG4pID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZygnWFhYWFgnLCBvPy5saW5rPy5pZCwgXy5pc0VxdWFsKG8sIG4pLCBvLCBuKTtcbiAgICByZXR1cm4gXy5pc0VxdWFsKG8sIG4pO1xuICB9KTtcblxuICBjb25zdCBzdGFydFByb3BzUGxhY2Vob2xkZXIgPSB7fTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBoYW5kbGVySWQsXG5cbiAgICBsaW5rcyA9IFtdLFxuICAgIEl0ZW0gPSBfSXRlbSxcblxuICAgIGRpcmVjdGlvbiA9ICd2ZXJ0aWNhbCcsIC8vICd2ZXJ0aWNhbCcgfCAnaG9yaXpvbnRhbCdcblxuICAgIHVzaW5nID0gZmFsc2UsXG4gICAgc2F2ZUhpc3RvcnkgPSBmYWxzZSxcblxuICAgIHN0YXJ0UHJvcHMgPSB7fSxcblxuICAgIGNvbmNlbnRyYXRlZCxcblxuICAgIGNoaWxkcmVuID0gbnVsbCxcblxuICAgIC4uLnByb3BzXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IF9zdGFydFByb3BzID0gUmVhY3QudXNlTWVtbygoKSA9PiBzdGFydFByb3BzLCBbc3RhcnRQcm9wc10pO1xuICAgIGNvbnN0IGxpc3QgPSBsaW5rcy5tYXAoKGxpbmssIGkpID0+ICEhbGluayA/IDxnby5Qcm92aWRlciBrZXk9e2Ake2xpbms/LmlkfWB9IGxpbmtJZD17bGluay5pZH0+XG4gICAgICA8X0l0ZW1cbiAgICAgICAgbGluaz17bGlua30gaXNBY3RpdmU9e2dvLnZhbHVlID09PSBsaW5rLmlkfSBJdGVtPXtJdGVtfVxuICAgICAgICBkaXJlY3Rpb249e2RpcmVjdGlvbn0gc2F2ZUhpc3Rvcnk9e3NhdmVIaXN0b3J5fVxuICAgICAgICBzdGFydFByb3BzPXshaSA/IF9zdGFydFByb3BzIDogc3RhcnRQcm9wc1BsYWNlaG9sZGVyfVxuICAgICAgICBpc0NvbmNlbnRyYXRlZD17Y29uY2VudHJhdGVkID8gISFjb25jZW50cmF0ZWRbbGluay5pZF0gOiB1bmRlZmluZWR9XG4gICAgICAvPlxuICAgIDwvZ28uUHJvdmlkZXI+IDogPFJlYWN0LkZyYWdtZW50Lz4pO1xuXG4gICAgY29uc3QgY29udGVudCA9IGRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/IDxjLlZTdGFjayByZWY9e3JlZn1cbiAgICAgIG92ZXJmbG93WT0nc2Nyb2xsJyBvdmVyZmxvd1g9J2hpZGRlbidcbiAgICAgIGNzcz17Z28ubm9TY3JvbGxCYXJ9IGZsZXg9ezF9XG4gICAgICB3PScxMDAlJyBoPScxMDAlJ1xuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIHtsaXN0fVxuICAgICAge2NoaWxkcmVufVxuICAgIDwvYy5WU3RhY2s+IDogPGMuSFN0YWNrIHJlZj17cmVmfVxuICAgICAgb3ZlcmZsb3dYPSdzY3JvbGwnIG92ZXJmbG93WT0naGlkZGVuJ1xuICAgICAgY3NzPXtnby5ub1Njcm9sbEJhcn0gZmxleD17MX1cbiAgICAgIHc9JzEwMCUnIGg9JzEwMCUnXG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAge2xpc3R9XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9jLkhTdGFjaz47XG5cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGdvPy5jdXJyZW50KSB7XG4gICAgICAgIGlmICh1c2luZyAmJiBnby5yb290KCk/LmRhdGE/LnVzZWRJZCAhPSBnby52YWx1ZSkgZ28ucm9vdCgpLmRvKCd1c2UnLCB7IGlkOiBnby52YWx1ZSB9KTtcbiAgICAgICAgZ28uZG8oJ2NoYW5nZWQnLCB7IGlkOiBnby52YWx1ZSB9KTtcbiAgICAgICAgZ28/LmN1cnJlbnQ/LnNjcm9sbCgpO1xuICAgICAgfVxuICAgIH0sIFtnby52YWx1ZV0pO1xuXG4gICAgY29uc3QgZXZlbnRzID0gZGlyZWN0aW9uID09PSAndmVydGljYWwnID8ge1xuICAgICAgdXA6IChnLHYsbykgPT4ge1xuICAgICAgICBpZiAobz8uaG90a2V5RXZlbnQ/Lm1ldGEgfHwgbz8uaG90a2V5RXZlbnQ/LnNoaWZ0IHx8IG8/LmhvdGtleUV2ZW50Py5jdHJsIHx8IG8/LmhvdGtleUV2ZW50Py5hbHQpIHtcbiAgICAgICAgICBnby5mb2N1cyhsaW5rcz8uWzBdPy5pZCk7XG4gICAgICAgIH0gZWxzZSBnby52YWx1ZSA9PT0gbGlua3M/LlswXT8uaWQgPyBnby5nby5kbygndXAnKSA6IGdvLmZvY3VzKGdvLnByZXYobGlua3MpKTtcbiAgICAgIH0sXG4gICAgICBkb3duOiAoZyx2LG8pID0+IHtcbiAgICAgICAgaWYgKG8/LmhvdGtleUV2ZW50Py5tZXRhIHx8IG8/LmhvdGtleUV2ZW50Py5zaGlmdCB8fCBvPy5ob3RrZXlFdmVudD8uY3RybCB8fCBvPy5ob3RrZXlFdmVudD8uYWx0KSB7XG4gICAgICAgICAgZ28uZm9jdXMobGlua3M/LltsaW5rcy5sZW5ndGggLSAxXT8uaWQpO1xuICAgICAgICB9IGVsc2UgZ28udmFsdWUgPT09IGxpbmtzPy5bbGlua3MubGVuZ3RoIC0gMV0/LmlkID8gZ28uZ28uZG8oJ2Rvd24nKSA6IGdvLmZvY3VzKGdvLm5leHQobGlua3MpKTtcbiAgICAgIH0sXG4gICAgfSA6IHtcbiAgICAgIGxlZnQ6IChnLHYsbykgPT4ge1xuICAgICAgICBpZiAobz8uaG90a2V5RXZlbnQ/Lm1ldGEgfHwgbz8uaG90a2V5RXZlbnQ/LnNoaWZ0IHx8IG8/LmhvdGtleUV2ZW50Py5jdHJsIHx8IG8/LmhvdGtleUV2ZW50Py5hbHQpIHtcbiAgICAgICAgICBnby5mb2N1cyhsaW5rcz8uWzBdPy5pZCk7XG4gICAgICAgIH0gZWxzZSBnby52YWx1ZSA9PT0gbGlua3M/LlswXT8uaWQgPyBnby5nby5kbygnbGVmdCcpIDogZ28uZm9jdXMoZ28ucHJldihsaW5rcykpO1xuICAgICAgfSxcbiAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IHtcbiAgICAgICAgaWYgKG8/LmhvdGtleUV2ZW50Py5tZXRhIHx8IG8/LmhvdGtleUV2ZW50Py5zaGlmdCB8fCBvPy5ob3RrZXlFdmVudD8uY3RybCB8fCBvPy5ob3RrZXlFdmVudD8uYWx0KSB7XG4gICAgICAgICAgZ28uZm9jdXMobGlua3M/LltsaW5rcy5sZW5ndGggLSAxXT8uaWQpO1xuICAgICAgICB9IGVsc2UgZ28udmFsdWUgPT09IGxpbmtzPy5bbGlua3MubGVuZ3RoIC0gMV0/LmlkID8gZ28uZ28uZG8oJ3JpZ2h0JykgOiBnby5mb2N1cyhnby5uZXh0KGxpbmtzKSk7XG4gICAgICB9LFxuICAgIH07XG5cbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgICBmb2N1czogKGcsZCx2LG8pID0+ICF2ICYmIGdvLnNldChvPy5pZCA/IG8/LmlkIDogbGlua3M/LlswXT8uaWQpLFxuICAgICAgICB1c2U6IChnLHYsbykgPT4gbz8uaWQgJiYgbz8uaWQgIT0gZ28udmFsdWUgJiYgZ28obz8uaWQpICYmIGdvLnNldChvLmlkKS5nbyhvPy5pZCkuZ28/LnNjcm9sbCgpLmdvPy5kbygndXNlJyksXG4gICAgICAgIGV4ZWM6IChnLHYsbykgPT4gKG8/LmlkIHx8IGdvLnZhbHVlKSAmJiBnby5zZXQobz8uaWQgfHwgZ28udmFsdWUpLmdvLmdvLmRvKCdleGVjJywgeyBpZDogbz8uaWQgfHwgZ28udmFsdWUgfSlcbiAgICAgICAgLi4uZXZlbnRzLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y29udGVudH1cbiAgICA8L2dvLk9uPlxuICB9O1xufVxuIl19",
        "link_id": 1285
      }
    },
    {
      "id": 1286,
      "type_id": 3,
      "from_id": 887,
      "to_id": 1285,
      "value": {
        "id": 419,
        "value": "generated",
        "link_id": 1286
      }
    },
    {
      "id": 1287,
      "type_id": 143,
      "from_id": 1285,
      "to_id": 887
    },
    {
      "id": 1288,
      "type_id": 3,
      "from_id": 887,
      "to_id": 1287
    },
    {
      "id": 888,
      "type_id": 35,
      "from_id": 145,
      "to_id": 887
    },
    {
      "id": 889,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 421,
        "value": "({ deep, data, require, Go }) => {\n  const { BsCheck2All } = require(\"react-icons/bs\");\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n\n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n  \n  const Query = deep.idLocal(dc, 'Query');\n  const Contain = deep.idLocal(dc, 'Contain');\n  const FinderQuery = deep.idLocal(dpl, 'FinderQuery');\n  const Tree = deep.idLocal(dpl, 'Tree');\n  const TreeList = deep.idLocal(dpl, 'TreeList');\n  const Search = deep.idLocal(dpl, 'Search');\n\n  return ({\n    go,\n\n    isActive,\n    saveHistory = false,\n    disclosure: __disclosure,\n    startProps,\n    onSubmit,\n    ...props\n  }, ref) => {\n    const _disclosure = c.useDisclosure();\n    const disclosure = __disclosure || _disclosure;\n\n    React.useEffect(() => () => deep.minilinks.apply([], `deep-perception-finder-${go.__p}`), []);\n    const [queryId, setQueryId] = React.useState(!saveHistory ? 'virtual' : undefined);\n\n    return <go.On\n      do={{\n        open: (g,v,o) => {\n          if (!o?.id) return;\n          disclosure.onClose();\n          go.root().do('open', { id: o?.id, focus: true });\n        },\n        exec: async (g,v,o) => {\n          if (saveHistory) {\n            const { data: [{ id }] } = await deep.insert({\n              type_id: Query,\n              object: {\n                _or: [{ in: { type_id: Contain, string: { value: { _ilike: `%Type%` } } } }],\n              },\n              containerId: deep.linkId,\n              in: {\n                type_id: FinderQuery,\n                from_id: deep.linkId,\n                containerId: deep.linkId,\n              },\n            });\n            await deep.select(id, { apply: `deep-perception-finder-${go.__p}` });\n            setQueryId(id);\n          }\n          disclosure.onOpen();\n          go.focus(Tree);\n        }\n      }}\n    >\n      <c.Button\n        ref={ref} h='3em' w='3em' variant={isActive ? 'active' : null}\n        onClick={() => go.do('exec')}\n        {...props}\n      >🪬</c.Button>\n      {!!queryId && disclosure.isOpen && <go.Component path={[dpl, 'Finder']}\n        disclosure={disclosure} initialId={queryId} initialHandlerId={TreeList}\n        onSubmit={onSubmit || ((id) => go.do('open', { id }))}\n        startProps={startProps}\n      />}\n    </go.On>;\n  };\n}",
        "link_id": 889
      }
    },
    {
      "id": 1330,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 435,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const _ = require('lodash');\n    const c = require('@chakra-ui/react');\n    const { useDebounce } = require('@react-hook/debounce');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const FinderButton = deep.idLocal(dpl, 'FinderButton');\n    return ({ go, placeholder = '', value, onChange, leftIcon, children, }, ref) => {\n        const [search, setSearch] = useDebounce('', 100);\n        const { data } = deep.useSearch(search, { remote: false, skip: !search });\n        React.useEffect(() => {\n            go.focus(Stack);\n        }, [search]);\n        const [id, setId] = React.useState(value);\n        const link = React.useMemo(() => {\n            return id ? deep.get(+id) : undefined;\n        }, [id]);\n        React.useEffect(() => {\n            if (link && link?.id != value)\n                onChange(link.id);\n        }, [link]);\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.InputGroup, { position: 'relative', zIndex: search ? 1 : 0 },\n                !!leftIcon && React.createElement(c.InputLeftElement, { h: '3em', w: '3em', minW: '3em' }, leftIcon),\n                React.createElement(c.Input, { placeholder: value || placeholder, onChange: (e) => {\n                        setSearch(e.target.value);\n                        if (+e.target.value === 0)\n                            onChange(0);\n                    }, h: '3em', pl: leftIcon ? '3em' : 0, pr: '3em', pt: link ? '0.25em' : undefined }),\n                !!link && React.createElement(c.Text, { position: 'absolute', left: leftIcon ? '4em' : '1em', bottom: '0.25em', pointerEvents: 'none', fontSize: 'xs', noOfLines: 1 }, `${link.symbol} ${link.name != link.id ? link.name : link.id}`),\n                React.createElement(c.InputRightElement, { h: '3em' },\n                    React.createElement(go.Provider, { linkId: FinderButton, on: {\n                            do: {\n                                open: (g, v, o) => o?.id && setId && setId(o?.id),\n                            }\n                        } },\n                        React.createElement(go.Handler, { handlerId: FinderButton, bg: 'transparent', isActive: go.value === FinderButton }))),\n                !!search && React.createElement(c.Box, { position: 'absolute', top: '100%', left: '0', w: '100%', maxH: '7em', h: '7em' },\n                    React.createElement(go.Provider, { linkId: Stack, value: data?.[0]?.id, on: { do: {\n                                exec: (g, v, o) => {\n                                    if (o?.id) {\n                                        setSearch('');\n                                        setId(o?.id);\n                                    }\n                                },\n                            } } },\n                        React.createElement(go.Handler, { handlerId: Stack, links: data, direction: 'vertical', maxH: '7em', h: '7em' })))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUV4RCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUVoRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzNELE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBRXZELE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFFRixXQUFXLEdBQUcsRUFBRSxFQUNoQixLQUFLLEVBQ0wsUUFBUSxFQUNSLFFBQVEsRUFDUixRQUFRLEdBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE1BQU0sQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLEdBQUcsV0FBVyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNqRCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLElB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ZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCB7IHVzZURlYm91bmNlIH0gPSByZXF1aXJlKCdAcmVhY3QtaG9vay9kZWJvdW5jZScpO1xuXG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuXG4gIGNvbnN0IFN0YWNrID0gZGVlcC5pZExvY2FsKGRwbCwgJ1N0YWNrJyk7XG4gIGNvbnN0IFRyZWVMaW5rQnV0dG9uID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rQnV0dG9uJyk7XG4gIGNvbnN0IEZpbmRlckJ1dHRvbiA9IGRlZXAuaWRMb2NhbChkcGwsICdGaW5kZXJCdXR0b24nKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIHBsYWNlaG9sZGVyID0gJycsXG4gICAgdmFsdWUsIC8vIGxpbmtJZFxuICAgIG9uQ2hhbmdlLFxuICAgIGxlZnRJY29uLFxuICAgIGNoaWxkcmVuLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBbc2VhcmNoLCBzZXRTZWFyY2hdID0gdXNlRGVib3VuY2UoJycsIDEwMCk7XG4gICAgY29uc3QgeyBkYXRhIH0gPSBkZWVwLnVzZVNlYXJjaChzZWFyY2gsIHsgcmVtb3RlOiBmYWxzZSwgc2tpcDogIXNlYXJjaCB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgZ28uZm9jdXMoU3RhY2spO1xuICAgIH0sIFtzZWFyY2hdKTtcbiAgICBjb25zdCBbaWQsIHNldElkXSA9IFJlYWN0LnVzZVN0YXRlKHZhbHVlKTtcbiAgICBjb25zdCBsaW5rID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICByZXR1cm4gaWQgPyBkZWVwLmdldCgraWQpIDogdW5kZWZpbmVkO1xuICAgIH0sIFtpZF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAobGluayAmJiBsaW5rPy5pZCAhPSB2YWx1ZSkgb25DaGFuZ2UobGluay5pZCk7XG4gICAgfSwgW2xpbmtdKTtcbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5JbnB1dEdyb3VwIHBvc2l0aW9uPSdyZWxhdGl2ZScgekluZGV4PXtzZWFyY2ggPyAxIDogMH0+XG4gICAgICAgIHshIWxlZnRJY29uICYmIDxjLklucHV0TGVmdEVsZW1lbnQgaD0nM2VtJyB3PSczZW0nIG1pblc9JzNlbSc+XG4gICAgICAgICAge2xlZnRJY29ufVxuICAgICAgICA8L2MuSW5wdXRMZWZ0RWxlbWVudD59XG4gICAgICAgIDxjLklucHV0XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3ZhbHVlIHx8IHBsYWNlaG9sZGVyfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgc2V0U2VhcmNoKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIGlmICgrZS50YXJnZXQudmFsdWUgPT09IDApIG9uQ2hhbmdlKDApO1xuICAgICAgICAgIH19XG4gICAgICAgICAgaD0nM2VtJyBwbD17bGVmdEljb24gPyAnM2VtJyA6IDB9IHByPSczZW0nIHB0PXtsaW5rID8gJzAuMjVlbScgOiB1bmRlZmluZWR9XG4gICAgICAgIC8+XG4gICAgICAgIHshIWxpbmsgJiYgPGMuVGV4dFxuICAgICAgICAgIHBvc2l0aW9uPSdhYnNvbHV0ZScgbGVmdD17bGVmdEljb24gPyAnNGVtJyA6ICcxZW0nfSBib3R0b209JzAuMjVlbSdcbiAgICAgICAgICBwb2ludGVyRXZlbnRzPSdub25lJyBmb250U2l6ZT0neHMnXG4gICAgICAgICAgbm9PZkxpbmVzPXsxfVxuICAgICAgICA+XG4gICAgICAgICAge2Ake2xpbmsuc3ltYm9sfSAke2xpbmsubmFtZSAhPSBsaW5rLmlkID8gbGluay5uYW1lIDogbGluay5pZH1gfVxuICAgICAgICA8L2MuVGV4dD59XG4gICAgICAgIDxjLklucHV0UmlnaHRFbGVtZW50IGg9JzNlbSc+XG4gICAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17RmluZGVyQnV0dG9ufSBvbj17e1xuICAgICAgICAgICAgZG86IHtcbiAgICAgICAgICAgICAgb3BlbjogKGcsdixvKSA9PiBvPy5pZCAmJiBzZXRJZCAmJiBzZXRJZChvPy5pZCksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e0ZpbmRlckJ1dHRvbn0gYmc9J3RyYW5zcGFyZW50JyBpc0FjdGl2ZT17Z28udmFsdWUgPT09IEZpbmRlckJ1dHRvbn0vPlxuICAgICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICAgIDwvYy5JbnB1dFJpZ2h0RWxlbWVudD5cbiAgICAgICAgeyEhc2VhcmNoICYmIDxjLkJveCBwb3NpdGlvbj0nYWJzb2x1dGUnIHRvcD0nMTAwJScgbGVmdD0nMCcgdz0nMTAwJScgbWF4SD0nN2VtJyBoPSc3ZW0nPlxuICAgICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e1N0YWNrfSB2YWx1ZT17ZGF0YT8uWzBdPy5pZH0gb249e3sgZG86IHtcbiAgICAgICAgICAgIGV4ZWM6IChnLHYsbykgPT4ge1xuICAgICAgICAgICAgICBpZiAobz8uaWQpIHtcbiAgICAgICAgICAgICAgICBzZXRTZWFyY2goJycpO1xuICAgICAgICAgICAgICAgIHNldElkKG8/LmlkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9IH19PlxuICAgICAgICAgICAgPGdvLkhhbmRsZXIgaGFuZGxlcklkPXtTdGFja30gbGlua3M9e2RhdGF9IGRpcmVjdGlvbj0ndmVydGljYWwnIG1heEg9JzdlbScgaD0nN2VtJy8+XG4gICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgPC9jLkJveD59XG4gICAgICA8L2MuSW5wdXRHcm91cD5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1330
      }
    },
    {
      "id": 1331,
      "type_id": 3,
      "from_id": 897,
      "to_id": 1330,
      "value": {
        "id": 434,
        "value": "generated",
        "link_id": 1331
      }
    },
    {
      "id": 1332,
      "type_id": 143,
      "from_id": 1330,
      "to_id": 897
    },
    {
      "id": 1333,
      "type_id": 3,
      "from_id": 897,
      "to_id": 1332
    },
    {
      "id": 898,
      "type_id": 35,
      "from_id": 145,
      "to_id": 897
    },
    {
      "id": 899,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 436,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n\n  return ({\n    go,\n    id,\n\n    ...props\n  }, ref) => {\n    const { cy } = go.useGraph();\n    const data = { id: `${id}`, label: `${id}` };\n    const classes = ['link-ghost'];\n    return <go.GraphNode\n      ghost\n      element={{\n        data, classes,\n      }}\n      {...props}\n    />;\n  };\n}",
        "link_id": 899
      }
    },
    {
      "id": 1429,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 468,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { VscJson } = require(\"react-icons/vsc\");\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, handlerId, isActive, }, ref) => {\n        const View = React.useCallback(({ event }) => {\n            const value = JSON.stringify(event.plainLinks, null, 2);\n            return React.createElement(Go.Editor, { editable: false, value: value, fillSize: true });\n        }, []);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.do('view', { id: go.linkId, Component: View })\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(VscJson, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDL0MsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsUUFBUSxHQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO1lBQzNDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFFeEQsT0FBTyxvQkFBQyxFQUFFLENBQUMsTUFBTSxJQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxRQUFRLFNBQUUsQ0FBQztRQUM5RCxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFUCxPQUFPLG9CQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUMsRUFBRSxFQUFFO2dCQUNoQixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7YUFDbkU7WUFDQyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLENBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFDZixPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDeEMsR0FBRyxFQUFFLEdBQUcsRUFDUixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0JBRTVCLG9CQUFDLE9BQU8sT0FBRSxDQUNELENBQ0wsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIEdvLCByZXF1aXJlIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCB7IFZzY0pzb24gfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy92c2NcIik7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG4gIGNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBoYW5kbGVySWQsXG5cbiAgICBpc0FjdGl2ZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgVmlldyA9IFJlYWN0LnVzZUNhbGxiYWNrKCh7IGV2ZW50IH0pID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gSlNPTi5zdHJpbmdpZnkoZXZlbnQucGxhaW5MaW5rcywgbnVsbCwgMik7XG4gIFxuICAgICAgcmV0dXJuIDxHby5FZGl0b3IgZWRpdGFibGU9e2ZhbHNlfSB2YWx1ZT17dmFsdWV9IGZpbGxTaXplLz47XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKGcsdixvKSA9PiBnby5kbygndmlldycsIHsgaWQ6IGdvLmxpbmtJZCwgQ29tcG9uZW50OiBWaWV3IH0pKSxcbiAgICB9fT5cbiAgICAgIDxjLkJ1dHRvblxuICAgICAgICB3PSczZW0nIGg9JzNlbSdcbiAgICAgICAgdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICA+XG4gICAgICAgIDxWc2NKc29uLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1429
      }
    },
    {
      "id": 1430,
      "type_id": 3,
      "from_id": 921,
      "to_id": 1429,
      "value": {
        "id": 467,
        "value": "generated",
        "link_id": 1430
      }
    },
    {
      "id": 1431,
      "type_id": 143,
      "from_id": 1429,
      "to_id": 921
    },
    {
      "id": 1432,
      "type_id": 3,
      "from_id": 921,
      "to_id": 1431
    },
    {
      "id": 1474,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 483,
        "value": "async ({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const ds = '@deep-foundation/site-links';\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, ...props }, ref) => {\n        return React.createElement(go.On, { do: {\n                focus: (g, v, linkId, o) => { },\n                use: (g, v, o) => { },\n                open: (g, v, { id, prevId, handlerId, focus } = {}) => { },\n                close: (g, v, o) => { },\n                concentrate: (g, v, o) => { },\n            } },\n            React.createElement(c.Box, { ref: ref, position: 'absolute', h: '100%', w: '100%', left: '0', top: '0', color: 'deepColor', overflowY: 'scroll', css: go.noScrollBar },\n                React.createElement(c.Heading, { as: 'h1', size: '3xl', color: 'deepColorActive' }, \"Deep.Foundation\"),\n                React.createElement(c.Heading, { as: 'h2', size: '2xl' }, \"Landing\"),\n                React.createElement(c.Heading, { as: 'h3', size: 'xl' }, \"Features\"),\n                React.createElement(c.Heading, { as: 'h3', size: 'xl' }, \"Founders and Members\"),\n                React.createElement(c.Heading, { as: 'h2', size: '2xl' }, \"Quick start\"),\n                React.createElement(c.Heading, { as: 'h2', size: '2xl' }, \"Documentation\"),\n                React.createElement(c.Tabs, null,\n                    React.createElement(c.TabList, null,\n                        React.createElement(c.Tab, null, \"Links\"),\n                        React.createElement(c.Tab, null, \"DeepLinks\"),\n                        React.createElement(c.Tab, null, \"DeepClient\"),\n                        React.createElement(c.Tab, null, \"Minilinks\"),\n                        React.createElement(c.Tab, null, \"React\"),\n                        React.createElement(c.Tab, null, \"Traveler\"),\n                        React.createElement(c.Tab, null, \"Storage\"),\n                        React.createElement(c.Tab, null, \"Permissions\"),\n                        React.createElement(c.Tab, null, \"Handlers\"),\n                        React.createElement(c.Tab, null, \"Packager\"),\n                        React.createElement(c.Tab, null, \"DeepChain\"),\n                        React.createElement(c.Tab, null, \"Perception\"),\n                        React.createElement(c.Tab, null, \"SDK\")),\n                    React.createElement(c.TabPanels, null,\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Links\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'LinkStructure'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Link typing\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Link relations\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Link trees\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Subjectivity\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Permissions\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Handlers\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"DeepLinks\"),\n                            React.createElement(c.Tabs, null,\n                                React.createElement(c.TabList, null,\n                                    React.createElement(c.Tab, null, \"architecture\"),\n                                    React.createElement(c.Tab, null, \"npx @deep-foundation/deeplinks\"),\n                                    React.createElement(c.Tab, null, \"docker compose\"),\n                                    React.createElement(c.Tab, null, \"kubernetes\"),\n                                    React.createElement(c.Tab, null, \"source code\")),\n                                React.createElement(c.TabPanels, null,\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"architecture\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepLinksDockerArchitecture'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"npx @deep-foundation/deeplinks\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepLinksNpx'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"docker compose\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepLinksDockerCompose'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"kubernetes\")),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"source code\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepLinksDockerSourceCode'] }))))),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"DeepClient\"),\n                            React.createElement(c.Tabs, null,\n                                React.createElement(c.TabList, null,\n                                    React.createElement(c.Tab, null, \"operations\"),\n                                    React.createElement(c.Tab, null, \"authorization\"),\n                                    React.createElement(c.Tab, null, \"shorts\"),\n                                    React.createElement(c.Tab, null, \"react\"),\n                                    React.createElement(c.Tab, null, \"handlers\")),\n                                React.createElement(c.TabPanels, null,\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"operations\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.select\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.select'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.subscribe\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.subscribe'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.insert\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.insert'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.update\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.update'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.delete\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.delete'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.value\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.value'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.search\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.search'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.useSearch\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSearch'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.searchQuery\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.searchQuery'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.serializeQuery\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.serializeQuery'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"authorization\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.jwt\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.jwt'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.login\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.login'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.logout\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.logout'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.guest\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.guest'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"shorts\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.id\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.id'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.idLocal\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.idLocal'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.useId\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useId'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.name\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.name'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.nameLocal\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.nameLocal'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.symbol\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.symbol'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.symbolLocal\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.symbolLocal'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.get\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.get'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"link.toPlain\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'Link.toPlain'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"react\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useDeep\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useDeep'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useSubscription\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSubscription'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.useLocalSubscription\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalSubscription'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.useMinilinksSubscription\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useMinilinksSubscription'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useQuery\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useQuery'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.useLocalQuery\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalQuery'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.useMinilinksQuery\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useMinilinksQuery'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLink\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLink'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLinks\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLinks'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useSearch\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSearch'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLocalApply\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalApply'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.useMinilinksApply\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useMinilinksApply'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"handlers\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.eval\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.eval'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.await\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.await'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"go.Handler\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'Go.Handler'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.reserve\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'Go.reserve'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.stringify\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'Go.stringify'] }))))),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Minilinks\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Link\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Link'] }),\n                            React.createElement(c.Text, null, \".id .type_id .from_id .to_id .value\"),\n                            React.createElement(c.Text, null, \".type .typed .from .out .to .in\"),\n                            React.createElement(c.Text, null, \".name .symbol .toString .valueOf\"),\n                            React.createElement(c.Text, null, \".traveler\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.select\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.select'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLocalQuery\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalQuery'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.subscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.subscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLocalSubscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalSubscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.apply\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.apply'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.add\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.add'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.update\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.update'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.remove\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.remove'] })),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"React\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useDeep\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useDeep'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useQuery\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useQuery'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useSubscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSubscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLocalQuery\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalQuery'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.useMinilinksQuery\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useMinilinksQuery'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.ml.useQuery\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useQuery'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLocalSubscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalSubscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.ml.useSubscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSubscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.useMinilinksSubscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useMinilinksSubscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLink\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLink'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLinks\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLinks'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useSearch\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSearch'] })),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Traveler\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"new Traveler\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Traveler'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"available from results.travel() and each link.travel()\"),\n                            React.createElement(c.Text, null, \".type .typed .from .out .to .in .up .down\"),\n                            React.createElement(c.Text, null, \".query\"),\n                            React.createElement(c.Text, null, \".select .subscription .count .sum .avg .min .max\"),\n                            React.createElement(c.Text, null, \".and\"),\n                            React.createElement(c.Text, null, \".local .remote\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Storage\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Storage'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"/file\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.value\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.insert file:\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.DropZone\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Permissions\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Permissions'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Rule Object Subject Action\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Selectors\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Selectors'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Filter Query\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.can\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.can'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"custom actions\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Handlers\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Handlers'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Supports structure\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Async Docker, Sync PLV8, Client handlers\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"HandleInsert HandleUpdate HandleDelete\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'HandleLinks'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"HandleRoute\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'HandleRoute'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"HandleGql\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'HandleGql'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"HandleSchedule\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'HandleSchedule'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"HandlePort\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'HandlePort'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"custom handles\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'CustomHandle'] })),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Packager\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Packager'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Package structure\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"npm packages\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'PackagerNpm'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.chain packages\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"packager.import\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Packager.import'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"packager.export\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Packager.export'] })),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"DeepChain\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Perception\"),\n                            React.createElement(c.Tabs, null,\n                                React.createElement(c.TabList, null,\n                                    React.createElement(c.Tab, null, \"conception\"),\n                                    React.createElement(c.Tab, null, \"go\"),\n                                    React.createElement(c.Tab, null, \"builds\")),\n                                React.createElement(c.TabPanels, null,\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"conception\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'PerceptionConception'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"go\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'Go'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.linkId go.link\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.go\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.parent\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.value go.set\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.do\")),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"builds\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'PerceptionBuilds'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"any component as application\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"publishing\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"already with memory\"))))),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"SDK\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'SDK'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"manual\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"NextJS static/server/dev\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"Capacitor Android/iOS/Windows/Linux/Max\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"browser-extensions\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"NodeOS butable\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"github actions\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep handlers\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"preload\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"GQL\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'GQL'] }))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUUvQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEVBQUUsR0FBRyw2QkFBNkIsQ0FBQztJQUV6QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFNBQVMsRUFDVCxTQUFTLEVBRVQsTUFBTSxFQUNOLElBQUksRUFFSixRQUFRLEVBRVIsR0FBRyxLQUFLLEVBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFDWCxFQUFFLEVBQUU7Z0JBQ0YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRSxDQUFDO2dCQUMzQixHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUUsQ0FBQztnQkFDbEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLEtBQUssS0FBVSxFQUFFLEVBQUUsRUFBRSxHQUFFLENBQUM7Z0JBQzVELEtBQUssRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRSxDQUFDO2dCQUNwQixXQUFXLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUUsQ0FBQzthQUMzQjtZQUVELG9CQUFDLENBQUMsQ0FBQyxHQUFHLElBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsUUFBUSxFQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsV0FBVztnQkFDOUgsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsS0FBSyxFQUFDLGlCQUFpQixzQkFBNEI7Z0JBQ2pGLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsS0FBSyxjQUFvQjtnQkFDakQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGVBQXFCO2dCQUNqRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksMkJBQWlDO2dCQUM3RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLEtBQUssa0JBQXdCO2dCQUNyRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLEtBQUssb0JBQTBCO2dCQUN2RCxvQkFBQyxDQUFDLENBQUMsSUFBSTtvQkFDTCxvQkFBQyxDQUFDLENBQUMsT0FBTzt3QkFDUixvQkFBQyxDQUFDLENBQUMsR0FBRyxnQkFBYzt3QkFDcEIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsb0JBQWtCO3dCQUN4QixvQkFBQyxDQUFDLENBQUMsR0FBRyxxQkFBbUI7d0JBQ3pCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLG9CQUFrQjt3QkFDeEIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsZ0JBQWM7d0JBQ3BCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLG1CQUFpQjt3QkFDdkIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsa0JBQWdCO3dCQUN0QixvQkFBQyxDQUFDLENBQUMsR0FBRyxzQkFBb0I7d0JBQzFCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLG1CQUFpQjt3QkFDdkIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsbUJBQWlCO3dCQUN2QixvQkFBQyxDQUFDLENBQUMsR0FBRyxvQkFBa0I7d0JBQ3hCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLHFCQUFtQjt3QkFDekIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsY0FBWSxDQUNSO29CQUVaLG9CQUFDLENBQUMsQ0FBQyxTQUFTO3dCQUNWLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxZQUFrQjs0QkFDOUMsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGVBQWUsQ0FBQyxHQUFHOzRCQUNwRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksa0JBQXdCOzRCQUNwRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkscUJBQTJCOzRCQUN2RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCOzRCQUNuRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCOzRCQUNyRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksa0JBQXdCOzRCQUNwRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksZUFBcUIsQ0FDdEM7d0JBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7NEJBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGdCQUFzQjs0QkFDbEQsb0JBQUMsQ0FBQyxDQUFDLElBQUk7Z0NBQ0wsb0JBQUMsQ0FBQyxDQUFDLE9BQU87b0NBQ1Isb0JBQUMsQ0FBQyxDQUFDLEdBQUcsdUJBQXFCO29DQUMzQixvQkFBQyxDQUFDLENBQUMsR0FBRyx5Q0FBdUM7b0NBQzdDLG9CQUFDLENBQUMsQ0FBQyxHQUFHLHlCQUF1QjtvQ0FDN0Isb0JBQUMsQ0FBQyxDQUFDLEdBQUcscUJBQW1CO29DQUN6QixvQkFBQyxDQUFDLENBQUMsR0FBRyxzQkFBb0IsQ0FDaEI7Z0NBRVosb0JBQUMsQ0FBQyxDQUFDLFNBQVM7b0NBQ1Ysb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG1CQUF5Qjt3Q0FDckQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDZCQUE2QixDQUFDLEdBQUcsQ0FDdkQ7b0NBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFDQUEyQzt3Q0FDdkUsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGNBQWMsQ0FBQyxHQUFHLENBQ3hDO29DQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFRO3dDQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7d0NBQ3ZELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSx3QkFBd0IsQ0FBQyxHQUFHLENBQ2xEO29DQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFRO3dDQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxpQkFBdUIsQ0FDeEM7b0NBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjt3Q0FDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDJCQUEyQixDQUFDLEdBQUcsQ0FDckQsQ0FDRCxDQUNQLENBQ0U7d0JBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7NEJBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGlCQUF1Qjs0QkFDbkQsb0JBQUMsQ0FBQyxDQUFDLElBQUk7Z0NBQ0wsb0JBQUMsQ0FBQyxDQUFDLE9BQU87b0NBQ1Isb0JBQUMsQ0FBQyxDQUFDLEdBQUcscUJBQW1CO29DQUN6QixvQkFBQyxDQUFDLENBQUMsR0FBRyx3QkFBc0I7b0NBQzVCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLGlCQUFlO29DQUNyQixvQkFBQyxDQUFDLENBQUMsR0FBRyxnQkFBYztvQ0FDcEIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsbUJBQWlCLENBQ2I7Z0NBRVosb0JBQUMsQ0FBQyxDQUFDLFNBQVM7b0NBQ1Ysb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGlCQUF1Qjt3Q0FFbkQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjt3Q0FDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFtQixDQUFDLEdBQUc7d0NBQ3hELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7d0NBQ3ZELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHO3dDQUMzRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksa0JBQXdCO3dDQUNwRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsbUJBQW1CLENBQUMsR0FBRzt3Q0FDeEQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjt3Q0FDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFtQixDQUFDLEdBQUc7d0NBQ3hELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxrQkFBd0I7d0NBQ3BELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHO3dDQUV4RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCO3dDQUNuRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLENBQUMsR0FBRzt3Q0FFdkQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjt3Q0FDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFtQixDQUFDLEdBQUc7d0NBQ3hELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7d0NBQ3ZELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHO3dDQUMzRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksdUJBQTZCO3dDQUN6RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsd0JBQXdCLENBQUMsR0FBRzt3Q0FFN0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDBCQUFnQzt3Q0FDNUQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDJCQUEyQixDQUFDLEdBQUcsQ0FDckQ7b0NBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG9CQUEwQjt3Q0FFdEQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGVBQXFCO3dDQUNqRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsZ0JBQWdCLENBQUMsR0FBRzt3Q0FDckQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGlCQUF1Qjt3Q0FDbkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGtCQUFrQixDQUFDLEdBQUc7d0NBQ3ZELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxrQkFBd0I7d0NBQ3BELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHO3dDQUN4RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCO3dDQUNuRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLENBQUMsR0FBRyxDQUM1QztvQ0FDYixvQkFBQyxDQUFDLENBQUMsUUFBUTt3Q0FDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksYUFBbUI7d0NBRS9DLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxjQUFvQjt3Q0FDaEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGVBQWUsQ0FBQyxHQUFHO3dDQUNwRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCO3dDQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsb0JBQW9CLENBQUMsR0FBRzt3Q0FDekQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGlCQUF1Qjt3Q0FDbkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGtCQUFrQixDQUFDLEdBQUc7d0NBRXZELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQkFBc0I7d0NBQ2xELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxpQkFBaUIsQ0FBQyxHQUFHO3dDQUN0RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkscUJBQTJCO3dDQUN2RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsc0JBQXNCLENBQUMsR0FBRzt3Q0FFM0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjt3Q0FDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFtQixDQUFDLEdBQUc7d0NBQ3hELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSx1QkFBNkI7d0NBQ3pELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSx3QkFBd0IsQ0FBQyxHQUFHO3dDQUU3RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksZUFBcUI7d0NBQ2pELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxnQkFBZ0IsQ0FBQyxHQUFHO3dDQUNyRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCO3dDQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsY0FBYyxDQUFDLEdBQUcsQ0FDeEM7b0NBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLFlBQWtCO3dDQUU5QyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCO3dDQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsb0JBQW9CLENBQUMsR0FBRzt3Q0FFekQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDJCQUFpQzt3Q0FDN0Qsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDRCQUE0QixDQUFDLEdBQUc7d0NBQ2pFLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQ0FBc0M7d0NBQ2xFLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxpQ0FBaUMsQ0FBQyxHQUFHO3dDQUN0RSxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksb0NBQTBDO3dDQUN0RSxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUscUNBQXFDLENBQUMsR0FBRzt3Q0FFMUUsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG9CQUEwQjt3Q0FDdEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLHFCQUFxQixDQUFDLEdBQUc7d0NBQzFELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSx5QkFBK0I7d0NBQzNELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSwwQkFBMEIsQ0FBQyxHQUFHO3dDQUMvRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksNkJBQW1DO3dDQUMvRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsOEJBQThCLENBQUMsR0FBRzt3Q0FFbkUsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG1CQUF5Qjt3Q0FDckQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLG9CQUFvQixDQUFDLEdBQUc7d0NBQ3pELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxvQkFBMEI7d0NBQ3RELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxxQkFBcUIsQ0FBQyxHQUFHO3dDQUUxRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkscUJBQTJCO3dDQUN2RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsc0JBQXNCLENBQUMsR0FBRzt3Q0FFM0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHlCQUErQjt3Q0FDM0Qsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDBCQUEwQixDQUFDLEdBQUc7d0NBQy9ELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSw2QkFBbUM7d0NBQy9ELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSw4QkFBOEIsQ0FBQyxHQUFHLENBQ3hEO29DQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFRO3dDQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxlQUFxQjt3Q0FDakQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGdCQUFzQjt3Q0FDbEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGlCQUFpQixDQUFDLEdBQUc7d0NBQ3RELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxpQkFBdUI7d0NBQ25ELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxHQUFHO3dDQUN2RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCO3dDQUNuRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsWUFBWSxDQUFDLEdBQUc7d0NBQ2pELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxtQkFBeUI7d0NBQ3JELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxZQUFZLENBQUMsR0FBRzt3Q0FDakQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFCQUEyQjt3Q0FDdkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGNBQWMsQ0FBQyxHQUFHLENBQ3hDLENBQ0QsQ0FDUCxDQUNFO3dCQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQkFBc0I7NEJBQ2xELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxXQUFpQjs0QkFDN0Msb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxHQUFHOzRCQUMzQyxvQkFBQyxDQUFDLENBQUMsSUFBSSw4Q0FBNkM7NEJBQ3BELG9CQUFDLENBQUMsQ0FBQyxJQUFJLDBDQUF5Qzs0QkFDaEQsb0JBQUMsQ0FBQyxDQUFDLElBQUksMkNBQTBDOzRCQUNqRCxvQkFBQyxDQUFDLENBQUMsSUFBSSxvQkFBbUI7NEJBQzFCLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7NEJBQ3ZELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxHQUFHOzRCQUN2RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkseUJBQStCOzRCQUMzRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsMEJBQTBCLENBQUMsR0FBRzs0QkFDL0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDJCQUFpQzs0QkFDN0Qsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLHdCQUF3QixDQUFDLEdBQUc7NEJBQzdELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQ0FBc0M7NEJBQ2xFLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxpQ0FBaUMsQ0FBQyxHQUFHOzRCQUN0RSxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksb0JBQTBCOzRCQUN0RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsaUJBQWlCLENBQUMsR0FBRzs0QkFDdEQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjs0QkFDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGVBQWUsQ0FBQyxHQUFHOzRCQUNwRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkscUJBQTJCOzRCQUN2RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLENBQUMsR0FBRzs0QkFDdkQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFCQUEyQjs0QkFDdkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGtCQUFrQixDQUFDLEdBQUcsQ0FDNUM7d0JBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7NEJBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLFlBQWtCOzRCQUM5QyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCOzRCQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsb0JBQW9CLENBQUMsR0FBRzs0QkFDekQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG9CQUEwQjs0QkFDdEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLHFCQUFxQixDQUFDLEdBQUc7NEJBQzFELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSwyQkFBaUM7NEJBQzdELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSw0QkFBNEIsQ0FBQyxHQUFHOzRCQUNqRSxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkseUJBQStCOzRCQUMzRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsMEJBQTBCLENBQUMsR0FBRzs0QkFDL0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDZCQUFtQzs0QkFDL0Qsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDhCQUE4QixDQUFDLEdBQUc7NEJBQ25FLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSx1QkFBNkI7NEJBQ3pELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxxQkFBcUIsQ0FBQyxHQUFHOzRCQUMxRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksZ0NBQXNDOzRCQUNsRSxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsaUNBQWlDLENBQUMsR0FBRzs0QkFDdEUsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDhCQUFvQzs0QkFDaEUsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDRCQUE0QixDQUFDLEdBQUc7NEJBQ2pFLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxvQ0FBMEM7NEJBQ3RFLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxxQ0FBcUMsQ0FBQyxHQUFHOzRCQUMxRSxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCOzRCQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsb0JBQW9CLENBQUMsR0FBRzs0QkFDekQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG9CQUEwQjs0QkFDdEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLHFCQUFxQixDQUFDLEdBQUc7NEJBQzFELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7NEJBQ3ZELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHLENBQ2hEO3dCQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxlQUFxQjs0QkFDakQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG1CQUF5Qjs0QkFDckQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxHQUFHOzRCQUMvQyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksNkRBQW1FOzRCQUMvRixvQkFBQyxDQUFDLENBQUMsSUFBSSxvREFBbUQ7NEJBQzFELG9CQUFDLENBQUMsQ0FBQyxJQUFJLGlCQUFnQjs0QkFDdkIsb0JBQUMsQ0FBQyxDQUFDLElBQUksMkRBQTBEOzRCQUNqRSxvQkFBQyxDQUFDLENBQUMsSUFBSSxlQUFjOzRCQUNyQixvQkFBQyxDQUFDLENBQUMsSUFBSSx5QkFBd0IsQ0FDcEI7d0JBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7NEJBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGNBQW9COzRCQUNoRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLEdBQUc7NEJBQzlDLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxZQUFrQjs0QkFDOUMsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGlCQUF1Qjs0QkFDbkQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHdCQUE4Qjs0QkFDMUQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3QixDQUN6Qzt3QkFDYixvQkFBQyxDQUFDLENBQUMsUUFBUTs0QkFDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksa0JBQXdCOzRCQUNwRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsYUFBYSxDQUFDLEdBQUc7NEJBQ2xELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxpQ0FBdUM7NEJBQ25FLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQkFBc0I7NEJBQ2xELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsR0FBRzs0QkFDaEQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG1CQUF5Qjs0QkFDckQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGVBQXFCOzRCQUNqRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsZ0JBQWdCLENBQUMsR0FBRzs0QkFDckQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFCQUEyQixDQUM1Qzt3QkFDYixvQkFBQyxDQUFDLENBQUMsUUFBUTs0QkFDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksZUFBcUI7NEJBQ2pELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsR0FBRzs0QkFDL0Msb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHlCQUErQjs0QkFDM0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLCtDQUFxRDs0QkFDakYsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDZDQUFtRDs0QkFDL0Usb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGFBQWEsQ0FBQyxHQUFHOzRCQUNsRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksa0JBQXdCOzRCQUNwRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsYUFBYSxDQUFDLEdBQUc7NEJBQ2xELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQkFBc0I7NEJBQ2xELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsR0FBRzs0QkFDaEQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFCQUEyQjs0QkFDdkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGdCQUFnQixDQUFDLEdBQUc7NEJBQ3JELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxpQkFBdUI7NEJBQ25ELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxZQUFZLENBQUMsR0FBRzs0QkFDakQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFCQUEyQjs0QkFDdkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGNBQWMsQ0FBQyxHQUFHLENBQ3hDO3dCQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxlQUFxQjs0QkFDakQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxHQUFHOzRCQUMvQyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksd0JBQThCOzRCQUMxRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCOzRCQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsYUFBYSxDQUFDLEdBQUc7NEJBQ2xELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSwwQkFBZ0M7NEJBQzVELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxzQkFBNEI7NEJBQ3hELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxpQkFBaUIsQ0FBQyxHQUFHOzRCQUN0RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksc0JBQTRCOzRCQUN4RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsaUJBQWlCLENBQUMsR0FBRyxDQUMzQzt3QkFDYixvQkFBQyxDQUFDLENBQUMsUUFBUTs0QkFDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksZ0JBQXNCLENBQ3ZDO3dCQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxpQkFBdUI7NEJBQ25ELG9CQUFDLENBQUMsQ0FBQyxJQUFJO2dDQUNMLG9CQUFDLENBQUMsQ0FBQyxPQUFPO29DQUNSLG9CQUFDLENBQUMsQ0FBQyxHQUFHLHFCQUFtQjtvQ0FDekIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsYUFBVztvQ0FDakIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsaUJBQWUsQ0FDWDtnQ0FFWixvQkFBQyxDQUFDLENBQUMsU0FBUztvQ0FDVixvQkFBQyxDQUFDLENBQUMsUUFBUTt3Q0FDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCO3dDQUNuRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsc0JBQXNCLENBQUMsR0FBRyxDQUNoRDtvQ0FDYixvQkFBQyxDQUFDLENBQUMsUUFBUTt3Q0FDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksU0FBZTt3Q0FDM0Msb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFHO3dDQUV6QyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksd0JBQThCO3dDQUMxRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksWUFBa0I7d0NBQzlDLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQkFBc0I7d0NBQ2xELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxzQkFBNEI7d0NBQ3hELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxZQUFrQixDQUNuQztvQ0FDYixvQkFBQyxDQUFDLENBQUMsUUFBUTt3Q0FDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksYUFBbUI7d0NBQy9DLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxHQUFHO3dDQUV2RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUNBQXlDO3dDQUNyRSxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCO3dDQUNuRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksMEJBQWdDLENBQ2pELENBQ0QsQ0FDUCxDQUNFO3dCQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxVQUFnQjs0QkFDNUMsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxHQUFHOzRCQUUxQyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksYUFBbUI7NEJBQy9DLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSwrQkFBcUM7NEJBQ2pFLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSw4Q0FBb0Q7NEJBQ2hGLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSx5QkFBK0I7NEJBQzNELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7NEJBRXZELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7NEJBQ3ZELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxvQkFBMEI7NEJBRXRELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxjQUFvQixDQUNyQzt3QkFDYixvQkFBQyxDQUFDLENBQUMsUUFBUTs0QkFDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksVUFBZ0I7NEJBQzVDLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUMvQixDQUNELENBQ1AsQ0FDSCxDQUNGLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBHbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgXG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZHMgPSAnQGRlZXAtZm91bmRhdGlvbi9zaXRlLWxpbmtzJztcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBnb0hhbmRsZXIsXG5cbiAgICBoYW5kbGVySWQsXG4gICAgQ29tcG9uZW50LFxuXG4gICAgbGlua0lkLFxuICAgIGxpbmssXG5cbiAgICBjaGlsZHJlbixcblxuICAgIC4uLnByb3BzXG4gIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICAgIGZvY3VzOiAoZyx2LGxpbmtJZCxvKSA9PiB7fSxcbiAgICAgICAgdXNlOiAoZyx2LG8pID0+IHt9LFxuICAgICAgICBvcGVuOiAoZyx2LHsgaWQsIHByZXZJZCwgaGFuZGxlcklkLCBmb2N1cyB9OiBhbnkgPSB7fSkgPT4ge30sXG4gICAgICAgIGNsb3NlOiAoZyx2LG8pID0+IHt9LFxuICAgICAgICBjb25jZW50cmF0ZTogKGcsdixvKSA9PiB7fSxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGMuQm94IHJlZj17cmVmfSBwb3NpdGlvbj0nYWJzb2x1dGUnIGg9JzEwMCUnIHc9JzEwMCUnIGxlZnQ9JzAnIHRvcD0nMCcgY29sb3I9J2RlZXBDb2xvcicgb3ZlcmZsb3dZPSdzY3JvbGwnIGNzcz17Z28ubm9TY3JvbGxCYXJ9PlxuICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoMScgc2l6ZT0nM3hsJyBjb2xvcj0nZGVlcENvbG9yQWN0aXZlJz5EZWVwLkZvdW5kYXRpb248L2MuSGVhZGluZz5cbiAgICAgICAgPGMuSGVhZGluZyBhcz0naDInIHNpemU9JzJ4bCc+TGFuZGluZzwvYy5IZWFkaW5nPlxuICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoMycgc2l6ZT0neGwnPkZlYXR1cmVzPC9jLkhlYWRpbmc+XG4gICAgICAgIDxjLkhlYWRpbmcgYXM9J2gzJyBzaXplPSd4bCc+Rm91bmRlcnMgYW5kIE1lbWJlcnM8L2MuSGVhZGluZz5cbiAgICAgICAgPGMuSGVhZGluZyBhcz0naDInIHNpemU9JzJ4bCc+UXVpY2sgc3RhcnQ8L2MuSGVhZGluZz5cbiAgICAgICAgPGMuSGVhZGluZyBhcz0naDInIHNpemU9JzJ4bCc+RG9jdW1lbnRhdGlvbjwvYy5IZWFkaW5nPlxuICAgICAgICA8Yy5UYWJzPlxuICAgICAgICAgIDxjLlRhYkxpc3Q+XG4gICAgICAgICAgICA8Yy5UYWI+TGlua3M8L2MuVGFiPlxuICAgICAgICAgICAgPGMuVGFiPkRlZXBMaW5rczwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+RGVlcENsaWVudDwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+TWluaWxpbmtzPC9jLlRhYj5cbiAgICAgICAgICAgIDxjLlRhYj5SZWFjdDwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+VHJhdmVsZXI8L2MuVGFiPlxuICAgICAgICAgICAgPGMuVGFiPlN0b3JhZ2U8L2MuVGFiPlxuICAgICAgICAgICAgPGMuVGFiPlBlcm1pc3Npb25zPC9jLlRhYj5cbiAgICAgICAgICAgIDxjLlRhYj5IYW5kbGVyczwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+UGFja2FnZXI8L2MuVGFiPlxuICAgICAgICAgICAgPGMuVGFiPkRlZXBDaGFpbjwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+UGVyY2VwdGlvbjwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+U0RLPC9jLlRhYj5cbiAgICAgICAgICA8L2MuVGFiTGlzdD5cbiAgICAgICAgXG4gICAgICAgICAgPGMuVGFiUGFuZWxzPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+TGlua3M8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0xpbmtTdHJ1Y3R1cmUnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPkxpbmsgdHlwaW5nPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+TGluayByZWxhdGlvbnM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5MaW5rIHRyZWVzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+U3ViamVjdGl2aXR5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+UGVybWlzc2lvbnM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5IYW5kbGVyczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+RGVlcExpbmtzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLlRhYnM+XG4gICAgICAgICAgICAgICAgPGMuVGFiTGlzdD5cbiAgICAgICAgICAgICAgICAgIDxjLlRhYj5hcmNoaXRlY3R1cmU8L2MuVGFiPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiPm5weCBAZGVlcC1mb3VuZGF0aW9uL2RlZXBsaW5rczwvYy5UYWI+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+ZG9ja2VyIGNvbXBvc2U8L2MuVGFiPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiPmt1YmVybmV0ZXM8L2MuVGFiPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiPnNvdXJjZSBjb2RlPC9jLlRhYj5cbiAgICAgICAgICAgICAgICA8L2MuVGFiTGlzdD5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGMuVGFiUGFuZWxzPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+YXJjaGl0ZWN0dXJlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwTGlua3NEb2NrZXJBcmNoaXRlY3R1cmUnXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+bnB4IEBkZWVwLWZvdW5kYXRpb24vZGVlcGxpbmtzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwTGlua3NOcHgnXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZG9ja2VyIGNvbXBvc2U8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBMaW5rc0RvY2tlckNvbXBvc2UnXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+a3ViZXJuZXRlczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+c291cmNlIGNvZGU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBMaW5rc0RvY2tlclNvdXJjZUNvZGUnXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgIDwvYy5UYWJQYW5lbHM+XG4gICAgICAgICAgICAgIDwvYy5UYWJzPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+RGVlcENsaWVudDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Yy5UYWJzPlxuICAgICAgICAgICAgICAgIDxjLlRhYkxpc3Q+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+b3BlcmF0aW9uczwvYy5UYWI+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+YXV0aG9yaXphdGlvbjwvYy5UYWI+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+c2hvcnRzPC9jLlRhYj5cbiAgICAgICAgICAgICAgICAgIDxjLlRhYj5yZWFjdDwvYy5UYWI+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+aGFuZGxlcnM8L2MuVGFiPlxuICAgICAgICAgICAgICAgIDwvYy5UYWJMaXN0PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8Yy5UYWJQYW5lbHM+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWJQYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J21kJz5vcGVyYXRpb25zPC9jLkhlYWRpbmc+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnNlbGVjdDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC5zZWxlY3QnXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuc3Vic2NyaWJlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnN1YnNjcmliZSddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5pbnNlcnQ8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuaW5zZXJ0J119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVwZGF0ZTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51cGRhdGUnXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuZGVsZXRlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LmRlbGV0ZSddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnZhbHVlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnZhbHVlJ119Lz5cblxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuc2VhcmNoPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnNlYXJjaCddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g2JyBzaXplPSd4cyc+ZGVlcC51c2VTZWFyY2g8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlU2VhcmNoJ119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDYnIHNpemU9J3hzJz5kZWVwLnNlYXJjaFF1ZXJ5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnNlYXJjaFF1ZXJ5J119Lz5cblxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNicgc2l6ZT0neHMnPmRlZXAuc2VyaWFsaXplUXVlcnk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuc2VyaWFsaXplUXVlcnknXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdtZCc+YXV0aG9yaXphdGlvbjwvYy5IZWFkaW5nPlxuXG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5qd3Q8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuand0J119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLmxvZ2luPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LmxvZ2luJ119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLmxvZ291dDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC5sb2dvdXQnXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuZ3Vlc3Q8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuZ3Vlc3QnXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+c2hvcnRzPC9jLkhlYWRpbmc+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLmlkPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LmlkJ119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDYnIHNpemU9J3hzJz5kZWVwLmlkTG9jYWw8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuaWRMb2NhbCddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+ZGVlcC51c2VJZDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VJZCddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLm5hbWU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQubmFtZSddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g2JyBzaXplPSd4cyc+ZGVlcC5uYW1lTG9jYWw8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQubmFtZUxvY2FsJ119Lz5cblxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuc3ltYm9sPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnN5bWJvbCddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g2JyBzaXplPSd4cyc+ZGVlcC5zeW1ib2xMb2NhbDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC5zeW1ib2xMb2NhbCddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLmdldDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC5nZXQnXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmxpbmsudG9QbGFpbjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnTGluay50b1BsYWluJ119Lz5cbiAgICAgICAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPnJlYWN0PC9jLkhlYWRpbmc+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZURlZXA8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlRGVlcCddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZVN1YnNjcmlwdGlvbjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VTdWJzY3JpcHRpb24nXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNicgc2l6ZT0neHMnPmRlZXAudXNlTG9jYWxTdWJzY3JpcHRpb248L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTG9jYWxTdWJzY3JpcHRpb24nXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNicgc2l6ZT0neHMnPmRlZXAudXNlTWluaWxpbmtzU3Vic2NyaXB0aW9uPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZU1pbmlsaW5rc1N1YnNjcmlwdGlvbiddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZVF1ZXJ5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZVF1ZXJ5J119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDYnIHNpemU9J3hzJz5kZWVwLnVzZUxvY2FsUXVlcnk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTG9jYWxRdWVyeSddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g2JyBzaXplPSd4cyc+ZGVlcC51c2VNaW5pbGlua3NRdWVyeTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VNaW5pbGlua3NRdWVyeSddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZUxpbms8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTGluayddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VMaW5rczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VMaW5rcyddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZVNlYXJjaDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VTZWFyY2gnXX0vPlxuXG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VMb2NhbEFwcGx5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZUxvY2FsQXBwbHknXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0neHMnPmRlZXAudXNlTWluaWxpbmtzQXBwbHk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTWluaWxpbmtzQXBwbHknXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+aGFuZGxlcnM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLmV2YWw8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuZXZhbCddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5hd2FpdDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC5hd2FpdCddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g2JyBzaXplPSd4cyc+Z28uSGFuZGxlcjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnR28uSGFuZGxlciddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5yZXNlcnZlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdHby5yZXNlcnZlJ119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnN0cmluZ2lmeTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnR28uc3RyaW5naWZ5J119Lz5cbiAgICAgICAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgICAgICA8L2MuVGFiUGFuZWxzPlxuICAgICAgICAgICAgICA8L2MuVGFicz5cbiAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNCcgc2l6ZT0nbWQnPk1pbmlsaW5rczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPkxpbms8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0xpbmsnXX0vPlxuICAgICAgICAgICAgICA8Yy5UZXh0Pi5pZCAudHlwZV9pZCAuZnJvbV9pZCAudG9faWQgLnZhbHVlPC9jLlRleHQ+XG4gICAgICAgICAgICAgIDxjLlRleHQ+LnR5cGUgLnR5cGVkIC5mcm9tIC5vdXQgLnRvIC5pbjwvYy5UZXh0PlxuICAgICAgICAgICAgICA8Yy5UZXh0Pi5uYW1lIC5zeW1ib2wgLnRvU3RyaW5nIC52YWx1ZU9mPC9jLlRleHQ+XG4gICAgICAgICAgICAgIDxjLlRleHQ+LnRyYXZlbGVyPC9jLlRleHQ+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5tbC5zZWxlY3Q8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ01pbmlsaW5rcy5zZWxlY3QnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAudXNlTG9jYWxRdWVyeTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VMb2NhbFF1ZXJ5J119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLm1sLnN1YnNjcmlwdGlvbjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnTWluaWxpbmtzLnN1YnNjcmlwdGlvbiddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VMb2NhbFN1YnNjcmlwdGlvbjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VMb2NhbFN1YnNjcmlwdGlvbiddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5tbC5hcHBseTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnTWluaWxpbmtzLmFwcGx5J119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLm1sLmFkZDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnTWluaWxpbmtzLmFkZCddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5tbC51cGRhdGU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ01pbmlsaW5rcy51cGRhdGUnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAubWwucmVtb3ZlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdNaW5pbGlua3MucmVtb3ZlJ119Lz5cbiAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNCcgc2l6ZT0nbWQnPlJlYWN0PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VEZWVwPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZURlZXAnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAudXNlUXVlcnk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlUXVlcnknXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAudXNlU3Vic2NyaXB0aW9uPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZVN1YnNjcmlwdGlvbiddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VMb2NhbFF1ZXJ5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZUxvY2FsUXVlcnknXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0neHMnPmRlZXAudXNlTWluaWxpbmtzUXVlcnk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTWluaWxpbmtzUXVlcnknXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0neHMnPmRlZXAubWwudXNlUXVlcnk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlUXVlcnknXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAudXNlTG9jYWxTdWJzY3JpcHRpb248L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTG9jYWxTdWJzY3JpcHRpb24nXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0neHMnPmRlZXAubWwudXNlU3Vic2NyaXB0aW9uPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZVN1YnNjcmlwdGlvbiddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+ZGVlcC51c2VNaW5pbGlua3NTdWJzY3JpcHRpb248L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTWluaWxpbmtzU3Vic2NyaXB0aW9uJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZUxpbms8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTGluayddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VMaW5rczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VMaW5rcyddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VTZWFyY2g8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlU2VhcmNoJ119Lz5cbiAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNCcgc2l6ZT0nbWQnPlRyYXZlbGVyPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+bmV3IFRyYXZlbGVyPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdUcmF2ZWxlciddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+YXZhaWxhYmxlIGZyb20gcmVzdWx0cy50cmF2ZWwoKSBhbmQgZWFjaCBsaW5rLnRyYXZlbCgpPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLlRleHQ+LnR5cGUgLnR5cGVkIC5mcm9tIC5vdXQgLnRvIC5pbiAudXAgLmRvd248L2MuVGV4dD5cbiAgICAgICAgICAgICAgPGMuVGV4dD4ucXVlcnk8L2MuVGV4dD5cbiAgICAgICAgICAgICAgPGMuVGV4dD4uc2VsZWN0IC5zdWJzY3JpcHRpb24gLmNvdW50IC5zdW0gLmF2ZyAubWluIC5tYXg8L2MuVGV4dD5cbiAgICAgICAgICAgICAgPGMuVGV4dD4uYW5kPC9jLlRleHQ+XG4gICAgICAgICAgICAgIDxjLlRleHQ+LmxvY2FsIC5yZW1vdGU8L2MuVGV4dD5cbiAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNCcgc2l6ZT0nbWQnPlN0b3JhZ2U8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ1N0b3JhZ2UnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPi9maWxlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC52YWx1ZTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuaW5zZXJ0IGZpbGU6PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+Z28uRHJvcFpvbmU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNCcgc2l6ZT0nbWQnPlBlcm1pc3Npb25zPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdQZXJtaXNzaW9ucyddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+UnVsZSBPYmplY3QgU3ViamVjdCBBY3Rpb248L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5TZWxlY3RvcnM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ1NlbGVjdG9ycyddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+RmlsdGVyIFF1ZXJ5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5jYW48L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuY2FuJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5jdXN0b20gYWN0aW9uczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+SGFuZGxlcnM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0hhbmRsZXJzJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5TdXBwb3J0cyBzdHJ1Y3R1cmU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5Bc3luYyBEb2NrZXIsIFN5bmMgUExWOCwgQ2xpZW50IGhhbmRsZXJzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+SGFuZGxlSW5zZXJ0IEhhbmRsZVVwZGF0ZSBIYW5kbGVEZWxldGU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0hhbmRsZUxpbmtzJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5IYW5kbGVSb3V0ZTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnSGFuZGxlUm91dGUnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPkhhbmRsZUdxbDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnSGFuZGxlR3FsJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5IYW5kbGVTY2hlZHVsZTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnSGFuZGxlU2NoZWR1bGUnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPkhhbmRsZVBvcnQ8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0hhbmRsZVBvcnQnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmN1c3RvbSBoYW5kbGVzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdDdXN0b21IYW5kbGUnXX0vPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+UGFja2FnZXI8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ1BhY2thZ2VyJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5QYWNrYWdlIHN0cnVjdHVyZTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPm5wbSBwYWNrYWdlczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnUGFja2FnZXJOcG0nXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuY2hhaW4gcGFja2FnZXM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5wYWNrYWdlci5pbXBvcnQ8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ1BhY2thZ2VyLmltcG9ydCddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+cGFja2FnZXIuZXhwb3J0PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdQYWNrYWdlci5leHBvcnQnXX0vPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+RGVlcENoYWluPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICA8L2MuVGFiUGFuZWw+XG4gICAgICAgICAgICA8Yy5UYWJQYW5lbD5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDQnIHNpemU9J21kJz5QZXJjZXB0aW9uPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLlRhYnM+XG4gICAgICAgICAgICAgICAgPGMuVGFiTGlzdD5cbiAgICAgICAgICAgICAgICAgIDxjLlRhYj5jb25jZXB0aW9uPC9jLlRhYj5cbiAgICAgICAgICAgICAgICAgIDxjLlRhYj5nbzwvYy5UYWI+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+YnVpbGRzPC9jLlRhYj5cbiAgICAgICAgICAgICAgICA8L2MuVGFiTGlzdD5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGMuVGFiUGFuZWxzPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdtZCc+Y29uY2VwdGlvbjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnUGVyY2VwdGlvbkNvbmNlcHRpb24nXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdtZCc+Z288L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0dvJ119Lz5cblxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmdvLmxpbmtJZCBnby5saW5rPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+Z28uZ288L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5nby5wYXJlbnQ8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5nby52YWx1ZSBnby5zZXQ8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5nby5kbzwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+YnVpbGRzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdQZXJjZXB0aW9uQnVpbGRzJ119Lz5cblxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0neHMnPmFueSBjb21wb25lbnQgYXMgYXBwbGljYXRpb248L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3hzJz5wdWJsaXNoaW5nPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+YWxyZWFkeSB3aXRoIG1lbW9yeTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgIDwvYy5UYWJQYW5lbHM+XG4gICAgICAgICAgICAgIDwvYy5UYWJzPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+U0RLPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdTREsnXX0vPlxuXG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdtZCc+bWFudWFsPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+TmV4dEpTIHN0YXRpYy9zZXJ2ZXIvZGV2PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+Q2FwYWNpdG9yIEFuZHJvaWQvaU9TL1dpbmRvd3MvTGludXgvTWF4PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+YnJvd3Nlci1leHRlbnNpb25zPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+Tm9kZU9TIGJ1dGFibGU8L2MuSGVhZGluZz5cblxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nbWQnPmdpdGh1YiBhY3Rpb25zPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcCBoYW5kbGVyczwvYy5IZWFkaW5nPlxuXG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+cHJlbG9hZDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+R1FMPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdHUUwnXX0vPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgIDwvYy5UYWJQYW5lbHM+XG4gICAgICAgIDwvYy5UYWJzPlxuICAgICAgPC9jLkJveD5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1474
      }
    },
    {
      "id": 1475,
      "type_id": 3,
      "from_id": 934,
      "to_id": 1474,
      "value": {
        "id": 482,
        "value": "generated",
        "link_id": 1475
      }
    },
    {
      "id": 1476,
      "type_id": 143,
      "from_id": 1474,
      "to_id": 934
    },
    {
      "id": 1477,
      "type_id": 3,
      "from_id": 934,
      "to_id": 1476
    },
    {
      "id": 935,
      "type_id": 35,
      "from_id": 145,
      "to_id": 934
    },
    {
      "id": 936,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 484,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n  const c = require('@chakra-ui/react');\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n\n    ...props\n  }, ref) => {\n    return <go.On\n      do={{\n      }}\n    >\n      <c.Box ref={ref} h='3em'>{`${go}`}</c.Box>\n    </go.On>;\n  };\n}",
        "link_id": 936
      }
    },
    {
      "id": 1051,
      "type_id": 3,
      "from_id": 948,
      "to_id": 909,
      "value": {
        "id": 598,
        "value": "PlanetOperationsComponent",
        "link_id": 1051
      }
    },
    {
      "id": 1052,
      "type_id": 3,
      "from_id": 948,
      "to_id": 912,
      "value": {
        "id": 599,
        "value": "Queries",
        "link_id": 1052
      }
    },
    {
      "id": 1053,
      "type_id": 3,
      "from_id": 948,
      "to_id": 911,
      "value": {
        "id": 600,
        "value": "QueriesComponent",
        "link_id": 1053
      }
    },
    {
      "id": 1054,
      "type_id": 3,
      "from_id": 948,
      "to_id": 914,
      "value": {
        "id": 601,
        "value": "useTheme",
        "link_id": 1054
      }
    },
    {
      "id": 1055,
      "type_id": 3,
      "from_id": 948,
      "to_id": 913,
      "value": {
        "id": 602,
        "value": "useThemeHook",
        "link_id": 1055
      }
    },
    {
      "id": 1056,
      "type_id": 3,
      "from_id": 948,
      "to_id": 916,
      "value": {
        "id": 603,
        "value": "QueriesGQL",
        "link_id": 1056
      }
    },
    {
      "id": 1057,
      "type_id": 3,
      "from_id": 948,
      "to_id": 915,
      "value": {
        "id": 604,
        "value": "QueriesGQLComponent",
        "link_id": 1057
      }
    },
    {
      "id": 1058,
      "type_id": 3,
      "from_id": 948,
      "to_id": 919,
      "value": {
        "id": 605,
        "value": "QueriesReact",
        "link_id": 1058
      }
    },
    {
      "id": 1059,
      "type_id": 3,
      "from_id": 948,
      "to_id": 918,
      "value": {
        "id": 606,
        "value": "QueriesReactComponent",
        "link_id": 1059
      }
    },
    {
      "id": 1060,
      "type_id": 3,
      "from_id": 948,
      "to_id": 922,
      "value": {
        "id": 607,
        "value": "QueriesResults",
        "link_id": 1060
      }
    },
    {
      "id": 1061,
      "type_id": 3,
      "from_id": 948,
      "to_id": 921,
      "value": {
        "id": 608,
        "value": "QueriesResultsComponent",
        "link_id": 1061
      }
    },
    {
      "id": 1,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 2,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 4,
      "type_id": 1,
      "from_id": 8,
      "to_id": 1
    },
    {
      "id": 5,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 6,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 7,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 8,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 9,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 10,
      "type_id": 1,
      "from_id": 8,
      "to_id": 9
    },
    {
      "id": 11,
      "type_id": 1,
      "from_id": 9,
      "to_id": 8
    },
    {
      "id": 12,
      "type_id": 1,
      "from_id": 9,
      "to_id": 8
    },
    {
      "id": 13,
      "type_id": 4,
      "from_id": 1,
      "to_id": 5
    },
    {
      "id": 14,
      "type_id": 4,
      "from_id": 2,
      "to_id": 5
    },
    {
      "id": 15,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 16,
      "type_id": 1,
      "from_id": 15,
      "to_id": 8
    },
    {
      "id": 17,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 18,
      "type_id": 1,
      "from_id": 17,
      "to_id": 15
    },
    {
      "id": 19,
      "type_id": 1,
      "from_id": 17,
      "to_id": 15
    },
    {
      "id": 20,
      "type_id": 1,
      "from_id": 17,
      "to_id": 15
    },
    {
      "id": 21,
      "type_id": 4,
      "from_id": 3,
      "to_id": 5
    },
    {
      "id": 22,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 23,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 24,
      "type_id": 4,
      "from_id": 23,
      "to_id": 5
    },
    {
      "id": 25,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 26,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 27,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 28,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 29,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 30,
      "type_id": 29,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 31,
      "type_id": 4,
      "from_id": 30,
      "to_id": 5
    },
    {
      "id": 32,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 33,
      "type_id": 32,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 34,
      "type_id": 1,
      "from_id": 1,
      "to_id": 8
    },
    {
      "id": 35,
      "type_id": 1,
      "from_id": 82,
      "to_id": 8
    },
    {
      "id": 36,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 37,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 38,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 39,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 40,
      "type_id": 36,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 41,
      "type_id": 37,
      "from_id": 40,
      "to_id": 3
    },
    {
      "id": 42,
      "type_id": 39,
      "from_id": 40,
      "to_id": 8
    },
    {
      "id": 43,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 44,
      "type_id": 4,
      "from_id": 43,
      "to_id": 5
    },
    {
      "id": 45,
      "type_id": 1,
      "from_id": 43,
      "to_id": 2
    },
    {
      "id": 46,
      "type_id": 1,
      "from_id": 43,
      "to_id": 2
    },
    {
      "id": 47,
      "type_id": 4,
      "from_id": 46,
      "to_id": 5
    },
    {
      "id": 48,
      "type_id": 1,
      "from_id": 1,
      "to_id": 1
    },
    {
      "id": 49,
      "type_id": 48,
      "from_id": 8,
      "to_id": 35
    },
    {
      "id": 50,
      "type_id": 48,
      "from_id": 8,
      "to_id": 35
    },
    {
      "id": 51,
      "type_id": 48,
      "from_id": 8,
      "to_id": 35
    },
    {
      "id": 52,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 53,
      "type_id": 4,
      "from_id": 52,
      "to_id": 7
    },
    {
      "id": 54,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 55,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 56,
      "type_id": 4,
      "from_id": 55,
      "to_id": 7
    },
    {
      "id": 57,
      "type_id": 29,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 58,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 59,
      "type_id": 4,
      "from_id": 58,
      "to_id": 7
    },
    {
      "id": 60,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 61,
      "type_id": 4,
      "from_id": 60,
      "to_id": 7
    },
    {
      "id": 62,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 63,
      "type_id": 4,
      "from_id": 62,
      "to_id": 5
    },
    {
      "id": 64,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 65,
      "type_id": 8,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 66,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 67,
      "type_id": 36,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 68,
      "type_id": 38,
      "from_id": 67,
      "to_id": 66
    },
    {
      "id": 69,
      "type_id": 39,
      "from_id": 67,
      "to_id": 8
    },
    {
      "id": 70,
      "type_id": 1,
      "from_id": 8,
      "to_id": 36
    },
    {
      "id": 71,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 72,
      "type_id": 1,
      "from_id": 15,
      "to_id": 8
    },
    {
      "id": 73,
      "type_id": 1,
      "from_id": 15,
      "to_id": 58
    },
    {
      "id": 74,
      "type_id": 48,
      "from_id": 8,
      "to_id": 35
    },
    {
      "id": 75,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 76,
      "type_id": 4,
      "from_id": 75,
      "to_id": 5
    },
    {
      "id": 77,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 1,
        "value": "Router",
        "link_id": 77
      }
    },
    {
      "id": 78,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 79,
      "type_id": 78,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 80,
      "type_id": 4,
      "from_id": 79,
      "to_id": 5
    },
    {
      "id": 81,
      "type_id": 79,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 2,
        "value": "deepf/js-docker-isolation-provider:main",
        "link_id": 81
      }
    },
    {
      "id": 82,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 83,
      "type_id": 82,
      "from_id": 81,
      "to_id": 33
    },
    {
      "id": 84,
      "type_id": 1,
      "from_id": 8,
      "to_id": 97
    },
    {
      "id": 85,
      "type_id": 1,
      "from_id": 2,
      "to_id": 97
    },
    {
      "id": 86,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 3,
        "value": "\nasync ({ deep, require, gql, data: { newLink } }) => {\n  const { data: [pq] } = await deep.select({ id: newLink.to_id });\n  const { data: { packager_install: imported }, error } = await deep.apolloClient.query({\n    query: gql`query PACKAGE_INSTALL($address: String!) {\n      packager_install(input: { address: $address }) {\n        ids\n        packageId\n        errors\n      }\n    }`,\n    variables: {\n      address: pq?.value?.value,\n    },\n  });\n  if (error) throw error;\n  if (imported?.errors?.length) throw imported.errors;\n  await deep.insert({\n    type_id: deep.idLocal('@deep-foundation/core', 'Contain'),\n    from_id: newLink.from_id,\n    to_id: imported.packageId,\n  });\n  return imported;\n}\n    ",
        "link_id": 86
      }
    },
    {
      "id": 87,
      "type_id": 35,
      "from_id": 83,
      "to_id": 86
    },
    {
      "id": 88,
      "type_id": 49,
      "from_id": 84,
      "to_id": 87
    },
    {
      "id": 89,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 4,
        "value": "\nasync ({ deep, require, gql, data: { newLink } }) => {\n  const { data: [pq] } = await deep.select({ id: newLink.to_id });\n  const { data: { packager_publish: exported }, error } = await deep.apolloClient.query({\n    query: gql`query PACKAGE_PUBLISH($address: String!, $id: Int) {\n      packager_publish(input: { address: $address, id: $id }) {\n        address\n        errors\n      }\n    }`,\n    variables: {\n      address: pq?.value?.value,\n      id: newLink.from_id,\n    },\n  });\n  if (error) throw error;\n  if (exported?.errors?.length) throw exported.errors;\n  return exported;\n}\n    ",
        "link_id": 89
      }
    },
    {
      "id": 90,
      "type_id": 35,
      "from_id": 83,
      "to_id": 89
    },
    {
      "id": 91,
      "type_id": 49,
      "from_id": 85,
      "to_id": 90
    },
    {
      "id": 92,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 93,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 94,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 95,
      "type_id": 1,
      "from_id": 9,
      "to_id": 8
    },
    {
      "id": 96,
      "type_id": 4,
      "from_id": 95,
      "to_id": 5
    },
    {
      "id": 97,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 98,
      "type_id": 4,
      "from_id": 97,
      "to_id": 5
    },
    {
      "id": 99,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 5,
        "value": "Port",
        "link_id": 99
      }
    },
    {
      "id": 100,
      "type_id": 4,
      "from_id": 99,
      "to_id": 6
    },
    {
      "id": 101,
      "type_id": 48,
      "from_id": 99,
      "to_id": 8
    },
    {
      "id": 102,
      "type_id": 1,
      "from_id": 2,
      "to_id": 97
    },
    {
      "id": 103,
      "type_id": 1,
      "from_id": 2,
      "to_id": 97
    },
    {
      "id": 104,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 105,
      "type_id": 1,
      "from_id": 77,
      "to_id": 99
    },
    {
      "id": 106,
      "type_id": 1,
      "from_id": 104,
      "to_id": 77
    },
    {
      "id": 107,
      "type_id": 4,
      "from_id": 106,
      "to_id": 5
    },
    {
      "id": 108,
      "type_id": 48,
      "from_id": 104,
      "to_id": 35
    },
    {
      "id": 109,
      "type_id": 36,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 110,
      "type_id": 39,
      "from_id": 109,
      "to_id": 99
    },
    {
      "id": 111,
      "type_id": 39,
      "from_id": 109,
      "to_id": 77
    },
    {
      "id": 112,
      "type_id": 39,
      "from_id": 109,
      "to_id": 104
    },
    {
      "id": 113,
      "type_id": 39,
      "from_id": 109,
      "to_id": 35
    },
    {
      "id": 114,
      "type_id": 38,
      "from_id": 109,
      "to_id": 105
    },
    {
      "id": 115,
      "type_id": 38,
      "from_id": 109,
      "to_id": 106
    },
    {
      "id": 116,
      "type_id": 37,
      "from_id": 109,
      "to_id": 108
    },
    {
      "id": 117,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 118,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 119,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 120,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 121,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 122,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 123,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 124,
      "type_id": 34,
      "from_id": 36,
      "to_id": 8
    },
    {
      "id": 125,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 126,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 127,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 128,
      "type_id": 23,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 129,
      "type_id": 36,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 130,
      "type_id": 39,
      "from_id": 129,
      "to_id": 17
    },
    {
      "id": 131,
      "type_id": 37,
      "from_id": 129,
      "to_id": 20
    },
    {
      "id": 132,
      "type_id": 37,
      "from_id": 129,
      "to_id": 19
    },
    {
      "id": 133,
      "type_id": 37,
      "from_id": 129,
      "to_id": 18
    },
    {
      "id": 134,
      "type_id": 39,
      "from_id": 129,
      "to_id": 15
    },
    {
      "id": 135,
      "type_id": 39,
      "from_id": 129,
      "to_id": 58
    },
    {
      "id": 136,
      "type_id": 37,
      "from_id": 129,
      "to_id": 16
    },
    {
      "id": 137,
      "type_id": 37,
      "from_id": 129,
      "to_id": 72
    },
    {
      "id": 138,
      "type_id": 37,
      "from_id": 129,
      "to_id": 73
    },
    {
      "id": 139,
      "type_id": 78,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 140,
      "type_id": 32,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 141,
      "type_id": 82,
      "from_id": 139,
      "to_id": 140
    },
    {
      "id": 142,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 143,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 144,
      "type_id": 78,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 145,
      "type_id": 82,
      "from_id": 144,
      "to_id": 33
    },
    {
      "id": 146,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 147,
      "type_id": 4,
      "from_id": 146,
      "to_id": 5
    },
    {
      "id": 148,
      "type_id": 120,
      "from_id": 40,
      "to_id": 146
    },
    {
      "id": 149,
      "type_id": 123,
      "from_id": 40,
      "to_id": 10
    },
    {
      "id": 150,
      "type_id": 123,
      "from_id": 40,
      "to_id": 11
    },
    {
      "id": 151,
      "type_id": 123,
      "from_id": 40,
      "to_id": 12
    },
    {
      "id": 152,
      "type_id": 36,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 153,
      "type_id": 38,
      "from_id": 152,
      "to_id": 35
    },
    {
      "id": 154,
      "type_id": 118,
      "from_id": 152,
      "to_id": 82
    },
    {
      "id": 155,
      "type_id": 38,
      "from_id": 152,
      "to_id": 48
    },
    {
      "id": 156,
      "type_id": 48,
      "from_id": 8,
      "to_id": 35
    },
    {
      "id": 157,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 158,
      "type_id": 4,
      "from_id": 157,
      "to_id": 7
    },
    {
      "id": 159,
      "type_id": 1,
      "from_id": 157,
      "to_id": 8
    },
    {
      "id": 160,
      "type_id": 1,
      "from_id": 157,
      "to_id": 8
    },
    {
      "id": 161,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 162,
      "type_id": 161,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 163,
      "type_id": 1,
      "from_id": 161,
      "to_id": 108
    },
    {
      "id": 164,
      "type_id": 1,
      "from_id": 82,
      "to_id": 48
    },
    {
      "id": 165,
      "type_id": 164,
      "from_id": 141,
      "to_id": 49
    },
    {
      "id": 166,
      "type_id": 164,
      "from_id": 141,
      "to_id": 50
    },
    {
      "id": 167,
      "type_id": 164,
      "from_id": 141,
      "to_id": 51
    },
    {
      "id": 168,
      "type_id": 164,
      "from_id": 83,
      "to_id": 49
    },
    {
      "id": 169,
      "type_id": 164,
      "from_id": 83,
      "to_id": 50
    },
    {
      "id": 170,
      "type_id": 164,
      "from_id": 83,
      "to_id": 51
    },
    {
      "id": 171,
      "type_id": 164,
      "from_id": 83,
      "to_id": 74
    },
    {
      "id": 172,
      "type_id": 164,
      "from_id": 83,
      "to_id": 101
    },
    {
      "id": 173,
      "type_id": 164,
      "from_id": 83,
      "to_id": 108
    },
    {
      "id": 174,
      "type_id": 164,
      "from_id": 145,
      "to_id": 156
    },
    {
      "id": 214,
      "type_id": 3,
      "from_id": 184,
      "to_id": 30,
      "value": {
        "id": 36,
        "value": "SyncTextFile",
        "link_id": 214
      }
    },
    {
      "id": 215,
      "type_id": 3,
      "from_id": 184,
      "to_id": 31,
      "value": {
        "id": 37,
        "value": "syncTextFileValue",
        "link_id": 215
      }
    },
    {
      "id": 321,
      "type_id": 3,
      "from_id": 184,
      "to_id": 137,
      "value": {
        "id": 143,
        "value": "ruleTreeRuleSelectorExclude",
        "link_id": 321
      }
    },
    {
      "id": 322,
      "type_id": 3,
      "from_id": 184,
      "to_id": 138,
      "value": {
        "id": 144,
        "value": "ruleTreeRuleSelectorFilter",
        "link_id": 322
      }
    },
    {
      "id": 323,
      "type_id": 3,
      "from_id": 184,
      "to_id": 139,
      "value": {
        "id": 145,
        "value": "Plv8IsolationProvider",
        "link_id": 323
      }
    },
    {
      "id": 585,
      "type_id": 146,
      "from_id": 559,
      "to_id": 85,
      "value": {
        "id": 229,
        "value": "📤",
        "link_id": 585
      }
    },
    {
      "id": 595,
      "type_id": 146,
      "from_id": 559,
      "to_id": 73,
      "value": {
        "id": 239,
        "value": "🔎",
        "link_id": 595
      }
    },
    {
      "id": 653,
      "type_id": 146,
      "from_id": 559,
      "to_id": 12,
      "value": {
        "id": 297,
        "value": "🔴",
        "link_id": 653
      }
    },
    {
      "id": 1303,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 426,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const { BsX, BsCheck2, BsXLg, BsDatabase, BsRegex } = require('react-icons/bs');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const { useAsyncMemo } = require('use-async-memo');\n    const c = require('@chakra-ui/react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const V = deep.idLocal(dc, 'Value');\n    const S = deep.idLocal(dc, 'String');\n    const N = deep.idLocal(dc, 'Number');\n    const O = deep.idLocal(dc, 'Object');\n    const F = deep.idLocal(dc, 'File');\n    const Any = deep.idLocal(dc, 'Any');\n    return ({ go, defaultContainerId, defaultTypeId, defaultFromId, defaultToId, customInsert: _customInsert = {}, onInsert, disclosure, }, ref) => {\n        if (!disclosure)\n            throw new Error('!disclosure');\n        const [name, setName] = React.useState('');\n        const customInsert = React.useMemo(() => {\n            return typeof (_customInsert) == 'function' ? _customInsert({ name }) : _customInsert;\n        }, [_customInsert, name]);\n        const [typeId, setTypeId] = React.useState(defaultTypeId || (deep.isId(customInsert?.type_id) ? customInsert?.type_id : deep.isId(customInsert?.type) ? customInsert?.type : undefined));\n        const [fromId, setFromId] = React.useState(defaultFromId || (deep.isId(customInsert?.from_id) ? customInsert?.from_id : deep.isId(customInsert?.from) ? customInsert?.from : undefined));\n        const [toId, setToId] = React.useState(defaultToId || (deep.isId(customInsert?.to_id) ? customInsert?.to_id : deep.isId(customInsert?.to) ? customInsert?.to : undefined));\n        const [containerId, setContainerId] = React.useState(defaultContainerId || (deep.isId(customInsert?.containerId) ? customInsert?.containerId : undefined));\n        const type = React.useMemo(() => typeId ? deep.get(+typeId) : null, [typeId]);\n        const prevTypeBasedNameRef = React.useRef();\n        React.useEffect(() => {\n            if (!type)\n                return;\n            const tn = _.lowerFirst(type?.name);\n            if (!name || name === prevTypeBasedNameRef.current) {\n                prevTypeBasedNameRef.current = tn;\n                setName(tn);\n            }\n        }, [type]);\n        const from = React.useMemo(() => fromId ? deep.get(+fromId) : null, [fromId]);\n        const to = React.useMemo(() => toId ? deep.get(+toId) : null, [toId]);\n        const [value, setValue] = React.useState();\n        const tV = useAsyncMemo(async () => {\n            return typeId ? (await deep.select({ type_id: V, from_id: +typeId }))?.data?.[0]?.to_id : undefined;\n        }, [type]);\n        const { isValid, validated } = React.useMemo(() => {\n            try {\n                if (tV === S)\n                    return { validated: value, isValid: true };\n                if (tV === N)\n                    return { validated: +value, isValud: typeof (validated) === 'number' && !Number.isNaN(validated) };\n                if (tV === O)\n                    return { validated: JSON.parse(value), isValid: true };\n                if (!tV)\n                    return { validated: value, isValid: true };\n            }\n            catch (e) { }\n            return { validated: value, isValid: false };\n        }, [value, tV]);\n        const [v, setV] = React.useState();\n        const AllowAdmin = useAsyncMemo(async () => {\n            return await deep.can(deep.linkId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowAdmin'));\n        }, [], false);\n        const AllowInsertType = useAsyncMemo(async () => {\n            return !typeId ? false : await deep.can(+typeId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowInsertType'));\n        }, [typeId], false);\n        const can = AllowInsertType || AllowAdmin;\n        const insertQuery = type ? {\n            ...customInsert,\n            type_id: type.id,\n            ...(fromId && toId ? { from_id: +fromId, to_id: +toId } : {}),\n            containerId,\n            ...(name ? { name } : {}),\n            ...(validated ? (tV == S ? { string: { data: { value: validated } } } :\n                tV == N ? { number: { data: { value: validated } } } :\n                    tV == O ? { object: { data: { value: validated } } } :\n                        {}) : {}),\n        } : {};\n        if (v) {\n            insertQuery.out = (_.isArray(insertQuery.out) ? insertQuery.out :\n                typeof (insertQuery.out) === 'object' ? [insertQuery.out] :\n                    []);\n            insertQuery.out.push({ type_id: V, to_id: v, name: `${name}Value` });\n        }\n        const isValidLink = React.useMemo(() => {\n            const type = !!typeId && deep.get(typeId);\n            return ((insertQuery?.type_id || insertQuery?.type) &&\n                (insertQuery?.from_id || insertQuery?.from || (!!type && (!type?.from_id || type?.from_id === Any))) &&\n                (insertQuery?.to_id || insertQuery?.to || (!!type && (!type?.to_id || type?.to_id === Any))));\n        }, [typeId, fromId, toId, insertQuery]);\n        const valueType = React.useMemo(() => type?.outByType[V]?.[0]?.to_id, [type]);\n        const [inserting, setInserting] = React.useState(false);\n        const buttons = React.createElement(React.Fragment, null,\n            React.createElement(c.SlideFade, { in: true, offsetX: '-0.5rem', style: { position: 'absolute', top: 0, right: '-4em' } },\n                React.createElement(c.Button, { w: '3em', h: '3em', boxShadow: 'dark-lg', variant: undefined, onClick: disclosure.onClose },\n                    React.createElement(BsX, null))),\n            React.createElement(c.SlideFade, { in: (isValidLink) && (isValid || value === ''), offsetX: '-0.5rem', style: { position: 'absolute', bottom: 0, right: '-4em' } },\n                React.createElement(c.Button, { w: '3em', h: '3em', boxShadow: 'dark-lg', variant: 'active', isLoading: inserting, onClick: async () => {\n                        setInserting(true);\n                        const { data: [inserted] } = await deep.insert(insertQuery);\n                        onInsert && onInsert(inserted, insertQuery);\n                        setInserting(false);\n                        disclosure.onClose();\n                    } },\n                    React.createElement(BsCheck2, null))));\n        const alert = React.createElement(React.Fragment, null,\n            React.createElement(c.Alert, { status: can ? 'info' : 'error' },\n                React.createElement(c.AlertIcon, null),\n                React.createElement(c.AlertTitle, null,\n                    \"You \",\n                    can ? 'can' : 'can`t',\n                    \" do it.\")),\n            React.createElement(go.Editor, { value: `await deep.can(deep.linkId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowAdmin'))\n// ${AllowAdmin}${!!typeId ? `\nawait deep.can(${typeId}, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowInsertType'))\n// ${AllowInsertType}` : ''}`, editable: false }));\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.Modal, { ref: ref, closeOnOverlayClick: true, blockScrollOnMount: false, onClose: disclosure.onClose, isOpen: disclosure.isOpen, portalProps: { containerRef: go.root().ref } },\n                React.createElement(c.ModalOverlay, null),\n                React.createElement(c.ModalContent, { w: '30em', maxW: '30em', position: 'relative' },\n                    React.createElement(c.ModalHeader, null, \"Link inserting:\"),\n                    React.createElement(c.ModalBody, { p: 0, w: '100%', h: '100%' },\n                        !can && alert,\n                        React.createElement(go.Component, { path: [dpl, 'FinderInput'], leftIcon: React.createElement(TypeIcon, null), value: typeId, onChange: id => setTypeId(id) }),\n                        (((!!typeId && !!type) && ((!!type?.from_id && !!type?.to_id) || type?.id === 1)) || (!typeId)) && React.createElement(c.SimpleGrid, { columns: 2 },\n                            React.createElement(go.Component, { path: [dpl, 'FinderInput'], leftIcon: React.createElement(FromIcon, null), value: fromId, onChange: id => setFromId(id) }),\n                            React.createElement(go.Component, { path: [dpl, 'FinderInput'], leftIcon: React.createElement(ToIcon, null), value: toId, onChange: id => setToId(id) })),\n                        React.createElement(c.SimpleGrid, { columns: 2 },\n                            React.createElement(go.Component, { path: [dpl, 'FinderInput'], leftIcon: React.createElement(React.Fragment, null, \"\\uD83D\\uDDC2\\uFE0F\"), value: containerId, onChange: id => setContainerId(id) }),\n                            React.createElement(c.Input, { placeholder: 'name', h: '3em', value: name, onChange: e => setName(e.target.value) })),\n                        !!type && React.createElement(React.Fragment, null,\n                            React.createElement(c.Box, null,\n                                !valueType && React.createElement(React.Fragment, null,\n                                    React.createElement(c.Alert, { status: 'info' },\n                                        React.createElement(c.AlertIcon, null),\n                                        React.createElement(c.AlertTitle, null,\n                                            \"type \",\n                                            +type,\n                                            \" can't have Value\"))),\n                                valueType === S && React.createElement(React.Fragment, null,\n                                    React.createElement(go.Editor, { placeholder: 'String value', value: value, onChange: setValue })),\n                                valueType === N && React.createElement(React.Fragment, null,\n                                    React.createElement(c.Input, { type: 'string', value: value, placeholder: 'Number value', onChange: e => setValue(e.target.value) })),\n                                valueType === O && React.createElement(React.Fragment, null,\n                                    React.createElement(go.Editor, { placeholder: 'Object value', value: value, onChange: setValue })),\n                                (tV === S || tV === N || tV === O) && React.createElement(c.Tag, { size: 'lg', colorScheme: value === '' ? 'black' : isValid ? 'deepActive' : 'danger', variant: 'solid', borderRadius: 'full', position: 'absolute', bottom: '-0.5em', right: '-0.5em' }, value === '' ? 'empty' : isValid ? 'valid' : 'invalid'))),\n                        React.createElement(c.Flex, null,\n                            React.createElement(c.Button, { flex: '1', variant: v === N ? 'active' : undefined, onClick: () => setV(N) }, \"number\"),\n                            React.createElement(c.Button, { flex: '1', variant: v === S ? 'active' : undefined, onClick: () => setV(S) }, \"string\"),\n                            React.createElement(c.Button, { flex: '1', variant: v === O ? 'active' : undefined, onClick: () => setV(O) }, \"object\"),\n                            React.createElement(c.Button, { flex: '1', variant: v === F ? 'active' : undefined, onClick: () => setV(F) }, \"file\"),\n                            React.createElement(c.Button, { onClick: () => setV() }, \"x\")),\n                        React.createElement(c.Divider, { mb: '1em' }),\n                        React.createElement(go.Editor, { value: `await deep.insert(${JSON.stringify(insertQuery, null, 2)})`, editable: false }),\n                        !!can && alert),\n                    buttons)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUVoRixNQUFNLEVBQ0osU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sR0FDekUsR0FBRyxPQUFPLENBQUMsaUNBQWlDLENBQUMsQ0FBQztJQUUvQyxNQUFNLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFFbkQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFFaEQsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDcEMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDckMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDckMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDckMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFD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QU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUMsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLEVBQ3RILFFBQVEsRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxLQUFLLEVBQUMsUUFBUSxJQUNsRCxLQUFLLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQVMsQ0FDM0QsQ0FDUDt3QkFDSCxvQkFBQyxDQUFDLENBQUMsSUFBSTs0QkFDTCxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGFBQW1COzRCQUNyRyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGFBQW1COzRCQUNyRyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGFBQW1COzRCQUNyRyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFdBQWlCOzRCQUNuRyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsUUFBYyxDQUN0Qzt3QkFDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxLQUFLLEdBQUU7d0JBQ3BCLG9CQUFDLEVBQUUsQ0FBQyxNQUFNLElBQ1QsS0FBSyxFQUFFLHFCQUFxQixJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFDbkUsUUFBUSxFQUFFLEtBQUssR0FDZjt3QkFDRCxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FDSDtvQkFDYixPQUFPLENBQ08sQ0FDVCxDQUNKLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBHbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBCc1gsIEJzQ2hlY2syLCBCc1hMZywgQnNEYXRhYmFzZSwgQnNSZWdleCB9ID0gcmVxdWlyZSgncmVhY3QtaWNvbnMvYnMnKTtcblxuICBjb25zdCB7XG4gICAgVHlwZWRJY29uLCBEb3duSWNvbiwgVXBJY29uLCBUeXBlSWNvbiwgSW5JY29uLCBPdXRJY29uLCBGcm9tSWNvbiwgVG9JY29uLFxuICB9ID0gcmVxdWlyZSgnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWFwcCcpO1xuXG4gIGNvbnN0IHsgdXNlQXN5bmNNZW1vIH0gPSByZXF1aXJlKCd1c2UtYXN5bmMtbWVtbycpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcblxuICBjb25zdCBWID0gZGVlcC5pZExvY2FsKGRjLCAnVmFsdWUnKTtcbiAgY29uc3QgUyA9IGRlZXAuaWRMb2NhbChkYywgJ1N0cmluZycpO1xuICBjb25zdCBOID0gZGVlcC5pZExvY2FsKGRjLCAnTnVtYmVyJyk7XG4gIGNvbnN0IE8gPSBkZWVwLmlkTG9jYWwoZGMsICdPYmplY3QnKTtcbiAgY29uc3QgRiA9IGRlZXAuaWRMb2NhbChkYywgJ0ZpbGUnKTtcbiAgY29uc3QgQW55ID0gZGVlcC5pZExvY2FsKGRjLCAnQW55Jyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICBkZWZhdWx0Q29udGFpbmVySWQsXG4gICAgZGVmYXVsdFR5cGVJZCxcbiAgICBkZWZhdWx0RnJvbUlkLFxuICAgIGRlZmF1bHRUb0lkLFxuXG4gICAgY3VzdG9tSW5zZXJ0OiBfY3VzdG9tSW5zZXJ0ID0ge30sXG5cbiAgICBvbkluc2VydCxcblxuICAgIGRpc2Nsb3N1cmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIGlmICghZGlzY2xvc3VyZSkgdGhyb3cgbmV3IEVycm9yKCchZGlzY2xvc3VyZScpO1xuXG4gICAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuXG4gICAgY29uc3QgY3VzdG9tSW5zZXJ0ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICByZXR1cm4gdHlwZW9mKF9jdXN0b21JbnNlcnQpID09ICdmdW5jdGlvbicgPyBfY3VzdG9tSW5zZXJ0KHsgbmFtZSB9KSA6IF9jdXN0b21JbnNlcnQ7XG4gICAgfSwgW19jdXN0b21JbnNlcnQsIG5hbWVdKTtcblxuICAgIGNvbnN0IFt0eXBlSWQsIHNldFR5cGVJZF0gPSBSZWFjdC51c2VTdGF0ZShkZWZhdWx0VHlwZUlkIHx8IChkZWVwLmlzSWQoY3VzdG9tSW5zZXJ0Py50eXBlX2lkKSA/IGN1c3RvbUluc2VydD8udHlwZV9pZCA6IGRlZXAuaXNJZChjdXN0b21JbnNlcnQ/LnR5cGUpID8gY3VzdG9tSW5zZXJ0Py50eXBlIDogdW5kZWZpbmVkKSk7XG4gICAgY29uc3QgW2Zyb21JZCwgc2V0RnJvbUlkXSA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRGcm9tSWQgfHwgKGRlZXAuaXNJZChjdXN0b21JbnNlcnQ/LmZyb21faWQpID8gY3VzdG9tSW5zZXJ0Py5mcm9tX2lkIDogZGVlcC5pc0lkKGN1c3RvbUluc2VydD8uZnJvbSkgPyBjdXN0b21JbnNlcnQ/LmZyb20gOiB1bmRlZmluZWQpKTtcbiAgICBjb25zdCBbdG9JZCwgc2V0VG9JZF0gPSBSZWFjdC51c2VTdGF0ZShkZWZhdWx0VG9JZCB8fCAoZGVlcC5pc0lkKGN1c3RvbUluc2VydD8udG9faWQpID8gY3VzdG9tSW5zZXJ0Py50b19pZCA6IGRlZXAuaXNJZChjdXN0b21JbnNlcnQ/LnRvKSA/IGN1c3RvbUluc2VydD8udG8gOiB1bmRlZmluZWQpKTtcbiAgICBjb25zdCBbY29udGFpbmVySWQsIHNldENvbnRhaW5lcklkXSA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRDb250YWluZXJJZCB8fCAoZGVlcC5pc0lkKGN1c3RvbUluc2VydD8uY29udGFpbmVySWQpID8gY3VzdG9tSW5zZXJ0Py5jb250YWluZXJJZCA6IHVuZGVmaW5lZCkpO1xuICAgIGNvbnN0IHR5cGUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHR5cGVJZCA/IGRlZXAuZ2V0KCt0eXBlSWQpIDogbnVsbCwgW3R5cGVJZF0pO1xuICAgIGNvbnN0IHByZXZUeXBlQmFzZWROYW1lUmVmID0gUmVhY3QudXNlUmVmKCk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmICghdHlwZSkgcmV0dXJuO1xuICAgICAgY29uc3QgdG4gPSBfLmxvd2VyRmlyc3QodHlwZT8ubmFtZSk7XG4gICAgICBpZiAoIW5hbWUgfHwgbmFtZSA9PT0gcHJldlR5cGVCYXNlZE5hbWVSZWYuY3VycmVudCkge1xuICAgICAgICBwcmV2VHlwZUJhc2VkTmFtZVJlZi5jdXJyZW50ID0gdG47XG4gICAgICAgIHNldE5hbWUodG4pO1xuICAgICAgfVxuICAgIH0sIFt0eXBlXSk7XG4gICAgY29uc3QgZnJvbSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gZnJvbUlkID8gZGVlcC5nZXQoK2Zyb21JZCkgOiBudWxsLCBbZnJvbUlkXSk7XG4gICAgY29uc3QgdG8gPSBSZWFjdC51c2VNZW1vKCgpID0+IHRvSWQgPyBkZWVwLmdldCgrdG9JZCkgOiBudWxsLCBbdG9JZF0pO1xuXG4gICAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuXG4gICAgY29uc3QgdFYgPSB1c2VBc3luY01lbW8oYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIHR5cGVJZCA/IChhd2FpdCBkZWVwLnNlbGVjdCh7IHR5cGVfaWQ6IFYsIGZyb21faWQ6ICt0eXBlSWQgfSkpPy5kYXRhPy5bMF0/LnRvX2lkIDogdW5kZWZpbmVkO1xuICAgIH0sIFt0eXBlXSk7XG4gICAgY29uc3QgeyBpc1ZhbGlkLCB2YWxpZGF0ZWQgfSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRWID09PSBTKSByZXR1cm4geyB2YWxpZGF0ZWQ6IHZhbHVlLCBpc1ZhbGlkOiB0cnVlIH07XG4gICAgICAgIGlmICh0ViA9PT0gTikgcmV0dXJuIHsgdmFsaWRhdGVkOiArdmFsdWUsIGlzVmFsdWQ6IHR5cGVvZih2YWxpZGF0ZWQpID09PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzTmFOKHZhbGlkYXRlZCkgfTtcbiAgICAgICAgaWYgKHRWID09PSBPKSByZXR1cm4geyB2YWxpZGF0ZWQ6IEpTT04ucGFyc2UodmFsdWUpLCBpc1ZhbGlkOiB0cnVlIH07XG4gICAgICAgIGlmICghdFYpIHJldHVybiB7IHZhbGlkYXRlZDogdmFsdWUsIGlzVmFsaWQ6IHRydWUgfTtcbiAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgIHJldHVybiB7IHZhbGlkYXRlZDogdmFsdWUsIGlzVmFsaWQ6IGZhbHNlIH07XG4gICAgfSwgW3ZhbHVlLCB0Vl0pO1xuXG4gICAgY29uc3QgW3YsIHNldFZdID0gUmVhY3QudXNlU3RhdGUoKTtcblxuICAgIGNvbnN0IEFsbG93QWRtaW4gPSB1c2VBc3luY01lbW88YW55Pihhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgZGVlcC5jYW4oZGVlcC5saW5rSWQsIGRlZXAubGlua0lkLCBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdBbGxvd0FkbWluJykpO1xuICAgIH0sIFtdLCBmYWxzZSk7XG4gICAgY29uc3QgQWxsb3dJbnNlcnRUeXBlID0gdXNlQXN5bmNNZW1vPGFueT4oYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuICF0eXBlSWQgPyBmYWxzZSA6IGF3YWl0IGRlZXAuY2FuKCt0eXBlSWQsIGRlZXAubGlua0lkLCBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdBbGxvd0luc2VydFR5cGUnKSk7XG4gICAgfSwgW3R5cGVJZF0sIGZhbHNlKTtcbiAgICBjb25zdCBjYW4gPSBBbGxvd0luc2VydFR5cGUgfHwgQWxsb3dBZG1pbjtcbiAgICBcbiAgICBjb25zdCBpbnNlcnRRdWVyeSA9IHR5cGUgPyB7XG4gICAgICAuLi5jdXN0b21JbnNlcnQsXG4gICAgICB0eXBlX2lkOiB0eXBlLmlkLFxuICAgICAgLi4uKGZyb21JZCAmJiB0b0lkID8geyBmcm9tX2lkOiArZnJvbUlkLCB0b19pZDogK3RvSWQgfSA6IHt9KSxcbiAgICAgIGNvbnRhaW5lcklkLFxuICAgICAgLi4uKG5hbWUgPyB7IG5hbWUgfSA6IHt9KSxcbiAgICAgIC4uLih2YWxpZGF0ZWQgPyAoXG4gICAgICAgIHRWID09IFMgPyB7IHN0cmluZzogeyBkYXRhOiB7IHZhbHVlOiB2YWxpZGF0ZWQgfSB9IH0gOlxuICAgICAgICB0ViA9PSBOID8geyBudW1iZXI6IHsgZGF0YTogeyB2YWx1ZTogdmFsaWRhdGVkIH0gfX0gOlxuICAgICAgICB0ViA9PSBPID8geyBvYmplY3Q6IHsgZGF0YTogeyB2YWx1ZTogdmFsaWRhdGVkIH0gfSB9IDpcbiAgICAgICAge31cbiAgICAgICkgOiB7fSksXG4gICAgfSA6IHt9O1xuICAgIGlmICh2KSB7XG4gICAgICBpbnNlcnRRdWVyeS5vdXQgPSAoXG4gICAgICAgIF8uaXNBcnJheShpbnNlcnRRdWVyeS5vdXQpID8gaW5zZXJ0UXVlcnkub3V0IDpcbiAgICAgICAgdHlwZW9mKGluc2VydFF1ZXJ5Lm91dCkgPT09ICdvYmplY3QnID8gW2luc2VydFF1ZXJ5Lm91dF0gOlxuICAgICAgICBbXVxuICAgICAgKTtcbiAgICAgIGluc2VydFF1ZXJ5Lm91dC5wdXNoKHsgdHlwZV9pZDogViwgdG9faWQ6IHYsIG5hbWU6IGAke25hbWV9VmFsdWVgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGlzVmFsaWRMaW5rID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gISF0eXBlSWQgJiYgZGVlcC5nZXQodHlwZUlkKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChpbnNlcnRRdWVyeT8udHlwZV9pZCB8fCBpbnNlcnRRdWVyeT8udHlwZSkgJiZcbiAgICAgICAgKGluc2VydFF1ZXJ5Py5mcm9tX2lkIHx8IGluc2VydFF1ZXJ5Py5mcm9tIHx8ICghIXR5cGUgJiYgKCF0eXBlPy5mcm9tX2lkIHx8IHR5cGU/LmZyb21faWQgPT09IEFueSkpKSAmJlxuICAgICAgICAoaW5zZXJ0UXVlcnk/LnRvX2lkIHx8IGluc2VydFF1ZXJ5Py50byB8fCAoISF0eXBlICYmICghdHlwZT8udG9faWQgfHwgdHlwZT8udG9faWQgPT09IEFueSkpKVxuICAgICAgKTtcbiAgICB9LCBbdHlwZUlkLCBmcm9tSWQsIHRvSWQsIGluc2VydFF1ZXJ5XSk7XG5cbiAgICBjb25zdCB2YWx1ZVR5cGUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHR5cGU/Lm91dEJ5VHlwZVtWXT8uWzBdPy50b19pZCwgW3R5cGVdKTtcblxuICAgIGNvbnN0IFtpbnNlcnRpbmcsIHNldEluc2VydGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cbiAgICBjb25zdCBidXR0b25zID0gPD5cbiAgICAgIDxjLlNsaWRlRmFkZSBpbj17dHJ1ZX0gb2Zmc2V0WD0nLTAuNXJlbScgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCByaWdodDogJy00ZW0nfX0+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHc9JzNlbScgaD0nM2VtJ1xuICAgICAgICAgIGJveFNoYWRvdz0nZGFyay1sZydcbiAgICAgICAgICB2YXJpYW50PXt1bmRlZmluZWR9XG4gICAgICAgICAgb25DbGljaz17ZGlzY2xvc3VyZS5vbkNsb3NlfVxuICAgICAgICA+PEJzWCAvPjwvYy5CdXR0b24+XG4gICAgICA8L2MuU2xpZGVGYWRlPlxuICAgICAgPGMuU2xpZGVGYWRlXG4gICAgICAgIGluPXsoaXNWYWxpZExpbmspICYmIChpc1ZhbGlkIHx8IHZhbHVlID09PSAnJyl9XG4gICAgICAgIG9mZnNldFg9Jy0wLjVyZW0nIHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIGJvdHRvbTogMCwgcmlnaHQ6ICctNGVtJ319XG4gICAgICA+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHc9JzNlbScgaD0nM2VtJ1xuICAgICAgICAgIGJveFNoYWRvdz0nZGFyay1sZydcbiAgICAgICAgICB2YXJpYW50PXsnYWN0aXZlJ31cbiAgICAgICAgICBpc0xvYWRpbmc9e2luc2VydGluZ31cbiAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJbnNlcnRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IFtpbnNlcnRlZF0gfSA9IGF3YWl0IGRlZXAuaW5zZXJ0KGluc2VydFF1ZXJ5KTtcbiAgICAgICAgICAgIG9uSW5zZXJ0ICYmIG9uSW5zZXJ0KGluc2VydGVkLCBpbnNlcnRRdWVyeSk7XG4gICAgICAgICAgICBzZXRJbnNlcnRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgZGlzY2xvc3VyZS5vbkNsb3NlKCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgPjxCc0NoZWNrMiAvPjwvYy5CdXR0b24+XG4gICAgICA8L2MuU2xpZGVGYWRlPlxuICAgIDwvPjtcblxuICAgIGNvbnN0IGFsZXJ0ID0gPD5cbiAgICAgIDxjLkFsZXJ0IHN0YXR1cz17Y2FuID8gJ2luZm8nIDogJ2Vycm9yJ30+XG4gICAgICAgIDxjLkFsZXJ0SWNvbiAvPlxuICAgICAgICA8Yy5BbGVydFRpdGxlPllvdSB7Y2FuID8gJ2NhbicgOiAnY2FuYHQnfSBkbyBpdC48L2MuQWxlcnRUaXRsZT5cbiAgICAgIDwvYy5BbGVydD5cbiAgICAgIDxnby5FZGl0b3JcbiAgICAgICAgdmFsdWU9e2Bhd2FpdCBkZWVwLmNhbihkZWVwLmxpbmtJZCwgZGVlcC5saW5rSWQsIGRlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ0FsbG93QWRtaW4nKSlcbi8vICR7QWxsb3dBZG1pbn0keyEhdHlwZUlkID8gYFxuYXdhaXQgZGVlcC5jYW4oJHt0eXBlSWR9LCBkZWVwLmxpbmtJZCwgZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnQWxsb3dJbnNlcnRUeXBlJykpXG4vLyAke0FsbG93SW5zZXJ0VHlwZX1gIDogJyd9YH1cbiAgICAgICAgZWRpdGFibGU9e2ZhbHNlfVxuICAgICAgLz5cbiAgICA8Lz47XG5cbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5Nb2RhbFxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgY2xvc2VPbk92ZXJsYXlDbGljayBibG9ja1Njcm9sbE9uTW91bnQ9e2ZhbHNlfVxuICAgICAgICBvbkNsb3NlPXtkaXNjbG9zdXJlLm9uQ2xvc2V9XG4gICAgICAgIGlzT3Blbj17ZGlzY2xvc3VyZS5pc09wZW59IHBvcnRhbFByb3BzPXt7IGNvbnRhaW5lclJlZjogZ28ucm9vdCgpLnJlZiB9fVxuICAgICAgPlxuICAgICAgICA8Yy5Nb2RhbE92ZXJsYXkgLz5cbiAgICAgICAgPGMuTW9kYWxDb250ZW50IHc9JzMwZW0nIG1heFc9JzMwZW0nIHBvc2l0aW9uPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgPGMuTW9kYWxIZWFkZXI+TGluayBpbnNlcnRpbmc6PC9jLk1vZGFsSGVhZGVyPlxuICAgICAgICAgIDxjLk1vZGFsQm9keSBwPXswfSB3PScxMDAlJyBoPScxMDAlJz5cbiAgICAgICAgICAgIHshY2FuICYmIGFsZXJ0fVxuICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVySW5wdXQnXX1cbiAgICAgICAgICAgICAgbGVmdEljb249ezxUeXBlSWNvbi8+fVxuICAgICAgICAgICAgICB2YWx1ZT17dHlwZUlkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aWQgPT4gc2V0VHlwZUlkKGlkKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7KCgoISF0eXBlSWQgJiYgISF0eXBlKSAmJiAoKCEhdHlwZT8uZnJvbV9pZCAmJiAhIXR5cGU/LnRvX2lkKSB8fCB0eXBlPy5pZCA9PT0gMSkpIHx8ICghdHlwZUlkKSkgJiYgPGMuU2ltcGxlR3JpZCBjb2x1bW5zPXsyfT5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVySW5wdXQnXX1cbiAgICAgICAgICAgICAgICBsZWZ0SWNvbj17PEZyb21JY29uLz59XG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zyb21JZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aWQgPT4gc2V0RnJvbUlkKGlkKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVySW5wdXQnXX1cbiAgICAgICAgICAgICAgICBsZWZ0SWNvbj17PFRvSWNvbi8+fVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0b0lkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtpZCA9PiBzZXRUb0lkKGlkKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvYy5TaW1wbGVHcmlkPn1cbiAgICAgICAgICAgIDxjLlNpbXBsZUdyaWQgY29sdW1ucz17Mn0+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ0ZpbmRlcklucHV0J119XG4gICAgICAgICAgICAgICAgbGVmdEljb249ezw+8J+Xgu+4jzwvPn1cbiAgICAgICAgICAgICAgICB2YWx1ZT17Y29udGFpbmVySWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2lkID0+IHNldENvbnRhaW5lcklkKGlkKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGMuSW5wdXRcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nbmFtZScgaD0nM2VtJ1xuICAgICAgICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICAgICAgICB7ISF0eXBlICYmIDw+XG4gICAgICAgICAgICAgIDxjLkJveD5cbiAgICAgICAgICAgICAgICB7IXZhbHVlVHlwZSAmJiA8PlxuICAgICAgICAgICAgICAgICAgPGMuQWxlcnQgc3RhdHVzPSdpbmZvJz5cbiAgICAgICAgICAgICAgICAgICAgPGMuQWxlcnRJY29uLz5cbiAgICAgICAgICAgICAgICAgICAgPGMuQWxlcnRUaXRsZT50eXBlIHsrdHlwZX0gY2FuJ3QgaGF2ZSBWYWx1ZTwvYy5BbGVydFRpdGxlPlxuICAgICAgICAgICAgICAgICAgPC9jLkFsZXJ0PlxuICAgICAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgICAgICB7dmFsdWVUeXBlID09PSBTICYmIDw+XG4gICAgICAgICAgICAgICAgICA8Z28uRWRpdG9yIHBsYWNlaG9sZGVyPSdTdHJpbmcgdmFsdWUnIHZhbHVlPXt2YWx1ZX0gb25DaGFuZ2U9e3NldFZhbHVlfS8+XG4gICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgIHt2YWx1ZVR5cGUgPT09IE4gJiYgPD5cbiAgICAgICAgICAgICAgICAgIDxjLklucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nTnVtYmVyIHZhbHVlJ1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRWYWx1ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgICAgICB7dmFsdWVUeXBlID09PSBPICYmIDw+XG4gICAgICAgICAgICAgICAgICA8Z28uRWRpdG9yIHBsYWNlaG9sZGVyPSdPYmplY3QgdmFsdWUnIHZhbHVlPXt2YWx1ZX0gb25DaGFuZ2U9e3NldFZhbHVlfS8+XG4gICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgIHsodFYgPT09IFMgfHwgdFYgPT09IE4gfHwgdFYgPT09IE8pICYmIDxjLlRhZ1xuICAgICAgICAgICAgICAgICAgc2l6ZT0nbGcnIGNvbG9yU2NoZW1lPXt2YWx1ZSA9PT0gJycgPyAnYmxhY2snIDogaXNWYWxpZCA/ICdkZWVwQWN0aXZlJyA6ICdkYW5nZXInfSB2YXJpYW50PSdzb2xpZCcgYm9yZGVyUmFkaXVzPSdmdWxsJ1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb249J2Fic29sdXRlJyBib3R0b209Jy0wLjVlbScgcmlnaHQ9Jy0wLjVlbSdcbiAgICAgICAgICAgICAgICA+e3ZhbHVlID09PSAnJyA/ICdlbXB0eScgOiBpc1ZhbGlkID8gJ3ZhbGlkJyA6ICdpbnZhbGlkJ308L2MuVGFnPn1cbiAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgIDxjLkZsZXg+XG4gICAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyB2YXJpYW50PXt2ID09PSBOID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IHNldFYoTil9Pm51bWJlcjwvYy5CdXR0b24+XG4gICAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyB2YXJpYW50PXt2ID09PSBTID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IHNldFYoUyl9PnN0cmluZzwvYy5CdXR0b24+XG4gICAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyB2YXJpYW50PXt2ID09PSBPID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IHNldFYoTyl9Pm9iamVjdDwvYy5CdXR0b24+XG4gICAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyB2YXJpYW50PXt2ID09PSBGID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IHNldFYoRil9PmZpbGU8L2MuQnV0dG9uPlxuICAgICAgICAgICAgICA8Yy5CdXR0b24gb25DbGljaz17KCkgPT4gc2V0VigpfT54PC9jLkJ1dHRvbj5cbiAgICAgICAgICAgIDwvYy5GbGV4PlxuICAgICAgICAgICAgPGMuRGl2aWRlciBtYj0nMWVtJy8+XG4gICAgICAgICAgICB7PGdvLkVkaXRvclxuICAgICAgICAgICAgICB2YWx1ZT17YGF3YWl0IGRlZXAuaW5zZXJ0KCR7SlNPTi5zdHJpbmdpZnkoaW5zZXJ0UXVlcnksIG51bGwsIDIpfSlgfVxuICAgICAgICAgICAgICBlZGl0YWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAvPn1cbiAgICAgICAgICAgIHshIWNhbiAmJiBhbGVydH1cbiAgICAgICAgICA8L2MuTW9kYWxCb2R5PlxuICAgICAgICAgIHtidXR0b25zfVxuICAgICAgICA8L2MuTW9kYWxDb250ZW50PlxuICAgICAgPC9jLk1vZGFsPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1303
      }
    },
    {
      "id": 1304,
      "type_id": 3,
      "from_id": 891,
      "to_id": 1303,
      "value": {
        "id": 425,
        "value": "generated",
        "link_id": 1304
      }
    },
    {
      "id": 1305,
      "type_id": 143,
      "from_id": 1303,
      "to_id": 891
    },
    {
      "id": 1306,
      "type_id": 3,
      "from_id": 891,
      "to_id": 1305
    },
    {
      "id": 892,
      "type_id": 35,
      "from_id": 145,
      "to_id": 891
    },
    {
      "id": 893,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 427,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  const { BsX, BsCheck2 } = require('react-icons/bs');\n  const c = require('@chakra-ui/react');\n\n  const { useAsyncMemo } = require('use-async-memo');\n\n  const dc = '@deep-foundation/core';\n  const V = deep.idLocal(dc, 'Value');\n\n  return ({ go, linkId, containerId, disclosure }, ref) => {\n    if (!disclosure) throw new Error('!disclosure');\n    if (!linkId) throw new Error('!linkId');\n\n    const link = React.useMemo(() => deep.get(linkId), [linkId]);\n    const [containment, setContainment] = React.useState('contains');\n    const [down, setDown] = React.useState(true);\n\n    const AllowAdmin = useAsyncMemo(async () => {\n      return await deep.can(deep.linkId, deep.linkId, deep.idLocal(dc, 'AllowAdmin'));\n    }, [], false);\n\n    const AllowDeleteType = useAsyncMemo(async () => {\n      return !link.type_id ? false : await deep.can(link.type_id, deep.linkId, deep.idLocal(dc, 'AllowDeleteType'));\n    }, [link.type_id], false);\n\n    const AllowDelete = useAsyncMemo(async () => {\n      return !linkId ? false : await deep.can(linkId, deep.linkId, deep.idLocal(dc, 'AllowDelete'));\n    }, [linkId], false);\n\n    const can = AllowAdmin || AllowDeleteType || AllowDelete;\n\n    const deleteQuery = {\n      _or: [\n        (down ? {\n          up: {\n            tree_id: deep.idLocal(dc, 'containTree'),\n            parent_id: link.id,\n          }\n        } : {\n          id: link.id,\n        }),\n        ...(containment === 'contains' ? [{\n          type_id: deep.idLocal(dc, 'Contain'),\n          to_id: link.id,\n        }] : containment === 'container' ? [{\n          type_id: deep.idLocal(dc, 'Contain'),\n          from_id: containerId,\n          to_id: link.id,\n        }] : []),\n      ],\n    };\n\n    const { data: countDown } = deep.useQuery({\n      up: {\n        tree_id: deep.idLocal(dc, 'containTree'),\n        parent_id: link.id,\n      }\n    }, {\n      skip: !disclosure.isOpen,\n      aggregate: 'count',\n    });\n\n    const { data: countInContains } = deep.useQuery({\n      to_id: link.id,\n      type_id: deep.idLocal(dc, 'Contain'),\n    }, {\n      skip: !disclosure.isOpen,\n      aggregate: 'count'\n    });\n\n    const buttons = (\n      <>\n        <c.SlideFade in={true} offsetX='-0.5rem' style={{ position: 'absolute', top: 0, right: '-4em' }}>\n          <c.Button w='3em' h='3em' boxShadow='dark-lg' onClick={disclosure.onClose}>\n            <BsX />\n          </c.Button>\n        </c.SlideFade>\n        <c.SlideFade in={true} offsetX='-0.5rem' style={{ position: 'absolute', bottom: 0, right: '-4em' }}>\n          <c.Button w='3em' h='3em' boxShadow='dark-lg' variant='active' onClick={async () => {\n            await deep.delete(deleteQuery);\n            disclosure.onClose();\n          }}>\n            <BsCheck2 />\n          </c.Button>\n        </c.SlideFade>\n      </>\n    );\n    \n    const alert = (\n      <React.Fragment>\n        <c.Alert status={can ? 'info' : 'error'}>\n          <c.AlertIcon />\n          <c.AlertTitle>\n            You {can ? 'can' : \"can't\"} do it.\n          </c.AlertTitle>\n        </c.Alert>\n        <go.Editor\n          value={`await deep.can(deep.linkId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowAdmin'))\n// ${AllowAdmin}\nawait deep.can(${link.type_id}, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowDeleteType'))\n// ${AllowDeleteType}\nawait deep.can(${link.id}, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowDelete'))\n// ${AllowDelete}`}\n          editable={false}\n        />\n      </React.Fragment>\n    );\n    \n    return (\n      <go.On do={{}}>\n        <c.Modal\n          ref={ref}\n          closeOnOverlayClick\n          blockScrollOnMount={false}\n          onClose={disclosure.onClose}\n          isOpen={disclosure.isOpen}\n          portalProps={{\n            containerRef: go.root().ref\n          }}\n        >\n          <c.ModalOverlay />\n          <c.ModalContent w='30em' maxW='30em' position='relative'>\n            <c.ModalHeader>\n              Link deleting: {`${link}`}\n            </c.ModalHeader>\n            <c.ModalBody p={0} w='100%' h='100%'>\n              {alert}\n              <c.Box p='1em'>\n                <c.Checkbox\n                  size='lg'\n                  checked={down}\n                  onChange={() => setDown(!down)}\n                >\n                  Delete all contained in links? Total: ({countDown})\n                </c.Checkbox>\n              </c.Box>\n              <c.Box p='1em'>\n                Need to delete contains to this link?\n              </c.Box>\n              <c.Box>\n                <c.SimpleGrid columns={3}>\n                  <c.Button\n                    variant={containment === 'contains' ? 'active' : undefined}\n                    onClick={() => setContainment('contains')}\n                  >\n                    <c.Box>\n                      <c.Box>all in</c.Box>\n                      <c.Box fontSize='xs'>\n                        contains: ({countInContains})\n                      </c.Box>\n                    </c.Box>\n                  </c.Button>\n                  {!!containerId && (\n                    <c.Button\n                      variant={containment === 'container' ? 'active' : undefined}\n                      onClick={() => setContainment('container')}\n                    >\n                      <c.Box>\n                        <c.Box>only one</c.Box>\n                        <c.Box fontSize='xs'>\n                          from {containerId}\n                        </c.Box>\n                      </c.Box>\n                    </c.Button>\n                  )}\n                  <c.Button\n                    variant={containment === 'only' ? 'active' : undefined}\n                    onClick={() => setContainment('only')}\n                  >\n                    <c.Box>\n                      <c.Box>not need</c.Box>\n                      <c.Box fontSize='xs'>\n                        to delete contains\n                      </c.Box>\n                    </c.Box>\n                  </c.Button>\n                </c.SimpleGrid>\n              </c.Box>\n              <go.Editor\n                value={`await deep.delete(${JSON.stringify(deleteQuery, null, 2)})`}\n                editable={false}\n              />\n            </c.ModalBody>\n            {buttons}\n          </c.ModalContent>\n        </c.Modal>\n      </go.On>\n    );\n  };\n};",
        "link_id": 893
      }
    },
    {
      "id": 1312,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 429,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const { BsX, BsCheck2 } = require('react-icons/bs');\n    const c = require('@chakra-ui/react');\n    const { useAsyncMemo } = require('use-async-memo');\n    const dc = '@deep-foundation/core';\n    const V = deep.idLocal(dc, 'Value');\n    return ({ go, linkId, containerId, disclosure }, ref) => {\n        if (!disclosure)\n            throw new Error('!disclosure');\n        if (!linkId)\n            throw new Error('!linkId');\n        const link = React.useMemo(() => deep.get(linkId), [linkId]);\n        const [containment, setContainment] = React.useState('contains');\n        const [down, setDown] = React.useState(true);\n        const AllowAdmin = useAsyncMemo(async () => {\n            return await deep.can(deep.linkId, deep.linkId, deep.idLocal(dc, 'AllowAdmin'));\n        }, [], false);\n        const AllowDeleteType = useAsyncMemo(async () => {\n            return !link.type_id ? false : await deep.can(link.type_id, deep.linkId, deep.idLocal(dc, 'AllowDeleteType'));\n        }, [link.type_id], false);\n        const AllowDelete = useAsyncMemo(async () => {\n            return !linkId ? false : await deep.can(linkId, deep.linkId, deep.idLocal(dc, 'AllowDelete'));\n        }, [linkId], false);\n        const can = AllowAdmin || AllowDeleteType || AllowDelete;\n        const deleteQuery = {\n            _or: [\n                (down ? {\n                    up: {\n                        tree_id: deep.idLocal(dc, 'containTree'),\n                        parent_id: link.id,\n                    }\n                } : {\n                    id: link.id,\n                }),\n                ...(containment === 'contains' ? [{\n                        type_id: deep.idLocal(dc, 'Contain'),\n                        to_id: link.id,\n                    }] : containment === 'container' ? [{\n                        type_id: deep.idLocal(dc, 'Contain'),\n                        from_id: containerId,\n                        to_id: link.id,\n                    }] : []),\n            ],\n        };\n        const { data: countDown } = deep.useQuery({\n            up: {\n                tree_id: deep.idLocal(dc, 'containTree'),\n                parent_id: link.id,\n            }\n        }, {\n            skip: !disclosure.isOpen,\n            aggregate: 'count',\n        });\n        const { data: countInContains } = deep.useQuery({\n            to_id: link.id,\n            type_id: deep.idLocal(dc, 'Contain'),\n        }, {\n            skip: !disclosure.isOpen,\n            aggregate: 'count'\n        });\n        const buttons = (React.createElement(React.Fragment, null,\n            React.createElement(c.SlideFade, { in: true, offsetX: '-0.5rem', style: { position: 'absolute', top: 0, right: '-4em' } },\n                React.createElement(c.Button, { w: '3em', h: '3em', boxShadow: 'dark-lg', onClick: disclosure.onClose },\n                    React.createElement(BsX, null))),\n            React.createElement(c.SlideFade, { in: true, offsetX: '-0.5rem', style: { position: 'absolute', bottom: 0, right: '-4em' } },\n                React.createElement(c.Button, { w: '3em', h: '3em', boxShadow: 'dark-lg', variant: 'active', onClick: async () => {\n                        await deep.delete(deleteQuery);\n                        disclosure.onClose();\n                    } },\n                    React.createElement(BsCheck2, null)))));\n        const alert = (React.createElement(React.Fragment, null,\n            React.createElement(c.Alert, { status: can ? 'info' : 'error' },\n                React.createElement(c.AlertIcon, null),\n                React.createElement(c.AlertTitle, null,\n                    \"You \",\n                    can ? 'can' : \"can't\",\n                    \" do it.\")),\n            React.createElement(go.Editor, { value: `await deep.can(deep.linkId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowAdmin'))\n// ${AllowAdmin}\nawait deep.can(${link.type_id}, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowDeleteType'))\n// ${AllowDeleteType}\nawait deep.can(${link.id}, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowDelete'))\n// ${AllowDelete}`, editable: false })));\n        return (React.createElement(go.On, { do: {} },\n            React.createElement(c.Modal, { ref: ref, closeOnOverlayClick: true, blockScrollOnMount: false, onClose: disclosure.onClose, isOpen: disclosure.isOpen, portalProps: {\n                    containerRef: go.root().ref\n                } },\n                React.createElement(c.ModalOverlay, null),\n                React.createElement(c.ModalContent, { w: '30em', maxW: '30em', position: 'relative' },\n                    React.createElement(c.ModalHeader, null,\n                        \"Link deleting: \",\n                        `${link}`),\n                    React.createElement(c.ModalBody, { p: 0, w: '100%', h: '100%' },\n                        alert,\n                        React.createElement(c.Box, { p: '1em' },\n                            React.createElement(c.Checkbox, { size: 'lg', checked: down, onChange: () => setDown(!down) },\n                                \"Delete all contained in links? Total: (\",\n                                countDown,\n                                \")\")),\n                        React.createElement(c.Box, { p: '1em' }, \"Need to delete contains to this link?\"),\n                        React.createElement(c.Box, null,\n                            React.createElement(c.SimpleGrid, { columns: 3 },\n                                React.createElement(c.Button, { variant: containment === 'contains' ? 'active' : undefined, onClick: () => setContainment('contains') },\n                                    React.createElement(c.Box, null,\n                                        React.createElement(c.Box, null, \"all in\"),\n                                        React.createElement(c.Box, { fontSize: 'xs' },\n                                            \"contains: (\",\n                                            countInContains,\n                                            \")\"))),\n                                !!containerId && (React.createElement(c.Button, { variant: containment === 'container' ? 'active' : undefined, onClick: () => setContainment('container') },\n                                    React.createElement(c.Box, null,\n                                        React.createElement(c.Box, null, \"only one\"),\n                                        React.createElement(c.Box, { fontSize: 'xs' },\n                                            \"from \",\n                                            containerId)))),\n                                React.createElement(c.Button, { variant: containment === 'only' ? 'active' : undefined, onClick: () => setContainment('only') },\n                                    React.createElement(c.Box, null,\n                                        React.createElement(c.Box, null, \"not need\"),\n                                        React.createElement(c.Box, { fontSize: 'xs' }, \"to delete contains\"))))),\n                        React.createElement(go.Editor, { value: `await deep.delete(${JSON.stringify(deleteQuery, null, 2)})`, editable: false })),\n                    buttons))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNwRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFFbkQsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFFcEMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDdEQsSUFBSSxDQUFDLFVBQVU7WUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxNQUFNO1lBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUV4QyxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzdELE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqRSxNQUFNLENBQUMsSUFBSSxFQUFF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LG9CQUFDLENBQUMsQ0FBQyxHQUFHLElBQUMsUUFBUSxFQUFDLElBQUk7OzRDQUNaLFdBQVcsQ0FDWCxDQUNGLENBQ0MsQ0FDWjtnQ0FDRCxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLE9BQU8sRUFBRSxXQUFXLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDdEQsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUM7b0NBRXJDLG9CQUFDLENBQUMsQ0FBQyxHQUFHO3dDQUNKLG9CQUFDLENBQUMsQ0FBQyxHQUFHLG1CQUFpQjt3Q0FDdkIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxRQUFRLEVBQUMsSUFBSSx5QkFFWixDQUNGLENBQ0MsQ0FDRSxDQUNUO3dCQUNSLG9CQUFDLEVBQUUsQ0FBQyxNQUFNLElBQ1IsS0FBSyxFQUFFLHFCQUFxQixJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFDbkUsUUFBUSxFQUFFLEtBQUssR0FDZixDQUNVO29CQUNiLE9BQU8sQ0FDTyxDQUNULENBQ0osQ0FDVCxDQUFDO0lBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgQnNYLCBCc0NoZWNrMiB9ID0gcmVxdWlyZSgncmVhY3QtaWNvbnMvYnMnKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCB7IHVzZUFzeW5jTWVtbyB9ID0gcmVxdWlyZSgndXNlLWFzeW5jLW1lbW8nKTtcblxuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBjb25zdCBWID0gZGVlcC5pZExvY2FsKGRjLCAnVmFsdWUnKTtcblxuICByZXR1cm4gKHsgZ28sIGxpbmtJZCwgY29udGFpbmVySWQsIGRpc2Nsb3N1cmUgfSwgcmVmKSA9PiB7XG4gICAgaWYgKCFkaXNjbG9zdXJlKSB0aHJvdyBuZXcgRXJyb3IoJyFkaXNjbG9zdXJlJyk7XG4gICAgaWYgKCFsaW5rSWQpIHRocm93IG5ldyBFcnJvcignIWxpbmtJZCcpO1xuXG4gICAgY29uc3QgbGluayA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gZGVlcC5nZXQobGlua0lkKSwgW2xpbmtJZF0pO1xuICAgIGNvbnN0IFtjb250YWlubWVudCwgc2V0Q29udGFpbm1lbnRdID0gUmVhY3QudXNlU3RhdGUoJ2NvbnRhaW5zJyk7XG4gICAgY29uc3QgW2Rvd24sIHNldERvd25dID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG5cbiAgICBjb25zdCBBbGxvd0FkbWluID0gdXNlQXN5bmNNZW1vKGFzeW5jICgpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBkZWVwLmNhbihkZWVwLmxpbmtJZCwgZGVlcC5saW5rSWQsIGRlZXAuaWRMb2NhbChkYywgJ0FsbG93QWRtaW4nKSk7XG4gICAgfSwgW10sIGZhbHNlKTtcblxuICAgIGNvbnN0IEFsbG93RGVsZXRlVHlwZSA9IHVzZUFzeW5jTWVtbyhhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gIWxpbmsudHlwZV9pZCA/IGZhbHNlIDogYXdhaXQgZGVlcC5jYW4obGluay50eXBlX2lkLCBkZWVwLmxpbmtJZCwgZGVlcC5pZExvY2FsKGRjLCAnQWxsb3dEZWxldGVUeXBlJykpO1xuICAgIH0sIFtsaW5rLnR5cGVfaWRdLCBmYWxzZSk7XG5cbiAgICBjb25zdCBBbGxvd0RlbGV0ZSA9IHVzZUFzeW5jTWVtbyhhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gIWxpbmtJZCA/IGZhbHNlIDogYXdhaXQgZGVlcC5jYW4obGlua0lkLCBkZWVwLmxpbmtJZCwgZGVlcC5pZExvY2FsKGRjLCAnQWxsb3dEZWxldGUnKSk7XG4gICAgfSwgW2xpbmtJZF0sIGZhbHNlKTtcblxuICAgIGNvbnN0IGNhbiA9IEFsbG93QWRtaW4gfHwgQWxsb3dEZWxldGVUeXBlIHx8IEFsbG93RGVsZXRlO1xuXG4gICAgY29uc3QgZGVsZXRlUXVlcnkgPSB7XG4gICAgICBfb3I6IFtcbiAgICAgICAgKGRvd24gPyB7XG4gICAgICAgICAgdXA6IHtcbiAgICAgICAgICAgIHRyZWVfaWQ6IGRlZXAuaWRMb2NhbChkYywgJ2NvbnRhaW5UcmVlJyksXG4gICAgICAgICAgICBwYXJlbnRfaWQ6IGxpbmsuaWQsXG4gICAgICAgICAgfVxuICAgICAgICB9IDoge1xuICAgICAgICAgIGlkOiBsaW5rLmlkLFxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGNvbnRhaW5tZW50ID09PSAnY29udGFpbnMnID8gW3tcbiAgICAgICAgICB0eXBlX2lkOiBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyksXG4gICAgICAgICAgdG9faWQ6IGxpbmsuaWQsXG4gICAgICAgIH1dIDogY29udGFpbm1lbnQgPT09ICdjb250YWluZXInID8gW3tcbiAgICAgICAgICB0eXBlX2lkOiBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyksXG4gICAgICAgICAgZnJvbV9pZDogY29udGFpbmVySWQsXG4gICAgICAgICAgdG9faWQ6IGxpbmsuaWQsXG4gICAgICAgIH1dIDogW10pLFxuICAgICAgXSxcbiAgICB9O1xuXG4gICAgY29uc3QgeyBkYXRhOiBjb3VudERvd24gfSA9IGRlZXAudXNlUXVlcnkoe1xuICAgICAgdXA6IHtcbiAgICAgICAgdHJlZV9pZDogZGVlcC5pZExvY2FsKGRjLCAnY29udGFpblRyZWUnKSxcbiAgICAgICAgcGFyZW50X2lkOiBsaW5rLmlkLFxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHNraXA6ICFkaXNjbG9zdXJlLmlzT3BlbixcbiAgICAgIGFnZ3JlZ2F0ZTogJ2NvdW50JyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgZGF0YTogY291bnRJbkNvbnRhaW5zIH0gPSBkZWVwLnVzZVF1ZXJ5KHtcbiAgICAgIHRvX2lkOiBsaW5rLmlkLFxuICAgICAgdHlwZV9pZDogZGVlcC5pZExvY2FsKGRjLCAnQ29udGFpbicpLFxuICAgIH0sIHtcbiAgICAgIHNraXA6ICFkaXNjbG9zdXJlLmlzT3BlbixcbiAgICAgIGFnZ3JlZ2F0ZTogJ2NvdW50J1xuICAgIH0pO1xuXG4gICAgY29uc3QgYnV0dG9ucyA9IChcbiAgICAgIDw+XG4gICAgICAgIDxjLlNsaWRlRmFkZSBpbj17dHJ1ZX0gb2Zmc2V0WD0nLTAuNXJlbScgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMCwgcmlnaHQ6ICctNGVtJyB9fT5cbiAgICAgICAgICA8Yy5CdXR0b24gdz0nM2VtJyBoPSczZW0nIGJveFNoYWRvdz0nZGFyay1sZycgb25DbGljaz17ZGlzY2xvc3VyZS5vbkNsb3NlfT5cbiAgICAgICAgICAgIDxCc1ggLz5cbiAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICA8L2MuU2xpZGVGYWRlPlxuICAgICAgICA8Yy5TbGlkZUZhZGUgaW49e3RydWV9IG9mZnNldFg9Jy0wLjVyZW0nIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBib3R0b206IDAsIHJpZ2h0OiAnLTRlbScgfX0+XG4gICAgICAgICAgPGMuQnV0dG9uIHc9JzNlbScgaD0nM2VtJyBib3hTaGFkb3c9J2RhcmstbGcnIHZhcmlhbnQ9J2FjdGl2ZScgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgZGVlcC5kZWxldGUoZGVsZXRlUXVlcnkpO1xuICAgICAgICAgICAgZGlzY2xvc3VyZS5vbkNsb3NlKCk7XG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8QnNDaGVjazIgLz5cbiAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICA8L2MuU2xpZGVGYWRlPlxuICAgICAgPC8+XG4gICAgKTtcbiAgICBcbiAgICBjb25zdCBhbGVydCA9IChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGMuQWxlcnQgc3RhdHVzPXtjYW4gPyAnaW5mbycgOiAnZXJyb3InfT5cbiAgICAgICAgICA8Yy5BbGVydEljb24gLz5cbiAgICAgICAgICA8Yy5BbGVydFRpdGxlPlxuICAgICAgICAgICAgWW91IHtjYW4gPyAnY2FuJyA6IFwiY2FuJ3RcIn0gZG8gaXQuXG4gICAgICAgICAgPC9jLkFsZXJ0VGl0bGU+XG4gICAgICAgIDwvYy5BbGVydD5cbiAgICAgICAgPGdvLkVkaXRvclxuICAgICAgICAgIHZhbHVlPXtgYXdhaXQgZGVlcC5jYW4oZGVlcC5saW5rSWQsIGRlZXAubGlua0lkLCBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdBbGxvd0FkbWluJykpXG4vLyAke0FsbG93QWRtaW59XG5hd2FpdCBkZWVwLmNhbigke2xpbmsudHlwZV9pZH0sIGRlZXAubGlua0lkLCBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdBbGxvd0RlbGV0ZVR5cGUnKSlcbi8vICR7QWxsb3dEZWxldGVUeXBlfVxuYXdhaXQgZGVlcC5jYW4oJHtsaW5rLmlkfSwgZGVlcC5saW5rSWQsIGRlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ0FsbG93RGVsZXRlJykpXG4vLyAke0FsbG93RGVsZXRlfWB9XG4gICAgICAgICAgZWRpdGFibGU9e2ZhbHNlfVxuICAgICAgICAvPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICA8Z28uT24gZG89e3t9fT5cbiAgICAgICAgPGMuTW9kYWxcbiAgICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgICBjbG9zZU9uT3ZlcmxheUNsaWNrXG4gICAgICAgICAgYmxvY2tTY3JvbGxPbk1vdW50PXtmYWxzZX1cbiAgICAgICAgICBvbkNsb3NlPXtkaXNjbG9zdXJlLm9uQ2xvc2V9XG4gICAgICAgICAgaXNPcGVuPXtkaXNjbG9zdXJlLmlzT3Blbn1cbiAgICAgICAgICBwb3J0YWxQcm9wcz17e1xuICAgICAgICAgICAgY29udGFpbmVyUmVmOiBnby5yb290KCkucmVmXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLk1vZGFsT3ZlcmxheSAvPlxuICAgICAgICAgIDxjLk1vZGFsQ29udGVudCB3PSczMGVtJyBtYXhXPSczMGVtJyBwb3NpdGlvbj0ncmVsYXRpdmUnPlxuICAgICAgICAgICAgPGMuTW9kYWxIZWFkZXI+XG4gICAgICAgICAgICAgIExpbmsgZGVsZXRpbmc6IHtgJHtsaW5rfWB9XG4gICAgICAgICAgICA8L2MuTW9kYWxIZWFkZXI+XG4gICAgICAgICAgICA8Yy5Nb2RhbEJvZHkgcD17MH0gdz0nMTAwJScgaD0nMTAwJSc+XG4gICAgICAgICAgICAgIHthbGVydH1cbiAgICAgICAgICAgICAgPGMuQm94IHA9JzFlbSc+XG4gICAgICAgICAgICAgICAgPGMuQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgIHNpemU9J2xnJ1xuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZG93bn1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBzZXREb3duKCFkb3duKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBEZWxldGUgYWxsIGNvbnRhaW5lZCBpbiBsaW5rcz8gVG90YWw6ICh7Y291bnREb3dufSlcbiAgICAgICAgICAgICAgICA8L2MuQ2hlY2tib3g+XG4gICAgICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgICAgICAgIDxjLkJveCBwPScxZW0nPlxuICAgICAgICAgICAgICAgIE5lZWQgdG8gZGVsZXRlIGNvbnRhaW5zIHRvIHRoaXMgbGluaz9cbiAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgICAgPGMuQm94PlxuICAgICAgICAgICAgICAgIDxjLlNpbXBsZUdyaWQgY29sdW1ucz17M30+XG4gICAgICAgICAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD17Y29udGFpbm1lbnQgPT09ICdjb250YWlucycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q29udGFpbm1lbnQoJ2NvbnRhaW5zJyl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxjLkJveD5cbiAgICAgICAgICAgICAgICAgICAgICA8Yy5Cb3g+YWxsIGluPC9jLkJveD5cbiAgICAgICAgICAgICAgICAgICAgICA8Yy5Cb3ggZm9udFNpemU9J3hzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zOiAoe2NvdW50SW5Db250YWluc30pXG4gICAgICAgICAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgICAgICAgICAgICB7ISFjb250YWluZXJJZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9e2NvbnRhaW5tZW50ID09PSAnY29udGFpbmVyJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldENvbnRhaW5tZW50KCdjb250YWluZXInKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxjLkJveD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxjLkJveD5vbmx5IG9uZTwvYy5Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Yy5Cb3ggZm9udFNpemU9J3hzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSB7Y29udGFpbmVySWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgICAgICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9e2NvbnRhaW5tZW50ID09PSAnb25seScgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q29udGFpbm1lbnQoJ29ubHknKX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGMuQm94PlxuICAgICAgICAgICAgICAgICAgICAgIDxjLkJveD5ub3QgbmVlZDwvYy5Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgPGMuQm94IGZvbnRTaXplPSd4cyc+XG4gICAgICAgICAgICAgICAgICAgICAgICB0byBkZWxldGUgY29udGFpbnNcbiAgICAgICAgICAgICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2MuU2ltcGxlR3JpZD5cbiAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgICAgPGdvLkVkaXRvclxuICAgICAgICAgICAgICAgIHZhbHVlPXtgYXdhaXQgZGVlcC5kZWxldGUoJHtKU09OLnN0cmluZ2lmeShkZWxldGVRdWVyeSwgbnVsbCwgMil9KWB9XG4gICAgICAgICAgICAgICAgZWRpdGFibGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9jLk1vZGFsQm9keT5cbiAgICAgICAgICAgIHtidXR0b25zfVxuICAgICAgICAgIDwvYy5Nb2RhbENvbnRlbnQ+XG4gICAgICAgIDwvYy5Nb2RhbD5cbiAgICAgIDwvZ28uT24+XG4gICAgKTtcbiAgfTtcbn07Il19",
        "link_id": 1312
      }
    },
    {
      "id": 1313,
      "type_id": 3,
      "from_id": 893,
      "to_id": 1312,
      "value": {
        "id": 428,
        "value": "generated",
        "link_id": 1313
      }
    },
    {
      "id": 1314,
      "type_id": 143,
      "from_id": 1312,
      "to_id": 893
    },
    {
      "id": 1315,
      "type_id": 3,
      "from_id": 893,
      "to_id": 1314
    },
    {
      "id": 894,
      "type_id": 35,
      "from_id": 145,
      "to_id": 893
    },
    {
      "id": 895,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 430,
        "value": "({ deep, data, require, Go }) => {\n  const { BsX, BsCheck2All } = require(\"react-icons/bs\");\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n\n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n  \n  const Query = deep.idLocal(dc, 'Query');\n  const Contain = deep.idLocal(dc, 'Contain');\n  const FinderQuery = deep.idLocal(dpl, 'FinderQuery');\n  const Tree = deep.idLocal(dpl, 'Tree');\n  const Search = deep.idLocal(dpl, 'Search');\n\n  return ({\n    go,\n\n    initialId = deep.linkId,\n    initialHandlerId,\n    startProps = {},\n    isActive,\n    onSubmit,\n    disclosure: __disclosure,\n    operations = false,\n  }, ref) => {\n    const _disclosure = c.useDisclosure();\n    const disclosure = __disclosure || _disclosure;\n\n    const [selectedId, setSelectedId] = React.useState();\n    const [queryId, setQueryId] = React.useState();\n\n    const buttons = <>\n      <c.SlideFade in={true} offsetX='-0.5rem' style={{position: 'absolute', top: 0, right: '-4em'}}>\n        <c.Button\n          w='3em' h='3em'\n          boxShadow='dark-lg'\n          variant={undefined}\n          onClick={disclosure.onClose}\n        ><BsX /></c.Button>\n      </c.SlideFade>\n      <c.Box position='absolute' right='0' bottom='-4em'>\n        {!!selectedId && <c.Button\n          h='3em' rightIcon={<BsCheck2All />}\n          onClick={() => {\n            onSubmit && onSubmit(selectedId);\n          }}\n        >{`${deep.get(selectedId)}`}</c.Button>\n      </c.Box>\n    </>;\n\n    return <go.On\n      do={{\n        changed: (g,v,o) => o?.id && setSelectedId(o.id),\n      }}\n    >\n      <c.Modal\n        ref={disclosure.isOpen ? ref : null}\n        closeOnOverlayClick blockScrollOnMount={false}\n        onClose={() => {\n          disclosure.onClose();\n          go.focus();\n        }}\n        isOpen={disclosure.isOpen} portalProps={{ containerRef: go.root().ref }}\n      >\n        <c.ModalOverlay />\n        <c.ModalContent w='30em' maxW='30em' h='80vh' position='relative'>\n          <c.ModalHeader>Finder</c.ModalHeader>\n          {/* <Box position='absolute' bottom='-0.5em' right='-0.5em' boxShadow='dark-lg' zIndex={2}>\n            {!!selectedLink && <LinkButton id={selectedLink?.id} maxW='100%'/>}\n          </Box> */}\n          <c.ModalBody p={0} w='100%' h='100%'>\n            <go.Provider linkId={Tree}>\n              {!!disclosure.isOpen && <go.Handler\n                initialId={initialId}\n                initialHandlerId={initialHandlerId}\n                startProps={startProps}\n                handlerId={Tree}\n                fullWidth='30em' flex='1'\n                saveHistory={false}\n                using={false}\n                operations={operations}\n              />}\n            </go.Provider>\n          </c.ModalBody>\n          {buttons}\n        </c.ModalContent>\n      </c.Modal>\n    </go.On>;\n  };\n}",
        "link_id": 895
      }
    },
    {
      "id": 902,
      "type_id": 35,
      "from_id": 145,
      "to_id": 901
    },
    {
      "id": 903,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 442,
        "value": "async ({ deep, data, require }) => {\n  const React = require('react');\n  const { GiBrain } = require(\"react-icons/gi\");\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Tree = deep.idLocal(dpl, 'Tree');\n\n  return ({\n    go,\n    handlerId,\n\n    isActive,\n  }, ref) => {\n    return <go.On do={{\n      exec: (g,v,o) => go.go.do('right', { ...o, id: Tree })),\n      click: (g,v,o) => go.do('exec', o),\n      right: (g,v,o) => go.do('exec', o),\n    }}>\n      <c.Button\n        w='3em' h='3em'\n        variant={isActive ? 'active' : undefined}\n        ref={ref}\n        onClick={() => go.do('exec')}\n      >\n        <GiBrain/>\n      </c.Button>\n    </go.On>;\n  };\n}",
        "link_id": 903
      }
    },
    {
      "id": 1483,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 486,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const c = require('@chakra-ui/react');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.Box, { ref: ref, h: '3em' }, `${go}`));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUNGLFNBQVMsRUFFVCxTQUFTLEVBQ1QsU0FBUyxFQUVULE1BQU0sRUFDTixJQUFJLEVBRUosUUFBUSxFQUVSLFFBQVEsRUFFUixHQUFHLEtBQUssRUFDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUNYLEVBQUUsRUFBRSxFQUNIO1lBRUQsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBQyxLQUFLLElBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBUyxDQUNwQyxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBnb0hhbmRsZXIsXG5cbiAgICBoYW5kbGVySWQsXG4gICAgQ29tcG9uZW50LFxuXG4gICAgbGlua0lkLFxuICAgIGxpbmssXG5cbiAgICBjaGlsZHJlbixcblxuICAgIGlzQWN0aXZlLFxuXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGMuQm94IHJlZj17cmVmfSBoPSczZW0nPntgJHtnb31gfTwvYy5Cb3g+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1483
      }
    },
    {
      "id": 1484,
      "type_id": 3,
      "from_id": 936,
      "to_id": 1483,
      "value": {
        "id": 485,
        "value": "generated",
        "link_id": 1484
      }
    },
    {
      "id": 1485,
      "type_id": 143,
      "from_id": 1483,
      "to_id": 936
    },
    {
      "id": 1486,
      "type_id": 3,
      "from_id": 936,
      "to_id": 1485
    },
    {
      "id": 937,
      "type_id": 35,
      "from_id": 145,
      "to_id": 936
    },
    {
      "id": 938,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 487,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n  const c = require('@chakra-ui/react');\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n\n    ...props\n  }, ref) => {\n    return <go.On\n      do={{\n      }}\n    >\n      {/* <c.Box ref={ref} h='3em'>{`${go}`}</c.Box> */}\n      <go.Component path={[dpl, 'TreeLink']} {...props} linkId={linkId}></go.Component>\n    </go.On>;\n  };\n}",
        "link_id": 938
      }
    },
    {
      "id": 941,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 493,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const dc = '@deep-foundation/core';\n  const dnpm = '@deep-foundation/npm-packager';\n  const dpl = '@deep-foundation/perception-links';\n  const c = require('@chakra-ui/react');\n  const semver = require('semver');\n\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const PackageNamespace = deep.idLocal(dc, 'PackageNamespace');\n  const promiseTree = deep.idLocal(dc, 'promiseTree');\n  const Resolved = deep.idLocal(dc, 'Resolved');\n  const Rejected = deep.idLocal(dc, 'Rejected');\n  const Then = deep.idLocal(dc, 'Then');\n  const PackageVersion = deep.idLocal(dc, 'PackageVersion');\n  const PackageQuery = deep.idLocal(dc, 'PackageQuery');\n  const Publish = deep.idLocal(dnpm, 'Publish');\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n\n    ...props\n  }, ref) => {\n    const { data: [version], loading: vl } = deep.useSubscription({\n      type_id: PackageVersion,\n      to_id: linkId,\n    });\n    const { data: publishs } = deep.useSubscription({\n      type_id: Publish,\n      from_id: linkId,\n    });\n    const [publish, setPublish] = React.useState(null);\n    const { data: [result] } = deep.useSubscription({\n      type_id: { _in: [Resolved, Rejected] },\n      up: {\n        tree_id: promiseTree,\n        parent_id: publish,\n      },\n    });\n    return <go.On\n      do={{\n      }}\n    >\n      <c.Button isDisabled w='100%' isLoading={vl}>{version ? `${version.symbol} ${version?.value?.value}` : 'no version'}</c.Button>\n      <c.Flex>\n        {!!result && <>\n          <c.Button onClick={() => go.do('open', { id: result.to_id })}>{result.symbol}</c.Button>\n        </>}\n        <c.Button flex='1' w='100%' isDisabled={!link?.value?.value} onClick={async () => {\n          setPublish(true);\n          let namespace = await deep.one({ type_id: PackageNamespace, string: link?.value?.value });\n          if (!namespace) namespace = (await deep.insert({ type_id: PackageNamespace, string: link?.value?.value }))?.data?.[0];\n          if (!version) await deep.insert({ type_id: PackageVersion, from_id: namespace.id, to_id: linkId, string: '0.0.1' });\n          else await deep.value(version.id, semver.inc(version?.value?.value || '0.0.0', 'patch'));\n          const pq = await deep.one({ type_id: PackageQuery, string: link?.value?.value });\n          const { data: [p] } = await deep.insert({\n            type_id: Publish,\n            from_id: linkId,\n            ...(pq ? { to_id: pq.id } : { to: { type_id: PackageQuery, string: link?.value?.value } }),\n          });\n          setPublish(p.id);\n        }} isLoading={publish !== null && !result}>publish</c.Button>\n      </c.Flex>\n      <go.Provider linkId={Stack}>\n        <go.Handler handlerId={Stack} links={publishs}/>\n      </go.Provider>\n    </go.On>;\n  };\n}",
        "link_id": 941
      }
    },
    {
      "id": 982,
      "type_id": 3,
      "from_id": 948,
      "to_id": 881,
      "value": {
        "id": 529,
        "value": "compatableMenuSanbox",
        "link_id": 982
      }
    },
    {
      "id": 983,
      "type_id": 3,
      "from_id": 948,
      "to_id": 933,
      "value": {
        "id": 530,
        "value": "compatableMenuSite",
        "link_id": 983
      }
    },
    {
      "id": 984,
      "type_id": 3,
      "from_id": 948,
      "to_id": 947,
      "value": {
        "id": 531,
        "value": "MenuAuthCompatableMenu",
        "link_id": 984
      }
    },
    {
      "id": 985,
      "type_id": 3,
      "from_id": 948,
      "to_id": 852,
      "value": {
        "id": 532,
        "value": "Menu",
        "link_id": 985
      }
    },
    {
      "id": 986,
      "type_id": 3,
      "from_id": 948,
      "to_id": 851,
      "value": {
        "id": 533,
        "value": "MenuComponent",
        "link_id": 986
      }
    },
    {
      "id": 987,
      "type_id": 3,
      "from_id": 948,
      "to_id": 828,
      "value": {
        "id": 534,
        "value": "compatableSymbol",
        "link_id": 987
      }
    },
    {
      "id": 988,
      "type_id": 3,
      "from_id": 948,
      "to_id": 884,
      "value": {
        "id": 535,
        "value": "compatableLayerSandbox",
        "link_id": 988
      }
    },
    {
      "id": 989,
      "type_id": 3,
      "from_id": 948,
      "to_id": 917,
      "value": {
        "id": 536,
        "value": "compatableGQLQueries",
        "link_id": 989
      }
    },
    {
      "id": 990,
      "type_id": 3,
      "from_id": 948,
      "to_id": 926,
      "value": {
        "id": 537,
        "value": "compatableClientQueries",
        "link_id": 990
      }
    },
    {
      "id": 991,
      "type_id": 3,
      "from_id": 948,
      "to_id": 920,
      "value": {
        "id": 538,
        "value": "compatableReactQueries",
        "link_id": 991
      }
    },
    {
      "id": 992,
      "type_id": 3,
      "from_id": 948,
      "to_id": 923,
      "value": {
        "id": 539,
        "value": "compatableResultsQueries",
        "link_id": 992
      }
    },
    {
      "id": 993,
      "type_id": 3,
      "from_id": 948,
      "to_id": 944,
      "value": {
        "id": 540,
        "value": "packageViewCompatablePackage",
        "link_id": 993
      }
    },
    {
      "id": 994,
      "type_id": 3,
      "from_id": 948,
      "to_id": 827,
      "value": {
        "id": 541,
        "value": "Compatable",
        "link_id": 994
      }
    },
    {
      "id": 995,
      "type_id": 3,
      "from_id": 948,
      "to_id": 831,
      "value": {
        "id": 542,
        "value": "linkSymbol",
        "link_id": 995
      }
    },
    {
      "id": 996,
      "type_id": 3,
      "from_id": 948,
      "to_id": 830,
      "value": {
        "id": 543,
        "value": "Link",
        "link_id": 996
      }
    },
    {
      "id": 997,
      "type_id": 3,
      "from_id": 948,
      "to_id": 832,
      "value": {
        "id": 544,
        "value": "childrenSymbol",
        "link_id": 997
      }
    },
    {
      "id": 998,
      "type_id": 3,
      "from_id": 948,
      "to_id": 829,
      "value": {
        "id": 545,
        "value": "Children",
        "link_id": 998
      }
    },
    {
      "id": 1062,
      "type_id": 3,
      "from_id": 948,
      "to_id": 925,
      "value": {
        "id": 609,
        "value": "QueriesClient",
        "link_id": 1062
      }
    },
    {
      "id": 1063,
      "type_id": 3,
      "from_id": 948,
      "to_id": 924,
      "value": {
        "id": 610,
        "value": "QueriesClientComponent",
        "link_id": 1063
      }
    },
    {
      "id": 1561,
      "type_id": 18,
      "from_id": 1554,
      "to_id": 1560
    },
    {
      "id": 1562,
      "type_id": 16,
      "from_id": 1560,
      "to_id": 1
    },
    {
      "id": 1563,
      "type_id": 70,
      "from_id": 1562,
      "to_id": 183
    },
    {
      "id": 1564,
      "type_id": 15,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1565,
      "type_id": 19,
      "from_id": 1554,
      "to_id": 1564
    },
    {
      "id": 1566,
      "type_id": 15,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1567,
      "type_id": 20,
      "from_id": 1554,
      "to_id": 1566
    },
    {
      "id": 1568,
      "type_id": 16,
      "from_id": 1566,
      "to_id": 28
    },
    {
      "id": 1569,
      "type_id": 70,
      "from_id": 1568,
      "to_id": 183
    },
    {
      "id": 1570,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 634,
        "value": "@deep-foundation/authorization",
        "link_id": 1570
      }
    },
    {
      "id": 1576,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1550,
      "value": {
        "id": 636,
        "value": "handleGql",
        "link_id": 1576
      }
    },
    {
      "id": 1577,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1549,
      "value": {
        "id": 637,
        "value": "handleRoute",
        "link_id": 1577
      }
    },
    {
      "id": 1578,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1547,
      "value": {
        "id": 638,
        "value": "handler",
        "link_id": 1578
      }
    },
    {
      "id": 1580,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1552,
      "value": {
        "id": 640,
        "value": "routerStringUse",
        "link_id": 1580
      }
    },
    {
      "id": 1581,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1548,
      "value": {
        "id": 641,
        "value": "route",
        "link_id": 1581
      }
    },
    {
      "id": 1582,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1553,
      "value": {
        "id": 642,
        "value": "routerListening",
        "link_id": 1582
      }
    },
    {
      "id": 1583,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1551,
      "value": {
        "id": 643,
        "value": "router",
        "link_id": 1583
      }
    },
    {
      "id": 1584,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1556,
      "value": {
        "id": 644,
        "value": "TryValue",
        "link_id": 1584
      }
    },
    {
      "id": 1585,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1557,
      "value": {
        "id": 645,
        "value": "Allow",
        "link_id": 1585
      }
    },
    {
      "id": 1586,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1559,
      "value": {
        "id": 646,
        "value": "ErrorValue",
        "link_id": 1586
      }
    },
    {
      "id": 1587,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1558,
      "value": {
        "id": 647,
        "value": "Error",
        "link_id": 1587
      }
    },
    {
      "id": 1588,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1555,
      "value": {
        "id": 648,
        "value": "Try",
        "link_id": 1588
      }
    },
    {
      "id": 175,
      "type_id": 36,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 268,
      "type_id": 3,
      "from_id": 184,
      "to_id": 84,
      "value": {
        "id": 90,
        "value": "PackageInstall",
        "link_id": 268
      }
    },
    {
      "id": 269,
      "type_id": 3,
      "from_id": 184,
      "to_id": 85,
      "value": {
        "id": 91,
        "value": "PackagePublish",
        "link_id": 269
      }
    },
    {
      "id": 270,
      "type_id": 3,
      "from_id": 184,
      "to_id": 86,
      "value": {
        "id": 92,
        "value": "packageInstallCode",
        "link_id": 270
      }
    },
    {
      "id": 271,
      "type_id": 3,
      "from_id": 184,
      "to_id": 87,
      "value": {
        "id": 93,
        "value": "packageInstallCodeHandler",
        "link_id": 271
      }
    },
    {
      "id": 272,
      "type_id": 3,
      "from_id": 184,
      "to_id": 88,
      "value": {
        "id": 94,
        "value": "packageInstallCodeHandleInsert",
        "link_id": 272
      }
    },
    {
      "id": 332,
      "type_id": 3,
      "from_id": 184,
      "to_id": 148,
      "value": {
        "id": 154,
        "value": "containTreeSymbol",
        "link_id": 332
      }
    },
    {
      "id": 586,
      "type_id": 3,
      "from_id": 559,
      "to_id": 585,
      "value": {
        "id": 230,
        "value": "PackagePublishSymbol",
        "link_id": 586
      }
    },
    {
      "id": 721,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 314,
        "value": "\nasync ({ deep, require, gql, data: { newLink } }) => {\n    const ts = require('typescript');\n  const { data: [generatedFrom] } = await deep.select({\n      type_id: await deep.id('@deep-foundation/core', 'GeneratedFrom'),\n    to_id: newLink.id, \n  });\n  const value = newLink?.value?.value;\n  let compiledString = '';\n  if (value) {\n    const result = ts.transpileModule(value, {\n      \"compilerOptions\": {\n        \"allowSyntheticDefaultImports\": true,\n        \"experimentalDecorators\": true,\n        \"inlineSourceMap\": true,\n        inlineSources: true,\n        \"noImplicitAny\": false,\n        \"removeComments\": true,\n        \"jsx\": \"react\",\n        \"module\": \"ESNext\",\n        \"moduleResolution\": \"node\",\n        \"target\": \"ESNext\",\n        \"skipLibCheck\": true,\n        \"resolveJsonModule\": true,\n        \"esModuleInterop\": true,\n        \"isolatedModules\": true\n      }\n    });\n    if (!result.outputText) {\n      throw result;\n    }\n    compiledString = result.outputText || '';\n  }\n  if (!generatedFrom) {\n      await deep.insert({\n        type_id: await deep.id('@deep-foundation/core', 'GeneratedFrom'),\n      to_id: newLink.id,\n      in: { data: {\n          type_id: await deep.id('@deep-foundation/core', 'Contain'),\n        from_id: newLink.id,\n      } },\n      from: { data: {\n          type_id: await deep.id('@deep-foundation/core', 'SyncTextFile'),\n        string: { data: { value: compiledString } },\n        in: { data: {\n            type_id: await deep.id('@deep-foundation/core', 'Contain'),\n          from_id: newLink.id,\n          string: { data: { value: 'generated' } },\n        } },\n      } },\n    });\n  } else {\n      await deep.update({\n        link_id: { _eq: generatedFrom.from_id },\n    }, {\n        value: compiledString,\n    }, { table: 'strings' });\n  }\n}\n",
        "link_id": 721
      }
    },
    {
      "id": 722,
      "type_id": 35,
      "from_id": 83,
      "to_id": 721
    },
    {
      "id": 723,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 315,
        "value": "TSX",
        "link_id": 723
      }
    },
    {
      "id": 724,
      "type_id": 146,
      "from_id": 723,
      "to_id": 723,
      "value": {
        "id": 316,
        "value": "📑",
        "link_id": 724
      }
    },
    {
      "id": 725,
      "type_id": 4,
      "from_id": 723,
      "to_id": 5
    },
    {
      "id": 726,
      "type_id": 50,
      "from_id": 723,
      "to_id": 722
    },
    {
      "id": 727,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 317,
        "value": "@deep-foundation/tsx",
        "link_id": 727
      }
    },
    {
      "id": 733,
      "type_id": 3,
      "from_id": 727,
      "to_id": 724,
      "value": {
        "id": 319,
        "value": "tsxSymbol",
        "link_id": 733
      }
    },
    {
      "id": 734,
      "type_id": 3,
      "from_id": 727,
      "to_id": 725,
      "value": {
        "id": 320,
        "value": "tsxValue",
        "link_id": 734
      }
    },
    {
      "id": 735,
      "type_id": 3,
      "from_id": 727,
      "to_id": 726,
      "value": {
        "id": 321,
        "value": "handleUpdate",
        "link_id": 735
      }
    },
    {
      "id": 754,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 755,
      "type_id": 4,
      "from_id": 754,
      "to_id": 5
    },
    {
      "id": 756,
      "type_id": 1,
      "from_id": 2,
      "to_id": 97
    },
    {
      "id": 757,
      "type_id": 49,
      "from_id": 756,
      "to_id": 751
    },
    {
      "id": 758,
      "type_id": 1,
      "from_id": 8,
      "to_id": 97
    },
    {
      "id": 759,
      "type_id": 1,
      "from_id": 758,
      "to_id": 2
    },
    {
      "id": 760,
      "type_id": 1,
      "from_id": 758,
      "to_id": 2
    },
    {
      "id": 761,
      "type_id": 49,
      "from_id": 758,
      "to_id": 753
    },
    {
      "id": 762,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 328,
        "value": "@deep-foundation/npm-packager",
        "link_id": 762
      }
    },
    {
      "id": 768,
      "type_id": 3,
      "from_id": 762,
      "to_id": 759,
      "value": {
        "id": 330,
        "value": "Installed",
        "link_id": 768
      }
    },
    {
      "id": 769,
      "type_id": 3,
      "from_id": 762,
      "to_id": 760,
      "value": {
        "id": 331,
        "value": "Used",
        "link_id": 769
      }
    },
    {
      "id": 770,
      "type_id": 3,
      "from_id": 762,
      "to_id": 755,
      "value": {
        "id": 332,
        "value": "tokenValue",
        "link_id": 770
      }
    },
    {
      "id": 771,
      "type_id": 3,
      "from_id": 762,
      "to_id": 754,
      "value": {
        "id": 333,
        "value": "Token",
        "link_id": 771
      }
    },
    {
      "id": 772,
      "type_id": 3,
      "from_id": 762,
      "to_id": 757,
      "value": {
        "id": 334,
        "value": "publishCodeHandleInsert",
        "link_id": 772
      }
    },
    {
      "id": 773,
      "type_id": 3,
      "from_id": 762,
      "to_id": 751,
      "value": {
        "id": 335,
        "value": "publishCodeHandler",
        "link_id": 773
      }
    },
    {
      "id": 774,
      "type_id": 3,
      "from_id": 762,
      "to_id": 750,
      "value": {
        "id": 336,
        "value": "publishCode",
        "link_id": 774
      }
    },
    {
      "id": 176,
      "type_id": 39,
      "from_id": 175,
      "to_id": 8
    },
    {
      "id": 177,
      "type_id": 37,
      "from_id": 175,
      "to_id": 10
    },
    {
      "id": 178,
      "type_id": 39,
      "from_id": 175,
      "to_id": 9
    },
    {
      "id": 179,
      "type_id": 37,
      "from_id": 175,
      "to_id": 11
    },
    {
      "id": 180,
      "type_id": 37,
      "from_id": 175,
      "to_id": 12
    },
    {
      "id": 181,
      "type_id": 39,
      "from_id": 175,
      "to_id": 52
    },
    {
      "id": 182,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 183,
      "type_id": 36,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 184,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 6,
        "value": "@deep-foundation/core",
        "link_id": 184
      }
    },
    {
      "id": 185,
      "type_id": 3,
      "from_id": 184,
      "to_id": 1,
      "value": {
        "id": 7,
        "value": "Type",
        "link_id": 185
      }
    },
    {
      "id": 186,
      "type_id": 3,
      "from_id": 184,
      "to_id": 2,
      "value": {
        "id": 8,
        "value": "Package",
        "link_id": 186
      }
    },
    {
      "id": 187,
      "type_id": 3,
      "from_id": 184,
      "to_id": 3,
      "value": {
        "id": 9,
        "value": "Contain",
        "link_id": 187
      }
    },
    {
      "id": 188,
      "type_id": 3,
      "from_id": 184,
      "to_id": 4,
      "value": {
        "id": 10,
        "value": "Value",
        "link_id": 188
      }
    },
    {
      "id": 189,
      "type_id": 3,
      "from_id": 184,
      "to_id": 5,
      "value": {
        "id": 11,
        "value": "String",
        "link_id": 189
      }
    },
    {
      "id": 190,
      "type_id": 3,
      "from_id": 184,
      "to_id": 6,
      "value": {
        "id": 12,
        "value": "Number",
        "link_id": 190
      }
    },
    {
      "id": 191,
      "type_id": 3,
      "from_id": 184,
      "to_id": 7,
      "value": {
        "id": 13,
        "value": "Object",
        "link_id": 191
      }
    },
    {
      "id": 192,
      "type_id": 3,
      "from_id": 184,
      "to_id": 8,
      "value": {
        "id": 14,
        "value": "Any",
        "link_id": 192
      }
    },
    {
      "id": 193,
      "type_id": 3,
      "from_id": 184,
      "to_id": 9,
      "value": {
        "id": 15,
        "value": "Promise",
        "link_id": 193
      }
    },
    {
      "id": 194,
      "type_id": 3,
      "from_id": 184,
      "to_id": 10,
      "value": {
        "id": 16,
        "value": "Then",
        "link_id": 194
      }
    },
    {
      "id": 195,
      "type_id": 3,
      "from_id": 184,
      "to_id": 11,
      "value": {
        "id": 17,
        "value": "Resolved",
        "link_id": 195
      }
    },
    {
      "id": 196,
      "type_id": 3,
      "from_id": 184,
      "to_id": 12,
      "value": {
        "id": 18,
        "value": "Rejected",
        "link_id": 196
      }
    },
    {
      "id": 197,
      "type_id": 3,
      "from_id": 184,
      "to_id": 13,
      "value": {
        "id": 19,
        "value": "typeValue",
        "link_id": 197
      }
    },
    {
      "id": 198,
      "type_id": 3,
      "from_id": 184,
      "to_id": 14,
      "value": {
        "id": 20,
        "value": "packageValue",
        "link_id": 198
      }
    },
    {
      "id": 199,
      "type_id": 3,
      "from_id": 184,
      "to_id": 15,
      "value": {
        "id": 21,
        "value": "Selector",
        "link_id": 199
      }
    },
    {
      "id": 200,
      "type_id": 3,
      "from_id": 184,
      "to_id": 16,
      "value": {
        "id": 22,
        "value": "SelectorInclude",
        "link_id": 200
      }
    },
    {
      "id": 201,
      "type_id": 3,
      "from_id": 184,
      "to_id": 17,
      "value": {
        "id": 23,
        "value": "Rule",
        "link_id": 201
      }
    },
    {
      "id": 202,
      "type_id": 3,
      "from_id": 184,
      "to_id": 18,
      "value": {
        "id": 24,
        "value": "RuleSubject",
        "link_id": 202
      }
    },
    {
      "id": 203,
      "type_id": 3,
      "from_id": 184,
      "to_id": 19,
      "value": {
        "id": 25,
        "value": "RuleObject",
        "link_id": 203
      }
    },
    {
      "id": 204,
      "type_id": 3,
      "from_id": 184,
      "to_id": 20,
      "value": {
        "id": 26,
        "value": "RuleAction",
        "link_id": 204
      }
    },
    {
      "id": 205,
      "type_id": 3,
      "from_id": 184,
      "to_id": 21,
      "value": {
        "id": 27,
        "value": "containValue",
        "link_id": 205
      }
    },
    {
      "id": 206,
      "type_id": 3,
      "from_id": 184,
      "to_id": 22,
      "value": {
        "id": 28,
        "value": "User",
        "link_id": 206
      }
    },
    {
      "id": 207,
      "type_id": 3,
      "from_id": 184,
      "to_id": 23,
      "value": {
        "id": 29,
        "value": "Operation",
        "link_id": 207
      }
    },
    {
      "id": 208,
      "type_id": 3,
      "from_id": 184,
      "to_id": 24,
      "value": {
        "id": 30,
        "value": "operationValue",
        "link_id": 208
      }
    },
    {
      "id": 209,
      "type_id": 3,
      "from_id": 184,
      "to_id": 25,
      "value": {
        "id": 31,
        "value": "AllowInsert",
        "link_id": 209
      }
    },
    {
      "id": 210,
      "type_id": 3,
      "from_id": 184,
      "to_id": 26,
      "value": {
        "id": 32,
        "value": "AllowUpdate",
        "link_id": 210
      }
    },
    {
      "id": 211,
      "type_id": 3,
      "from_id": 184,
      "to_id": 27,
      "value": {
        "id": 33,
        "value": "AllowDelete",
        "link_id": 211
      }
    },
    {
      "id": 212,
      "type_id": 3,
      "from_id": 184,
      "to_id": 28,
      "value": {
        "id": 34,
        "value": "AllowSelect",
        "link_id": 212
      }
    },
    {
      "id": 216,
      "type_id": 3,
      "from_id": 184,
      "to_id": 32,
      "value": {
        "id": 38,
        "value": "ExecutionProvider",
        "link_id": 216
      }
    },
    {
      "id": 587,
      "type_id": 146,
      "from_id": 559,
      "to_id": 84,
      "value": {
        "id": 231,
        "value": "📥",
        "link_id": 587
      }
    },
    {
      "id": 736,
      "type_id": 3,
      "from_id": 727,
      "to_id": 722,
      "value": {
        "id": 322,
        "value": "handler",
        "link_id": 736
      }
    },
    {
      "id": 753,
      "type_id": 35,
      "from_id": 83,
      "to_id": 752
    },
    {
      "id": 775,
      "type_id": 3,
      "from_id": 762,
      "to_id": 756,
      "value": {
        "id": 337,
        "value": "Publish",
        "link_id": 775
      }
    },
    {
      "id": 776,
      "type_id": 3,
      "from_id": 762,
      "to_id": 761,
      "value": {
        "id": 338,
        "value": "installCodeHandleInsert",
        "link_id": 776
      }
    },
    {
      "id": 213,
      "type_id": 3,
      "from_id": 184,
      "to_id": 29,
      "value": {
        "id": 35,
        "value": "File",
        "link_id": 213
      }
    },
    {
      "id": 588,
      "type_id": 3,
      "from_id": 559,
      "to_id": 587,
      "value": {
        "id": 232,
        "value": "PackageInstallSymbol",
        "link_id": 588
      }
    },
    {
      "id": 654,
      "type_id": 3,
      "from_id": 559,
      "to_id": 653,
      "value": {
        "id": 298,
        "value": "RejectedSymbol",
        "link_id": 654
      }
    },
    {
      "id": 655,
      "type_id": 146,
      "from_id": 559,
      "to_id": 11,
      "value": {
        "id": 299,
        "value": "🟢",
        "link_id": 655
      }
    },
    {
      "id": 656,
      "type_id": 3,
      "from_id": 559,
      "to_id": 655,
      "value": {
        "id": 300,
        "value": "ResolvedSymbol",
        "link_id": 656
      }
    },
    {
      "id": 657,
      "type_id": 146,
      "from_id": 559,
      "to_id": 10,
      "value": {
        "id": 301,
        "value": "🔗",
        "link_id": 657
      }
    },
    {
      "id": 658,
      "type_id": 3,
      "from_id": 559,
      "to_id": 657,
      "value": {
        "id": 302,
        "value": "ThenSymbol",
        "link_id": 658
      }
    },
    {
      "id": 659,
      "type_id": 146,
      "from_id": 559,
      "to_id": 9,
      "value": {
        "id": 303,
        "value": "⏳",
        "link_id": 659
      }
    },
    {
      "id": 660,
      "type_id": 3,
      "from_id": 559,
      "to_id": 659,
      "value": {
        "id": 304,
        "value": "PromiseSymbol",
        "link_id": 660
      }
    },
    {
      "id": 661,
      "type_id": 146,
      "from_id": 559,
      "to_id": 4,
      "value": {
        "id": 305,
        "value": "📎",
        "link_id": 661
      }
    },
    {
      "id": 662,
      "type_id": 3,
      "from_id": 559,
      "to_id": 661,
      "value": {
        "id": 306,
        "value": "ValueSymbol",
        "link_id": 662
      }
    },
    {
      "id": 663,
      "type_id": 146,
      "from_id": 559,
      "to_id": 3,
      "value": {
        "id": 307,
        "value": "🗂",
        "link_id": 663
      }
    },
    {
      "id": 664,
      "type_id": 3,
      "from_id": 559,
      "to_id": 663,
      "value": {
        "id": 308,
        "value": "ContainSymbol",
        "link_id": 664
      }
    },
    {
      "id": 665,
      "type_id": 146,
      "from_id": 559,
      "to_id": 2,
      "value": {
        "id": 309,
        "value": "📦",
        "link_id": 665
      }
    },
    {
      "id": 666,
      "type_id": 3,
      "from_id": 559,
      "to_id": 665,
      "value": {
        "id": 310,
        "value": "PackageSymbol",
        "link_id": 666
      }
    },
    {
      "id": 667,
      "type_id": 146,
      "from_id": 559,
      "to_id": 1,
      "value": {
        "id": 311,
        "value": "⭐️",
        "link_id": 667
      }
    },
    {
      "id": 668,
      "type_id": 3,
      "from_id": 559,
      "to_id": 667,
      "value": {
        "id": 312,
        "value": "TypeSymbol",
        "link_id": 668
      }
    },
    {
      "id": 1339,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 438,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    return ({ go, id, ...props }, ref) => {\n        const { cy } = go.useGraph();\n        const data = { id: `${id}`, label: `${id}` };\n        const classes = ['link-ghost'];\n        return React.createElement(go.GraphNode, { ghost: true, element: {\n                data, classes,\n            }, ...props });\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUNGLEVBQUUsRUFFRixHQUFHLEtBQUssRUFDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsTUFBTSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM3QixNQUFNLElBQUksR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFDN0MsTUFBTSxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUMvQixPQUFPLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQ2xCLEtBQUssUUFDTCxPQUFPLEVBQUU7Z0JBQ1AsSUFBSSxFQUFFLE9BQU87YUFDZCxLQUNHLEtBQUssR0FDVCxDQUFDO0lBQ0wsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGlkLFxuXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgeyBjeSB9ID0gZ28udXNlR3JhcGgoKTtcbiAgICBjb25zdCBkYXRhID0geyBpZDogYCR7aWR9YCwgbGFiZWw6IGAke2lkfWAgfTtcbiAgICBjb25zdCBjbGFzc2VzID0gWydsaW5rLWdob3N0J107XG4gICAgcmV0dXJuIDxnby5HcmFwaE5vZGVcbiAgICAgIGdob3N0XG4gICAgICBlbGVtZW50PXt7XG4gICAgICAgIGRhdGEsIGNsYXNzZXMsXG4gICAgICB9fVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+O1xuICB9O1xufSJdfQ==",
        "link_id": 1339
      }
    },
    {
      "id": 1340,
      "type_id": 3,
      "from_id": 899,
      "to_id": 1339,
      "value": {
        "id": 437,
        "value": "generated",
        "link_id": 1340
      }
    },
    {
      "id": 1341,
      "type_id": 143,
      "from_id": 1339,
      "to_id": 899
    },
    {
      "id": 1342,
      "type_id": 3,
      "from_id": 899,
      "to_id": 1341
    },
    {
      "id": 900,
      "type_id": 35,
      "from_id": 145,
      "to_id": 899
    },
    {
      "id": 1348,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 441,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n    const { IoInfiniteSharp } = require(\"react-icons/io5\");\n    const { Planet } = require('react-planet');\n    const c = require('@chakra-ui/react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const dpl = '@deep-foundation/perception-links';\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const PlanetRelations = await deep.id(dpl, 'PlanetRelations');\n    const PlanetOperations = await deep.id(dpl, 'PlanetOperations');\n    return ({ go, linkId, deleteDisclosure: _deleteDisclosure, finderDisclosure: _finderDisclosure, readmeDisclosure: _readmeDisclosure, isActive = false, }, ref) => {\n        const { cy } = go.useGraph();\n        const link = React.useMemo(() => deep.get(linkId), []);\n        const __deleteDisclosure = c.useDisclosure();\n        const deleteDisclosure = _deleteDisclosure || __deleteDisclosure;\n        const __finderDisclosure = c.useDisclosure();\n        const finderDisclosure = _finderDisclosure || __finderDisclosure;\n        const __readmeDisclosure = c.useDisclosure();\n        const readmeDisclosure = _readmeDisclosure || __readmeDisclosure;\n        const [mode, setMode] = React.useState('current');\n        const nav = go.useNav();\n        nav('current', PlanetRelations, PlanetRelations, PlanetRelations, PlanetRelations);\n        nav(PlanetRelations, PlanetRelations, PlanetOperations, PlanetRelations, 'current');\n        nav(PlanetOperations, PlanetOperations, 'up', PlanetOperations, PlanetRelations);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => {\n                    if (o?.mode)\n                        setMode(mode === o.mode ? 'current' : o.mode);\n                    if (go.value === 'current')\n                        go.do(go.value);\n                },\n                focus: (g, d, v, o) => !v && go.set('current'),\n                up: (g, v, o) => go.focus(nav.get(go.value, 'up'), { position: 0.5, ...o }),\n                down: (g, v, o) => go.focus(nav.get(go.value, 'down'), { position: 0, ...o }),\n                left: (g, v, o) => go.focus(nav.get(go.value, 'left'), { position: 0.25 }),\n                right: (g, v, o) => go.focus(nav.get(go.value, 'right'), { position: 0.75 }),\n                current: (g, v, o) => {\n                    if (go.value === 'current') {\n                        go.set().go.go.focus('current');\n                    }\n                    else {\n                        go.go.do('exec');\n                    }\n                },\n            }, focus: {\n                up: (g, v, o) => go.root().do('up'),\n            } },\n            React.createElement(c.Box, { position: 'relative', top: '0', left: '0', w: '0', h: '0' }, !!go.value && React.createElement(React.Fragment, null,\n                React.createElement(go.Provider, { linkId: PlanetRelations },\n                    React.createElement(go.Component, { path: [dpl, 'PlanetRelations'], isActive: isActive, linkId: linkId })),\n                React.createElement(go.Provider, { linkId: PlanetOperations },\n                    React.createElement(go.Component, { path: [dpl, 'PlanetOperations'], isActive: isActive, linkId: linkId, deleteDisclosure: deleteDisclosure, finderDisclosure: finderDisclosure, readmeDisclosure: readmeDisclosure })),\n                React.createElement(c.Button, { variant: go.value === 'current' ? 'planetActive' : 'planet', position: 'absolute', left: '-1.5em', top: '-1.5em', onClick: () => go.do('current') }))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BFLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUN2RCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFDSixTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxHQUN6RSxHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBRWhELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sZUFBZSxHQUFHLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUM5RCxNQUFNLGdCQUFnQixHQUFHLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUVoRSxPQUFPLENBQUMsRUFDTixFQUFFLEVBRUYsTUFBTSxFQUNOLGdCQUFnQixFQUFFLGlCQUFpQixFQUNuQyxnQkFBZ0IsRUFBRSxpQkFB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QUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxHQUFHLENBQ3ZFO2dCQUNkLG9CQUFDLEVBQUUsQ0FBQyxRQUFRLElBQUMsTUFBTSxFQUFFLGdCQUFnQjtvQkFDbkMsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFDWCxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsa0JBQWtCLENBQUMsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQ25FLGdCQUFnQixFQUFFLGdCQUFnQixFQUNsQyxnQkFBZ0IsRUFBRSxnQkFBZ0IsRUFDbEMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEdBQ2xDLENBQ1U7Z0JBQ2Qsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDUCxPQUFPLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUMzRCxRQUFRLEVBQUMsVUFBVSxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLFFBQVEsRUFDOUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQ3JCLENBQ1gsQ0FDRyxDQUNGLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBMdUNoZXZyb25MYXN0LCBMdUNoZXZyb25GaXJzdCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2x1XCIpO1xuICBjb25zdCB7IElvSW5maW5pdGVTaGFycCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2lvNVwiKTtcbiAgY29uc3QgeyBQbGFuZXQgfSA9IHJlcXVpcmUoJ3JlYWN0LXBsYW5ldCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IHtcbiAgICBUeXBlZEljb24sIERvd25JY29uLCBVcEljb24sIFR5cGVJY29uLCBJbkljb24sIE91dEljb24sIEZyb21JY29uLCBUb0ljb24sXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG5cbiAgY29uc3QgVHJlZUxpc3QgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpc3QnKTtcbiAgY29uc3QgUGxhbmV0UmVsYXRpb25zID0gYXdhaXQgZGVlcC5pZChkcGwsICdQbGFuZXRSZWxhdGlvbnMnKTtcbiAgY29uc3QgUGxhbmV0T3BlcmF0aW9ucyA9IGF3YWl0IGRlZXAuaWQoZHBsLCAnUGxhbmV0T3BlcmF0aW9ucycpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgbGlua0lkLFxuICAgIGRlbGV0ZURpc2Nsb3N1cmU6IF9kZWxldGVEaXNjbG9zdXJlLFxuICAgIGZpbmRlckRpc2Nsb3N1cmU6IF9maW5kZXJEaXNjbG9zdXJlLFxuICAgIHJlYWRtZURpc2Nsb3N1cmU6IF9yZWFkbWVEaXNjbG9zdXJlLFxuXG4gICAgaXNBY3RpdmUgPSBmYWxzZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgeyBjeSB9ID0gZ28udXNlR3JhcGgoKTtcblxuICAgIGNvbnN0IGxpbmsgPSBSZWFjdC51c2VNZW1vKCgpID0+IGRlZXAuZ2V0KGxpbmtJZCksIFtdKTtcblxuICAgIGNvbnN0IF9fZGVsZXRlRGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IGRlbGV0ZURpc2Nsb3N1cmUgPSBfZGVsZXRlRGlzY2xvc3VyZSB8fCBfX2RlbGV0ZURpc2Nsb3N1cmU7XG5cbiAgICBjb25zdCBfX2ZpbmRlckRpc2Nsb3N1cmUgPSBjLnVzZURpc2Nsb3N1cmUoKTtcbiAgICBjb25zdCBmaW5kZXJEaXNjbG9zdXJlID0gX2ZpbmRlckRpc2Nsb3N1cmUgfHwgX19maW5kZXJEaXNjbG9zdXJlO1xuXG4gICAgY29uc3QgX19yZWFkbWVEaXNjbG9zdXJlID0gYy51c2VEaXNjbG9zdXJlKCk7XG4gICAgY29uc3QgcmVhZG1lRGlzY2xvc3VyZSA9IF9yZWFkbWVEaXNjbG9zdXJlIHx8IF9fcmVhZG1lRGlzY2xvc3VyZTtcblxuICAgIGNvbnN0IFttb2RlLCBzZXRNb2RlXSA9IFJlYWN0LnVzZVN0YXRlKCdjdXJyZW50Jyk7XG5cbiAgICBjb25zdCBuYXYgPSBnby51c2VOYXYoKTtcbiAgICBuYXYoJ2N1cnJlbnQnLCBQbGFuZXRSZWxhdGlvbnMsIFBsYW5ldFJlbGF0aW9ucywgUGxhbmV0UmVsYXRpb25zLCBQbGFuZXRSZWxhdGlvbnMpO1xuICAgIG5hdihQbGFuZXRSZWxhdGlvbnMsIFBsYW5ldFJlbGF0aW9ucywgUGxhbmV0T3BlcmF0aW9ucywgUGxhbmV0UmVsYXRpb25zLCAnY3VycmVudCcpO1xuICAgIG5hdihQbGFuZXRPcGVyYXRpb25zLCBQbGFuZXRPcGVyYXRpb25zLCAndXAnLCBQbGFuZXRPcGVyYXRpb25zLCBQbGFuZXRSZWxhdGlvbnMpO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKGcsdixvKSA9PiB7XG4gICAgICAgIGlmIChvPy5tb2RlKSBzZXRNb2RlKG1vZGUgPT09IG8ubW9kZSA/ICdjdXJyZW50JyA6IG8ubW9kZSk7XG4gICAgICAgIGlmIChnby52YWx1ZSA9PT0gJ2N1cnJlbnQnKSBnby5kbyhnby52YWx1ZSk7XG4gICAgICB9LFxuICAgICAgZm9jdXM6IChnLGQsdixvKSA9PiAhdiAmJiBnby5zZXQoJ2N1cnJlbnQnKSxcbiAgICAgIHVwOiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICd1cCcpLCB7IHBvc2l0aW9uOiAwLjUsIC4uLm8gfSksXG4gICAgICBkb3duOiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICdkb3duJyksIHsgcG9zaXRpb246IDAsIC4uLm8gfSksXG4gICAgICBsZWZ0OiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICdsZWZ0JyksIHsgcG9zaXRpb246IDAuMjUgfSksXG4gICAgICByaWdodDogKGcsdixvKSA9PiBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlLCAncmlnaHQnKSwgeyBwb3NpdGlvbjogMC43NSB9KSxcbiAgICAgIGN1cnJlbnQ6IChnLHYsbykgPT4ge1xuICAgICAgICBpZiAoZ28udmFsdWUgPT09ICdjdXJyZW50Jykge1xuICAgICAgICAgIGdvLnNldCgpLmdvLmdvLmZvY3VzKCdjdXJyZW50Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ28uZ28uZG8oJ2V4ZWMnKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9fSBmb2N1cz17e1xuICAgICAgdXA6IChnLHYsbykgPT4gZ28ucm9vdCgpLmRvKCd1cCcpLFxuICAgIH19PlxuICAgICAgPGMuQm94IHBvc2l0aW9uPSdyZWxhdGl2ZScgdG9wPScwJyBsZWZ0PScwJyB3PScwJyBoPScwJz5cbiAgICAgICAgeyEhZ28udmFsdWUgJiYgPD5cbiAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtQbGFuZXRSZWxhdGlvbnN9PlxuICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnUGxhbmV0UmVsYXRpb25zJ119IGlzQWN0aXZlPXtpc0FjdGl2ZX0gbGlua0lkPXtsaW5rSWR9Lz5cbiAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e1BsYW5ldE9wZXJhdGlvbnN9PlxuICAgICAgICAgICAgPGdvLkNvbXBvbmVudFxuICAgICAgICAgICAgICBwYXRoPXtbZHBsLCAnUGxhbmV0T3BlcmF0aW9ucyddfSBpc0FjdGl2ZT17aXNBY3RpdmV9IGxpbmtJZD17bGlua0lkfVxuICAgICAgICAgICAgICBkZWxldGVEaXNjbG9zdXJlPXtkZWxldGVEaXNjbG9zdXJlfVxuICAgICAgICAgICAgICBmaW5kZXJEaXNjbG9zdXJlPXtmaW5kZXJEaXNjbG9zdXJlfVxuICAgICAgICAgICAgICByZWFkbWVEaXNjbG9zdXJlPXtyZWFkbWVEaXNjbG9zdXJlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdjdXJyZW50JyA/ICdwbGFuZXRBY3RpdmUnIDogJ3BsYW5ldCd9XG4gICAgICAgICAgICBwb3NpdGlvbj0nYWJzb2x1dGUnIGxlZnQ9Jy0xLjVlbScgdG9wPSctMS41ZW0nXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnY3VycmVudCcpfVxuICAgICAgICAgID48L2MuQnV0dG9uPlxuICAgICAgICA8Lz59XG4gICAgICA8L2MuQm94PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1348
      }
    },
    {
      "id": 1349,
      "type_id": 3,
      "from_id": 901,
      "to_id": 1348,
      "value": {
        "id": 440,
        "value": "generated",
        "link_id": 1349
      }
    },
    {
      "id": 1350,
      "type_id": 143,
      "from_id": 1348,
      "to_id": 901
    },
    {
      "id": 1351,
      "type_id": 3,
      "from_id": 901,
      "to_id": 1350
    },
    {
      "id": 1420,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 465,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { FaReact } = require(\"react-icons/fa\");\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, handlerId, isActive, }, ref) => {\n        const View = React.useCallback(({ event }) => {\n            let value = event.mode;\n            const q = JSON.stringify(event.query, null, 2);\n            const r = JSON.stringify(event.plainLinks).slice(1, 30);\n            const v = JSON.stringify(event.value || {}, null, 2);\n            const _o = { ...event.options };\n            if (_o.table === 'links')\n                delete _o.table;\n            const o = _.isEmpty(_o) ? '' : JSON.stringify(_o, null, 2);\n            const oo = o ? `, ${o}` : '';\n            if (event.mode === 'useQuery' || event.mode === 'useSubscription' || event.mode === 'select' || event.mode === 'subscribe') {\n                value = `// basically deep.select and deep.subscribe returns plain data\n// but deep.useQuery and deep.useSubscriptions always\n// apply synced from server to deep.minilinks local memory\n\n// load links once\nconst { data } = deep.useQuery(${q}${o});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... }, loading: false }\n\n// load and subscribe to reactive links\nconst { data } = deep.useSubscription(${q}${o})\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... }, loading: false }\n\n// equal queries can be used in local memory\n\n// find links once\nconst data = deep.useLocalSubscription(${q}${o});\n// data // Link[];\n\n// find links with reactive subscription\nconst data = deep.useLocalSubscription(${q}${o});\n// data // Link[];\n\n// links fetched from hooks already exists in minilinks and\n// related each other\n// you can travel by it simply:\nhandler.to.value // { value: \\`my new component\\` }\n\n// you can get reactive links from static links or ids\nconst [user, handler] = deep.useLinks(deep.linkId, notReactiveLink);\n\n// pretty handy use traveler:\nconst data = deep.useSubscription(myLink.travel().out({ type: Contain }).to().query());\n`;\n            }\n            if (event.mode === 'insert') {\n                value = `// hints for react\n\n// if not need to await result\nReact.useEffect(() => {\n  deep.insert(${q}${oo});\n}, []);\n\n// if need to await\nReact.useEffect(() => { (async () => {\n  deep.insert(${q}${oo});\n})() }, []);\n\n<c.Box onChange={async () => {\n  await deep.insert(${q}${oo});\n}}>button</Button>`;\n            }\n            if (event.mode === 'update') {\n                value = `// hints for react\n\n// if not need to await result\nReact.useEffect(() => {\n  deep.update(${q}, ${v}${oo});\n}, []);\n\n// if need to await\nReact.useEffect(() => { (async () => {\n  deep.update(${q}, ${v}${oo});\n})() }, []);\n\n<c.Box onChange={async () => {\n  await deep.update(${q}, ${v}${oo});\n}}>button</Button>`;\n            }\n            if (event.mode === 'delete') {\n                value = `// hints for react\n\n// if not need to await result\nReact.useEffect(() => {\n  deep.delete(${q}${oo});\n}, []);\n\n// if need to await\nReact.useEffect(() => { (async () => {\n  deep.delete(${q}${oo});\n})() }, []);\n\n<c.Box onChange={async () => {\n  await deep.delete(${q}${oo});\n}}>button</Button>`;\n            }\n            return React.createElement(Go.Editor, { editable: false, value: value, fillSize: true });\n        }, []);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.do('view', { id: go.linkId, Component: View })\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(FaReact, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDOUMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsUUFBUSxHQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO1lBQzNDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFFdkIsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMvQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZELE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRXJE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LEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFFNUIsb0JBQUMsT0FBTyxPQUFFLENBQ0QsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgR28sIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgRmFSZWFjdCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2ZhXCIpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgaGFuZGxlcklkLFxuXG4gICAgaXNBY3RpdmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IFZpZXcgPSBSZWFjdC51c2VDYWxsYmFjaygoeyBldmVudCB9KSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBldmVudC5tb2RlO1xuICBcbiAgICAgIGNvbnN0IHEgPSBKU09OLnN0cmluZ2lmeShldmVudC5xdWVyeSwgbnVsbCwgMik7XG4gICAgICBjb25zdCByID0gSlNPTi5zdHJpbmdpZnkoZXZlbnQucGxhaW5MaW5rcykuc2xpY2UoMSwzMCk7XG4gICAgICBjb25zdCB2ID0gSlNPTi5zdHJpbmdpZnkoZXZlbnQudmFsdWUgfHwge30sIG51bGwsIDIpO1xuXG4gICAgICBjb25zdCBfbyA9IHsgLi4uZXZlbnQub3B0aW9ucyB9O1xuICAgICAgaWYgKF9vLnRhYmxlID09PSAnbGlua3MnKSBkZWxldGUgX28udGFibGU7XG5cbiAgICAgIGNvbnN0IG8gPSBfLmlzRW1wdHkoX28pID8gJycgOiBKU09OLnN0cmluZ2lmeShfbywgbnVsbCwgMik7XG4gICAgICBjb25zdCBvbyA9IG8gPyBgLCAke299YCA6ICcnO1xuICAgICAgXG4gICAgICBpZiAoZXZlbnQubW9kZSA9PT0gJ3VzZVF1ZXJ5JyB8fCBldmVudC5tb2RlID09PSAndXNlU3Vic2NyaXB0aW9uJyB8fCBldmVudC5tb2RlID09PSAnc2VsZWN0JyB8fCBldmVudC5tb2RlID09PSAnc3Vic2NyaWJlJykge1xuICAgICAgICB2YWx1ZSA9IGAvLyBiYXNpY2FsbHkgZGVlcC5zZWxlY3QgYW5kIGRlZXAuc3Vic2NyaWJlIHJldHVybnMgcGxhaW4gZGF0YVxuLy8gYnV0IGRlZXAudXNlUXVlcnkgYW5kIGRlZXAudXNlU3Vic2NyaXB0aW9ucyBhbHdheXNcbi8vIGFwcGx5IHN5bmNlZCBmcm9tIHNlcnZlciB0byBkZWVwLm1pbmlsaW5rcyBsb2NhbCBtZW1vcnlcblxuLy8gbG9hZCBsaW5rcyBvbmNlXG5jb25zdCB7IGRhdGEgfSA9IGRlZXAudXNlUXVlcnkoJHtxfSR7b30pO1xuLy8geyBlcnJvcjogJHtldmVudC5lcnJvciA/IGRlZXAuc3RyaW5naWZ5KGV2ZW50LmVycm9yKSA6ICdudWxsJ30sIGRhdGE6IHsgJHtyfS4uLiB9LCBsb2FkaW5nOiBmYWxzZSB9XG5cbi8vIGxvYWQgYW5kIHN1YnNjcmliZSB0byByZWFjdGl2ZSBsaW5rc1xuY29uc3QgeyBkYXRhIH0gPSBkZWVwLnVzZVN1YnNjcmlwdGlvbigke3F9JHtvfSlcbi8vIHsgZXJyb3I6ICR7ZXZlbnQuZXJyb3IgPyBkZWVwLnN0cmluZ2lmeShldmVudC5lcnJvcikgOiAnbnVsbCd9LCBkYXRhOiB7ICR7cn0uLi4gfSwgbG9hZGluZzogZmFsc2UgfVxuXG4vLyBlcXVhbCBxdWVyaWVzIGNhbiBiZSB1c2VkIGluIGxvY2FsIG1lbW9yeVxuXG4vLyBmaW5kIGxpbmtzIG9uY2VcbmNvbnN0IGRhdGEgPSBkZWVwLnVzZUxvY2FsU3Vic2NyaXB0aW9uKCR7cX0ke299KTtcbi8vIGRhdGEgLy8gTGlua1tdO1xuXG4vLyBmaW5kIGxpbmtzIHdpdGggcmVhY3RpdmUgc3Vic2NyaXB0aW9uXG5jb25zdCBkYXRhID0gZGVlcC51c2VMb2NhbFN1YnNjcmlwdGlvbigke3F9JHtvfSk7XG4vLyBkYXRhIC8vIExpbmtbXTtcblxuLy8gbGlua3MgZmV0Y2hlZCBmcm9tIGhvb2tzIGFscmVhZHkgZXhpc3RzIGluIG1pbmlsaW5rcyBhbmRcbi8vIHJlbGF0ZWQgZWFjaCBvdGhlclxuLy8geW91IGNhbiB0cmF2ZWwgYnkgaXQgc2ltcGx5OlxuaGFuZGxlci50by52YWx1ZSAvLyB7IHZhbHVlOiBcXGBteSBuZXcgY29tcG9uZW50XFxgIH1cblxuLy8geW91IGNhbiBnZXQgcmVhY3RpdmUgbGlua3MgZnJvbSBzdGF0aWMgbGlua3Mgb3IgaWRzXG5jb25zdCBbdXNlciwgaGFuZGxlcl0gPSBkZWVwLnVzZUxpbmtzKGRlZXAubGlua0lkLCBub3RSZWFjdGl2ZUxpbmspO1xuXG4vLyBwcmV0dHkgaGFuZHkgdXNlIHRyYXZlbGVyOlxuY29uc3QgZGF0YSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKG15TGluay50cmF2ZWwoKS5vdXQoeyB0eXBlOiBDb250YWluIH0pLnRvKCkucXVlcnkoKSk7XG5gO1xuICAgICAgfVxuICBcbiAgICAgIGlmIChldmVudC5tb2RlID09PSAnaW5zZXJ0Jykge1xuICAgICAgICB2YWx1ZSA9IGAvLyBoaW50cyBmb3IgcmVhY3RcblxuLy8gaWYgbm90IG5lZWQgdG8gYXdhaXQgcmVzdWx0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICBkZWVwLmluc2VydCgke3F9JHtvb30pO1xufSwgW10pO1xuXG4vLyBpZiBuZWVkIHRvIGF3YWl0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4geyAoYXN5bmMgKCkgPT4ge1xuICBkZWVwLmluc2VydCgke3F9JHtvb30pO1xufSkoKSB9LCBbXSk7XG5cbjxjLkJveCBvbkNoYW5nZT17YXN5bmMgKCkgPT4ge1xuICBhd2FpdCBkZWVwLmluc2VydCgke3F9JHtvb30pO1xufX0+YnV0dG9uPC9CdXR0b24+YFxuICAgICAgfVxuICBcbiAgICAgIGlmIChldmVudC5tb2RlID09PSAndXBkYXRlJykge1xuICAgICAgICB2YWx1ZSA9IGAvLyBoaW50cyBmb3IgcmVhY3RcblxuLy8gaWYgbm90IG5lZWQgdG8gYXdhaXQgcmVzdWx0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICBkZWVwLnVwZGF0ZSgke3F9LCAke3Z9JHtvb30pO1xufSwgW10pO1xuXG4vLyBpZiBuZWVkIHRvIGF3YWl0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4geyAoYXN5bmMgKCkgPT4ge1xuICBkZWVwLnVwZGF0ZSgke3F9LCAke3Z9JHtvb30pO1xufSkoKSB9LCBbXSk7XG5cbjxjLkJveCBvbkNoYW5nZT17YXN5bmMgKCkgPT4ge1xuICBhd2FpdCBkZWVwLnVwZGF0ZSgke3F9LCAke3Z9JHtvb30pO1xufX0+YnV0dG9uPC9CdXR0b24+YFxuICAgICAgfVxuICBcbiAgICAgIGlmIChldmVudC5tb2RlID09PSAnZGVsZXRlJykge1xuICAgICAgICB2YWx1ZSA9IGAvLyBoaW50cyBmb3IgcmVhY3RcblxuLy8gaWYgbm90IG5lZWQgdG8gYXdhaXQgcmVzdWx0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICBkZWVwLmRlbGV0ZSgke3F9JHtvb30pO1xufSwgW10pO1xuXG4vLyBpZiBuZWVkIHRvIGF3YWl0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4geyAoYXN5bmMgKCkgPT4ge1xuICBkZWVwLmRlbGV0ZSgke3F9JHtvb30pO1xufSkoKSB9LCBbXSk7XG5cbjxjLkJveCBvbkNoYW5nZT17YXN5bmMgKCkgPT4ge1xuICBhd2FpdCBkZWVwLmRlbGV0ZSgke3F9JHtvb30pO1xufX0+YnV0dG9uPC9CdXR0b24+YFxuICAgICAgfVxuICBcbiAgICAgIHJldHVybiA8R28uRWRpdG9yIGVkaXRhYmxlPXtmYWxzZX0gdmFsdWU9e3ZhbHVlfSBmaWxsU2l6ZS8+O1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6IChnLHYsbykgPT4gZ28uZG8oJ3ZpZXcnLCB7IGlkOiBnby5saW5rSWQsIENvbXBvbmVudDogVmlldyB9KSksXG4gICAgfX0+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgdz0nM2VtJyBoPSczZW0nXG4gICAgICAgIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnZXhlYycpfVxuICAgICAgPlxuICAgICAgICA8RmFSZWFjdC8+XG4gICAgICA8L2MuQnV0dG9uPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1420
      }
    },
    {
      "id": 1421,
      "type_id": 3,
      "from_id": 918,
      "to_id": 1420,
      "value": {
        "id": 464,
        "value": "generated",
        "link_id": 1421
      }
    },
    {
      "id": 1422,
      "type_id": 143,
      "from_id": 1420,
      "to_id": 918
    },
    {
      "id": 1423,
      "type_id": 3,
      "from_id": 918,
      "to_id": 1422
    },
    {
      "id": 737,
      "type_id": 3,
      "from_id": 727,
      "to_id": 721,
      "value": {
        "id": 323,
        "value": "compiler",
        "link_id": 737
      }
    },
    {
      "id": 778,
      "type_id": 3,
      "from_id": 762,
      "to_id": 752,
      "value": {
        "id": 340,
        "value": "installCode",
        "link_id": 778
      }
    },
    {
      "id": 779,
      "type_id": 3,
      "from_id": 762,
      "to_id": 758,
      "value": {
        "id": 341,
        "value": "Install",
        "link_id": 779
      }
    },
    {
      "id": 819,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8,
      "value": {
        "id": 349,
        "value": "",
        "link_id": 819
      }
    },
    {
      "id": 820,
      "type_id": 146,
      "from_id": 819,
      "to_id": 819,
      "value": {
        "id": 350,
        "value": "⏱️",
        "link_id": 820
      }
    },
    {
      "id": 821,
      "type_id": 4,
      "from_id": 819,
      "to_id": 5
    },
    {
      "id": 822,
      "type_id": 1,
      "from_id": 8,
      "to_id": 58
    },
    {
      "id": 823,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 824,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 825,
      "type_id": 1,
      "from_id": 819,
      "to_id": 35
    },
    {
      "id": 826,
      "type_id": 146,
      "from_id": 825,
      "to_id": 825,
      "value": {
        "id": 351,
        "value": "👁️",
        "link_id": 826
      }
    },
    {
      "id": 827,
      "type_id": 1,
      "from_id": 35,
      "to_id": 8
    },
    {
      "id": 828,
      "type_id": 146,
      "from_id": 827,
      "to_id": 827,
      "value": {
        "id": 352,
        "value": "📓",
        "link_id": 828
      }
    },
    {
      "id": 829,
      "type_id": 1,
      "from_id": 8,
      "to_id": 35
    },
    {
      "id": 830,
      "type_id": 1,
      "from_id": 829,
      "to_id": 8
    },
    {
      "id": 831,
      "type_id": 146,
      "from_id": 830,
      "to_id": 830,
      "value": {
        "id": 353,
        "value": "🪄",
        "link_id": 831
      }
    },
    {
      "id": 832,
      "type_id": 146,
      "from_id": 829,
      "to_id": 829,
      "value": {
        "id": 354,
        "value": "📁",
        "link_id": 832
      }
    },
    {
      "id": 833,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 355,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const Any = deep.idLocal(dc, 'Any');\n  const Query = deep.idLocal(dc, 'Query');\n  const Package = deep.idLocal(dc, 'Package');\n  const TreeList = deep.idLocal(dpl, 'TreeList');\n  const TreeLink = deep.idLocal(dpl, 'TreeLink');\n  const TreePackage = await deep.id(dpl, 'TreePackage');\n  const Menu = deep.idLocal(dpl, 'Menu');\n  const Layer = deep.idLocal(dpl, 'Layer');\n  const Header = deep.idLocal(dpl, 'Header');\n  const History = deep.idLocal(dpl, 'History');\n  const HistoryHandler = deep.idLocal(dpl, 'HistoryHandler');\n\n  interface ColumnI {\n    id: any;\n    handlerId: any;\n    focus?: boolean;\n  }\n\n  const handlers = {\n    [Any]: TreeLink,\n    [Query]: TreeList,\n    [Package]: TreePackage,\n  };\n\n  const getHandlerId = (linkId) => {\n    const l = deep.get(linkId);\n    return handlers[l?.type_id] || handlers[Any];\n  }\n\n  function useStore(queryField, defaultValue) {\n    // return (queryField ? Go.useQueryStore(queryField, defaultValue) : React.useState(defaultValue));\n    return React.useState(defaultValue);\n  }\n\n  return ({\n    go,\n\n    using = false,\n    queryField = '',\n    saveHistory = false,\n    fullWidth = null,\n    initialId = deep.linkId,\n    initialHandlerId,\n    startProps = {},\n    operations = false,\n  }, ref) => {\n    const initialColumns = React.useMemo(() => {\n      if (!initialId) return [];\n      return [[initialId, initialHandlerId || getHandlerId(initialId)]]\n    }, []);\n    const [columns, setColumns] = useStore(queryField, initialColumns);\n    // const [test, setTest] = go.useQueryStore('test', 0);\n    \n    const Item = React.useCallback(({ link, isActive, ...props }) => {\n      const go = Go.useGo();\n      return <>\n        {!!saveHistory && !!isActive && <go.Save handlerId={link.handlerId}/>}\n        <go.Handler linkId={link.id} handlerId={link.handlerId}\n          isActive={isActive} fullWidth={fullWidth} saveHistory={saveHistory}\n          operations={operations}\n          {...props}\n        />\n      </>;\n    }, [saveHistory, fullWidth, operations]);\n\n    const { data: list, ids } = React.useMemo(() => {\n      const ids = [];\n      const data = columns.map(c => {\n        ids.push(c[0]);\n        return { id: c[0], handlerId: c[1] };\n      });\n      return { data, ids };\n    }, [columns]);\n\n    const [concentrate, setConcentrate] = React.useState();\n    const { ids: concentrated } = deep.useSearch(concentrate, {\n      db: false, sort: false,\n      query: { id: { _in: ids } },\n      skip: !concentrate,\n    });\n\n    return <go.On do={{\n      focus: (g,v,linkId,o) => {\n        !go.value && go.focus(Stack);\n        o?.id && go.do('open', o);\n      },\n      use: (g,v,o) => go(Stack).do('use',o),\n      open: (g,v,{ id, prevId, handlerId, focus } = {}) => {\n        if (!id) throw new Error(`open options must contains id ({ id, prevId?, handlerId? })`);\n        const founded = columns.find(c => c[0] === id);\n        const _prevId = prevId || columns[columns.length - 1][0];\n        if (founded) go.do('use',{ id });\n        else {\n          const prevI = columns.findIndex(c => c[0] === _prevId);\n          setColumns([\n            ...(!!~prevI ? columns.slice(0, prevI+1) : []),\n            [id, handlerId || getHandlerId(id)],\n            ...(!!~prevI ? columns.slice(prevI+1) : []),\n          ]);\n        }\n        if (focus) go(Stack).awaitRef(id).then(g => go(Stack).focus(id).go(id).scroll());\n      },\n      close: (g,v,o) => {\n        if (!o.id) throw new Error(`close options must contains id ({ id })`);\n        setColumns(columns.filter(c => c[0] !== o.id));\n      },\n      concentrate: (g,v,o) => {\n        setConcentrate(o?.value);\n      },\n    }}>\n      <go.Provider linkId={Stack}>\n        <go.Component path={[dpl, 'Stack']}\n          concentrated={!!concentrate && concentrated} links={list}\n          direction='horizontal' Item={Item} using={using}\n          saveHistory={saveHistory} startProps={startProps}\n          pr='30em'\n        />\n      </go.Provider>\n    </go.On>;\n  };\n}",
        "link_id": 833
      }
    },
    {
      "id": 1195,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 390,
        "value": "async ({ deep, data, Go, require }) => {\n    const { GrClear } = require(\"react-icons/gr\");\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const { useDebounceCallback } = require('@react-hook/debounce');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const dtsx = '@deep-foundation/tsx';\n    const TSX = deep.idLocal(dtsx, 'TSX');\n    const dockerSupportsJs = deep.idLocal(dc, 'dockerSupportsJs');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const containTree = deep.idLocal(dc, 'containTree');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const History = deep.idLocal(dpl, 'History');\n    const HistoryHandler = deep.idLocal(dpl, 'HistoryHandler');\n    const StackInsertButton = await deep.id(dpl, 'StackInsertButton');\n    const Menu = deep.idLocal(dpl, 'Menu');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const FinderButton = deep.idLocal(dpl, 'FinderButton');\n    const Item = ({ link, isActive, isConcentrated }) => {\n        const go = Go.useGo();\n        return React.createElement(Go.Handler, { handlerId: TreeLinkButton, linkId: link.id, isActive: isActive, minW: isConcentrated === false ? '3em' : '8em', h: '100%', maxH: '100%', variant: 'short', isConcentrated: isConcentrated });\n    };\n    return ({ go, using = false, }, ref) => {\n        const { data: history } = deep.useSubscription({\n            type_id: History,\n            from_id: deep.linkId,\n            order_by: { id: 'desc' },\n            return: {\n                item: { relation: 'to' },\n            },\n        });\n        const { data: header } = deep.useSubscription({\n            type_id: Handler,\n            out: {\n                type_id: Compatable,\n                to_id: Header,\n            },\n            order_by: { id: 'desc' }\n        });\n        const [concentrate, setConcentrate] = React.useState('');\n        const concetrateDebounce = useDebounceCallback((concentrate) => {\n            go.root().do('concentrate', { value: concentrate });\n        }, 500);\n        React.useEffect(() => {\n            concetrateDebounce(concentrate);\n        }, [concentrate]);\n        const { data: items, ids } = React.useMemo(() => {\n            const _ids = [];\n            const filtered = _.uniqBy(history.map(h => h?.to), (l) => l?.id).filter(l => {\n                if (!!l?.id)\n                    _ids.push(l?.id);\n                return !!l?.id;\n            });\n            return { data: filtered, ids: _ids };\n        }, [history]);\n        const nav = go.useNav();\n        nav(FinderButton, FinderButton, FinderButton, Stack, 'down');\n        nav(Stack, FinderButton, Stack, 'clear', 'down');\n        nav('clear', Stack, 'clear', 'clear', 'down');\n        const { data: founded, ids: concentrated, query: sQ } = deep.useSearch(concentrate, {\n            remote: false, sort: false,\n            query: { id: { _in: ids } },\n            skip: !concentrate,\n        });\n        React.useEffect(() => {\n            if (concentrate && founded?.[0] && go(Stack)(founded?.[0]))\n                go(Stack)(founded?.[0]).scroll();\n        }, [concentrate, founded]);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => o?.id || go.value == Stack || !go.value ? go.root().do('open', { id: o?.id || go(Stack).value, focus: true }) : go.do(go.value),\n                use: (g, v, o) => go(Stack) && go(Stack).do('use', o),\n                focus: (g, v, linkId, o) => {\n                    !go.value && go.focus(Stack);\n                    o?.id && go(Stack).focus(o?.id);\n                },\n                right: (g, v, o) => go.focus(nav.get(go.value || Stack, 'right')),\n                left: (g, v, o) => go.focus(nav.get(go.value || Stack, 'left')),\n                finder: (g, v, o) => go(FinderButton).do('exec'),\n                clear: (g, v, o) => deep.delete({\n                    up: {\n                        tree_id: containTree,\n                        parent: {\n                            type_id: Contain,\n                            to: { type_id: { _in: [History, HistoryHandler] } },\n                        },\n                    },\n                }),\n            } },\n            React.createElement(c.Flex, { ref: ref, w: '100%' },\n                React.createElement(go.Provider, { linkId: FinderButton },\n                    React.createElement(go.Handler, { handlerId: FinderButton, isActive: go.value === FinderButton })),\n                React.createElement(c.Box, { w: '12em', h: '100%', position: 'relative' },\n                    React.createElement(go.Editor, { value: concentrate, onChange: setConcentrate, fillSize: true, lineNumbers: false })),\n                React.createElement(go.Provider, { linkId: Stack },\n                    React.createElement(go.Component, { path: [dpl, 'Stack'], links: items, direction: 'horizontal', Item: Item, flex: '1', using: using, concentrated: !!concentrate && concentrated, afterChildren: React.createElement(go.Provider, { linkId: StackInsertButton, on: { do: {\n                                    exec: async (g, v, o) => {\n                                    },\n                                } } },\n                            React.createElement(go.Handler, { handlerId: StackInsertButton, insertProps: { customInsert: {\n                                        type_id: Handler,\n                                        from_id: dockerSupportsJs,\n                                        to: {\n                                            type_id: TSX,\n                                            string: go.componentTemplate({ children: `<c.Button variant={isActive ? 'active' : undefined} onClick={() => go.do('exec')}>?</c.Button>` }),\n                                        },\n                                        out: {\n                                            type_id: Compatable,\n                                            to_id: Header,\n                                        },\n                                    } } })) })),\n                header.map(h => React.createElement(React.Fragment, null,\n                    React.createElement(go.Provider, { linkId: h.id },\n                        React.createElement(go.Handler, { handlerId: h.id })))),\n                React.createElement(c.Button, { h: '3em', w: '3em', variant: go.value === 'clear' ? 'active' : undefined, onClick: () => go.focus('clear').go.do('clear') },\n                    React.createElement(GrClear, null))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM5QyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLE1BQU0sRUFBRSxtQkFBbUIsRUFBRSxHQUFHLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBRWhFLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBQ25DLE1BQU0sSUFBSSxHQUFHLHNCQUFzQixDQUFDO0lBRXBDLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUM5RCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUNwRCxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdB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R28sIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCB7IEdyQ2xlYXIgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9nclwiKTtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG4gIGNvbnN0IHsgdXNlRGVib3VuY2VDYWxsYmFjayB9ID0gcmVxdWlyZSgnQHJlYWN0LWhvb2svZGVib3VuY2UnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHRzeCA9ICdAZGVlcC1mb3VuZGF0aW9uL3RzeCc7XG5cbiAgY29uc3QgVFNYID0gZGVlcC5pZExvY2FsKGR0c3gsICdUU1gnKTtcbiAgY29uc3QgZG9ja2VyU3VwcG9ydHNKcyA9IGRlZXAuaWRMb2NhbChkYywgJ2RvY2tlclN1cHBvcnRzSnMnKTtcbiAgY29uc3QgQ29udGFpbiA9IGRlZXAuaWRMb2NhbChkYywgJ0NvbnRhaW4nKTtcbiAgY29uc3QgSGFuZGxlciA9IGRlZXAuaWRMb2NhbChkYywgJ0hhbmRsZXInKTtcbiAgY29uc3QgY29udGFpblRyZWUgPSBkZWVwLmlkTG9jYWwoZGMsICdjb250YWluVHJlZScpO1xuICBjb25zdCBUcmVlTGlua0J1dHRvbiA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlua0J1dHRvbicpO1xuICBjb25zdCBDb21wYXRhYmxlID0gZGVlcC5pZExvY2FsKGRwbCwgJ0NvbXBhdGFibGUnKTtcbiAgY29uc3QgSGlzdG9yeSA9IGRlZXAuaWRMb2NhbChkcGwsICdIaXN0b3J5Jyk7XG4gIGNvbnN0IEhpc3RvcnlIYW5kbGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hpc3RvcnlIYW5kbGVyJyk7XG4gIGNvbnN0IFN0YWNrSW5zZXJ0QnV0dG9uID0gYXdhaXQgZGVlcC5pZChkcGwsICdTdGFja0luc2VydEJ1dHRvbicpO1xuICBjb25zdCBNZW51ID0gZGVlcC5pZExvY2FsKGRwbCwgJ01lbnUnKTtcbiAgY29uc3QgSGVhZGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hlYWRlcicpO1xuICBjb25zdCBTdGFjayA9IGRlZXAuaWRMb2NhbChkcGwsICdTdGFjaycpO1xuICBjb25zdCBGaW5kZXJCdXR0b24gPSBkZWVwLmlkTG9jYWwoZHBsLCAnRmluZGVyQnV0dG9uJyk7XG4gIFxuICBjb25zdCBJdGVtID0gKHsgbGluaywgaXNBY3RpdmUsIGlzQ29uY2VudHJhdGVkIH0pID0+IHtcbiAgICBjb25zdCBnbyA9IEdvLnVzZUdvKCk7XG4gICAgcmV0dXJuIDxHby5IYW5kbGVyXG4gICAgICBoYW5kbGVySWQ9e1RyZWVMaW5rQnV0dG9ufVxuICAgICAgbGlua0lkPXtsaW5rLmlkfVxuICAgICAgaXNBY3RpdmU9e2lzQWN0aXZlfVxuICAgICAgbWluVz17aXNDb25jZW50cmF0ZWQgPT09IGZhbHNlID8gJzNlbScgOiAnOGVtJ30gaD0nMTAwJScgbWF4SD0nMTAwJScgdmFyaWFudD0nc2hvcnQnXG4gICAgICBpc0NvbmNlbnRyYXRlZD17aXNDb25jZW50cmF0ZWR9XG4gICAgLz47XG4gIH07XG4gIFxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIHVzaW5nID0gZmFsc2UsXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IHsgZGF0YTogaGlzdG9yeSB9ID0gZGVlcC51c2VTdWJzY3JpcHRpb24oe1xuICAgICAgdHlwZV9pZDogSGlzdG9yeSxcbiAgICAgIGZyb21faWQ6IGRlZXAubGlua0lkLFxuICAgICAgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9LFxuICAgICAgcmV0dXJuOiB7XG4gICAgICAgIGl0ZW06IHsgcmVsYXRpb246ICd0bycgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGRhdGE6IGhlYWRlciB9ID0gZGVlcC51c2VTdWJzY3JpcHRpb24oe1xuICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgIG91dDoge1xuICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICB0b19pZDogSGVhZGVyLFxuICAgICAgfSxcbiAgICAgIG9yZGVyX2J5OiB7IGlkOiAnZGVzYycgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgW2NvbmNlbnRyYXRlLCBzZXRDb25jZW50cmF0ZV0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgY29uY2V0cmF0ZURlYm91bmNlID0gdXNlRGVib3VuY2VDYWxsYmFjaygoY29uY2VudHJhdGUpID0+IHtcbiAgICAgIGdvLnJvb3QoKS5kbygnY29uY2VudHJhdGUnLCB7IHZhbHVlOiBjb25jZW50cmF0ZSB9KTtcbiAgICB9LCA1MDApO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25jZXRyYXRlRGVib3VuY2UoY29uY2VudHJhdGUpO1xuICAgIH0sIFtjb25jZW50cmF0ZV0pO1xuXG4gICAgY29uc3QgeyBkYXRhOiBpdGVtcywgaWRzIH0gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGNvbnN0IF9pZHMgPSBbXTtcbiAgICAgIGNvbnN0IGZpbHRlcmVkID0gXy51bmlxQnkoaGlzdG9yeS5tYXAoaCA9PiBoPy50byksIChsKSA9PiBsPy5pZCkuZmlsdGVyKGwgPT4ge1xuICAgICAgICBpZiAoISFsPy5pZCkgX2lkcy5wdXNoKGw/LmlkKTtcbiAgICAgICAgcmV0dXJuICEhbD8uaWQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IGRhdGE6IGZpbHRlcmVkLCBpZHM6IF9pZHMgfTtcbiAgICB9LCBbaGlzdG9yeV07XG5cbiAgICBjb25zdCBuYXYgPSBnby51c2VOYXYoKTtcbiAgICBuYXYoRmluZGVyQnV0dG9uLCBGaW5kZXJCdXR0b24sIEZpbmRlckJ1dHRvbiwgU3RhY2ssICdkb3duJyk7XG4gICAgbmF2KFN0YWNrLCBGaW5kZXJCdXR0b24sIFN0YWNrLCAnY2xlYXInLCAnZG93bicpO1xuICAgIG5hdignY2xlYXInLCBTdGFjaywgJ2NsZWFyJywgJ2NsZWFyJywgJ2Rvd24nKTtcblxuICAgIGNvbnN0IHsgZGF0YTogZm91bmRlZCwgaWRzOiBjb25jZW50cmF0ZWQsIHF1ZXJ5OiBzUSB9ID0gZGVlcC51c2VTZWFyY2goY29uY2VudHJhdGUsIHtcbiAgICAgIHJlbW90ZTogZmFsc2UsIHNvcnQ6IGZhbHNlLFxuICAgICAgcXVlcnk6IHsgaWQ6IHsgX2luOiBpZHMgfSB9LFxuICAgICAgc2tpcDogIWNvbmNlbnRyYXRlLFxuICAgIH0pO1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChjb25jZW50cmF0ZSAmJiBmb3VuZGVkPy5bMF0gJiYgZ28oU3RhY2spKGZvdW5kZWQ/LlswXSkpIGdvKFN0YWNrKShmb3VuZGVkPy5bMF0pLnNjcm9sbCgpXG4gICAgfSwgW2NvbmNlbnRyYXRlLCBmb3VuZGVkXSk7XG5cbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBleGVjOiAoZyx2LG8pID0+IG8/LmlkIHx8IGdvLnZhbHVlID09IFN0YWNrIHx8ICFnby52YWx1ZSA/IGdvLnJvb3QoKS5kbygnb3BlbicsIHsgaWQ6IG8/LmlkIHx8IGdvKFN0YWNrKS52YWx1ZSwgZm9jdXM6IHRydWUgfSkgOiBnby5kbyhnby52YWx1ZSksXG4gICAgICB1c2U6IChnLHYsbykgPT4gZ28oU3RhY2spICYmIGdvKFN0YWNrKS5kbygndXNlJyxvKSxcbiAgICAgIGZvY3VzOiAoZyx2LGxpbmtJZCxvKSA9PiB7XG4gICAgICAgICFnby52YWx1ZSAmJiBnby5mb2N1cyhTdGFjayk7XG4gICAgICAgIG8/LmlkICYmIGdvKFN0YWNrKS5mb2N1cyhvPy5pZCk7XG4gICAgICB9LFxuICAgICAgcmlnaHQ6IChnLHYsbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSB8fCBTdGFjaywgJ3JpZ2h0JykpLFxuICAgICAgbGVmdDogKGcsdixvKSA9PiBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlIHx8IFN0YWNrLCAnbGVmdCcpKSxcblxuICAgICAgZmluZGVyOiAoZyx2LG8pID0+IGdvKEZpbmRlckJ1dHRvbikuZG8oJ2V4ZWMnKSxcbiAgICAgIGNsZWFyOiAoZyx2LG8pID0+IGRlZXAuZGVsZXRlKHtcbiAgICAgICAgdXA6IHtcbiAgICAgICAgICB0cmVlX2lkOiBjb250YWluVHJlZSxcbiAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgIHR5cGVfaWQ6IENvbnRhaW4sXG4gICAgICAgICAgICB0bzogeyB0eXBlX2lkOiB7IF9pbjogW0hpc3RvcnksIEhpc3RvcnlIYW5kbGVyXSB9IH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH19PlxuICAgICAgPGMuRmxleCByZWY9e3JlZn0gdz0nMTAwJSc+XG4gICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e0ZpbmRlckJ1dHRvbn0+XG4gICAgICAgICAgPGdvLkhhbmRsZXIgaGFuZGxlcklkPXtGaW5kZXJCdXR0b259IGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gRmluZGVyQnV0dG9ufS8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICAgIDxjLkJveCB3PScxMmVtJyBoPScxMDAlJyBwb3NpdGlvbj0ncmVsYXRpdmUnPlxuICAgICAgICAgIDxnby5FZGl0b3IgdmFsdWU9e2NvbmNlbnRyYXRlfSBvbkNoYW5nZT17c2V0Q29uY2VudHJhdGV9IGZpbGxTaXplIGxpbmVOdW1iZXJzPXtmYWxzZX0vPlxuICAgICAgICA8L2MuQm94PlxuICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtTdGFja30+XG4gICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnU3RhY2snXX1cbiAgICAgICAgICAgIGxpbmtzPXtpdGVtc30gZGlyZWN0aW9uPSdob3Jpem9udGFsJyBJdGVtPXtJdGVtfSBmbGV4PScxJyB1c2luZz17dXNpbmd9XG4gICAgICAgICAgICBjb25jZW50cmF0ZWQ9eyEhY29uY2VudHJhdGUgJiYgY29uY2VudHJhdGVkfVxuICAgICAgICAgICAgYWZ0ZXJDaGlsZHJlbj17PGdvLlByb3ZpZGVyIGxpbmtJZD17U3RhY2tJbnNlcnRCdXR0b259IG9uPXt7IGRvOiB7XG4gICAgICAgICAgICAgIGV4ZWM6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSB9fT5cbiAgICAgICAgICAgICAgPGdvLkhhbmRsZXIgaGFuZGxlcklkPXtTdGFja0luc2VydEJ1dHRvbn0gaW5zZXJ0UHJvcHM9e3sgY3VzdG9tSW5zZXJ0OiB7XG4gICAgICAgICAgICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgICAgICAgICAgICBmcm9tX2lkOiBkb2NrZXJTdXBwb3J0c0pzLFxuICAgICAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgICB0eXBlX2lkOiBUU1gsXG4gICAgICAgICAgICAgICAgICBzdHJpbmc6IGdvLmNvbXBvbmVudFRlbXBsYXRlKHsgY2hpbGRyZW46IGA8Yy5CdXR0b24gdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0gb25DbGljaz17KCkgPT4gZ28uZG8oJ2V4ZWMnKX0+PzwvYy5CdXR0b24+YCB9KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG91dDoge1xuICAgICAgICAgICAgICAgICAgdHlwZV9pZDogQ29tcGF0YWJsZSxcbiAgICAgICAgICAgICAgICAgIHRvX2lkOiBIZWFkZXIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSB9fS8+XG4gICAgICAgICAgICA8L2dvLlByb3ZpZGVyPn1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICB7aGVhZGVyLm1hcChoID0+IDw+XG4gICAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17aC5pZH0+XG4gICAgICAgICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e2guaWR9Lz5cbiAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICA8Lz4pfVxuICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICBoPSczZW0nIHc9JzNlbScgdmFyaWFudD17Z28udmFsdWUgPT09ICdjbGVhcicgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnY2xlYXInKS5nby5kbygnY2xlYXInKX1cbiAgICAgICAgPjxHckNsZWFyLz48L2MuQnV0dG9uPlxuICAgICAgPC9jLkZsZXg+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1195
      }
    },
    {
      "id": 1196,
      "type_id": 3,
      "from_id": 862,
      "to_id": 1195,
      "value": {
        "id": 389,
        "value": "generated",
        "link_id": 1196
      }
    },
    {
      "id": 1197,
      "type_id": 143,
      "from_id": 1195,
      "to_id": 862
    },
    {
      "id": 1198,
      "type_id": 3,
      "from_id": 862,
      "to_id": 1197
    },
    {
      "id": 863,
      "type_id": 35,
      "from_id": 145,
      "to_id": 862
    },
    {
      "id": 1213,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 396,
        "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { PiGraphBold } = require(\"react-icons/pi\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Graph = deep.idLocal(dpl, 'Graph');\n    return ({ go, handlerId, isActive, }, ref) => {\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.go.do('right', { ...o, id: Graph }),\n                click: (g, v, o) => go.do('exec', o),\n                right: (g, v, o) => go.do('exec', o),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, onClick: () => go.do('exec'), ref: ref },\n                React.createElement(PiGraphBold, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNsRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUV6QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQztnQkFDdkQsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztnQkFDbEMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQzthQUNuQztZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFDNUIsR0FBRyxFQUFFLEdBQUc7Z0JBRVIsb0JBQUMsV0FBVyxPQUFFLENBQ0wsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBQaUdyYXBoQm9sZCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL3BpXCIpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIGNvbnN0IEdyYXBoID0gZGVlcC5pZExvY2FsKGRwbCwgJ0dyYXBoJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgaGFuZGxlcklkLFxuXG4gICAgaXNBY3RpdmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6IChnLHYsbykgPT4gZ28uZ28uZG8oJ3JpZ2h0JywgeyAuLi5vLCBpZDogR3JhcGggfSkpLFxuICAgICAgY2xpY2s6IChnLHYsbykgPT4gZ28uZG8oJ2V4ZWMnLCBvKSxcbiAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgfX0+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgdz0nM2VtJyBoPSczZW0nXG4gICAgICAgIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgPlxuICAgICAgICA8UGlHcmFwaEJvbGQvPlxuICAgICAgPC9jLkJ1dHRvbj5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1213
      }
    },
    {
      "id": 1214,
      "type_id": 3,
      "from_id": 870,
      "to_id": 1213,
      "value": {
        "id": 395,
        "value": "generated",
        "link_id": 1214
      }
    },
    {
      "id": 1215,
      "type_id": 143,
      "from_id": 1213,
      "to_id": 870
    },
    {
      "id": 1216,
      "type_id": 3,
      "from_id": 870,
      "to_id": 1215
    },
    {
      "id": 871,
      "type_id": 35,
      "from_id": 145,
      "to_id": 870
    },
    {
      "id": 872,
      "type_id": 827,
      "from_id": 871,
      "to_id": 852
    },
    {
      "id": 873,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 397,
        "value": "({ deep, data, require, Go }) => {\n  const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n  const { AiOutlineStop } = require(\"react-icons/ai\");\n  const { BsX, BsCheck2, BsXLg, BsDatabase, BsRegex } = require('react-icons/bs');\n  const { useResizeDetector } = require('react-resize-detector');\n  const { useDebounceCallback } = require('@react-hook/debounce');\n\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n  const History = deep.idLocal(dpl, 'History');\n  const Header = deep.idLocal(dpl, 'Header');\n  const Search = deep.idLocal(dpl, 'Search');\n  const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n  const TreeLink = deep.idLocal(dpl, 'TreeLink');\n  const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n  const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n  const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n\n  const identifiy = (q) => {\n    let value;\n    const o = {};\n    if (q?._or) {\n      for (let i in q?._or) {\n        if (q?._or[i]?.string?.value?._ilike) {\n          o.values = true;\n          o.query = false;\n          if (!value) value = q?._or[i]?.string?.value?._ilike.slice(1, -1);\n        }\n        if (q?._or[i]?.string?.value?._iregex) {\n          o.values = true;\n          o.query = false;\n          o.regexp = true;\n          if (!value) value = q?._or[i]?.string?.value?._iregex;\n        }\n        if (typeof(q?._or[i]?.number?.value) === 'number') {\n          o.values = true;\n          o.query = false;\n          if (!value) value = q?._or[i]?.number?.value;\n        }\n        if (q?._or[i]?.in?.type_id === Contain) {\n          if (q?._or[i]?.in?.string?.value?._iregex) {\n            o.query = false;\n            o.regexp = true;\n            if (!value) value = q?._or[i]?.in?.string?.value?._iregex;\n          }\n          if (q?._or[i]?.in?.string?.value?._ilike) {\n            o.query = false;\n            if (!value) value = q?._or[i]?.in?.string?.value?._ilike.slice(1,-1);\n          }\n        }\n        if (q?._not?.type_id === Contain) o.contains = false;\n        else if (q?.type_id === Contain) o.contains = true;\n      }\n    }\n    console.log('identified', q, o, value);\n    return { options: o, value };\n  };\n\n  return ({\n    go,\n    linkId,\n\n    isActive,\n    oneline = false,\n    saveHistory = false,\n    finder = false,\n\n    query: _query,\n    search: _search,\n\n    options: _options = {\n      db: false,\n      regexp: false,\n      query: false,\n      values: false,\n      contains: false,\n    },\n\n    onChange,\n    onSearch,\n\n    childrenSearchRight = null,\n\n    children,\n  }, ref) => {\n    if (!linkId) throw new Error(`linkId must be Query instance id but ${linkId}`);\n\n    const nav = go.useNav();\n    if (finder) nav('finder', 'left', 'up', 'current', 'db');\n    nav('current', finder ? 'finder' : 'db', 'up', 'search', 'db');\n    nav('search', 'current', 'up', 'contains', 'contains');\n    nav('db', 'current', 'current', 'regexp', 'down');\n    nav('regexp', 'db', 'current', 'query', 'down');\n    nav('query', 'regexp', 'current', 'values', 'down');\n    nav('values', 'query', 'current', 'contains', 'down');\n    nav('contains', 'values', 'search', 'right', 'down');\n\n    const options = { ...({ db: false, regexp: false, query: false, values: false, contains: false, }), ..._options };\n    const _q = React.useMemo(() => deep.get(linkId)?.value?.value || _query, []);\n    if (_q) options.query = true;\n\n    const [toRequest, setToRequest] = React.useState();\n\n    const identified = React.useMemo(() => {\n      return identifiy(deep.get(linkId)?.value?.value || {});\n    }, []);\n\n    const [value, setValue] = React.useState(typeof(identified?.value) === 'string' ? identified?.value : (_q ? JSON.stringify(_q) : _search));\n\n    const [o, setOptions] = React.useState({ ...options, ...identified.options });\n\n    const optionsRef = React.useRef(o);\n    React.useMemo(() => {\n      if (!optionsRef.current.query && !!o.query) {\n        setValue(JSON.stringify(deep.searchQuery(value, { ...o, query: undefined }), null, 2));\n      } else if (!!optionsRef.current.query && !o.query) {\n        const identified = identifiy(toRequest);\n        setOptions(identified?.options);\n        setValue(identified?.value);\n      }\n    }, [o.query]);\n    optionsRef.current = o;\n    const [results, setResults] = React.useState([]);\n\n\n    const request = React.useCallback(async (value) => {\n      const o = optionsRef.current;\n      let cq;\n      console.log('onRequest', { _q, o, identified });\n      if (!o.query) {\n        cq = deep.searchQuery(value, { ...o, query: undefined });\n      } else try { cq = JSON.parse(value); } catch(error) {\n        return console.error(error);\n      }\n      console.log('onRequest', cq);\n      if (saveHistory && typeof(linkId) === 'number') deep.value(linkId, cq);\n      setToRequest(cq);\n    }, []);\n\n    React.useEffect(() => {\n      if (!!value) request(value);\n    }, []);\n\n    React.useMemo(() => { (async () => {\n      const o = optionsRef.current;\n      if (!toRequest) return;\n      if (onSearch && value) {\n        let results;\n        try {\n          results = await deep.search(value, { ...o, remote: o.db, query: undefined, apply: `deep-perception-search-${go.__p}` });\n        } catch(error) {\n          results = { error };\n        }\n        console.log('onSearch', toRequest, results, o);\n        onSearch({ ...results, query: toRequest, search: !o.query ? value : null, options: o });\n      }\n    })(); }, [toRequest]);\n\n    return <go.On\n      do={{\n        focus: () => go.set('current'),\n        left: () => go.focus(nav.get(go.value, 'left')),\n        right: () => go.focus(nav.get(go.value, 'right')),\n        up: () => go.focus(nav.get(go.value, 'up')),\n        down: () => go.focus(nav.get(go.value, 'down')),\n        finder: () => setOptions({ ...o, finder: !o.finder}),\n        search: () => request(value),\n        current: () => setOptions({ ...o, current: !o.current}),\n        db: () => setOptions({ ...o, db: !o.db}),\n        regexp: () => setOptions({ ...o, regexp: !o.regexp}),\n        query: () => setOptions({ ...o, query: !o.query}),\n        values: () => setOptions({ ...o, values: !o.values}),\n        contains: () => setOptions({ ...o, contains: !o.contains}),\n      }}\n      focus={{\n        up: (q,v,o) => go.set().go?.go?.do('up'),\n        down: (q,v,o) => go.set().go?.go?.do('down'),\n        left: (q,v,o) => go.set(o?.left).go?.go?.do('left'),\n        right: (q,v,o) => go.set(o?.right).go?.go?.do('right'),\n      }}\n    >\n      <c.Box ref={ref} position='relative' w='100%' bg={isActive ? 'deepBgDark' : undefined}>\n        <c.SimpleGrid columns={oneline ? 2 : 1} w={oneline ? finder ? '28em' : '25em' : undefined}>\n          <c.Flex>\n            {!!finder && <c.Button\n              h='3em' maxW='3em' w='3em' variant={go.value === 'finder' ? 'active' : undefined}\n              onClick={() => go.do('finder')}\n            >\n              🪬\n            </c.Button>}\n            <c.Box flex={1} h='3em'>\n              {[<go.Editor\n                key={o.query}\n                fillSize\n                value={value}\n                onChange={value => {\n                  setValue(value);\n                  onChange && onChange(value);\n                }}\n                onSave={value => go.do('search')}\n                basicSetup={{\n                  lineNumbers: false\n                }}\n                saveButton={false}\n              />]}\n            </c.Box>\n            <c.Flex>\n              <c.Button\n                h='3em' maxW='3em' w='3em' variant={go.value === 'search' ? 'active' : undefined}\n                onClick={() => go.do('search')}\n              >\n                🔎\n              </c.Button>\n              {childrenSearchRight}\n            </c.Flex>\n          </c.Flex>\n          <c.Flex>\n            <c.Button\n              h='3em' maxW='3em' w='3em' position='relative'\n              onClick={() => go.do('db')} variant={go.value === 'db' ? 'active' : undefined}\n            >\n              <BsDatabase/>\n              {!o.db && <c.Center position='absolute' top='0' left='0' right='0' bottom='0' fontSize='2em'><AiOutlineStop/></c.Center>}\n            </c.Button>\n            <c.Button\n              h='3em' maxW='3em' w='3em' position='relative'\n              onClick={() => go.do('regexp')}  variant={go.value === 'regexp' ? 'active' : undefined}\n            >\n              <BsRegex/>\n              {!o.regexp && <c.Center position='absolute' top='0' left='0' right='0' bottom='0' fontSize='2em'><AiOutlineStop/></c.Center>}\n            </c.Button>\n            <c.Button\n              h='3em' maxW='3em' w='3em' position='relative'\n              onClick={() =>  go.do('query')} variant={go.value === 'query' ? 'active' : undefined}\n            >\n              {`{q}`}\n              {!o.query && <c.Center position='absolute' top='0' left='0' right='0' bottom='0' fontSize='2em'><AiOutlineStop/></c.Center>}\n            </c.Button>\n            <c.Spacer/>\n            <c.Button\n              h='3em' maxW='3em' w='3em' position='relative'\n              onClick={() =>  go.do('values')} variant={go.value === 'values' ? 'active' : undefined}\n            >\n              \"v\"\n              {!o.values && <c.Center position='absolute' top='0' left='0' right='0' bottom='0' fontSize='2em'><AiOutlineStop/></c.Center>}\n            </c.Button>\n            <c.Button\n              h='3em' maxW='3em' w='3em' position='relative'\n              onClick={() =>  go.do('contains')} variant={go.value === 'contains' ? 'active' : undefined}\n            >\n              🗂️\n              {!o.contains && <c.Center position='absolute' top='0' left='0' right='0' bottom='0' fontSize='2em'><AiOutlineStop/></c.Center>}\n            </c.Button>\n          </c.Flex>\n        </c.SimpleGrid>\n      </c.Box>\n    </go.On>\n  };\n}\n",
        "link_id": 873
      }
    },
    {
      "id": 919,
      "type_id": 35,
      "from_id": 145,
      "to_id": 918
    },
    {
      "id": 1492,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 489,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const c = require('@chakra-ui/react');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        return React.createElement(go.On, { do: {} },\n            React.createElement(go.Component, { path: [dpl, 'TreeLink'], ...props, linkId: linkId }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUNGLFNBQVMsRUFFVCxTQUFTLEVBQ1QsU0FBUyxFQUVULE1BQU0sRUFDTixJQUFJLEVBRUosUUFBUSxFQUVSLFFBQVEsRUFFUixHQUFHLEtBQUssRUFDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUNYLEVBQUUsRUFBRSxFQUNIO1lBR0Qsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLEtBQU0sS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEdBQWlCLENBQzNFLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBHbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgXG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG5cbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgfX1cbiAgICA+XG4gICAgICB7LyogPGMuQm94IHJlZj17cmVmfSBoPSczZW0nPntgJHtnb31gfTwvYy5Cb3g+ICovfVxuICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnVHJlZUxpbmsnXX0gey4uLnByb3BzfSBsaW5rSWQ9e2xpbmtJZH0+PC9nby5Db21wb25lbnQ+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1492
      }
    },
    {
      "id": 1493,
      "type_id": 3,
      "from_id": 938,
      "to_id": 1492,
      "value": {
        "id": 488,
        "value": "generated",
        "link_id": 1493
      }
    },
    {
      "id": 1494,
      "type_id": 143,
      "from_id": 1492,
      "to_id": 938
    },
    {
      "id": 1495,
      "type_id": 3,
      "from_id": 938,
      "to_id": 1494
    },
    {
      "id": 939,
      "type_id": 35,
      "from_id": 145,
      "to_id": 938
    },
    {
      "id": 1501,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 492,
        "value": "async ({ deep, data, require, Go }) => {\n    const React = require('react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const djf = '@deep-foundation/jsonschema-form';\n    const dpt = '@deep-foundation/payments-tinkoff-c2b';\n    const c = require('@chakra-ui/react');\n    const Tree = await deep.id(dpl, 'Tree');\n    const Stack = await deep.id(dpl, 'Stack');\n    const Inserting = await deep.id(djf, 'Inserting');\n    const Updating = await deep.id(djf, 'Updating');\n    const Payment = await deep.id(dpt, 'Payment');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        const [mode, setMode] = React.useState('business');\n        const { data: payments } = deep.useSubscription({\n            type_id: Payment, to_id: linkId,\n        });\n        return React.createElement(go.On, { do: {\n                business: (g, v, o) => setMode(v),\n                payments: (g, v, o) => setMode(v),\n                pay: async (g, v, o) => {\n                    setMode('payments');\n                    const { data: [{ id }] } = await deep.insert({ type_id: Payment, from_id: deep.linkId, to_id: linkId });\n                    go.parent(Tree).do('open', { id, parentId: linkId });\n                },\n            } },\n            React.createElement(c.HStack, null,\n                React.createElement(c.Button, { variant: go.value === 'business' ? 'active' : undefined, onClick: () => go.focus('business').go.do('business') }, \"business\"),\n                React.createElement(c.Button, { variant: go.value === 'payments' ? 'active' : undefined, onClick: () => go.focus('payments').go.do('payments') }, \"payments\"),\n                React.createElement(c.Button, { variant: go.value === 'pay' ? 'active' : undefined, onClick: () => go.focus('pay').go.do('pay'), onClick: () => go.do('pay') }, \"+ payment\")),\n            mode === 'business' && React.createElement(go.Component, { path: [djf, 'Updating'], linkId: linkId, link: link, buttonProps: {\n                    children: React.createElement(React.Fragment, null, \"Save\")\n                } }),\n            mode === 'payments' && React.createElement(c.VStack, null, !!payments?.length && React.createElement(go.Provider, { linkId: Stack },\n                React.createElement(go.Component, { path: [dpl, 'Stack'], links: payments, direction: 'vertical', flex: '1' }))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUUvQixNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEdBQUcsR0FBRyxrQ0FBa0MsQ0FBQztJQUMvQyxNQUFNLEdBQUcsR0FBRyx1Q0FBdUMsQ0FBQztJQUNwRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sS0FBSyxHQUFHLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDMUMsTUFBTSxTQUFTLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNsRCxNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ2hELE1BQU0sT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFFOUMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUNGLFNBQVMsRUFFVCxTQUFTLEVBQ1QsU0FBUyxFQUVULE1BQU0sRUFDTixJQUFJLEVBRUosUUFBUSxFQUVSLFFBQVEsRUFFUixHQUFHLEtBQUssRUFDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsTUFBTSxDQUFDLElB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LG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFDLFVBQVUsRUFBQyxJQUFJLEVBQUMsR0FBRyxHQUFHLENBQ3pFLENBQ0wsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGpmID0gJ0BkZWVwLWZvdW5kYXRpb24vanNvbnNjaGVtYS1mb3JtJztcbiAgY29uc3QgZHB0ID0gJ0BkZWVwLWZvdW5kYXRpb24vcGF5bWVudHMtdGlua29mZi1jMmInO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IFRyZWUgPSBhd2FpdCBkZWVwLmlkKGRwbCwgJ1RyZWUnKTtcbiAgY29uc3QgU3RhY2sgPSBhd2FpdCBkZWVwLmlkKGRwbCwgJ1N0YWNrJyk7XG4gIGNvbnN0IEluc2VydGluZyA9IGF3YWl0IGRlZXAuaWQoZGpmLCAnSW5zZXJ0aW5nJyk7XG4gIGNvbnN0IFVwZGF0aW5nID0gYXdhaXQgZGVlcC5pZChkamYsICdVcGRhdGluZycpO1xuICBjb25zdCBQYXltZW50ID0gYXdhaXQgZGVlcC5pZChkcHQsICdQYXltZW50Jyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgZ29IYW5kbGVyLFxuXG4gICAgaGFuZGxlcklkLFxuICAgIENvbXBvbmVudCxcblxuICAgIGxpbmtJZCxcbiAgICBsaW5rLFxuXG4gICAgY2hpbGRyZW4sXG5cbiAgICBpc0FjdGl2ZSxcblxuICAgIC4uLnByb3BzXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IFttb2RlLCBzZXRNb2RlXSA9IFJlYWN0LnVzZVN0YXRlKCdidXNpbmVzcycpO1xuICAgIGNvbnN0IHsgZGF0YTogcGF5bWVudHMgfSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IFBheW1lbnQsIHRvX2lkOiBsaW5rSWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgYnVzaW5lc3M6IChnLHYsbykgPT4gc2V0TW9kZSh2KSxcbiAgICAgICAgcGF5bWVudHM6IChnLHYsbykgPT4gc2V0TW9kZSh2KSxcbiAgICAgICAgcGF5OiBhc3luYyAoZyx2LG8pID0+IHtcbiAgICAgICAgICBzZXRNb2RlKCdwYXltZW50cycpO1xuICAgICAgICAgIGNvbnN0IHsgZGF0YTogW3sgaWQgfV0gfSA9IGF3YWl0IGRlZXAuaW5zZXJ0KHsgdHlwZV9pZDogUGF5bWVudCwgZnJvbV9pZDogZGVlcC5saW5rSWQsIHRvX2lkOiBsaW5rSWQgfSk7XG4gICAgICAgICAgZ28ucGFyZW50KFRyZWUpLmRvKCdvcGVuJywgeyBpZCwgcGFyZW50SWQ6IGxpbmtJZCB9KTtcbiAgICAgICAgfSxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGMuSFN0YWNrPlxuICAgICAgICA8Yy5CdXR0b24gdmFyaWFudD17Z28udmFsdWUgPT09ICdidXNpbmVzcycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0gb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ2J1c2luZXNzJykuZ28uZG8oJ2J1c2luZXNzJyl9PmJ1c2luZXNzPC9jLkJ1dHRvbj5cbiAgICAgICAgPGMuQnV0dG9uIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAncGF5bWVudHMnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCdwYXltZW50cycpLmdvLmRvKCdwYXltZW50cycpfT5wYXltZW50czwvYy5CdXR0b24+XG4gICAgICAgIDxjLkJ1dHRvbiB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3BheScgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0gb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ3BheScpLmdvLmRvKCdwYXknKX0gb25DbGljaz17KCkgPT4gZ28uZG8oJ3BheScpfT4rIHBheW1lbnQ8L2MuQnV0dG9uPlxuICAgICAgPC9jLkhTdGFjaz5cbiAgICAgIHttb2RlID09PSAnYnVzaW5lc3MnICYmIDxnby5Db21wb25lbnRcbiAgICAgICAgcGF0aD17W2RqZiwgJ1VwZGF0aW5nJ119IGxpbmtJZD17bGlua0lkfSBsaW5rPXtsaW5rfVxuICAgICAgICBidXR0b25Qcm9wcz17e1xuICAgICAgICAgIGNoaWxkcmVuOiA8PlNhdmU8Lz5cbiAgICAgICAgfX1cbiAgICAgIC8+fVxuICAgICAge21vZGUgPT09ICdwYXltZW50cycgJiYgPGMuVlN0YWNrPlxuICAgICAgICB7ISFwYXltZW50cz8ubGVuZ3RoICYmIDxnby5Qcm92aWRlciBsaW5rSWQ9e1N0YWNrfT5cbiAgICAgICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdTdGFjayddfSBsaW5rcz17cGF5bWVudHN9IGRpcmVjdGlvbj0ndmVydGljYWwnIGZsZXg9JzEnIC8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+fVxuICAgICAgPC9jLlZTdGFjaz59XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1501
      }
    },
    {
      "id": 1502,
      "type_id": 3,
      "from_id": 940,
      "to_id": 1501,
      "value": {
        "id": 491,
        "value": "generated",
        "link_id": 1502
      }
    },
    {
      "id": 1503,
      "type_id": 143,
      "from_id": 1501,
      "to_id": 940
    },
    {
      "id": 1504,
      "type_id": 3,
      "from_id": 940,
      "to_id": 1503
    },
    {
      "id": 1510,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 495,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const dc = '@deep-foundation/core';\n    const dnpm = '@deep-foundation/npm-packager';\n    const dpl = '@deep-foundation/perception-links';\n    const c = require('@chakra-ui/react');\n    const semver = require('semver');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const PackageNamespace = deep.idLocal(dc, 'PackageNamespace');\n    const promiseTree = deep.idLocal(dc, 'promiseTree');\n    const Resolved = deep.idLocal(dc, 'Resolved');\n    const Rejected = deep.idLocal(dc, 'Rejected');\n    const Then = deep.idLocal(dc, 'Then');\n    const PackageVersion = deep.idLocal(dc, 'PackageVersion');\n    const PackageQuery = deep.idLocal(dc, 'PackageQuery');\n    const Publish = deep.idLocal(dnpm, 'Publish');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        const { data: [version], loading: vl } = deep.useSubscription({\n            type_id: PackageVersion,\n            to_id: linkId,\n        });\n        const { data: publishs } = deep.useSubscription({\n            type_id: Publish,\n            from_id: linkId,\n        });\n        const [publish, setPublish] = React.useState(null);\n        const { data: [result] } = deep.useSubscription({\n            type_id: { _in: [Resolved, Rejected] },\n            up: {\n                tree_id: promiseTree,\n                parent_id: publish,\n            },\n        });\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.Button, { isDisabled: true, w: '100%', isLoading: vl }, version ? `${version.symbol} ${version?.value?.value}` : 'no version'),\n            React.createElement(c.Flex, null,\n                !!result && React.createElement(React.Fragment, null,\n                    React.createElement(c.Button, { onClick: () => go.do('open', { id: result.to_id }) }, result.symbol)),\n                React.createElement(c.Button, { flex: '1', w: '100%', isDisabled: !link?.value?.value, onClick: async () => {\n                        setPublish(true);\n                        let namespace = await deep.one({ type_id: PackageNamespace, string: link?.value?.value });\n                        if (!namespace)\n                            namespace = (await deep.insert({ type_id: PackageNamespace, string: link?.value?.value }))?.data?.[0];\n                        if (!version)\n                            await deep.insert({ type_id: PackageVersion, from_id: namespace.id, to_id: linkId, string: '0.0.1' });\n                        else\n                            await deep.value(version.id, semver.inc(version?.value?.value || '0.0.0', 'patch'));\n                        const pq = await deep.one({ type_id: PackageQuery, string: link?.value?.value });\n                        const { data: [p] } = await deep.insert({\n                            type_id: Publish,\n                            from_id: linkId,\n                            ...(pq ? { to_id: pq.id } : { to: { type_id: PackageQuery, string: link?.value?.value } }),\n                        });\n                        setPublish(p.id);\n                    }, isLoading: publish !== null && !result }, \"publish\")),\n            React.createElement(go.Provider, { linkId: Stack },\n                React.createElement(go.Handler, { handlerId: Stack, links: publishs })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxJQUFJLEdBQUcsK0JBQStCLENBQUM7SUFDN0MsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRWpDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUM5RCxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUNwRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUM5QyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUM5QyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN0QyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzFELE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxP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LENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZG5wbSA9ICdAZGVlcC1mb3VuZGF0aW9uL25wbS1wYWNrYWdlcic7XG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCBzZW12ZXIgPSByZXF1aXJlKCdzZW12ZXInKTtcblxuICBjb25zdCBTdGFjayA9IGRlZXAuaWRMb2NhbChkcGwsICdTdGFjaycpO1xuICBjb25zdCBQYWNrYWdlTmFtZXNwYWNlID0gZGVlcC5pZExvY2FsKGRjLCAnUGFja2FnZU5hbWVzcGFjZScpO1xuICBjb25zdCBwcm9taXNlVHJlZSA9IGRlZXAuaWRMb2NhbChkYywgJ3Byb21pc2VUcmVlJyk7XG4gIGNvbnN0IFJlc29sdmVkID0gZGVlcC5pZExvY2FsKGRjLCAnUmVzb2x2ZWQnKTtcbiAgY29uc3QgUmVqZWN0ZWQgPSBkZWVwLmlkTG9jYWwoZGMsICdSZWplY3RlZCcpO1xuICBjb25zdCBUaGVuID0gZGVlcC5pZExvY2FsKGRjLCAnVGhlbicpO1xuICBjb25zdCBQYWNrYWdlVmVyc2lvbiA9IGRlZXAuaWRMb2NhbChkYywgJ1BhY2thZ2VWZXJzaW9uJyk7XG4gIGNvbnN0IFBhY2thZ2VRdWVyeSA9IGRlZXAuaWRMb2NhbChkYywgJ1BhY2thZ2VRdWVyeScpO1xuICBjb25zdCBQdWJsaXNoID0gZGVlcC5pZExvY2FsKGRucG0sICdQdWJsaXNoJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgZ29IYW5kbGVyLFxuXG4gICAgaGFuZGxlcklkLFxuICAgIENvbXBvbmVudCxcblxuICAgIGxpbmtJZCxcbiAgICBsaW5rLFxuXG4gICAgY2hpbGRyZW4sXG5cbiAgICBpc0FjdGl2ZSxcblxuICAgIC4uLnByb3BzXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IHsgZGF0YTogW3ZlcnNpb25dLCBsb2FkaW5nOiB2bCB9ID0gZGVlcC51c2VTdWJzY3JpcHRpb24oe1xuICAgICAgdHlwZV9pZDogUGFja2FnZVZlcnNpb24sXG4gICAgICB0b19pZDogbGlua0lkLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZGF0YTogcHVibGlzaHMgfSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IFB1Ymxpc2gsXG4gICAgICBmcm9tX2lkOiBsaW5rSWQsXG4gICAgfSk7XG4gICAgY29uc3QgW3B1Ymxpc2gsIHNldFB1Ymxpc2hdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgeyBkYXRhOiBbcmVzdWx0XSB9ID0gZGVlcC51c2VTdWJzY3JpcHRpb24oe1xuICAgICAgdHlwZV9pZDogeyBfaW46IFtSZXNvbHZlZCwgUmVqZWN0ZWRdIH0sXG4gICAgICB1cDoge1xuICAgICAgICB0cmVlX2lkOiBwcm9taXNlVHJlZSxcbiAgICAgICAgcGFyZW50X2lkOiBwdWJsaXNoLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5CdXR0b24gaXNEaXNhYmxlZCB3PScxMDAlJyBpc0xvYWRpbmc9e3ZsfT57dmVyc2lvbiA/IGAke3ZlcnNpb24uc3ltYm9sfSAke3ZlcnNpb24/LnZhbHVlPy52YWx1ZX1gIDogJ25vIHZlcnNpb24nfTwvYy5CdXR0b24+XG4gICAgICA8Yy5GbGV4PlxuICAgICAgICB7ISFyZXN1bHQgJiYgPD5cbiAgICAgICAgICA8Yy5CdXR0b24gb25DbGljaz17KCkgPT4gZ28uZG8oJ29wZW4nLCB7IGlkOiByZXN1bHQudG9faWQgfSl9PntyZXN1bHQuc3ltYm9sfTwvYy5CdXR0b24+XG4gICAgICAgIDwvPn1cbiAgICAgICAgPGMuQnV0dG9uIGZsZXg9JzEnIHc9JzEwMCUnIGlzRGlzYWJsZWQ9eyFsaW5rPy52YWx1ZT8udmFsdWV9IG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICBzZXRQdWJsaXNoKHRydWUpO1xuICAgICAgICAgIGxldCBuYW1lc3BhY2UgPSBhd2FpdCBkZWVwLm9uZSh7IHR5cGVfaWQ6IFBhY2thZ2VOYW1lc3BhY2UsIHN0cmluZzogbGluaz8udmFsdWU/LnZhbHVlIH0pO1xuICAgICAgICAgIGlmICghbmFtZXNwYWNlKSBuYW1lc3BhY2UgPSAoYXdhaXQgZGVlcC5pbnNlcnQoeyB0eXBlX2lkOiBQYWNrYWdlTmFtZXNwYWNlLCBzdHJpbmc6IGxpbms/LnZhbHVlPy52YWx1ZSB9KSk/LmRhdGE/LlswXTtcbiAgICAgICAgICBpZiAoIXZlcnNpb24pIGF3YWl0IGRlZXAuaW5zZXJ0KHsgdHlwZV9pZDogUGFja2FnZVZlcnNpb24sIGZyb21faWQ6IG5hbWVzcGFjZS5pZCwgdG9faWQ6IGxpbmtJZCwgc3RyaW5nOiAnMC4wLjEnIH0pO1xuICAgICAgICAgIGVsc2UgYXdhaXQgZGVlcC52YWx1ZSh2ZXJzaW9uLmlkLCBzZW12ZXIuaW5jKHZlcnNpb24/LnZhbHVlPy52YWx1ZSB8fCAnMC4wLjAnLCAncGF0Y2gnKSk7XG4gICAgICAgICAgY29uc3QgcHEgPSBhd2FpdCBkZWVwLm9uZSh7IHR5cGVfaWQ6IFBhY2thZ2VRdWVyeSwgc3RyaW5nOiBsaW5rPy52YWx1ZT8udmFsdWUgfSk7XG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBbcF0gfSA9IGF3YWl0IGRlZXAuaW5zZXJ0KHtcbiAgICAgICAgICAgIHR5cGVfaWQ6IFB1Ymxpc2gsXG4gICAgICAgICAgICBmcm9tX2lkOiBsaW5rSWQsXG4gICAgICAgICAgICAuLi4ocHEgPyB7IHRvX2lkOiBwcS5pZCB9IDogeyB0bzogeyB0eXBlX2lkOiBQYWNrYWdlUXVlcnksIHN0cmluZzogbGluaz8udmFsdWU/LnZhbHVlIH0gfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0UHVibGlzaChwLmlkKTtcbiAgICAgICAgfX0gaXNMb2FkaW5nPXtwdWJsaXNoICE9PSBudWxsICYmICFyZXN1bHR9PnB1Ymxpc2g8L2MuQnV0dG9uPlxuICAgICAgPC9jLkZsZXg+XG4gICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtTdGFja30+XG4gICAgICAgIDxnby5IYW5kbGVyIGhhbmRsZXJJZD17U3RhY2t9IGxpbmtzPXtwdWJsaXNoc30vPlxuICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1510
      }
    },
    {
      "id": 1511,
      "type_id": 3,
      "from_id": 941,
      "to_id": 1510,
      "value": {
        "id": 494,
        "value": "generated",
        "link_id": 1511
      }
    },
    {
      "id": 1512,
      "type_id": 143,
      "from_id": 1510,
      "to_id": 941
    },
    {
      "id": 1513,
      "type_id": 3,
      "from_id": 941,
      "to_id": 1512
    },
    {
      "id": 1519,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 498,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const { IoFingerPrintOutline } = require(\"react-icons/io5\");\n    var dtsx = '@deep-foundation/tsx';\n    var dpl = '@deep-foundation/perception-links';\n    var dc = '@deep-foundation/core';\n    const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const TSX = deep.idLocal(dtsx, 'TSX');\n    const MenuAuth = deep.idLocal(dpl, 'MenuAuth');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const After = deep.idLocal(dpl, 'After');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const StackInsertButton = deep.idLocal(dpl, 'StackInsertButton');\n    const templateLayerButton = (id) => `      <go.On do={{\n        exec: async (g,v,o) => go.go.do('right', { ...o, id: await deep.id(${id}, 'NameOfComponent') }),\n        click: (g,v,o) => go.do('exec', o),\n        right: (g,v,o) => go.do('exec', o),\n      }}>\n        <c.Button w='3em' h='3em' variant={isActive ? 'active' : undefined} onClick={() => go.do('exec')}>?</c.Button>\n        {/*<go.Component path={[${id}, 'NameOfComponent']}/>*/}\n      </go.On>`;\n    const Item = ({ link, isActive }) => {\n        const go = Go.useGo();\n        return (link?.id === After ? (React.createElement(go.Handler, { handlerId: StackInsertButton, insertProps: { customInsert: ({ name }) => ({\n                    containerId: dpl,\n                    type_id: Handler,\n                    from_id: clientSupportsJs,\n                    to: {\n                        type_id: TSX,\n                        string: go.componentTemplate({ children: templateLayerButton('dpl') }),\n                        name: `${name}Component`,\n                    },\n                    out: {\n                        type_id: Compatable,\n                        to_id: MenuAuth,\n                        name: `${name}CompatableMenuAuth`,\n                    },\n                }) } }, \"+\")) : (React.createElement(Go.Handler, { handlerId: link.id, linkId: link.id, isActive: isActive })));\n    };\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, }, ref) => {\n        const containerRef = React.useMemo(() => go.root().ref, []);\n        const [opened, setOpened] = React.useState();\n        const { data: auths } = deep.useQuery({\n            type_id: Handler,\n            out: {\n                type_id: Compatable,\n                to_id: handlerId,\n            },\n            order_by: { id: 'desc' }\n        });\n        return React.createElement(go.On, { do: {\n                focus: (g, v, id, o) => {\n                    if (!v)\n                        go.set('current');\n                },\n                right: (g, v, o) => {\n                },\n                left: (g, v, o) => {\n                },\n            } },\n            React.createElement(c.Popover, { placement: 'right-end', closeOnBlur: false, isOpen: !!go.value, onClose: () => go.set() },\n                React.createElement(c.PopoverTrigger, null,\n                    React.createElement(c.Button, { ref: ref, w: '3em', h: '3em', variant: !!go.value || isActive ? 'active' : undefined, onClick: () => go.value ? go.set() : go.set('current') },\n                        React.createElement(IoFingerPrintOutline, null))),\n                React.createElement(c.Portal, { containerRef: containerRef },\n                    React.createElement(c.PopoverContent, { w: '30em', maxH: '30em', minH: '30em', position: 'relative' },\n                        React.createElement(go.Provider, { linkId: Stack },\n                            React.createElement(go.Component, { path: [dpl, 'Stack'], links: [...auths, { id: After }], direction: 'vertical', Item: Item }))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFFNUQsSUFBSSxJQUFJLEdBQUcsc0JBQXNCLENBQUM7SUFDbEMsSUFBSSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDOUMsSUFBSSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFFakMsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0lBQzlELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ25ELE1BQU0saUJBQWlCLEdB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Q0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgY29uc3QgeyBJb0ZpbmdlclByaW50T3V0bGluZSB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2lvNVwiKTtcblxuICB2YXIgZHRzeCA9ICdAZGVlcC1mb3VuZGF0aW9uL3RzeCc7XG4gIHZhciBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgdmFyIGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgY2xpZW50U3VwcG9ydHNKcyA9IGRlZXAuaWRMb2NhbChkYywgJ2NsaWVudFN1cHBvcnRzSnMnKTtcbiAgY29uc3QgSGFuZGxlciA9IGRlZXAuaWRMb2NhbChkYywgJ0hhbmRsZXInKTtcbiAgY29uc3QgVFNYID0gZGVlcC5pZExvY2FsKGR0c3gsICdUU1gnKTtcbiAgY29uc3QgTWVudUF1dGggPSBkZWVwLmlkTG9jYWwoZHBsLCAnTWVudUF1dGgnKTtcbiAgY29uc3QgU3RhY2sgPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2snKTtcbiAgY29uc3QgQWZ0ZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQWZ0ZXInKTtcbiAgY29uc3QgQ29tcGF0YWJsZSA9IGRlZXAuaWRMb2NhbChkcGwsICdDb21wYXRhYmxlJyk7XG4gIGNvbnN0IFN0YWNrSW5zZXJ0QnV0dG9uID0gZGVlcC5pZExvY2FsKGRwbCwgJ1N0YWNrSW5zZXJ0QnV0dG9uJyk7XG5cbiAgY29uc3QgdGVtcGxhdGVMYXllckJ1dHRvbiA9IChpZCkgPT4gYCAgICAgIDxnby5PbiBkbz17e1xuICAgICAgICBleGVjOiBhc3luYyAoZyx2LG8pID0+IGdvLmdvLmRvKCdyaWdodCcsIHsgLi4ubywgaWQ6IGF3YWl0IGRlZXAuaWQoJHtpZH0sICdOYW1lT2ZDb21wb25lbnQnKSB9KSxcbiAgICAgICAgY2xpY2s6IChnLHYsbykgPT4gZ28uZG8oJ2V4ZWMnLCBvKSxcbiAgICAgICAgcmlnaHQ6IChnLHYsbykgPT4gZ28uZG8oJ2V4ZWMnLCBvKSxcbiAgICAgIH19PlxuICAgICAgICA8Yy5CdXR0b24gdz0nM2VtJyBoPSczZW0nIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9Pj88L2MuQnV0dG9uPlxuICAgICAgICB7Lyo8Z28uQ29tcG9uZW50IHBhdGg9e1ske2lkfSwgJ05hbWVPZkNvbXBvbmVudCddfS8+Ki99XG4gICAgICA8L2dvLk9uPmA7XG5cbiAgY29uc3QgSXRlbSA9ICh7IGxpbmssIGlzQWN0aXZlIH0pID0+IHtcbiAgICBjb25zdCBnbyA9IEdvLnVzZUdvKCk7XG4gICAgcmV0dXJuIChsaW5rPy5pZCA9PT0gQWZ0ZXIgPyAoXG4gICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e1N0YWNrSW5zZXJ0QnV0dG9ufSBpbnNlcnRQcm9wcz17eyBjdXN0b21JbnNlcnQ6ICh7IG5hbWUgfSkgPT4gKHtcbiAgICAgICAgY29udGFpbmVySWQ6IGRwbCxcbiAgICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgICAgZnJvbV9pZDogY2xpZW50U3VwcG9ydHNKcyxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICB0eXBlX2lkOiBUU1gsXG4gICAgICAgICAgc3RyaW5nOiBnby5jb21wb25lbnRUZW1wbGF0ZSh7IGNoaWxkcmVuOiB0ZW1wbGF0ZUxheWVyQnV0dG9uKCdkcGwnKSB9KSxcbiAgICAgICAgICBuYW1lOiBgJHtuYW1lfUNvbXBvbmVudGAsXG4gICAgICAgIH0sXG4gICAgICAgIG91dDoge1xuICAgICAgICAgIHR5cGVfaWQ6IENvbXBhdGFibGUsXG4gICAgICAgICAgdG9faWQ6IE1lbnVBdXRoLFxuICAgICAgICAgIG5hbWU6IGAke25hbWV9Q29tcGF0YWJsZU1lbnVBdXRoYCxcbiAgICAgICAgfSxcbiAgICAgIH0pIH19Pis8L2dvLkhhbmRsZXI+XG4gICAgKSA6ICg8R28uSGFuZGxlclxuICAgICAgaGFuZGxlcklkPXtsaW5rLmlkfVxuICAgICAgbGlua0lkPXtsaW5rLmlkfVxuICAgICAgaXNBY3RpdmU9e2lzQWN0aXZlfVxuICAgIC8+KSlcbiAgfTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBnb0hhbmRsZXIsXG5cbiAgICBoYW5kbGVySWQsXG4gICAgQ29tcG9uZW50LFxuXG4gICAgbGlua0lkLFxuICAgIGxpbmssXG5cbiAgICBjaGlsZHJlbixcblxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBjb250YWluZXJSZWYgPSBSZWFjdC51c2VNZW1vKCgpID0+IGdvLnJvb3QoKS5yZWYsIFtdKTtcbiAgICBjb25zdCBbb3BlbmVkLCBzZXRPcGVuZWRdID0gUmVhY3QudXNlU3RhdGUoKTtcblxuICAgIGNvbnN0IHsgZGF0YTogYXV0aHMgfSA9IGRlZXAudXNlUXVlcnkoe1xuICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgIG91dDoge1xuICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICB0b19pZDogaGFuZGxlcklkLFxuICAgICAgfSxcbiAgICAgIG9yZGVyX2J5OiB7IGlkOiAnZGVzYycgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgZm9jdXM6IChnLHYsaWQsbykgPT4ge1xuICAgICAgICAgIGlmICghdikgZ28uc2V0KCdjdXJyZW50Jyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IHtcbiAgICAgICAgICAvLyBtb2RlWzFdKGdvLm5leHQobW9kZXMubWFwKG0gPT4gKHsgaWQ6IG0gfSkpLCBtb2RlWzBdKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGxlZnQ6IChnLHYsbykgPT4ge1xuICAgICAgICAgIC8vIG1vZGVzWzBdID09PSBtb2RlWzBdICA/IGdvLnNldCgpIDogbW9kZVsxXShnby5wcmV2KG1vZGVzLm1hcChtID0+ICh7IGlkOiBtIH0pKSwgbW9kZVswXSkpO1xuICAgICAgICB9LFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5Qb3BvdmVyIHBsYWNlbWVudD0ncmlnaHQtZW5kJyBjbG9zZU9uQmx1cj17ZmFsc2V9IGlzT3Blbj17ISFnby52YWx1ZX0gb25DbG9zZT17KCkgPT4gZ28uc2V0KCl9PlxuICAgICAgICA8Yy5Qb3BvdmVyVHJpZ2dlcj5cbiAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgIHJlZj17cmVmfSB3PSczZW0nIGg9JzNlbScgdmFyaWFudD17ISFnby52YWx1ZSB8fCBpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ28udmFsdWUgPyBnby5zZXQoKSA6IGdvLnNldCgnY3VycmVudCcpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxJb0ZpbmdlclByaW50T3V0bGluZS8+XG4gICAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgPC9jLlBvcG92ZXJUcmlnZ2VyPlxuICAgICAgICA8Yy5Qb3J0YWwgY29udGFpbmVyUmVmPXtjb250YWluZXJSZWZ9PlxuICAgICAgICAgIDxjLlBvcG92ZXJDb250ZW50IHc9JzMwZW0nIG1heEg9JzMwZW0nIG1pbkg9JzMwZW0nIHBvc2l0aW9uPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtTdGFja30+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnRcbiAgICAgICAgICAgICAgICBwYXRoPXtbZHBsLCAnU3RhY2snXX0gbGlua3M9e1suLi5hdXRocywgeyBpZDogQWZ0ZXIgfV19IGRpcmVjdGlvbj0ndmVydGljYWwnIEl0ZW09e0l0ZW19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgIDwvYy5Qb3BvdmVyQ29udGVudD5cbiAgICAgICAgPC9jLlBvcnRhbD5cbiAgICAgIDwvYy5Qb3BvdmVyPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1519
      }
    },
    {
      "id": 1520,
      "type_id": 3,
      "from_id": 945,
      "to_id": 1519,
      "value": {
        "id": 497,
        "value": "generated",
        "link_id": 1520
      }
    },
    {
      "id": 1521,
      "type_id": 143,
      "from_id": 1519,
      "to_id": 945
    },
    {
      "id": 1522,
      "type_id": 3,
      "from_id": 945,
      "to_id": 1521
    },
    {
      "id": 946,
      "type_id": 35,
      "from_id": 145,
      "to_id": 945
    },
    {
      "id": 947,
      "type_id": 827,
      "from_id": 946,
      "to_id": 852
    },
    {
      "id": 948,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 499,
        "value": "@deep-foundation/perception-links",
        "link_id": 948
      }
    },
    {
      "id": 217,
      "type_id": 3,
      "from_id": 184,
      "to_id": 33,
      "value": {
        "id": 39,
        "value": "JSExecutionProvider",
        "link_id": 217
      }
    },
    {
      "id": 218,
      "type_id": 3,
      "from_id": 184,
      "to_id": 34,
      "value": {
        "id": 40,
        "value": "TreeInclude",
        "link_id": 218
      }
    },
    {
      "id": 219,
      "type_id": 3,
      "from_id": 184,
      "to_id": 35,
      "value": {
        "id": 41,
        "value": "Handler",
        "link_id": 219
      }
    },
    {
      "id": 220,
      "type_id": 3,
      "from_id": 184,
      "to_id": 36,
      "value": {
        "id": 42,
        "value": "Tree",
        "link_id": 220
      }
    },
    {
      "id": 221,
      "type_id": 3,
      "from_id": 184,
      "to_id": 37,
      "value": {
        "id": 43,
        "value": "TreeIncludeDown",
        "link_id": 221
      }
    },
    {
      "id": 222,
      "type_id": 3,
      "from_id": 184,
      "to_id": 38,
      "value": {
        "id": 44,
        "value": "TreeIncludeUp",
        "link_id": 222
      }
    },
    {
      "id": 223,
      "type_id": 3,
      "from_id": 184,
      "to_id": 39,
      "value": {
        "id": 45,
        "value": "TreeIncludeNode",
        "link_id": 223
      }
    },
    {
      "id": 224,
      "type_id": 3,
      "from_id": 184,
      "to_id": 40,
      "value": {
        "id": 46,
        "value": "containTree",
        "link_id": 224
      }
    },
    {
      "id": 225,
      "type_id": 3,
      "from_id": 184,
      "to_id": 41,
      "value": {
        "id": 47,
        "value": "containTreeContain",
        "link_id": 225
      }
    },
    {
      "id": 226,
      "type_id": 3,
      "from_id": 184,
      "to_id": 42,
      "value": {
        "id": 48,
        "value": "containTreeAny",
        "link_id": 226
      }
    },
    {
      "id": 227,
      "type_id": 3,
      "from_id": 184,
      "to_id": 43,
      "value": {
        "id": 49,
        "value": "PackageNamespace",
        "link_id": 227
      }
    },
    {
      "id": 228,
      "type_id": 3,
      "from_id": 184,
      "to_id": 44,
      "value": {
        "id": 50,
        "value": "packageNamespaceValue",
        "link_id": 228
      }
    },
    {
      "id": 229,
      "type_id": 3,
      "from_id": 184,
      "to_id": 45,
      "value": {
        "id": 51,
        "value": "PackageActive",
        "link_id": 229
      }
    },
    {
      "id": 230,
      "type_id": 3,
      "from_id": 184,
      "to_id": 46,
      "value": {
        "id": 52,
        "value": "PackageVersion",
        "link_id": 230
      }
    },
    {
      "id": 231,
      "type_id": 3,
      "from_id": 184,
      "to_id": 47,
      "value": {
        "id": 53,
        "value": "packageVersionValue",
        "link_id": 231
      }
    },
    {
      "id": 232,
      "type_id": 3,
      "from_id": 184,
      "to_id": 48,
      "value": {
        "id": 54,
        "value": "HandleOperation",
        "link_id": 232
      }
    },
    {
      "id": 233,
      "type_id": 3,
      "from_id": 184,
      "to_id": 49,
      "value": {
        "id": 55,
        "value": "HandleInsert",
        "link_id": 233
      }
    },
    {
      "id": 234,
      "type_id": 3,
      "from_id": 184,
      "to_id": 50,
      "value": {
        "id": 56,
        "value": "HandleUpdate",
        "link_id": 234
      }
    },
    {
      "id": 235,
      "type_id": 3,
      "from_id": 184,
      "to_id": 51,
      "value": {
        "id": 57,
        "value": "HandleDelete",
        "link_id": 235
      }
    },
    {
      "id": 236,
      "type_id": 3,
      "from_id": 184,
      "to_id": 52,
      "value": {
        "id": 58,
        "value": "PromiseResult",
        "link_id": 236
      }
    },
    {
      "id": 237,
      "type_id": 3,
      "from_id": 184,
      "to_id": 53,
      "value": {
        "id": 59,
        "value": "promiseResultValueRelationTable",
        "link_id": 237
      }
    },
    {
      "id": 238,
      "type_id": 3,
      "from_id": 184,
      "to_id": 54,
      "value": {
        "id": 60,
        "value": "PromiseReason",
        "link_id": 238
      }
    },
    {
      "id": 239,
      "type_id": 3,
      "from_id": 184,
      "to_id": 55,
      "value": {
        "id": 61,
        "value": "Focus",
        "link_id": 239
      }
    },
    {
      "id": 240,
      "type_id": 3,
      "from_id": 184,
      "to_id": 56,
      "value": {
        "id": 62,
        "value": "focusValue",
        "link_id": 240
      }
    },
    {
      "id": 241,
      "type_id": 3,
      "from_id": 184,
      "to_id": 57,
      "value": {
        "id": 63,
        "value": "AsyncFile",
        "link_id": 241
      }
    },
    {
      "id": 242,
      "type_id": 3,
      "from_id": 184,
      "to_id": 58,
      "value": {
        "id": 64,
        "value": "Query",
        "link_id": 242
      }
    },
    {
      "id": 243,
      "type_id": 3,
      "from_id": 184,
      "to_id": 59,
      "value": {
        "id": 65,
        "value": "queryValue",
        "link_id": 243
      }
    },
    {
      "id": 244,
      "type_id": 3,
      "from_id": 184,
      "to_id": 60,
      "value": {
        "id": 66,
        "value": "Fixed",
        "link_id": 244
      }
    },
    {
      "id": 245,
      "type_id": 3,
      "from_id": 184,
      "to_id": 61,
      "value": {
        "id": 67,
        "value": "fixedValue",
        "link_id": 245
      }
    },
    {
      "id": 246,
      "type_id": 3,
      "from_id": 184,
      "to_id": 62,
      "value": {
        "id": 68,
        "value": "Space",
        "link_id": 246
      }
    },
    {
      "id": 247,
      "type_id": 3,
      "from_id": 184,
      "to_id": 63,
      "value": {
        "id": 69,
        "value": "spaceValue",
        "link_id": 247
      }
    },
    {
      "id": 248,
      "type_id": 3,
      "from_id": 184,
      "to_id": 64,
      "value": {
        "id": 70,
        "value": "AllowLogin",
        "link_id": 248
      }
    },
    {
      "id": 249,
      "type_id": 3,
      "from_id": 184,
      "to_id": 65,
      "value": {
        "id": 71,
        "value": "guests",
        "link_id": 249
      }
    },
    {
      "id": 250,
      "type_id": 3,
      "from_id": 184,
      "to_id": 66,
      "value": {
        "id": 72,
        "value": "Join",
        "link_id": 250
      }
    },
    {
      "id": 251,
      "type_id": 3,
      "from_id": 184,
      "to_id": 67,
      "value": {
        "id": 73,
        "value": "joinTree",
        "link_id": 251
      }
    },
    {
      "id": 252,
      "type_id": 3,
      "from_id": 184,
      "to_id": 68,
      "value": {
        "id": 74,
        "value": "joinTreeJoin",
        "link_id": 252
      }
    },
    {
      "id": 253,
      "type_id": 3,
      "from_id": 184,
      "to_id": 69,
      "value": {
        "id": 75,
        "value": "joinTreeAny",
        "link_id": 253
      }
    },
    {
      "id": 254,
      "type_id": 3,
      "from_id": 184,
      "to_id": 70,
      "value": {
        "id": 76,
        "value": "SelectorTree",
        "link_id": 254
      }
    },
    {
      "id": 255,
      "type_id": 3,
      "from_id": 184,
      "to_id": 71,
      "value": {
        "id": 77,
        "value": "AllowAdmin",
        "link_id": 255
      }
    },
    {
      "id": 256,
      "type_id": 3,
      "from_id": 184,
      "to_id": 72,
      "value": {
        "id": 78,
        "value": "SelectorExclude",
        "link_id": 256
      }
    },
    {
      "id": 257,
      "type_id": 3,
      "from_id": 184,
      "to_id": 73,
      "value": {
        "id": 79,
        "value": "SelectorFilter",
        "link_id": 257
      }
    },
    {
      "id": 258,
      "type_id": 3,
      "from_id": 184,
      "to_id": 74,
      "value": {
        "id": 80,
        "value": "HandleSchedule",
        "link_id": 258
      }
    },
    {
      "id": 259,
      "type_id": 3,
      "from_id": 184,
      "to_id": 75,
      "value": {
        "id": 81,
        "value": "Schedule",
        "link_id": 259
      }
    },
    {
      "id": 260,
      "type_id": 3,
      "from_id": 184,
      "to_id": 76,
      "value": {
        "id": 82,
        "value": "scheduleValue",
        "link_id": 260
      }
    },
    {
      "id": 261,
      "type_id": 3,
      "from_id": 184,
      "to_id": 77,
      "value": {
        "id": 83,
        "value": "Router",
        "link_id": 261
      }
    },
    {
      "id": 262,
      "type_id": 3,
      "from_id": 184,
      "to_id": 78,
      "value": {
        "id": 84,
        "value": "IsolationProvider",
        "link_id": 262
      }
    },
    {
      "id": 263,
      "type_id": 3,
      "from_id": 184,
      "to_id": 79,
      "value": {
        "id": 85,
        "value": "DockerIsolationProvider",
        "link_id": 263
      }
    },
    {
      "id": 264,
      "type_id": 3,
      "from_id": 184,
      "to_id": 80,
      "value": {
        "id": 86,
        "value": "dockerIsolationProviderValue",
        "link_id": 264
      }
    },
    {
      "id": 265,
      "type_id": 3,
      "from_id": 184,
      "to_id": 81,
      "value": {
        "id": 87,
        "value": "JSDockerIsolationProvider",
        "link_id": 265
      }
    },
    {
      "id": 266,
      "type_id": 3,
      "from_id": 184,
      "to_id": 82,
      "value": {
        "id": 88,
        "value": "Supports",
        "link_id": 266
      }
    },
    {
      "id": 267,
      "type_id": 3,
      "from_id": 184,
      "to_id": 83,
      "value": {
        "id": 89,
        "value": "dockerSupportsJs",
        "link_id": 267
      }
    },
    {
      "id": 275,
      "type_id": 3,
      "from_id": 184,
      "to_id": 91,
      "value": {
        "id": 97,
        "value": "packagePublishCodeHandleInsert",
        "link_id": 275
      }
    },
    {
      "id": 276,
      "type_id": 3,
      "from_id": 184,
      "to_id": 92,
      "value": {
        "id": 98,
        "value": "Active",
        "link_id": 276
      }
    },
    {
      "id": 589,
      "type_id": 146,
      "from_id": 559,
      "to_id": 82,
      "value": {
        "id": 233,
        "value": "🔋",
        "link_id": 589
      }
    },
    {
      "id": 590,
      "type_id": 3,
      "from_id": 559,
      "to_id": 589,
      "value": {
        "id": 234,
        "value": "SupportsSymbol",
        "link_id": 590
      }
    },
    {
      "id": 591,
      "type_id": 146,
      "from_id": 559,
      "to_id": 77,
      "value": {
        "id": 235,
        "value": "🚦",
        "link_id": 591
      }
    },
    {
      "id": 592,
      "type_id": 3,
      "from_id": 559,
      "to_id": 591,
      "value": {
        "id": 236,
        "value": "RouterSymbol",
        "link_id": 592
      }
    },
    {
      "id": 593,
      "type_id": 146,
      "from_id": 559,
      "to_id": 75,
      "value": {
        "id": 237,
        "value": "⏲",
        "link_id": 593
      }
    },
    {
      "id": 751,
      "type_id": 35,
      "from_id": 83,
      "to_id": 750
    },
    {
      "id": 752,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 327,
        "value": "async ({ deep, gql, data: { triggeredByLinkId, newLink } }) => {\n  const deepFileName = 'deep.json';\n  const fs = await deep.import('fs');\n\n  const makeTempDirectory = async () => {\n    const os = await deep.import('os');\n    const { v4: uuid } = await deep.import('uuid');\n    \n    const baseTempDirectory = os.tmpdir();\n    const randomId = uuid();\n    const tempDirectory = [baseTempDirectory,randomId].join('/');\n    fs.mkdirSync(tempDirectory);\n    console.log(tempDirectory);\n    return tempDirectory;\n  };\n  const npmInstall = async (packageName, tempDirectory) => {\n    const execSync = (await deep.import('child_process')).execSync;\n\n    const command = `npm --prefix \"${tempDirectory}\" i ${packageName}`;\n    const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: tempDirectory\n    });\n    console.log(`${command}\\n`, output);\n    return output;\n  };\n  const npmLogin = async (token, tempDirectory) => {\n    const execSync = (await deep.import('child_process')).execSync;\n  \n    const command = `npm set \"//registry.npmjs.org/:_authToken\" ${token}`;\n    const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: tempDirectory\n    });\n    console.log(`${command}\\n`, output);\n    return output;\n  };\n  const makePackagePath = (tempDirectory, packageName) => [tempDirectory, 'node_modules', packageName].join('/');\n  const makeDeepJsonPath = (packagePath) => [packagePath, deepFileName].join('/');\n  const makePackageJsonPath = (packagePath) => [packagePath, 'package.json'].join('/');\n  const loadNpmToken = async () => {\n    const containTreeId = await deep.id('@deep-foundation/core', 'containTree');\n    const tokenTypeId = await deep.id('@deep-foundation/npm-packager', 'Token');\n    const { data: [{ value: { value: npmToken = undefined } = {}} = {}] = []} = await deep.select({\n      up: {\n        tree_id: { _eq: containTreeId },\n        parent: { id: { _eq: triggeredByLinkId } },\n        link: { type_id: { _eq: tokenTypeId } }\n      }\n    });\n    return npmToken;\n  };\n  const deepImport = async (deepJson, packageJson) => {\n    if (deepJson.package.name !== packageJson.name) {\n      throw new Error(`Package name is not synchronized between ${deepFileName} and package.json files.\n  ${deepFileName} package name: ${deepJson.package.name}.\n  package.json package name: ${packageJson.name}.`);\n    }\n    if (deepJson.package.version !== packageJson.version) {\n      throw new Error(`Package version is not synchronized between ${deepFileName} and package.json files.\n  ${deepFileName} package version: ${deepJson.package.version}.\n  package.json package version: ${packageJson.version}.`);\n    }\n    const packager = new (await deep.import('@deep-foundation/deeplinks/imports/packager.js')).Packager(deep);\n    const imported = await packager.import(deepJson);\n    console.log(imported);\n    if (imported?.errors?.length) throw imported;\n    return imported;\n  };\n  const getDeepPackagesList = async (rootPath) => {\n    const execSync = (await deep.import('child_process')).execSync;\n\n    const deepFileName = 'deep.json';\n    const deepFileNameLength = deepFileName.length;\n\n    const command = `find . -name ${deepFileName}`;\n    const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: rootPath\n    });\n    console.log('', `${command}\\n`, output);\n\n    const packages = output\n      .split(/\\r?\\n/)\n      .filter(line => line.trim())\n      .map(line => line.slice(2).slice(0, -deepFileNameLength - 1))\n      .map(line => line.split('/node_modules/'));\n    return packages;\n  };\n  const getDeepPackagesDependencies = async (rootPath, packages, packageName) => {\n    const dictionary = {};\n    for (const pkg of packages) {\n      const packagePath = [rootPath, pkg.join('/node_modules/')].join('/');\n      console.log('packagePath', packagePath);\n      const packageJsonPath = makePackageJsonPath(packagePath);\n      console.log('packageJsonPath', packageJsonPath);\n      if (!fs.existsSync(packageJsonPath)) {\n        throw new Error(`package.json for dependency ${pkg} is not found at ${packageJsonPath}. Looks like ${packageName} does not contain ${pkg} dependency in package.json.`);\n      }\n      const packageJson = await deep.import(packageJsonPath);\n      console.log('packageJson', packageJson);\n      const deepJsonPath = makeDeepJsonPath(packagePath);\n      console.log('deepJsonPath', deepJsonPath);\n      if (!fs.existsSync(deepJsonPath)) {\n        throw new Error(`deep.json for dependency ${pkg} is not found at ${deepJsonPath}. Looks like ${pkg} installed, but it does not contain deep.json. Make sure ${pkg} is a deep package.`);\n      }\n      const deepJson = await deep.import(deepJsonPath);\n      console.log('deepJson', deepJson);\n      const dependencies = packageJson.dependencies ?? {};\n      console.log('dependencies', dependencies);\n      const dependencyPackageName = pkg.at(-1);\n      console.log('dependencyPackageName', dependencyPackageName);\n      if (dictionary[dependencyPackageName]) {\n        if (packageJson.version === dictionary[dependencyPackageName].packageJson.version) {\n          console.log(`${dependencyPackageName}@${packageJson.version} was already added to a list of dependencies, no need to add it again.`)\n          continue;\n        } else {\n          throw new Error(`Multiple versions of the same package are not supported yet.\n${dependencyPackageName}@${dictionary[dependencyPackageName].packageJson.version} was already added to a list of dependencies from ${dictionary[dependencyPackageName].packagePath}.\nBut ${packageName} also contains ${dependencyPackageName}@${packageJson.version} dependency at ${packagePath}.`);\n        }\n      }\n      dictionary[dependencyPackageName] = { deepJson, packageJson, dependencies, packagePath };\n    }\n    for (const pkg in dictionary) {\n      const sourceDependencies = dictionary[pkg].dependencies;\n      const targetDependencies = [];\n      for (const dependency in sourceDependencies)\n      {\n        if (dictionary[dependency]) {\n          targetDependencies.push(dependency);\n        }\n      }\n      dictionary[pkg].dependencies = targetDependencies;\n    }\n    return dictionary;\n  }\n  const buildInstallationQueueCore = (deepPackagesDependencies, queue, set, packageName) => {\n    const dependencies = deepPackagesDependencies[packageName].dependencies;\n    for (const dependency of dependencies) {\n      if (!set[dependency]) {\n        buildInstallationQueueCore(deepPackagesDependencies, queue, set, dependency);\n      }\n    }\n    if(!set[packageName]) {\n      const deepJson = deepPackagesDependencies[packageName].deepJson;\n      const packageJson = deepPackagesDependencies[packageName].packageJson;\n      queue.push({ name: packageName, deepJson, packageJson });\n      set[packageName] = true;\n    }\n  }\n  const buildInstallationQueue = (deepPackagesDependencies, queue, set) => {\n    for (const packageName in deepPackagesDependencies) {\n      buildInstallationQueueCore(deepPackagesDependencies, queue, set, packageName);\n    }\n  }\n  const getExistingPackages = async (packageNames) => {\n    const packageTypeId = await deep.id('@deep-foundation/core', 'Package');\n    const packageVersionTypeId = await deep.id('@deep-foundation/core', 'PackageVersion');\n    const { data: packages } = await deep.select({\n      type_id: { _eq: packageTypeId },\n      string: { value: { _in: packageNames } }\n    }, {\n      name: 'GET_EXISTING_PACKAGES_WITH_VERSIONS',\n      returning: `\n        id\n        name: value\n        versions: in(where: {type_id: {_eq: ${packageVersionTypeId}}, string: {value: {_is_null: false}}}) {\n          id\n          version: value\n        }\n      `\n    })\n    console.log('packages', packages);\n    const existingPackages = packages.reduce(\n      (accumulator, currentValue) => {\n        const packageId = currentValue?.id;\n        const packageName = currentValue?.name?.value;\n        if (currentValue?.versions.length !== 1) {\n          throw new Error(`'${packageName}' package must have exactly one version. Now it has ${currentValue?.versions.length} versions.`);\n        }\n        if (accumulator[packageName]) {\n          throw new Error(`Multiple packages with name '${packageName}' exist.`)\n        }\n        const packageVersion = currentValue?.versions?.[0]?.version?.value;\n        accumulator[packageName] = { id: packageId, version: packageVersion };\n        return accumulator;\n      },\n      {}\n    );\n    console.log('existingPackages', existingPackages);\n    return existingPackages;\n  };\n\n  if (!triggeredByLinkId) {\n    throw new Error('Install link should be inserted using JWT token (role link), it cannot be inserted using hasura secret (role admin).');\n  }\n\n  const { data: [{ value: { value: packageQuery } }] } = await deep.select({ id: newLink.to_id });\n  const packageQueryParts = packageQuery.split('@');\n  if (packageQueryParts.length === 3) {\n    const packageVersion = packageQueryParts.pop();\n  }\n  const packageName = packageQueryParts.join('@');\n  if (!packageName) {\n    throw new Error('Package query value is empty.');\n  }\n  const tempDirectory = await makeTempDirectory();\n  let deepJson;\n  let packageJson;\n  const installationQueue = [];\n  const installationSet = {};\n  try {\n    const npmToken = await loadNpmToken();\n    if (npmToken) {\n      await npmLogin(npmToken, tempDirectory);\n    }\n    const nodeModulesPath = [tempDirectory, 'node_modules'].join('/');\n    await npmInstall(packageQuery, tempDirectory);\n    const packagePath = makePackagePath(tempDirectory, packageName);\n    const deepJsonPath = makeDeepJsonPath(packagePath);\n    const packageJsonPath = makePackageJsonPath(packagePath);\n    deepJson = await deep.import(deepJsonPath);\n    packageJson = await deep.import(packageJsonPath);\n\n    const packages = await getDeepPackagesList(nodeModulesPath);\n    console.log('packages', packages);\n    \n    const deepPackagesDependencies = await getDeepPackagesDependencies(nodeModulesPath, packages, packageName);\n    delete deepPackagesDependencies[packageName];\n    console.log('deepPackagesDependencies', deepPackagesDependencies);\n    \n    buildInstallationQueue(deepPackagesDependencies, installationQueue, installationSet);\n    \n    console.log('installationQueue', installationQueue);\n    console.log('installationSet', installationSet);\n  } finally {\n    fs.rmSync(tempDirectory, { recursive: true, force: true });\n  }\n  \n  const existingPackages = await getExistingPackages(installationQueue.map(e => e.name));\n  console.log('existingPackages', existingPackages);\n\n  for (const dependencyPackage of installationQueue) {\n    const dependencyPackageName = dependencyPackage.name;\n    const existingPackage = existingPackages[dependencyPackageName];\n    if (existingPackage) {\n      await deep.insert({\n        type_id: await deep.id('@deep-foundation/npm-packager', 'Used'),\n        from_id: newLink.id,\n        to_id: existingPackage.id,\n      });\n    } else {\n      const importedDependency = await deepImport(dependencyPackage.deepJson, dependencyPackage.packageJson);\n      if (importedDependency?.errors?.length > 0 || !importedDependency?.packageId) {\n        console.log(`Unable to install dependency ${dependencyPackageName}.`, importedDependency);\n        throw new Error(`Unable to install dependency ${dependencyPackageName}.`);\n      }\n      await deep.insert({\n        type_id: await deep.id('@deep-foundation/npm-packager', 'Installed'),\n        from_id: newLink.id,\n        to_id: importedDependency.packageId,\n      });\n      // TODO: Should it be inserted?\n      // await deep.insert({\n      //   type_id: await deep.id('@deep-foundation/core', 'Contain'),\n      //   from_id: newLink.from_id,\n      //   to_id: importedDependency.packageId,\n      // });\n    }\n  }\n\n  const imported = await deepImport(deepJson, packageJson);\n  await deep.insert({\n    type_id: await deep.id('@deep-foundation/core', 'Contain'),\n    from_id: newLink.from_id,\n    to_id: imported.packageId,\n  });\n  await deep.insert({\n    type_id: await deep.id('@deep-foundation/npm-packager', 'Installed'),\n    from_id: newLink.id,\n    to_id: imported.packageId,\n  });\n  return imported;\n}",
        "link_id": 752
      }
    },
    {
      "id": 1096,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 357,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const Any = deep.idLocal(dc, 'Any');\n    const Query = deep.idLocal(dc, 'Query');\n    const Package = deep.idLocal(dc, 'Package');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreePackage = await deep.id(dpl, 'TreePackage');\n    const Menu = deep.idLocal(dpl, 'Menu');\n    const Layer = deep.idLocal(dpl, 'Layer');\n    const Header = deep.idLocal(dpl, 'Header');\n    const History = deep.idLocal(dpl, 'History');\n    const HistoryHandler = deep.idLocal(dpl, 'HistoryHandler');\n    const handlers = {\n        [Any]: TreeLink,\n        [Query]: TreeList,\n        [Package]: TreePackage,\n    };\n    const getHandlerId = (linkId) => {\n        const l = deep.get(linkId);\n        return handlers[l?.type_id] || handlers[Any];\n    };\n    function useStore(queryField, defaultValue) {\n        return React.useState(defaultValue);\n    }\n    return ({ go, using = false, queryField = '', saveHistory = false, fullWidth = null, initialId = deep.linkId, initialHandlerId, startProps = {}, operations = false, }, ref) => {\n        const initialColumns = React.useMemo(() => {\n            if (!initialId)\n                return [];\n            return [[initialId, initialHandlerId || getHandlerId(initialId)]];\n        }, []);\n        const [columns, setColumns] = useStore(queryField, initialColumns);\n        const Item = React.useCallback(({ link, isActive, ...props }) => {\n            const go = Go.useGo();\n            return React.createElement(React.Fragment, null,\n                !!saveHistory && !!isActive && React.createElement(go.Save, { handlerId: link.handlerId }),\n                React.createElement(go.Handler, { linkId: link.id, handlerId: link.handlerId, isActive: isActive, fullWidth: fullWidth, saveHistory: saveHistory, operations: operations, ...props }));\n        }, [saveHistory, fullWidth, operations]);\n        const { data: list, ids } = React.useMemo(() => {\n            const ids = [];\n            const data = columns.map(c => {\n                ids.push(c[0]);\n                return { id: c[0], handlerId: c[1] };\n            });\n            return { data, ids };\n        }, [columns]);\n        const [concentrate, setConcentrate] = React.useState();\n        const { ids: concentrated } = deep.useSearch(concentrate, {\n            db: false, sort: false,\n            query: { id: { _in: ids } },\n            skip: !concentrate,\n        });\n        return React.createElement(go.On, { do: {\n                focus: (g, v, linkId, o) => {\n                    !go.value && go.focus(Stack);\n                    o?.id && go.do('open', o);\n                },\n                use: (g, v, o) => go(Stack).do('use', o),\n                open: (g, v, { id, prevId, handlerId, focus } = {}) => {\n                    if (!id)\n                        throw new Error(`open options must contains id ({ id, prevId?, handlerId? })`);\n                    const founded = columns.find(c => c[0] === id);\n                    const _prevId = prevId || columns[columns.length - 1][0];\n                    if (founded)\n                        go.do('use', { id });\n                    else {\n                        const prevI = columns.findIndex(c => c[0] === _prevId);\n                        setColumns([\n                            ...(!!~prevI ? columns.slice(0, prevI + 1) : []),\n                            [id, handlerId || getHandlerId(id)],\n                            ...(!!~prevI ? columns.slice(prevI + 1) : []),\n                        ]);\n                    }\n                    if (focus)\n                        go(Stack).awaitRef(id).then(g => go(Stack).focus(id).go(id).scroll());\n                },\n                close: (g, v, o) => {\n                    if (!o.id)\n                        throw new Error(`close options must contains id ({ id })`);\n                    setColumns(columns.filter(c => c[0] !== o.id));\n                },\n                concentrate: (g, v, o) => {\n                    setConcentrate(o?.value);\n                },\n            } },\n            React.createElement(go.Provider, { linkId: Stack },\n                React.createElement(go.Component, { path: [dpl, 'Stack'], concentrated: !!concentrate && concentrated, links: list, direction: 'horizontal', Item: Item, using: using, saveHistory: saveHistory, startProps: startProps, pr: '30em' })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNwQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMvQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMvQyxNQUFNLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3RELE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMs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QztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIEdvLCByZXF1aXJlIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIGNvbnN0IFN0YWNrID0gZGVlcC5pZExvY2FsKGRwbCwgJ1N0YWNrJyk7XG4gIGNvbnN0IEFueSA9IGRlZXAuaWRMb2NhbChkYywgJ0FueScpO1xuICBjb25zdCBRdWVyeSA9IGRlZXAuaWRMb2NhbChkYywgJ1F1ZXJ5Jyk7XG4gIGNvbnN0IFBhY2thZ2UgPSBkZWVwLmlkTG9jYWwoZGMsICdQYWNrYWdlJyk7XG4gIGNvbnN0IFRyZWVMaXN0ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaXN0Jyk7XG4gIGNvbnN0IFRyZWVMaW5rID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rJyk7XG4gIGNvbnN0IFRyZWVQYWNrYWdlID0gYXdhaXQgZGVlcC5pZChkcGwsICdUcmVlUGFja2FnZScpO1xuICBjb25zdCBNZW51ID0gZGVlcC5pZExvY2FsKGRwbCwgJ01lbnUnKTtcbiAgY29uc3QgTGF5ZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnTGF5ZXInKTtcbiAgY29uc3QgSGVhZGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hlYWRlcicpO1xuICBjb25zdCBIaXN0b3J5ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hpc3RvcnknKTtcbiAgY29uc3QgSGlzdG9yeUhhbmRsZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnSGlzdG9yeUhhbmRsZXInKTtcblxuICBpbnRlcmZhY2UgQ29sdW1uSSB7XG4gICAgaWQ6IGFueTtcbiAgICBoYW5kbGVySWQ6IGFueTtcbiAgICBmb2N1cz86IGJvb2xlYW47XG4gIH1cblxuICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICBbQW55XTogVHJlZUxpbmssXG4gICAgW1F1ZXJ5XTogVHJlZUxpc3QsXG4gICAgW1BhY2thZ2VdOiBUcmVlUGFja2FnZSxcbiAgfTtcblxuICBjb25zdCBnZXRIYW5kbGVySWQgPSAobGlua0lkKSA9PiB7XG4gICAgY29uc3QgbCA9IGRlZXAuZ2V0KGxpbmtJZCk7XG4gICAgcmV0dXJuIGhhbmRsZXJzW2w/LnR5cGVfaWRdIHx8IGhhbmRsZXJzW0FueV07XG4gIH1cblxuICBmdW5jdGlvbiB1c2VTdG9yZShxdWVyeUZpZWxkLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyByZXR1cm4gKHF1ZXJ5RmllbGQgPyBHby51c2VRdWVyeVN0b3JlKHF1ZXJ5RmllbGQsIGRlZmF1bHRWYWx1ZSkgOiBSZWFjdC51c2VTdGF0ZShkZWZhdWx0VmFsdWUpKTtcbiAgICByZXR1cm4gUmVhY3QudXNlU3RhdGUoZGVmYXVsdFZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgdXNpbmcgPSBmYWxzZSxcbiAgICBxdWVyeUZpZWxkID0gJycsXG4gICAgc2F2ZUhpc3RvcnkgPSBmYWxzZSxcbiAgICBmdWxsV2lkdGggPSBudWxsLFxuICAgIGluaXRpYWxJZCA9IGRlZXAubGlua0lkLFxuICAgIGluaXRpYWxIYW5kbGVySWQsXG4gICAgc3RhcnRQcm9wcyA9IHt9LFxuICAgIG9wZXJhdGlvbnMgPSBmYWxzZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbENvbHVtbnMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGlmICghaW5pdGlhbElkKSByZXR1cm4gW107XG4gICAgICByZXR1cm4gW1tpbml0aWFsSWQsIGluaXRpYWxIYW5kbGVySWQgfHwgZ2V0SGFuZGxlcklkKGluaXRpYWxJZCldXVxuICAgIH0sIFtdKTtcbiAgICBjb25zdCBbY29sdW1ucywgc2V0Q29sdW1uc10gPSB1c2VTdG9yZShxdWVyeUZpZWxkLCBpbml0aWFsQ29sdW1ucyk7XG4gICAgLy8gY29uc3QgW3Rlc3QsIHNldFRlc3RdID0gZ28udXNlUXVlcnlTdG9yZSgndGVzdCcsIDApO1xuICAgIFxuICAgIGNvbnN0IEl0ZW0gPSBSZWFjdC51c2VDYWxsYmFjaygoeyBsaW5rLCBpc0FjdGl2ZSwgLi4ucHJvcHMgfSkgPT4ge1xuICAgICAgY29uc3QgZ28gPSBHby51c2VHbygpO1xuICAgICAgcmV0dXJuIDw+XG4gICAgICAgIHshIXNhdmVIaXN0b3J5ICYmICEhaXNBY3RpdmUgJiYgPGdvLlNhdmUgaGFuZGxlcklkPXtsaW5rLmhhbmRsZXJJZH0vPn1cbiAgICAgICAgPGdvLkhhbmRsZXIgbGlua0lkPXtsaW5rLmlkfSBoYW5kbGVySWQ9e2xpbmsuaGFuZGxlcklkfVxuICAgICAgICAgIGlzQWN0aXZlPXtpc0FjdGl2ZX0gZnVsbFdpZHRoPXtmdWxsV2lkdGh9IHNhdmVIaXN0b3J5PXtzYXZlSGlzdG9yeX1cbiAgICAgICAgICBvcGVyYXRpb25zPXtvcGVyYXRpb25zfVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgIDwvPjtcbiAgICB9LCBbc2F2ZUhpc3RvcnksIGZ1bGxXaWR0aCwgb3BlcmF0aW9uc10pO1xuXG4gICAgY29uc3QgeyBkYXRhOiBsaXN0LCBpZHMgfSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgY29uc3QgaWRzID0gW107XG4gICAgICBjb25zdCBkYXRhID0gY29sdW1ucy5tYXAoYyA9PiB7XG4gICAgICAgIGlkcy5wdXNoKGNbMF0pO1xuICAgICAgICByZXR1cm4geyBpZDogY1swXSwgaGFuZGxlcklkOiBjWzFdIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IGRhdGEsIGlkcyB9O1xuICAgIH0sIFtjb2x1bW5zXSk7XG5cbiAgICBjb25zdCBbY29uY2VudHJhdGUsIHNldENvbmNlbnRyYXRlXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgY29uc3QgeyBpZHM6IGNvbmNlbnRyYXRlZCB9ID0gZGVlcC51c2VTZWFyY2goY29uY2VudHJhdGUsIHtcbiAgICAgIGRiOiBmYWxzZSwgc29ydDogZmFsc2UsXG4gICAgICBxdWVyeTogeyBpZDogeyBfaW46IGlkcyB9IH0sXG4gICAgICBza2lwOiAhY29uY2VudHJhdGUsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBmb2N1czogKGcsdixsaW5rSWQsbykgPT4ge1xuICAgICAgICAhZ28udmFsdWUgJiYgZ28uZm9jdXMoU3RhY2spO1xuICAgICAgICBvPy5pZCAmJiBnby5kbygnb3BlbicsIG8pO1xuICAgICAgfSxcbiAgICAgIHVzZTogKGcsdixvKSA9PiBnbyhTdGFjaykuZG8oJ3VzZScsbyksXG4gICAgICBvcGVuOiAoZyx2LHsgaWQsIHByZXZJZCwgaGFuZGxlcklkLCBmb2N1cyB9ID0ge30pID0+IHtcbiAgICAgICAgaWYgKCFpZCkgdGhyb3cgbmV3IEVycm9yKGBvcGVuIG9wdGlvbnMgbXVzdCBjb250YWlucyBpZCAoeyBpZCwgcHJldklkPywgaGFuZGxlcklkPyB9KWApO1xuICAgICAgICBjb25zdCBmb3VuZGVkID0gY29sdW1ucy5maW5kKGMgPT4gY1swXSA9PT0gaWQpO1xuICAgICAgICBjb25zdCBfcHJldklkID0gcHJldklkIHx8IGNvbHVtbnNbY29sdW1ucy5sZW5ndGggLSAxXVswXTtcbiAgICAgICAgaWYgKGZvdW5kZWQpIGdvLmRvKCd1c2UnLHsgaWQgfSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHByZXZJID0gY29sdW1ucy5maW5kSW5kZXgoYyA9PiBjWzBdID09PSBfcHJldklkKTtcbiAgICAgICAgICBzZXRDb2x1bW5zKFtcbiAgICAgICAgICAgIC4uLighIX5wcmV2SSA/IGNvbHVtbnMuc2xpY2UoMCwgcHJldkkrMSkgOiBbXSksXG4gICAgICAgICAgICBbaWQsIGhhbmRsZXJJZCB8fCBnZXRIYW5kbGVySWQoaWQpXSxcbiAgICAgICAgICAgIC4uLighIX5wcmV2SSA/IGNvbHVtbnMuc2xpY2UocHJldkkrMSkgOiBbXSksXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvY3VzKSBnbyhTdGFjaykuYXdhaXRSZWYoaWQpLnRoZW4oZyA9PiBnbyhTdGFjaykuZm9jdXMoaWQpLmdvKGlkKS5zY3JvbGwoKSk7XG4gICAgICB9LFxuICAgICAgY2xvc2U6IChnLHYsbykgPT4ge1xuICAgICAgICBpZiAoIW8uaWQpIHRocm93IG5ldyBFcnJvcihgY2xvc2Ugb3B0aW9ucyBtdXN0IGNvbnRhaW5zIGlkICh7IGlkIH0pYCk7XG4gICAgICAgIHNldENvbHVtbnMoY29sdW1ucy5maWx0ZXIoYyA9PiBjWzBdICE9PSBvLmlkKSk7XG4gICAgICB9LFxuICAgICAgY29uY2VudHJhdGU6IChnLHYsbykgPT4ge1xuICAgICAgICBzZXRDb25jZW50cmF0ZShvPy52YWx1ZSk7XG4gICAgICB9LFxuICAgIH19PlxuICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17U3RhY2t9PlxuICAgICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdTdGFjayddfVxuICAgICAgICAgIGNvbmNlbnRyYXRlZD17ISFjb25jZW50cmF0ZSAmJiBjb25jZW50cmF0ZWR9IGxpbmtzPXtsaXN0fVxuICAgICAgICAgIGRpcmVjdGlvbj0naG9yaXpvbnRhbCcgSXRlbT17SXRlbX0gdXNpbmc9e3VzaW5nfVxuICAgICAgICAgIHNhdmVIaXN0b3J5PXtzYXZlSGlzdG9yeX0gc3RhcnRQcm9wcz17c3RhcnRQcm9wc31cbiAgICAgICAgICBwcj0nMzBlbSdcbiAgICAgICAgLz5cbiAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1096
      }
    },
    {
      "id": 1097,
      "type_id": 3,
      "from_id": 833,
      "to_id": 1096,
      "value": {
        "id": 356,
        "value": "generated",
        "link_id": 1097
      }
    },
    {
      "id": 1098,
      "type_id": 143,
      "from_id": 1096,
      "to_id": 833
    },
    {
      "id": 1099,
      "type_id": 3,
      "from_id": 833,
      "to_id": 1098
    },
    {
      "id": 1204,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 393,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const dr = '@deep-foundation/readme';\n    const Graph = deep.idLocal(dpl, 'Graph');\n    const GraphLinkPlanet = deep.idLocal(dpl, 'GraphLinkPlanet');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const Input = deep.idLocal(dr, 'Input');\n    const Output = deep.idLocal(dr, 'Output');\n    const Readme = deep.idLocal(dr, 'Readme');\n    const Cause = deep.idLocal(dr, 'Cause');\n    const Inherit = deep.idLocal(dr, 'Inherit');\n    return ({ go, isActive, isConcentrated, position, locked = false, children, }, ref) => {\n        const { cy } = go.useGraph();\n        const $inouts = cy.$(`.link-type[target=\"${go.linkId}\"],.link-from[target=\"${go.linkId}\"],.link-to[target=\"${go.linkId}\"]`);\n        const inouts = $inouts.map((e) => {\n            return { id: e.id(), linkId: e.data().linkId };\n        });\n        const nav = go.useNav();\n        nav('current', go?.link?.from_id ? 'from_id' : 'current', 'type_id', go?.link?.to_id ? 'to_id' : 'current', inouts?.length ? 'inout' : 'current');\n        nav('from_id', 'from', 'from_id', 'current', 'from_id');\n        nav('to_id', 'current', 'to_id', 'to', 'to_id');\n        nav('type_id', 'type_id', 'type', 'type_id', 'current');\n        const [inoutId, setInoutId] = React.useState();\n        nav('inout', 'inout', 'current', 'inout', 'inouted');\n        React.useEffect(() => {\n            $inouts.removeClass('link-edge-active');\n            if (go.value === 'inout' && inoutId)\n                cy.$id(inoutId).addClass('link-edge-active');\n        }, [go.value, inoutId]);\n        const value = React.useMemo(() => {\n            const value = deep.stringify(go?.link?.value?.value || '');\n            return value.length > 32 ? `${value.slice(0, 32)}...` : value;\n        }, [go?.link?.value?.value]);\n        const [input] = deep.useLocalSubscription({ type_id: Input, to_id: go.linkId });\n        const [output] = deep.useLocalSubscription({ type_id: Output, to_id: go.linkId });\n        const [inherit] = deep.useLocalSubscription({ type_id: Inherit, to_id: go.linkId });\n        const [readme] = deep.useLocalSubscription({ type_id: Readme, to_id: go.linkId });\n        const setReadme = React.useCallback((readme, linkId) => {\n            if (!readme || !cy.$id(`${linkId}`).length)\n                return;\n            cy.nodeHtmlLabel([{\n                    query: `#${linkId}`,\n                    halign: 'right',\n                    valign: 'top',\n                    halignBox: 'right',\n                    valignBox: 'bottom',\n                    cssClass: 'deep-graph-node-html-label',\n                    tpl: data => data?.readme || '',\n                }]);\n        }, []);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => {\n                    if (!go.value || go.value === 'current')\n                        go.focus(GraphLinkPlanet);\n                    if (go.value === GraphLinkPlanet)\n                        go.focus('current');\n                },\n                focus: (g, v, o) => { },\n                use: (g, v, o) => { },\n                position: (g, v, o) => { },\n                scroll: (g, v, o) => {\n                    console.log(ref);\n                    cy.center(ref.current);\n                },\n                ...(go.value === 'inout') ? {\n                    left: (g, v, o) => {\n                        if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                            setInoutId(inouts?.[0]);\n                        }\n                        else\n                            setInoutId(go.prev(inouts, inoutId));\n                    },\n                    right: (g, v, o) => {\n                        if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                            setInoutId(inouts?.[inouts.length - 1]?.id);\n                        }\n                        else\n                            setInoutId(go.next(inouts, inoutId));\n                    },\n                } : {\n                    left: (g, v, o) => {\n                        go.focus(nav.get(go.value || 'current', 'left'), { prev: go.value });\n                    },\n                    right: (g, v, o) => {\n                        go.focus(nav.get(go.value || 'current', 'right'), { prev: go.value });\n                    },\n                },\n                up: (g, v, o) => go.focus(nav.get(go.value || 'current', 'up'), { prev: go.value }),\n                down: (g, v, o) => go.focus(nav.get(go.value || 'current', 'down'), { prev: go.value }),\n            }, focus: {\n                type: (g, v, o) => go.set().go.parent(Graph).do('open', { id: go.link.type_id, focus: true }),\n                from: (g, v, o) => go.set().go.parent(Graph).do('open', { id: go.link.from_id, focus: true }),\n                to: (g, v, o) => go.set().go.parent(Graph).do('open', { id: go.link.to_id, focus: true }),\n                inout: (g, v, o) => setInoutId(inouts?.[0]?.id),\n                inouted: (g, v, o) => {\n                    setInoutId();\n                    go.set().go.go.focus(cy.$id(inoutId)?.data()?.linkId);\n                }\n            } }, !!go?.link && React.createElement(React.Fragment, null, go?.link?.type_id === Contain ? React.createElement(React.Fragment, null,\n            React.createElement(go.GraphEdge, { element: {\n                    data: {\n                        id: `${go.link.id}-contain`, source: `${go.link?.from_id}`, target: `${go.link?.to_id}`,\n                        label: `${go.link?.symbol} ${go.link?.value?.value || go.linkId}`,\n                    },\n                    classes: ['link-edge', 'link-contain'],\n                } })) : React.createElement(React.Fragment, null,\n            React.createElement(go.GraphNode, { element: {\n                    data: { id: `${go.link.id}-children` },\n                    classes: ['link-children'],\n                } },\n                React.createElement(go.GraphNode, { ref: ref, element: {\n                        linkId: go.link.id,\n                        data: { id: go.link.id,\n                            readme: readme?.value?.value || ' ',\n                            label: `${go.linkId}: ${go.link.name !== go.linkId ? go.link.name : ''}\n(${go.link.type_id}: ${go.link.type?.name !== go.link.type_id ? go.link.type?.name : ''})${`\n` + (value)}\n\n\n${go.link.symbol}` },\n                        classes: [\n                            'link-node',\n                            ...(isActive ? ['link-node-active'] : []),\n                            ...(input ? ['link-node-input'] : []),\n                            ...(output ? ['link-node-output'] : []),\n                            ...(inherit ? ['link-node-inherit'] : []),\n                            ...(isConcentrated === true ? ['link-node-concentrated'] : []),\n                            ...(isConcentrated === false ? ['link-node-unconcentrated'] : []),\n                        ],\n                    }, onClick: (e) => {\n                        const graph = go.parent(Graph);\n                        console.log('XXXXXX', go, go.linkId, go.go.value, go.value);\n                        graph.focus(go.linkId);\n                        go.do('exec', { id: go.linkId });\n                    }, onAdded: (el, cy) => {\n                        setReadme(readme, go.linkId);\n                    } },\n                    React.createElement(c.Box, { w: '0', h: '0', position: 'relative', ref: go.ref }, isActive && React.createElement(go.Provider, { linkId: GraphLinkPlanet },\n                        React.createElement(go.Component, { path: [dpl, 'GraphLinkPlanet'], linkId: go.linkId, isActive: isActive && go.value === GraphLinkPlanet })))),\n                !!go.link.type_id && React.createElement(go.GraphEdge, { element: {\n                        data: { id: `${go.link.id}-type`, source: `${go.link.id}`, target: `${go.link.type_id}` },\n                        classes: ['link-edge', 'link-type', ...(go.value === 'type_id' ? ['link-edge-active'] : [])],\n                    } }),\n                !!go.link.from_id && React.createElement(go.GraphEdge, { element: {\n                        data: { id: `${go.link.id}-from`, source: `${go.link.id}`, target: `${go.link.from_id}` },\n                        classes: ['link-edge', 'link-from', ...(go.value === 'from_id' ? ['link-edge-active'] : [])],\n                    } }),\n                !!go.link.to_id && React.createElement(go.GraphEdge, { element: {\n                        data: { id: `${go.link.id}-to`, source: `${go.link.id}`, target: `${go.link.to_id}` },\n                        classes: ['link-edge', 'link-to', ...(go.value === 'to_id' ? ['link-edge-active'] : [])],\n                    } }),\n                children))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx5QkFBeUIsQ0FBQztJQUVyQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0lBQzdELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBRTVDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBRTVDLE9BQU8s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QyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssSUFBSSxTQUFTLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUNqRixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksU0FBUyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUN0RixFQUFFLEtBQUssRUFBRTtnQkFDUixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUM7Z0JBQzNGLElBQUksRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQztnQkFDM0YsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUss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RyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUU7d0JBQ3pGLE9BQU8sRUFBRSxDQUFDLFdBQVcsRUFBRSxXQUFXLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO3FCQUM3RixHQUFHO2dCQUNMLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUMvQixPQUFPLEVBQUU7d0JBQ1AsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUU7d0JBQ3JGLE9BQU8sRUFBRSxDQUFDLFdBQVcsRUFBRSxTQUFTLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO3FCQUN6RixHQUFHO2dCQUNMLFFBQVEsQ0FDSSxDQUNkLENBQ0YsQ0FDRyxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgR28sIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRyID0gJ0BkZWVwLWZvdW5kYXRpb24vcmVhZG1lJztcblxuICBjb25zdCBHcmFwaCA9IGRlZXAuaWRMb2NhbChkcGwsICdHcmFwaCcpO1xuICBjb25zdCBHcmFwaExpbmtQbGFuZXQgPSBkZWVwLmlkTG9jYWwoZHBsLCAnR3JhcGhMaW5rUGxhbmV0Jyk7XG4gIGNvbnN0IENvbnRhaW4gPSBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyk7XG5cbiAgY29uc3QgSW5wdXQgPSBkZWVwLmlkTG9jYWwoZHIsICdJbnB1dCcpO1xuICBjb25zdCBPdXRwdXQgPSBkZWVwLmlkTG9jYWwoZHIsICdPdXRwdXQnKTtcbiAgY29uc3QgUmVhZG1lID0gZGVlcC5pZExvY2FsKGRyLCAnUmVhZG1lJyk7XG4gIGNvbnN0IENhdXNlID0gZGVlcC5pZExvY2FsKGRyLCAnQ2F1c2UnKTtcbiAgY29uc3QgSW5oZXJpdCA9IGRlZXAuaWRMb2NhbChkciwgJ0luaGVyaXQnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGlzQWN0aXZlLFxuICAgIGlzQ29uY2VudHJhdGVkLFxuXG4gICAgcG9zaXRpb24sXG4gICAgbG9ja2VkID0gZmFsc2UsXG5cbiAgICBjaGlsZHJlbixcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgeyBjeSB9ID0gZ28udXNlR3JhcGgoKTtcblxuICAgIGNvbnN0ICRpbm91dHMgPSBjeS4kKGAubGluay10eXBlW3RhcmdldD1cIiR7Z28ubGlua0lkfVwiXSwubGluay1mcm9tW3RhcmdldD1cIiR7Z28ubGlua0lkfVwiXSwubGluay10b1t0YXJnZXQ9XCIke2dvLmxpbmtJZH1cIl1gKTtcbiAgICBjb25zdCBpbm91dHMgPSAkaW5vdXRzLm1hcCgoZSkgPT4ge1xuICAgICAgcmV0dXJuIHsgaWQ6IGUuaWQoKSwgbGlua0lkOiBlLmRhdGEoKS5saW5rSWQgfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG5hdiA9IGdvLnVzZU5hdigpO1xuICAgIG5hdignY3VycmVudCcsIGdvPy5saW5rPy5mcm9tX2lkID8gJ2Zyb21faWQnIDogJ2N1cnJlbnQnLCAndHlwZV9pZCcsIGdvPy5saW5rPy50b19pZCA/ICd0b19pZCcgOiAnY3VycmVudCcsIGlub3V0cz8ubGVuZ3RoID8gJ2lub3V0JyA6ICdjdXJyZW50Jyk7XG4gICAgbmF2KCdmcm9tX2lkJywgJ2Zyb20nLCAnZnJvbV9pZCcsICdjdXJyZW50JywgJ2Zyb21faWQnKTtcbiAgICBuYXYoJ3RvX2lkJywgJ2N1cnJlbnQnLCAndG9faWQnLCAndG8nLCAndG9faWQnKTtcbiAgICBuYXYoJ3R5cGVfaWQnLCAndHlwZV9pZCcsICd0eXBlJywgJ3R5cGVfaWQnLCAnY3VycmVudCcpO1xuXG4gICAgY29uc3QgW2lub3V0SWQsIHNldElub3V0SWRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBuYXYoJ2lub3V0JywgJ2lub3V0JywgJ2N1cnJlbnQnLCAnaW5vdXQnLCAnaW5vdXRlZCcpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAkaW5vdXRzLnJlbW92ZUNsYXNzKCdsaW5rLWVkZ2UtYWN0aXZlJyk7XG4gICAgICBpZiAoZ28udmFsdWUgPT09ICdpbm91dCcgJiYgaW5vdXRJZCkgY3kuJGlkKGlub3V0SWQpLmFkZENsYXNzKCdsaW5rLWVkZ2UtYWN0aXZlJyk7XG4gICAgfSwgW2dvLnZhbHVlLCBpbm91dElkXSk7XG4gICAgLy8gUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyAgIGlmICghaXNBY3RpdmUpIGdvLnNldCgnY3VycmVudCcpO1xuICAgIC8vIH0sIFtpc0FjdGl2ZV0pO1xuXG4gICAgY29uc3QgdmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZGVlcC5zdHJpbmdpZnkoZ28/Lmxpbms/LnZhbHVlPy52YWx1ZSB8fCAnJyk7XG4gICAgICByZXR1cm4gdmFsdWUubGVuZ3RoID4gMzIgPyBgJHt2YWx1ZS5zbGljZSgwLCAzMil9Li4uYCA6IHZhbHVlO1xuICAgIH0sIFtnbz8ubGluaz8udmFsdWU/LnZhbHVlXSk7XG5cbiAgICBjb25zdCBbaW5wdXRdID0gZGVlcC51c2VMb2NhbFN1YnNjcmlwdGlvbih7IHR5cGVfaWQ6IElucHV0LCB0b19pZDogZ28ubGlua0lkIH0pO1xuICAgIGNvbnN0IFtvdXRwdXRdID0gZGVlcC51c2VMb2NhbFN1YnNjcmlwdGlvbih7IHR5cGVfaWQ6IE91dHB1dCwgdG9faWQ6IGdvLmxpbmtJZCB9KTtcbiAgICBjb25zdCBbaW5oZXJpdF0gPSBkZWVwLnVzZUxvY2FsU3Vic2NyaXB0aW9uKHsgdHlwZV9pZDogSW5oZXJpdCwgdG9faWQ6IGdvLmxpbmtJZCB9KTtcbiAgICBjb25zdCBbcmVhZG1lXSA9IGRlZXAudXNlTG9jYWxTdWJzY3JpcHRpb24oeyB0eXBlX2lkOiBSZWFkbWUsIHRvX2lkOiBnby5saW5rSWQgfSk7XG5cbiAgICBjb25zdCBzZXRSZWFkbWUgPSBSZWFjdC51c2VDYWxsYmFjaygocmVhZG1lLCBsaW5rSWQpID0+IHtcbiAgICAgIGlmICghcmVhZG1lIHx8ICFjeS4kaWQoYCR7bGlua0lkfWApLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgY3kubm9kZUh0bWxMYWJlbChbe1xuICAgICAgICBxdWVyeTogYCMke2xpbmtJZH1gLFxuICAgICAgICBoYWxpZ246ICdyaWdodCcsXG4gICAgICAgIHZhbGlnbjogJ3RvcCcsXG4gICAgICAgIGhhbGlnbkJveDogJ3JpZ2h0JyxcbiAgICAgICAgdmFsaWduQm94OiAnYm90dG9tJyxcbiAgICAgICAgY3NzQ2xhc3M6ICdkZWVwLWdyYXBoLW5vZGUtaHRtbC1sYWJlbCcsXG4gICAgICAgIHRwbDogZGF0YSA9PiBkYXRhPy5yZWFkbWUgfHwgJycsXG4gICAgICB9XSk7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyAgIHNldFJlYWRtZShyZWFkbWUsIGdvLmxpbmtJZCk7XG4gICAgLy8gfSwgW3JlYWRtZV0pO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKGcsdixvKSA9PiB7XG4gICAgICAgIGlmICghZ28udmFsdWUgfHwgZ28udmFsdWUgPT09ICdjdXJyZW50JykgZ28uZm9jdXMoR3JhcGhMaW5rUGxhbmV0KTtcbiAgICAgICAgaWYgKGdvLnZhbHVlID09PSBHcmFwaExpbmtQbGFuZXQpIGdvLmZvY3VzKCdjdXJyZW50Jyk7XG4gICAgICB9LFxuICAgICAgZm9jdXM6IChnLHYsbykgPT4ge30sXG4gICAgICB1c2U6IChnLHYsbykgPT4ge30sXG4gICAgICBwb3NpdGlvbjogKGcsdixvKSA9PiB7fSxcbiAgICAgIHNjcm9sbDogKGcsdixvKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlZik7XG4gICAgICAgIGN5LmNlbnRlcihyZWYuY3VycmVudCk7XG4gICAgICB9LFxuICAgICAgLi4uKGdvLnZhbHVlID09PSAnaW5vdXQnKSA/IHtcbiAgICAgICAgbGVmdDogKGcsdixvKSA9PiB7XG4gICAgICAgICAgaWYgKG8/LmhvdGtleUV2ZW50Py5tZXRhIHx8IG8/LmhvdGtleUV2ZW50Py5zaGlmdCB8fCBvPy5ob3RrZXlFdmVudD8uY3RybCB8fCBvPy5ob3RrZXlFdmVudD8uYWx0KSB7XG4gICAgICAgICAgICBzZXRJbm91dElkKGlub3V0cz8uWzBdKTtcbiAgICAgICAgICB9IGVsc2Ugc2V0SW5vdXRJZChnby5wcmV2KGlub3V0cywgaW5vdXRJZCkpO1xuICAgICAgICB9LFxuICAgICAgICByaWdodDogKGcsdixvKSA9PiB7XG4gICAgICAgICAgaWYgKG8/LmhvdGtleUV2ZW50Py5tZXRhIHx8IG8/LmhvdGtleUV2ZW50Py5zaGlmdCB8fCBvPy5ob3RrZXlFdmVudD8uY3RybCB8fCBvPy5ob3RrZXlFdmVudD8uYWx0KSB7XG4gICAgICAgICAgICBzZXRJbm91dElkKGlub3V0cz8uW2lub3V0cy5sZW5ndGggLSAxXT8uaWQpO1xuICAgICAgICAgIH0gZWxzZSBzZXRJbm91dElkKGdvLm5leHQoaW5vdXRzLCBpbm91dElkKSk7XG4gICAgICAgIH0sXG4gICAgICB9IDoge1xuICAgICAgICBsZWZ0OiAoZyx2LG8pID0+IHtcbiAgICAgICAgICBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlIHx8ICdjdXJyZW50JywgJ2xlZnQnKSwgeyBwcmV2OiBnby52YWx1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHQ6IChnLHYsbykgPT4ge1xuICAgICAgICAgIGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgJ2N1cnJlbnQnLCAncmlnaHQnKSwgeyBwcmV2OiBnby52YWx1ZSB9KVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHVwOiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgJ2N1cnJlbnQnLCAndXAnKSwgeyBwcmV2OiBnby52YWx1ZSB9KSxcbiAgICAgIGRvd246IChnLHYsbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSB8fCAnY3VycmVudCcsICdkb3duJyksIHsgcHJldjogZ28udmFsdWUgfSksXG4gICAgfX0gZm9jdXM9e3tcbiAgICAgIHR5cGU6IChnLHYsbykgPT4gZ28uc2V0KCkuZ28ucGFyZW50KEdyYXBoKS5kbygnb3BlbicsIHsgaWQ6IGdvLmxpbmsudHlwZV9pZCwgZm9jdXM6IHRydWUgfSksXG4gICAgICBmcm9tOiAoZyx2LG8pID0+IGdvLnNldCgpLmdvLnBhcmVudChHcmFwaCkuZG8oJ29wZW4nLCB7IGlkOiBnby5saW5rLmZyb21faWQsIGZvY3VzOiB0cnVlIH0pLFxuICAgICAgdG86IChnLHYsbykgPT4gZ28uc2V0KCkuZ28ucGFyZW50KEdyYXBoKS5kbygnb3BlbicsIHsgaWQ6IGdvLmxpbmsudG9faWQsIGZvY3VzOiB0cnVlIH0pLFxuICAgICAgaW5vdXQ6IChnLHYsbykgPT4gc2V0SW5vdXRJZChpbm91dHM/LlswXT8uaWQpLFxuICAgICAgaW5vdXRlZDogKGcsdixvKSA9PiB7XG4gICAgICAgIHNldElub3V0SWQoKTtcbiAgICAgICAgZ28uc2V0KCkuZ28uZ28uZm9jdXMoY3kuJGlkKGlub3V0SWQpPy5kYXRhKCk/LmxpbmtJZCk7XG4gICAgICB9XG4gICAgfX0+XG4gICAgICB7ISFnbz8ubGluayAmJiA8PlxuICAgICAgICB7Z28/Lmxpbms/LnR5cGVfaWQgPT09IENvbnRhaW4gPyA8PlxuICAgICAgICAgIDxnby5HcmFwaEVkZ2UgZWxlbWVudD17e1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpZDogYCR7Z28ubGluay5pZH0tY29udGFpbmAsIHNvdXJjZTogYCR7Z28ubGluaz8uZnJvbV9pZH1gLCB0YXJnZXQ6IGAke2dvLmxpbms/LnRvX2lkfWAsXG4gICAgICAgICAgICAgIGxhYmVsOiBgJHtnby5saW5rPy5zeW1ib2x9ICR7Z28ubGluaz8udmFsdWU/LnZhbHVlIHx8IGdvLmxpbmtJZH1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsYXNzZXM6IFsnbGluay1lZGdlJywgJ2xpbmstY29udGFpbiddLFxuICAgICAgICAgIH19Lz5cbiAgICAgICAgPC8+IDogPD5cbiAgICAgICAgICA8Z28uR3JhcGhOb2RlIGVsZW1lbnQ9e3tcbiAgICAgICAgICAgIGRhdGE6IHsgaWQ6IGAke2dvLmxpbmsuaWR9LWNoaWxkcmVuYCB9LFxuICAgICAgICAgICAgY2xhc3NlczogWydsaW5rLWNoaWxkcmVuJ10sXG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8Z28uR3JhcGhOb2RlXG4gICAgICAgICAgICAgIHJlZj17cmVmfVxuICAgICAgICAgICAgICBlbGVtZW50PXt7XG4gICAgICAgICAgICAgICAgbGlua0lkOiBnby5saW5rLmlkLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgaWQ6IGdvLmxpbmsuaWQsXG4gICAgICAgICAgICAgICAgcmVhZG1lOiByZWFkbWU/LnZhbHVlPy52YWx1ZSB8fCAnICcsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGAke2dvLmxpbmtJZH06ICR7Z28ubGluay5uYW1lICE9PSBnby5saW5rSWQgPyBnby5saW5rLm5hbWUgOiAnJ31cbigke2dvLmxpbmsudHlwZV9pZH06ICR7Z28ubGluay50eXBlPy5uYW1lICE9PSBnby5saW5rLnR5cGVfaWQgPyBnby5saW5rLnR5cGU/Lm5hbWUgOiAnJ30pJHtgXG5gKyh2YWx1ZSl9XG5cblxuJHtnby5saW5rLnN5bWJvbH1gIH0sXG4gICAgICAgICAgICAgICAgY2xhc3NlczogW1xuICAgICAgICAgICAgICAgICAgJ2xpbmstbm9kZScsXG4gICAgICAgICAgICAgICAgICAuLi4oaXNBY3RpdmUgPyBbJ2xpbmstbm9kZS1hY3RpdmUnXSA6IFtdKSxcbiAgICAgICAgICAgICAgICAgIC4uLihpbnB1dCA/IFsnbGluay1ub2RlLWlucHV0J10gOiBbXSksXG4gICAgICAgICAgICAgICAgICAuLi4ob3V0cHV0ID8gWydsaW5rLW5vZGUtb3V0cHV0J10gOiBbXSksXG4gICAgICAgICAgICAgICAgICAuLi4oaW5oZXJpdCA/IFsnbGluay1ub2RlLWluaGVyaXQnXSA6IFtdKSxcbiAgICAgICAgICAgICAgICAgIC4uLihpc0NvbmNlbnRyYXRlZCA9PT0gdHJ1ZSA/IFsnbGluay1ub2RlLWNvbmNlbnRyYXRlZCddIDogW10pLFxuICAgICAgICAgICAgICAgICAgLi4uKGlzQ29uY2VudHJhdGVkID09PSBmYWxzZSA/IFsnbGluay1ub2RlLXVuY29uY2VudHJhdGVkJ10gOiBbXSksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBncmFwaCA9IGdvLnBhcmVudChHcmFwaCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1hYWFhYWCcsIGdvLCBnby5saW5rSWQsIGdvLmdvLnZhbHVlLCBnby52YWx1ZSk7XG4gICAgICAgICAgICAgICAgZ3JhcGguZm9jdXMoZ28ubGlua0lkKTtcbiAgICAgICAgICAgICAgICBnby5kbygnZXhlYycsIHsgaWQ6IGdvLmxpbmtJZCB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25BZGRlZD17KGVsLCBjeSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFJlYWRtZShyZWFkbWUsIGdvLmxpbmtJZCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxjLkJveCB3PScwJyBoPScwJyBwb3NpdGlvbj0ncmVsYXRpdmUnIHJlZj17Z28ucmVmfT5cbiAgICAgICAgICAgICAgICB7aXNBY3RpdmUgJiYgPGdvLlByb3ZpZGVyIGxpbmtJZD17R3JhcGhMaW5rUGxhbmV0fT5cbiAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ0dyYXBoTGlua1BsYW5ldCddfSBsaW5rSWQ9e2dvLmxpbmtJZH0gaXNBY3RpdmU9e2lzQWN0aXZlICYmIGdvLnZhbHVlID09PSBHcmFwaExpbmtQbGFuZXR9Lz5cbiAgICAgICAgICAgICAgICA8L2dvLlByb3ZpZGVyPn1cbiAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgIDwvZ28uR3JhcGhOb2RlPlxuICAgICAgICAgICAgeyEhZ28ubGluay50eXBlX2lkICYmIDxnby5HcmFwaEVkZ2VcbiAgICAgICAgICAgICAgZWxlbWVudD17e1xuICAgICAgICAgICAgICAgIGRhdGE6IHsgaWQ6IGAke2dvLmxpbmsuaWR9LXR5cGVgLCBzb3VyY2U6IGAke2dvLmxpbmsuaWR9YCwgdGFyZ2V0OiBgJHtnby5saW5rLnR5cGVfaWR9YCB9LFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IFsnbGluay1lZGdlJywgJ2xpbmstdHlwZScsIC4uLihnby52YWx1ZSA9PT0gJ3R5cGVfaWQnID8gWydsaW5rLWVkZ2UtYWN0aXZlJ10gOiBbXSldLFxuICAgICAgICAgICAgICB9fS8+fVxuICAgICAgICAgICAgeyEhZ28ubGluay5mcm9tX2lkICYmIDxnby5HcmFwaEVkZ2VcbiAgICAgICAgICAgICAgZWxlbWVudD17e1xuICAgICAgICAgICAgICAgIGRhdGE6IHsgaWQ6IGAke2dvLmxpbmsuaWR9LWZyb21gLCBzb3VyY2U6IGAke2dvLmxpbmsuaWR9YCwgdGFyZ2V0OiBgJHtnby5saW5rLmZyb21faWR9YCB9LFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IFsnbGluay1lZGdlJywgJ2xpbmstZnJvbScsIC4uLihnby52YWx1ZSA9PT0gJ2Zyb21faWQnID8gWydsaW5rLWVkZ2UtYWN0aXZlJ10gOiBbXSldLFxuICAgICAgICAgICAgICB9fS8+fVxuICAgICAgICAgICAgeyEhZ28ubGluay50b19pZCAmJiA8Z28uR3JhcGhFZGdlXG4gICAgICAgICAgICAgIGVsZW1lbnQ9e3tcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGlkOiBgJHtnby5saW5rLmlkfS10b2AsIHNvdXJjZTogYCR7Z28ubGluay5pZH1gLCB0YXJnZXQ6IGAke2dvLmxpbmsudG9faWR9YCB9LFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IFsnbGluay1lZGdlJywgJ2xpbmstdG8nLCAuLi4oZ28udmFsdWUgPT09ICd0b19pZCcgPyBbJ2xpbmstZWRnZS1hY3RpdmUnXSA6IFtdKV0sXG4gICAgICAgICAgICAgIH19Lz59XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgPC9nby5HcmFwaE5vZGU+XG4gICAgICAgIDwvPn1cbiAgICAgIDwvPn1cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1204
      }
    },
    {
      "id": 1205,
      "type_id": 3,
      "from_id": 866,
      "to_id": 1204,
      "value": {
        "id": 392,
        "value": "generated",
        "link_id": 1205
      }
    },
    {
      "id": 1206,
      "type_id": 143,
      "from_id": 1204,
      "to_id": 866
    },
    {
      "id": 1207,
      "type_id": 3,
      "from_id": 866,
      "to_id": 1206
    },
    {
      "id": 901,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 439,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n  const { IoInfiniteSharp } = require(\"react-icons/io5\");\n  const { Planet } = require('react-planet');\n  const c = require('@chakra-ui/react');\n\n  const {\n    TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon,\n  } = require('@deep-foundation/perception-app');\n\n  const dpl = '@deep-foundation/perception-links';\n\n  const TreeList = deep.idLocal(dpl, 'TreeList');\n  const PlanetRelations = await deep.id(dpl, 'PlanetRelations');\n  const PlanetOperations = await deep.id(dpl, 'PlanetOperations');\n\n  return ({\n    go,\n\n    linkId,\n    deleteDisclosure: _deleteDisclosure,\n    finderDisclosure: _finderDisclosure,\n    readmeDisclosure: _readmeDisclosure,\n\n    isActive = false,\n  }, ref) => {\n    const { cy } = go.useGraph();\n\n    const link = React.useMemo(() => deep.get(linkId), []);\n\n    const __deleteDisclosure = c.useDisclosure();\n    const deleteDisclosure = _deleteDisclosure || __deleteDisclosure;\n\n    const __finderDisclosure = c.useDisclosure();\n    const finderDisclosure = _finderDisclosure || __finderDisclosure;\n\n    const __readmeDisclosure = c.useDisclosure();\n    const readmeDisclosure = _readmeDisclosure || __readmeDisclosure;\n\n    const [mode, setMode] = React.useState('current');\n\n    const nav = go.useNav();\n    nav('current', PlanetRelations, PlanetRelations, PlanetRelations, PlanetRelations);\n    nav(PlanetRelations, PlanetRelations, PlanetOperations, PlanetRelations, 'current');\n    nav(PlanetOperations, PlanetOperations, 'up', PlanetOperations, PlanetRelations);\n\n    return <go.On do={{\n      exec: (g,v,o) => {\n        if (o?.mode) setMode(mode === o.mode ? 'current' : o.mode);\n        if (go.value === 'current') go.do(go.value);\n      },\n      focus: (g,d,v,o) => !v && go.set('current'),\n      up: (g,v,o) => go.focus(nav.get(go.value, 'up'), { position: 0.5, ...o }),\n      down: (g,v,o) => go.focus(nav.get(go.value, 'down'), { position: 0, ...o }),\n      left: (g,v,o) => go.focus(nav.get(go.value, 'left'), { position: 0.25 }),\n      right: (g,v,o) => go.focus(nav.get(go.value, 'right'), { position: 0.75 }),\n      current: (g,v,o) => {\n        if (go.value === 'current') {\n          go.set().go.go.focus('current');\n        } else {\n          go.go.do('exec');\n        }\n      },\n    }} focus={{\n      up: (g,v,o) => go.root().do('up'),\n    }}>\n      <c.Box position='relative' top='0' left='0' w='0' h='0'>\n        {!!go.value && <>\n          <go.Provider linkId={PlanetRelations}>\n            <go.Component path={[dpl, 'PlanetRelations']} isActive={isActive} linkId={linkId}/>\n          </go.Provider>\n          <go.Provider linkId={PlanetOperations}>\n            <go.Component\n              path={[dpl, 'PlanetOperations']} isActive={isActive} linkId={linkId}\n              deleteDisclosure={deleteDisclosure}\n              finderDisclosure={finderDisclosure}\n              readmeDisclosure={readmeDisclosure}\n            />\n          </go.Provider>\n          <c.Button\n            variant={go.value === 'current' ? 'planetActive' : 'planet'}\n            position='absolute' left='-1.5em' top='-1.5em'\n            onClick={() => go.do('current')}\n          ></c.Button>\n        </>}\n      </c.Box>\n    </go.On>;\n  };\n}",
        "link_id": 901
      }
    },
    {
      "id": 1357,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 444,
        "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { GiBrain } = require(\"react-icons/gi\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Tree = deep.idLocal(dpl, 'Tree');\n    return ({ go, handlerId, isActive, }, ref) => {\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.go.do('right', { ...o, id: Tree }),\n                click: (g, v, o) => go.do('exec', o),\n                right: (g, v, o) => go.do('exec', o),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(GiBrain, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM5QyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUV2QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQztnQkFDdEQsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztnQkFDbEMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQzthQUNuQztZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxHQUFHLEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFFNUIsb0JBQUMsT0FBTyxPQUFFLENBQ0QsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBHaUJyYWluIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvZ2lcIik7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgVHJlZSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgaGFuZGxlcklkLFxuXG4gICAgaXNBY3RpdmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6IChnLHYsbykgPT4gZ28uZ28uZG8oJ3JpZ2h0JywgeyAuLi5vLCBpZDogVHJlZSB9KSksXG4gICAgICBjbGljazogKGcsdixvKSA9PiBnby5kbygnZXhlYycsIG8pLFxuICAgICAgcmlnaHQ6IChnLHYsbykgPT4gZ28uZG8oJ2V4ZWMnLCBvKSxcbiAgICB9fT5cbiAgICAgIDxjLkJ1dHRvblxuICAgICAgICB3PSczZW0nIGg9JzNlbSdcbiAgICAgICAgdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICA+XG4gICAgICAgIDxHaUJyYWluLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1357
      }
    },
    {
      "id": 1358,
      "type_id": 3,
      "from_id": 903,
      "to_id": 1357,
      "value": {
        "id": 443,
        "value": "generated",
        "link_id": 1358
      }
    },
    {
      "id": 1359,
      "type_id": 143,
      "from_id": 1357,
      "to_id": 903
    },
    {
      "id": 1360,
      "type_id": 3,
      "from_id": 903,
      "to_id": 1359
    },
    {
      "id": 904,
      "type_id": 35,
      "from_id": 145,
      "to_id": 903
    },
    {
      "id": 905,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 445,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n  const { IoInfiniteSharp } = require(\"react-icons/io5\");\n  const { Planet } = require('react-planet');\n  const c = require('@chakra-ui/react');\n\n  const {\n    TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon,\n  } = require('@deep-foundation/perception-app');\n\n  const dpl = '@deep-foundation/perception-links';\n\n  const TreeList = deep.idLocal(dpl, 'TreeList');\n\n  const _Item = ({ link, isActive, Item, index, position }) => {\n    const go = Go.useGo();\n    const Component = link?.Component || Item;\n    return <Component link={link} go={go} isActive={isActive} position={position} index={index}/>;\n  }\n\n  return ({\n    go,\n\n    links: _links,\n\n    Component,\n    ErrorComponent,\n    UnhandledComponent,\n\n    Item,\n\n    saveHistory = false,\n\n    linkId,\n    link,\n    handlerId,\n    goHandler,\n\n    ...props\n  }, ref) => {\n    const links = React.useMemo(() => _links.filter(l => !!l?.id), [_links]);\n    const list = links.map((link, i) => !!link ? <go.Provider key={link.id} linkId={link.id}>\n      <_Item\n        link={link} isActive={go.value === link.id} Item={Item} saveHistory={saveHistory}\n        index={i} position={i / (links.length - 1)}\n      />\n    </go.Provider> : <React.Fragment/>);\n\n    const index = React.useMemo(() => links.findIndex(l => l?.id === go.value), [go.value]);\n    const position = React.useMemo(() => index / (links.length - 1), [index]);\n\n    return <go.On do={{\n      focus: (g,v,id,o) => !id && go.do('use', o),\n      exec: (g,v,o) => !!go.value && go.go.do('exec', { id: go.value, index, position }),\n      up: (g,v,o) => go.set().go.go.do('up', { ...o, id: go.value, index, position }),\n      down: (g,v,o) => go.set().go.go.do('down', { ...o, id: go.value, index, position }),\n      left: (g,v,o) => go.focus(go.prev(links)),\n      right: (g,v,o) => go.focus(go.next(links)),\n      use: (g,v,o) => {\n        let id = o?.id;\n        if (typeof(o?.position) === 'number') {\n          id = links?.[Math.round((links.length - 1) * o.position)]?.id;\n        console.log('XXXX', o, id, links, Math.round((links.length - 1) * o.position));\n        }\n        if (typeof(id) === 'number' || typeof(id) === 'string') id != go.value && go(id) && go.set(id).go(id)?.go?.do('use');\n      },\n    }} focus={{\n    }}>\n      <Planet\n        orbitRadius={70}\n        mass={1}\n        tension={500}\n        friction={19}\n        {...props}\n      >\n        {list}\n      </Planet>\n    </go.On>;\n  };\n}",
        "link_id": 905
      }
    },
    {
      "id": 920,
      "type_id": 827,
      "from_id": 919,
      "to_id": 912
    },
    {
      "id": 921,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 466,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const { VscJson } = require(\"react-icons/vsc\");\n  const c = require('@chakra-ui/react');\n  const _ = require('lodash');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  return ({\n    go,\n    handlerId,\n\n    isActive,\n  }, ref) => {\n    const View = React.useCallback(({ event }) => {\n      const value = JSON.stringify(event.plainLinks, null, 2);\n  \n      return <Go.Editor editable={false} value={value} fillSize/>;\n    }, []);\n\n    return <go.On do={{\n      exec: (g,v,o) => go.do('view', { id: go.linkId, Component: View })),\n    }}>\n      <c.Button\n        w='3em' h='3em'\n        variant={isActive ? 'active' : undefined}\n        ref={ref}\n        onClick={() => go.do('exec')}\n      >\n        <VscJson/>\n      </c.Button>\n    </go.On>;\n  };\n}",
        "link_id": 921
      }
    },
    {
      "id": 954,
      "type_id": 3,
      "from_id": 948,
      "to_id": 820,
      "value": {
        "id": 501,
        "value": "historySymbol",
        "link_id": 954
      }
    },
    {
      "id": 955,
      "type_id": 3,
      "from_id": 948,
      "to_id": 821,
      "value": {
        "id": 502,
        "value": "historyValue",
        "link_id": 955
      }
    },
    {
      "id": 956,
      "type_id": 3,
      "from_id": 948,
      "to_id": 826,
      "value": {
        "id": 503,
        "value": "viewHistoryHandler",
        "link_id": 956
      }
    },
    {
      "id": 957,
      "type_id": 3,
      "from_id": 948,
      "to_id": 825,
      "value": {
        "id": 504,
        "value": "HistoryHandler",
        "link_id": 957
      }
    },
    {
      "id": 958,
      "type_id": 3,
      "from_id": 948,
      "to_id": 819,
      "value": {
        "id": 505,
        "value": "History",
        "link_id": 958
      }
    },
    {
      "id": 959,
      "type_id": 3,
      "from_id": 948,
      "to_id": 858,
      "value": {
        "id": 506,
        "value": "compatableLayerTree",
        "link_id": 959
      }
    },
    {
      "id": 960,
      "type_id": 3,
      "from_id": 948,
      "to_id": 834,
      "value": {
        "id": 507,
        "value": "Tree",
        "link_id": 960
      }
    },
    {
      "id": 961,
      "type_id": 3,
      "from_id": 948,
      "to_id": 833,
      "value": {
        "id": 508,
        "value": "TreeComponent",
        "link_id": 961
      }
    },
    {
      "id": 962,
      "type_id": 3,
      "from_id": 948,
      "to_id": 943,
      "value": {
        "id": 509,
        "value": "packageViewCompatableTreeLink",
        "link_id": 962
      }
    },
    {
      "id": 963,
      "type_id": 3,
      "from_id": 948,
      "to_id": 836,
      "value": {
        "id": 510,
        "value": "TreeLink",
        "link_id": 963
      }
    },
    {
      "id": 1015,
      "type_id": 3,
      "from_id": 948,
      "to_id": 874,
      "value": {
        "id": 562,
        "value": "Search",
        "link_id": 1015
      }
    },
    {
      "id": 1016,
      "type_id": 3,
      "from_id": 948,
      "to_id": 873,
      "value": {
        "id": 563,
        "value": "SearchComponent",
        "link_id": 1016
      }
    },
    {
      "id": 1017,
      "type_id": 3,
      "from_id": 948,
      "to_id": 876,
      "value": {
        "id": 564,
        "value": "TreeList",
        "link_id": 1017
      }
    },
    {
      "id": 1018,
      "type_id": 3,
      "from_id": 948,
      "to_id": 875,
      "value": {
        "id": 565,
        "value": "TreeListComponent",
        "link_id": 1018
      }
    },
    {
      "id": 1019,
      "type_id": 3,
      "from_id": 948,
      "to_id": 878,
      "value": {
        "id": 566,
        "value": "TreeEditor",
        "link_id": 1019
      }
    },
    {
      "id": 1020,
      "type_id": 3,
      "from_id": 948,
      "to_id": 877,
      "value": {
        "id": 567,
        "value": "TreeEditorComponent",
        "link_id": 1020
      }
    },
    {
      "id": 1021,
      "type_id": 3,
      "from_id": 948,
      "to_id": 880,
      "value": {
        "id": 568,
        "value": "MenuSandbox",
        "link_id": 1021
      }
    },
    {
      "id": 1022,
      "type_id": 3,
      "from_id": 948,
      "to_id": 879,
      "value": {
        "id": 569,
        "value": "MenuSandboxComponent",
        "link_id": 1022
      }
    },
    {
      "id": 1023,
      "type_id": 3,
      "from_id": 948,
      "to_id": 883,
      "value": {
        "id": 570,
        "value": "Sandbox",
        "link_id": 1023
      }
    },
    {
      "id": 1024,
      "type_id": 3,
      "from_id": 948,
      "to_id": 882,
      "value": {
        "id": 571,
        "value": "SandboxComponent",
        "link_id": 1024
      }
    },
    {
      "id": 1025,
      "type_id": 3,
      "from_id": 948,
      "to_id": 885,
      "value": {
        "id": 572,
        "value": "MenuGraphqlComponent",
        "link_id": 1025
      }
    },
    {
      "id": 1026,
      "type_id": 3,
      "from_id": 948,
      "to_id": 886,
      "value": {
        "id": 573,
        "value": "GraphqlComponent",
        "link_id": 1026
      }
    },
    {
      "id": 1027,
      "type_id": 3,
      "from_id": 948,
      "to_id": 888,
      "value": {
        "id": 574,
        "value": "Stack",
        "link_id": 1027
      }
    },
    {
      "id": 1028,
      "type_id": 3,
      "from_id": 948,
      "to_id": 887,
      "value": {
        "id": 575,
        "value": "StackComponent",
        "link_id": 1028
      }
    },
    {
      "id": 1029,
      "type_id": 3,
      "from_id": 948,
      "to_id": 890,
      "value": {
        "id": 576,
        "value": "FinderButton",
        "link_id": 1029
      }
    },
    {
      "id": 1030,
      "type_id": 3,
      "from_id": 948,
      "to_id": 889,
      "value": {
        "id": 577,
        "value": "FinderButtonComponent",
        "link_id": 1030
      }
    },
    {
      "id": 1031,
      "type_id": 3,
      "from_id": 948,
      "to_id": 822,
      "value": {
        "id": 578,
        "value": "FinderQuery",
        "link_id": 1031
      }
    },
    {
      "id": 1032,
      "type_id": 3,
      "from_id": 948,
      "to_id": 892,
      "value": {
        "id": 579,
        "value": "LinkInsertModal",
        "link_id": 1032
      }
    },
    {
      "id": 1064,
      "type_id": 3,
      "from_id": 948,
      "to_id": 928,
      "value": {
        "id": 611,
        "value": "Query",
        "link_id": 1064
      }
    },
    {
      "id": 1579,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1546,
      "value": {
        "id": 639,
        "value": "code",
        "link_id": 1579
      }
    },
    {
      "id": 1598,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1568,
      "value": {
        "id": 658,
        "value": "ruleActionSelectorInclude",
        "link_id": 1598
      }
    },
    {
      "id": 273,
      "type_id": 3,
      "from_id": 184,
      "to_id": 89,
      "value": {
        "id": 95,
        "value": "packagePublishCode",
        "link_id": 273
      }
    },
    {
      "id": 274,
      "type_id": 3,
      "from_id": 184,
      "to_id": 90,
      "value": {
        "id": 96,
        "value": "packagePublishCodeHandler",
        "link_id": 274
      }
    },
    {
      "id": 278,
      "type_id": 3,
      "from_id": 184,
      "to_id": 94,
      "value": {
        "id": 100,
        "value": "AllowPackagePublish",
        "link_id": 278
      }
    },
    {
      "id": 324,
      "type_id": 3,
      "from_id": 184,
      "to_id": 140,
      "value": {
        "id": 146,
        "value": "JSminiExecutionProvider",
        "link_id": 324
      }
    },
    {
      "id": 325,
      "type_id": 3,
      "from_id": 184,
      "to_id": 141,
      "value": {
        "id": 147,
        "value": "plv8SupportsJs",
        "link_id": 325
      }
    },
    {
      "id": 326,
      "type_id": 3,
      "from_id": 184,
      "to_id": 142,
      "value": {
        "id": 148,
        "value": "Authorization",
        "link_id": 326
      }
    },
    {
      "id": 327,
      "type_id": 3,
      "from_id": 184,
      "to_id": 143,
      "value": {
        "id": 149,
        "value": "GeneratedFrom",
        "link_id": 327
      }
    },
    {
      "id": 594,
      "type_id": 3,
      "from_id": 559,
      "to_id": 593,
      "value": {
        "id": 238,
        "value": "ScheduleSymbol",
        "link_id": 594
      }
    },
    {
      "id": 777,
      "type_id": 3,
      "from_id": 762,
      "to_id": 753,
      "value": {
        "id": 339,
        "value": "installCodeHandler",
        "link_id": 777
      }
    },
    {
      "id": 834,
      "type_id": 35,
      "from_id": 145,
      "to_id": 833
    },
    {
      "id": 835,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 358,
        "value": "({ deep, data, require, Go }) => {\n  const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n  const React = require('react');\n\n  const {\n    TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon,\n  } = require('@deep-foundation/perception-app');\n\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const _dpl = deep.idLocal(dpl);\n  const dtsx = '@deep-foundation/tsx';\n  const dc = '@deep-foundation/core';\n  const dr = '@deep-foundation/readme';\n\n  const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n  const TSX = deep.idLocal(dtsx, 'TSX');\n  const Handler = deep.idLocal(dc, 'Handler');\n  const Compatable = deep.idLocal(dpl, 'Compatable');\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const Selector = deep.idLocal(dc, 'Selector');\n  const Promise = deep.idLocal(dc, 'Promise');\n  const Rejected = deep.idLocal(dc, 'Rejected');\n  const promiseTree = deep.idLocal(dc, 'promiseTree');\n  const Value = deep.idLocal(dc, 'Value');\n  const String = deep.idLocal(dc, 'String');\n  const Number = deep.idLocal(dc, 'Number');\n  const Object = deep.idLocal(dc, 'Object');\n  const File = deep.idLocal(dc, 'File');\n  const User = deep.idLocal(dc, 'User');\n  const Package = deep.idLocal(dc, 'Package');\n  const Query = deep.idLocal(dc, 'Query');\n  const Contain = deep.idLocal(dc, 'Contain');\n  const History = deep.idLocal(dpl, 'History');\n  const Header = deep.idLocal(dpl, 'Header');\n  const TreeLink = deep.idLocal(dpl, 'TreeLink');\n  const TreeList = deep.idLocal(dpl, 'TreeList');\n  const TreeEditor = deep.idLocal(dpl, 'TreeEditor');\n  const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n  const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n  const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n  const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n\n  const Item = React.memo(({ link, ...props }) => {\n    const go = Go.useGo();\n    return <>\n      <go.Handler linkId={link.id} handlerId={TreeLinkButton} relations={false} {...props}/>\n    </>;\n  });\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n\n    fullWidth,\n    operations,\n    isConcentrated,\n  }, ref) => {\n    const valueType = React.useMemo(() => go.link?.type?.outByType[Value]?.[0]?.to_id, [go]);\n    \n    const fromDisclosure = c.useDisclosure();\n    const toDisclosure = c.useDisclosure();\n    const handlerDisclosure = c.useDisclosure();\n\n    const queries = React.useMemo(() => ({\n      'parents': ({ out: { type_id: Contain, to_id: go.linkId }, order_by: { id: 'desc' } }),\n      'contains': ({ in: { type_id: Contain, from_id: go.linkId }, order_by: { id: 'desc' } }),\n      'out': ({ from_id: go.linkId, order_by: { id: 'desc' } }),\n      'typed': ({ type_id: go.linkId, order_by: { id: 'desc' } }),\n      'in': ({ to_id: go.linkId, order_by: { id: 'desc' } }),\n      'selectors': ({ type_id: Selector, selected: { item_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n      'selected': ({ selected: { selector_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n      'promises': ({ type_id: Promise, up: { tree_id: { _eq: promiseTree }, parent_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n      'rejects': ({ type_id: Rejected, up: { tree_id: { _eq: promiseTree }, parent_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n    }), []);\n\n    const [query, setQuery] = React.useState(null);\n    const q = { ...(query || {}), return: {\n      contain: { relation: 'in', type_id: Contain, limit: 1, from: { type_id: { _in: [User, Package] } } },\n      tos: { relation: 'to' },\n      froms: { relation: 'from' },\n    } };\n    const { data: links } = deep.useQuery(q, { skip: !query });\n    // const [links, setLinks] = React.useState([]);\n    React.useEffect(() => {\n      !!query && setHandlers(false);\n    }, [query]);\n\n    const { data: compatables, refetch } = deep.useQuery(go?.link?.type_id ? {\n      type_id: Handler,\n      from_id: clientSupportsJs,\n      _and: [\n        { out: {\n          type_id: Compatable,\n          to_id: handlerId,\n        } },\n        { out: {\n          type_id: Compatable,\n          to_id: { _in: [link.id, link.type_id] },\n        } },\n      ],\n    } : {}, { skip: !go?.link?.type_id });\n\n    const valueButton = !valueType ? <>\n      <c.Button\n        flex='1'\n        variant={go.value === 'value' ? 'active' : undefined} bg={go.value === TreeEditor ? 'deepBgDark' : null} justifyContent='center'\n        disabled\n      >\n        type can't have Value\n      </c.Button>\n    </> : valueType === String ? <>\n      <c.Button\n        flex='1'\n        variant={go.value === 'value' ? 'active' : undefined} bg={go.value === TreeEditor ? 'deepBgDark' : null} justifyContent='center'\n        onClick={() => go.focus('value').go.do('value')}\n      >\n        <c.Text pr={1}>\"\".length === {go.link?.value?.value?.length || 0}</c.Text> string\n      </c.Button>\n    </> : valueType === Number ? <>\n      <c.Button\n        flex='1'\n        variant={go.value === 'value' ? 'active' : undefined} bg={go.value === TreeEditor ? 'deepBgDark' : null} justifyContent='center'\n        onClick={() => go.focus('value').go.do('value')}\n      >\n        <c.Text pr={1}>{+go.link?.value?.value}</c.Text> number\n      </c.Button>\n    </> : valueType === Object ? <>\n      <c.Button\n        flex='1'\n        variant={go.value === 'value' ? 'active' : undefined} bg={go.value === TreeEditor ? 'deepBgDark' : null} justifyContent='center'\n        onClick={() => go.focus('value').go.do('value')}\n      >\n        <c.Text pr={1}>{`{...}`}</c.Text> object\n      </c.Button>\n    </> : undefined;\n\n    const [handlers, setHandlers] = React.useState(true);\n\n    const column = <c.VStack\n      position='relative' minW={fullWidth || '30em'} maxW={fullWidth || '30em'} h='100%' spacing={1}\n      bg={isActive ? 'deepBgDark' : null}\n    >\n      <c.Flex w='100%'>\n        <go.Handler\n          handlerId={TreeLinkButton} linkId={go.linkId} flex='1'\n          onClick={() => go.focus('current').go.do('exec')}\n          needParent={false} isActive={go.value === 'current'}\n          editableSymbol\n        />\n        <c.Button\n          minW='3e,' w='3em' h='100%' minH='3em' p='0'\n          onClick={() => go.focus('close').go.do('close')}\n          variant={go.value === 'close' ? 'active' : null}\n        >x</c.Button>\n      </c.Flex>\n      <c.SimpleGrid spacing={1} w='100%' columns={2 + (operations ? 2 : 0)}>\n        <c.Button\n          variant={go.value === 'parents' ? 'active' : null}\n          justifyContent='center'\n          onClick={() => go.focus('parents').go.do('parents')}\n        >\n          <c.Text pr={1}>🗂️</c.Text> parents\n        </c.Button>\n        <c.Button\n          variant={go.value === 'contains' ? 'active' : null}\n          justifyContent='center'\n          onClick={() => go.focus('contains').go.do('contains')}\n        >\n          <c.Text pr={1}>🗂️</c.Text> contains\n        </c.Button>\n        {operations && <>\n          <go.Provider linkId={TreeLinkInsert}>\n            <go.Handler\n              isActive={go.value === 'insert' ? go.ref : null}\n              handlerId={TreeLinkInsert}\n              defaultContainerId={go.linkId} defaultTypeId={1}\n            />\n          </go.Provider>\n          <go.Provider linkId={TreeLinkDelete}>\n            <go.Handler\n              isActive={go.value === 'delete' ? go.ref : null}\n              handlerId={TreeLinkDelete}\n              linkId={go.linkId}\n            />\n          </go.Provider>\n        </>}\n      </c.SimpleGrid>\n      {(go?.link?.type_id === 1 || !!go?.link?.from_id) && <go.Component path={[dpl, 'Finder']}\n        disclosure={fromDisclosure} initialId={go?.link?.from_id || go?.link?.id} initialHandlerId={TreeList}\n        onSubmit={(id) => {\n          deep.update(go.linkId, { from_id: id });\n          fromDisclosure.onClose();\n        }}\n      />}\n      {(go?.link?.type_id === 1 || !!go?.link?.to_id) && <go.Component path={[dpl, 'Finder']}\n        disclosure={toDisclosure} initialId={go?.link?.to_id || go?.link?.id} initialHandlerId={TreeList}\n        onSubmit={(id) => {\n          deep.update(go.linkId, { to_id: id });\n          toDisclosure.onClose();\n        }}\n      />}\n      {[<go.Query key={`${fromDisclosure.isOpen}${toDisclosure.isOpen}`} query={{ id: go.linkId }}/>]}\n      <c.SimpleGrid spacing={1} w='100%' columns={3}>\n        <c.Flex>\n          <c.Button\n            variant={go.value === 'edit-from' ? 'active' : undefined}\n            justifyContent='right' textAlign='right' h='3em' disabled={!go.link?.from_id}\n            onClick={() => go.focus('edit-from').go.do('edit-from')}\n          ><c.Box>\n              <MdEdit />\n            </c.Box></c.Button>\n          <c.Button\n            variant={go.value === 'from' ? 'active' : undefined}\n            justifyContent='right' textAlign='right'\n            flex='1' h='3em'\n            onClick={() => go.focus('from').go.do('from')}\n            rightIcon={<FromIcon />}\n            overflow='hidden'\n          ><c.Box>\n              <c.Text>from</c.Text>\n              <c.Box><c.Text fontSize='xs'>{go.link?.from?.symbol} {!!go.link?.from && go?.link?.from.name} {go.link?.from_id}</c.Text></c.Box>\n            </c.Box></c.Button>\n        </c.Flex>\n        <c.Button\n          variant={go.value === 'type' ? 'active' : undefined}\n          disabled={!go.link?.type_id} leftIcon={<TypeIcon />}\n          onClick={() => go.focus('type').go.do('type')}\n          h='3em' overflow='hidden'\n        ><c.Box>\n            <c.Text>type</c.Text>\n            <c.Box><c.Text fontSize='xs'>{go.link?.type?.symbol} {!!go.link?.type && go?.link?.type.name} {go.link?.type_id}</c.Text></c.Box>\n          </c.Box></c.Button>\n        <c.Flex>\n          <c.Button\n            variant={go.value === 'to' ? 'active' : undefined}\n            justifyContent='left' textAlign='left' flex='1' h='3em' rightIcon={<ToIcon />}\n            onClick={() => go.focus('to').go.do('to')}\n            overflow='hidden'\n          ><c.Box>\n              <c.Text>to</c.Text>\n              <c.Box><c.Text fontSize='xs'>{go.link?.to?.symbol} {!!go.link?.to && go?.link?.to.name} {go.link?.to_id}</c.Text></c.Box>\n            </c.Box></c.Button>\n          <c.Button\n            variant={go.value === 'edit-to' ? 'active' : undefined}\n            justifyContent='right' textAlign='right' h='3em' disabled={!go.link?.to_id}\n            onClick={() => go.focus('edit-to').go.do('edit-to')}\n          ><c.Box>\n              <MdEdit />\n            </c.Box></c.Button>\n        </c.Flex>\n      </c.SimpleGrid>\n      <c.SimpleGrid spacing={1} w='100%' columns={5}>\n        <c.Button\n          variant={go.value === 'up-tree' ? 'active' : undefined} justifyContent='center'\n          onClick={() => go.focus('up-tree').go.do('up-tree')}\n          leftIcon={<UpIcon />}\n        >\n          <c.Text>up</c.Text>\n        </c.Button>\n        <c.Button\n          variant={go.value === 'out' ? 'active' : undefined} justifyContent='left' textAlign='left'\n          onClick={() => go.focus('out').go.do('out')}\n          leftIcon={<OutIcon />}\n        >\n          <c.Text>out</c.Text>\n        </c.Button>\n        {/* <IconButton aria-label='typed' icon={<TypedIcon />} /> */}\n        <c.Button\n          variant={go.value === 'typed' ? 'active' : undefined}\n          onClick={() => go.focus('typed').go.do('typed')}\n          leftIcon={<TypedIcon />}\n        >\n          <c.Text>typed</c.Text>\n        </c.Button>\n        <c.Button\n          variant={go.value === 'in' ? 'active' : undefined} justifyContent='right' textAlign='right'\n          onClick={() => go.focus('in').go.do('in')}\n          rightIcon={<InIcon />}\n        >\n          <c.Text>in</c.Text>\n        </c.Button>\n        <c.Button\n          variant={go.value === 'down-tree' ? 'active' : undefined} justifyContent='center'\n          onClick={() => go.focus('down-tree').go.do('down-tree')}\n          leftIcon={<DownIcon />}\n        >\n          <c.Text>down</c.Text>\n        </c.Button>\n      </c.SimpleGrid>\n      <c.SimpleGrid spacing={1} w='100%' columns={4}>\n        <c.Button\n          variant={go.value === 'selectors' ? 'active' : undefined} justifyContent='center'\n          onClick={() => go.focus('selectors').go.do('selectors')}\n        >\n          <c.Text pr={1}>🪡</c.Text> selectors\n        </c.Button>\n        <c.Button\n          variant={go.value === 'selected' ? 'active' : undefined} justifyContent='center'\n          onClick={() => go.focus('selected').go.do('selected')}\n        >\n          <c.Text pr={1}>🪡</c.Text> selected\n        </c.Button>\n        <c.Button\n          variant={go.value === 'promises' ? 'active' : undefined} justifyContent='center'\n          onClick={() => go.focus('promises').go.do('promises')}\n        >\n          <c.Text pr={1}>🤞</c.Text> promises\n        </c.Button>\n        <c.Button\n          variant={go.value === 'rejects' ? 'active' : undefined} justifyContent='center'\n          onClick={() => go.focus('rejects').go.do('rejects')}\n        >\n          <c.Text pr={1}>🔴</c.Text> rejects\n        </c.Button>\n      </c.SimpleGrid>\n      <c.Flex w='100%' spacing={1}>\n        {valueButton}\n        <c.Button\n          variant={handlers && compatables?.length ? 'deepDark' : go.value === 'handlers' ? 'active' : undefined} justifyContent='center'\n          onClick={() => go.focus('handlers').go.do('handlers')}\n          position='relative'\n        >\n          👁️\n          {!compatables?.length && <c.Box\n            position='absolute' right='0.5em' top='0.1em' color={go.value === 'handlers' ? 'deepColorActive' : 'deepColor'}\n          >+</c.Box>}\n        </c.Button>\n      </c.Flex>\n      <go.Component path={[dpl, 'LinkInsertModal']} disclosure={handlerDisclosure}\n        onInsert={(inserted) => {\n          refetch();\n        }}\n        {...({ customInsert: ({ name } = { name: '' }) => ({\n          containerId: _dpl,\n          type_id: Handler,\n          from_id: clientSupportsJs,\n          to: {\n            type_id: TSX,\n            string: go.componentTemplate({ children: `<>Handler of ${go.link}</>` }),\n            name: `${name}Component`,\n          },\n          out: [\n            {\n              type_id: Compatable,\n              to_id: go.linkId,\n              name: `${name}Compatable${go.link.name}`,\n            },\n            {\n              type_id: Compatable,\n              to_id: TreeLink,\n              name: `${name}CompatableTreeLink`,\n            },\n          ],\n        }) })}\n      />\n      {!links.length && (!!handlers && compatables?.length ? (compatables.map(compatable => (<>\n        <c.Box minW={fullWidth || '30em'} maxW={fullWidth || '30em'} flex='1' position='relative'>\n          <go.Provider linkId={compatable?.id}>\n            <go.Handler handlerId={compatable?.id} linkId={go.linkId} link={go.link} fillSize autoFocus />\n          </go.Provider>\n        </c.Box>\n      </>))) : go.value === TreeEditor && !links?.length ? (\n        <c.Box minW={fullWidth || '30em'} maxW={fullWidth || '30em'} flex='1' position='relative'>\n          <go.Handler handlerId={TreeEditor} linkId={go.linkId} fillSize autoFocus />\n        </c.Box>\n      ) : null)}\n      {!!links?.length && <go.Provider linkId={Stack}>\n        <go.Component path={[dpl, 'Stack']} links={links} Item={Item} direction='vertical' flex='1' />\n      </go.Provider>}\n    </c.VStack>;\n\n    const nav = go.useNav();\n    nav('current', 'left', 'up', 'close', 'contains');\n    \n    if (isConcentrated !== false) {\n      nav('close', 'current', 'up', 'right', 'contains');\n  \n      nav('parents', 'left', 'current', 'contains', 'type');\n      nav('contains', 'parents', 'current', 'insert', 'type');\n      nav('insert', 'contains', 'current', 'delete', 'type');\n      nav('delete', 'insert', 'close', 'right', 'type');\n  \n      nav('edit-from', 'left', 'contains', 'from', 'up-tree');\n      nav('from', 'edit-from', 'contains', 'to', 'out');\n      nav('type', 'from', 'contains', 'to', 'typed');\n      nav('to', 'type', 'contains', 'edit-to', 'in');\n      nav('edit-to', 'to', 'contains', 'right', 'down-tree');\n  \n      nav('up-tree', 'left', 'edit-from', 'out', 'selectors');\n      nav('out', 'up-tree', 'from', 'typed', 'selected');\n      nav('typed', 'out', 'type', 'in', 'promises');\n      nav('in', 'typed', 'to', 'down-tree', 'promises');\n      nav('down-tree', 'in', 'edit-to', 'right', 'rejects');\n  \n      nav('selectors', 'left', 'up-tree', 'selected', 'value');\n      nav('selected', 'selectors', 'out', 'promises', 'value');\n      nav('promises', 'selected', 'in', 'rejects', 'value');\n      nav('rejects', 'promises', 'down-tree', 'right', 'value');\n  \n      nav('value', 'left', 'promises', 'handlers', Stack);\n      nav('handlers', 'value', 'promises', 'right', Stack);\n  \n      nav(Stack, 'left', 'value', 'right', 'down');\n    }\n\n    const openLink = async (id) => {\n      !!id && go.go.do('open', { handlerId: TreeLink, id: id, prevId: go.linkId })\n      await go.go.await(id);\n      go.go.focus(id);\n    };\n\n    const deconcentrated = <c.Button\n      h='100%' w='3em' pt='1em' variant={isActive ? 'active' : undefined}\n      alignItems='flex-start'\n    >\n      {go?.link?.symbol}\n    </c.Button>\n\n    const content = isConcentrated === false ? deconcentrated : column;\n\n    return <go.On\n      do={{\n        focus: (g, v, linkId, o) => !go.value && ((go?.link?.type_id === Package || !go?.link?.value?.value) && go.do('contains')),\n        use: (g, v, o) => o?.id && go.value === Stack ? (go(Stack).do('use', o)) : (go.set('current')),\n        close: (g, v, o) => go.go.do('close', { id: go.linkId }),\n        exec: (g, v, o) => o?.id ? go.go.do('open', { id: o.id, prevId: go.linkId, focus: true }) : go.value && go.do(go.value, o),\n\n        left: (g, v, o) => go.focus(nav.get(go.value || 'current', 'left'), { prev: go.value }),\n        up: (g, v, o) => go.focus(nav.get(go.value || 'current', 'up'), { prev: go.value }),\n        right: (g, v, o) => go.focus(nav.get(go.value || 'current', 'right'), { prev: go.value }),\n        down: (g, v, o) => go.focus(nav.get(go.value || 'current', 'down'), { prev: go.value }),\n\n        'current': () => { },\n        'parents': () => go.do('query', { query: { ...queries.parents, limit: 100 } }),\n        'contains': () => go.do('query', { query: { ...queries.contains, limit: 100 } }),\n\n        'edit-from': () => fromDisclosure.onOpen(),\n        'from': () => openLink(go?.link?.from_id),\n        'type': () => openLink(go?.link?.type_id),\n        'to': () => openLink(go?.link?.to_id),\n        'edit-to': () => toDisclosure.onOpen(),\n\n        'up-tree': () => { },\n        'out': () => go.do('query', { query: { ...queries.out, limit: 100 } }),\n        'typed': () => go.do('query', { query: { ...queries.typed, limit: 100 } }),\n        'in': () => go.do('query', { query: { ...queries.in, limit: 100 } }),\n        'down-tree': () => { },\n\n        'selectors': () => go.do('query', { query: { ...queries.selectors, limit: 100 } }),\n        'selected': () => go.do('query', { query: { ...queries.selected, limit: 100 } }),\n        'promises': () => go.do('query', { query: { ...queries.promises, limit: 100 } }),\n        'rejects': () => go.do('query', { query: { ...queries.rejects, limit: 100 } }),\n\n        'value': () => {\n          go.do('query', { query: null });\n          go.focus(go.value === TreeEditor ? 'value' : TreeEditor);\n        },\n\n        'handlers': () => {\n          go.do('query', { query: null });\n          if (!compatables?.length) {\n            handlerDisclosure.onOpen();\n          } else setHandlers(h => !h);\n        },\n\n        'query': (g,v,o) => {\n          if (o.hasOwnProperty('query')) setQuery(o.query);\n        },\n\n        [Stack]: (g, v, o) => openLink(o?.id),\n      }}\n      focus={{\n        up: (q, v, o) => go.set().go?.go?.do('up'),\n        down: (q, v, o) => go.set().go?.go?.do('down'),\n        left: (q, v, o) => go.set(o?.left).go?.go?.do('left'),\n        right: (q, v, o) => go.set(o?.right).go?.go?.do('right'),\n      }}\n    >\n      <c.HStack ref={ref} h='100%' overflow='hidden'>\n        <deep.Files containerId={go.linkId} noClick onInsert={(id, files) => console.log(id, files)} Component={c.Box} Props={{ h: '100%', w: '100%' }}>\n          {content}\n          {children}\n        </deep.Files>\n      </c.HStack>\n      {/* {!!query && <go.Query query={query} onChange={({ data }) => setLinks(data)} />} */}\n    </go.On>\n  };\n}\n",
        "link_id": 835
      }
    },
    {
      "id": 1105,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 360,
        "value": "({ deep, data, require, Go }) => {\n    const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n    const React = require('react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const _dpl = deep.idLocal(dpl);\n    const dtsx = '@deep-foundation/tsx';\n    const dc = '@deep-foundation/core';\n    const dr = '@deep-foundation/readme';\n    const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n    const TSX = deep.idLocal(dtsx, 'TSX');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const Selector = deep.idLocal(dc, 'Selector');\n    const Promise = deep.idLocal(dc, 'Promise');\n    const Rejected = deep.idLocal(dc, 'Rejected');\n    const promiseTree = deep.idLocal(dc, 'promiseTree');\n    const Value = deep.idLocal(dc, 'Value');\n    const String = deep.idLocal(dc, 'String');\n    const Number = deep.idLocal(dc, 'Number');\n    const Object = deep.idLocal(dc, 'Object');\n    const File = deep.idLocal(dc, 'File');\n    const User = deep.idLocal(dc, 'User');\n    const Package = deep.idLocal(dc, 'Package');\n    const Query = deep.idLocal(dc, 'Query');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const History = deep.idLocal(dpl, 'History');\n    const Header = deep.idLocal(dpl, 'Header');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const TreeEditor = deep.idLocal(dpl, 'TreeEditor');\n    const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n    const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n    const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const Item = React.memo(({ link, ...props }) => {\n        const go = Go.useGo();\n        return React.createElement(React.Fragment, null,\n            React.createElement(go.Handler, { linkId: link.id, handlerId: TreeLinkButton, relations: false, ...props }));\n    });\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, fullWidth, operations, isConcentrated, }, ref) => {\n        const valueType = React.useMemo(() => go.link?.type?.outByType[Value]?.[0]?.to_id, [go]);\n        const fromDisclosure = c.useDisclosure();\n        const toDisclosure = c.useDisclosure();\n        const handlerDisclosure = c.useDisclosure();\n        const queries = React.useMemo(() => ({\n            'parents': ({ out: { type_id: Contain, to_id: go.linkId }, order_by: { id: 'desc' } }),\n            'contains': ({ in: { type_id: Contain, from_id: go.linkId }, order_by: { id: 'desc' } }),\n            'out': ({ from_id: go.linkId, order_by: { id: 'desc' } }),\n            'typed': ({ type_id: go.linkId, order_by: { id: 'desc' } }),\n            'in': ({ to_id: go.linkId, order_by: { id: 'desc' } }),\n            'selectors': ({ type_id: Selector, selected: { item_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n            'selected': ({ selected: { selector_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n            'promises': ({ type_id: Promise, up: { tree_id: { _eq: promiseTree }, parent_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n            'rejects': ({ type_id: Rejected, up: { tree_id: { _eq: promiseTree }, parent_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n        }), []);\n        const [query, setQuery] = React.useState(null);\n        const q = { ...(query || {}), return: {\n                contain: { relation: 'in', type_id: Contain, limit: 1, from: { type_id: { _in: [User, Package] } } },\n                tos: { relation: 'to' },\n                froms: { relation: 'from' },\n            } };\n        const { data: links } = deep.useQuery(q, { skip: !query });\n        React.useEffect(() => {\n            !!query && setHandlers(false);\n        }, [query]);\n        const { data: compatables, refetch } = deep.useQuery(go?.link?.type_id ? {\n            type_id: Handler,\n            from_id: clientSupportsJs,\n            _and: [\n                { out: {\n                        type_id: Compatable,\n                        to_id: handlerId,\n                    } },\n                { out: {\n                        type_id: Compatable,\n                        to_id: { _in: [link.id, link.type_id] },\n                    } },\n            ],\n        } : {}, { skip: !go?.link?.type_id });\n        const valueButton = !valueType ? React.createElement(React.Fragment, null,\n            React.createElement(c.Button, { flex: '1', variant: go.value === 'value' ? 'active' : undefined, bg: go.value === TreeEditor ? 'deepBgDark' : null, justifyContent: 'center', disabled: true }, \"type can't have Value\")) : valueType === String ? React.createElement(React.Fragment, null,\n            React.createElement(c.Button, { flex: '1', variant: go.value === 'value' ? 'active' : undefined, bg: go.value === TreeEditor ? 'deepBgDark' : null, justifyContent: 'center', onClick: () => go.focus('value').go.do('value') },\n                React.createElement(c.Text, { pr: 1 },\n                    \"\\\"\\\".length === \",\n                    go.link?.value?.value?.length || 0),\n                \" string\")) : valueType === Number ? React.createElement(React.Fragment, null,\n            React.createElement(c.Button, { flex: '1', variant: go.value === 'value' ? 'active' : undefined, bg: go.value === TreeEditor ? 'deepBgDark' : null, justifyContent: 'center', onClick: () => go.focus('value').go.do('value') },\n                React.createElement(c.Text, { pr: 1 }, +go.link?.value?.value),\n                \" number\")) : valueType === Object ? React.createElement(React.Fragment, null,\n            React.createElement(c.Button, { flex: '1', variant: go.value === 'value' ? 'active' : undefined, bg: go.value === TreeEditor ? 'deepBgDark' : null, justifyContent: 'center', onClick: () => go.focus('value').go.do('value') },\n                React.createElement(c.Text, { pr: 1 }, `{...}`),\n                \" object\")) : undefined;\n        const [handlers, setHandlers] = React.useState(true);\n        const column = React.createElement(c.VStack, { position: 'relative', minW: fullWidth || '30em', maxW: fullWidth || '30em', h: '100%', spacing: 1, bg: isActive ? 'deepBgDark' : null },\n            React.createElement(c.Flex, { w: '100%' },\n                React.createElement(go.Handler, { handlerId: TreeLinkButton, linkId: go.linkId, flex: '1', onClick: () => go.focus('current').go.do('exec'), needParent: false, isActive: go.value === 'current', editableSymbol: true }),\n                React.createElement(c.Button, { minW: '3e,', w: '3em', h: '100%', minH: '3em', p: '0', onClick: () => go.focus('close').go.do('close'), variant: go.value === 'close' ? 'active' : null }, \"x\")),\n            React.createElement(c.SimpleGrid, { spacing: 1, w: '100%', columns: 2 + (operations ? 2 : 0) },\n                React.createElement(c.Button, { variant: go.value === 'parents' ? 'active' : null, justifyContent: 'center', onClick: () => go.focus('parents').go.do('parents') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83D\\uDDC2\\uFE0F\"),\n                    \" parents\"),\n                React.createElement(c.Button, { variant: go.value === 'contains' ? 'active' : null, justifyContent: 'center', onClick: () => go.focus('contains').go.do('contains') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83D\\uDDC2\\uFE0F\"),\n                    \" contains\"),\n                operations && React.createElement(React.Fragment, null,\n                    React.createElement(go.Provider, { linkId: TreeLinkInsert },\n                        React.createElement(go.Handler, { isActive: go.value === 'insert' ? go.ref : null, handlerId: TreeLinkInsert, defaultContainerId: go.linkId, defaultTypeId: 1 })),\n                    React.createElement(go.Provider, { linkId: TreeLinkDelete },\n                        React.createElement(go.Handler, { isActive: go.value === 'delete' ? go.ref : null, handlerId: TreeLinkDelete, linkId: go.linkId })))),\n            (go?.link?.type_id === 1 || !!go?.link?.from_id) && React.createElement(go.Component, { path: [dpl, 'Finder'], disclosure: fromDisclosure, initialId: go?.link?.from_id || go?.link?.id, initialHandlerId: TreeList, onSubmit: (id) => {\n                    deep.update(go.linkId, { from_id: id });\n                    fromDisclosure.onClose();\n                } }),\n            (go?.link?.type_id === 1 || !!go?.link?.to_id) && React.createElement(go.Component, { path: [dpl, 'Finder'], disclosure: toDisclosure, initialId: go?.link?.to_id || go?.link?.id, initialHandlerId: TreeList, onSubmit: (id) => {\n                    deep.update(go.linkId, { to_id: id });\n                    toDisclosure.onClose();\n                } }),\n            [React.createElement(go.Query, { key: `${fromDisclosure.isOpen}${toDisclosure.isOpen}`, query: { id: go.linkId } })],\n            React.createElement(c.SimpleGrid, { spacing: 1, w: '100%', columns: 3 },\n                React.createElement(c.Flex, null,\n                    React.createElement(c.Button, { variant: go.value === 'edit-from' ? 'active' : undefined, justifyContent: 'right', textAlign: 'right', h: '3em', disabled: !go.link?.from_id, onClick: () => go.focus('edit-from').go.do('edit-from') },\n                        React.createElement(c.Box, null,\n                            React.createElement(MdEdit, null))),\n                    React.createElement(c.Button, { variant: go.value === 'from' ? 'active' : undefined, justifyContent: 'right', textAlign: 'right', flex: '1', h: '3em', onClick: () => go.focus('from').go.do('from'), rightIcon: React.createElement(FromIcon, null), overflow: 'hidden' },\n                        React.createElement(c.Box, null,\n                            React.createElement(c.Text, null, \"from\"),\n                            React.createElement(c.Box, null,\n                                React.createElement(c.Text, { fontSize: 'xs' },\n                                    go.link?.from?.symbol,\n                                    \" \",\n                                    !!go.link?.from && go?.link?.from.name,\n                                    \" \",\n                                    go.link?.from_id))))),\n                React.createElement(c.Button, { variant: go.value === 'type' ? 'active' : undefined, disabled: !go.link?.type_id, leftIcon: React.createElement(TypeIcon, null), onClick: () => go.focus('type').go.do('type'), h: '3em', overflow: 'hidden' },\n                    React.createElement(c.Box, null,\n                        React.createElement(c.Text, null, \"type\"),\n                        React.createElement(c.Box, null,\n                            React.createElement(c.Text, { fontSize: 'xs' },\n                                go.link?.type?.symbol,\n                                \" \",\n                                !!go.link?.type && go?.link?.type.name,\n                                \" \",\n                                go.link?.type_id)))),\n                React.createElement(c.Flex, null,\n                    React.createElement(c.Button, { variant: go.value === 'to' ? 'active' : undefined, justifyContent: 'left', textAlign: 'left', flex: '1', h: '3em', rightIcon: React.createElement(ToIcon, null), onClick: () => go.focus('to').go.do('to'), overflow: 'hidden' },\n                        React.createElement(c.Box, null,\n                            React.createElement(c.Text, null, \"to\"),\n                            React.createElement(c.Box, null,\n                                React.createElement(c.Text, { fontSize: 'xs' },\n                                    go.link?.to?.symbol,\n                                    \" \",\n                                    !!go.link?.to && go?.link?.to.name,\n                                    \" \",\n                                    go.link?.to_id)))),\n                    React.createElement(c.Button, { variant: go.value === 'edit-to' ? 'active' : undefined, justifyContent: 'right', textAlign: 'right', h: '3em', disabled: !go.link?.to_id, onClick: () => go.focus('edit-to').go.do('edit-to') },\n                        React.createElement(c.Box, null,\n                            React.createElement(MdEdit, null))))),\n            React.createElement(c.SimpleGrid, { spacing: 1, w: '100%', columns: 5 },\n                React.createElement(c.Button, { variant: go.value === 'up-tree' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('up-tree').go.do('up-tree'), leftIcon: React.createElement(UpIcon, null) },\n                    React.createElement(c.Text, null, \"up\")),\n                React.createElement(c.Button, { variant: go.value === 'out' ? 'active' : undefined, justifyContent: 'left', textAlign: 'left', onClick: () => go.focus('out').go.do('out'), leftIcon: React.createElement(OutIcon, null) },\n                    React.createElement(c.Text, null, \"out\")),\n                React.createElement(c.Button, { variant: go.value === 'typed' ? 'active' : undefined, onClick: () => go.focus('typed').go.do('typed'), leftIcon: React.createElement(TypedIcon, null) },\n                    React.createElement(c.Text, null, \"typed\")),\n                React.createElement(c.Button, { variant: go.value === 'in' ? 'active' : undefined, justifyContent: 'right', textAlign: 'right', onClick: () => go.focus('in').go.do('in'), rightIcon: React.createElement(InIcon, null) },\n                    React.createElement(c.Text, null, \"in\")),\n                React.createElement(c.Button, { variant: go.value === 'down-tree' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('down-tree').go.do('down-tree'), leftIcon: React.createElement(DownIcon, null) },\n                    React.createElement(c.Text, null, \"down\"))),\n            React.createElement(c.SimpleGrid, { spacing: 1, w: '100%', columns: 4 },\n                React.createElement(c.Button, { variant: go.value === 'selectors' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('selectors').go.do('selectors') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83E\\uDEA1\"),\n                    \" selectors\"),\n                React.createElement(c.Button, { variant: go.value === 'selected' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('selected').go.do('selected') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83E\\uDEA1\"),\n                    \" selected\"),\n                React.createElement(c.Button, { variant: go.value === 'promises' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('promises').go.do('promises') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83E\\uDD1E\"),\n                    \" promises\"),\n                React.createElement(c.Button, { variant: go.value === 'rejects' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('rejects').go.do('rejects') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83D\\uDD34\"),\n                    \" rejects\")),\n            React.createElement(c.Flex, { w: '100%', spacing: 1 },\n                valueButton,\n                React.createElement(c.Button, { variant: handlers && compatables?.length ? 'deepDark' : go.value === 'handlers' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('handlers').go.do('handlers'), position: 'relative' },\n                    \"\\uD83D\\uDC41\\uFE0F\",\n                    !compatables?.length && React.createElement(c.Box, { position: 'absolute', right: '0.5em', top: '0.1em', color: go.value === 'handlers' ? 'deepColorActive' : 'deepColor' }, \"+\"))),\n            React.createElement(go.Component, { path: [dpl, 'LinkInsertModal'], disclosure: handlerDisclosure, onInsert: (inserted) => {\n                    refetch();\n                }, ...({ customInsert: ({ name } = { name: '' }) => ({\n                        containerId: _dpl,\n                        type_id: Handler,\n                        from_id: clientSupportsJs,\n                        to: {\n                            type_id: TSX,\n                            string: go.componentTemplate({ children: `<>Handler of ${go.link}</>` }),\n                            name: `${name}Component`,\n                        },\n                        out: [\n                            {\n                                type_id: Compatable,\n                                to_id: go.linkId,\n                                name: `${name}Compatable${go.link.name}`,\n                            },\n                            {\n                                type_id: Compatable,\n                                to_id: TreeLink,\n                                name: `${name}CompatableTreeLink`,\n                            },\n                        ],\n                    }) }) }),\n            !links.length && (!!handlers && compatables?.length ? (compatables.map(compatable => (React.createElement(React.Fragment, null,\n                React.createElement(c.Box, { minW: fullWidth || '30em', maxW: fullWidth || '30em', flex: '1', position: 'relative' },\n                    React.createElement(go.Provider, { linkId: compatable?.id },\n                        React.createElement(go.Handler, { handlerId: compatable?.id, linkId: go.linkId, link: go.link, fillSize: true, autoFocus: true }))))))) : go.value === TreeEditor && !links?.length ? (React.createElement(c.Box, { minW: fullWidth || '30em', maxW: fullWidth || '30em', flex: '1', position: 'relative' },\n                React.createElement(go.Handler, { handlerId: TreeEditor, linkId: go.linkId, fillSize: true, autoFocus: true }))) : null),\n            !!links?.length && React.createElement(go.Provider, { linkId: Stack },\n                React.createElement(go.Component, { path: [dpl, 'Stack'], links: links, Item: Item, direction: 'vertical', flex: '1' })));\n        const nav = go.useNav();\n        nav('current', 'left', 'up', 'close', 'contains');\n        if (isConcentrated !== false) {\n            nav('close', 'current', 'up', 'right', 'contains');\n            nav('parents', 'left', 'current', 'contains', 'type');\n            nav('contains', 'parents', 'current', 'insert', 'type');\n            nav('insert', 'contains', 'current', 'delete', 'type');\n            nav('delete', 'insert', 'close', 'right', 'type');\n            nav('edit-from', 'left', 'contains', 'from', 'up-tree');\n            nav('from', 'edit-from', 'contains', 'to', 'out');\n            nav('type', 'from', 'contains', 'to', 'typed');\n            nav('to', 'type', 'contains', 'edit-to', 'in');\n            nav('edit-to', 'to', 'contains', 'right', 'down-tree');\n            nav('up-tree', 'left', 'edit-from', 'out', 'selectors');\n            nav('out', 'up-tree', 'from', 'typed', 'selected');\n            nav('typed', 'out', 'type', 'in', 'promises');\n            nav('in', 'typed', 'to', 'down-tree', 'promises');\n            nav('down-tree', 'in', 'edit-to', 'right', 'rejects');\n            nav('selectors', 'left', 'up-tree', 'selected', 'value');\n            nav('selected', 'selectors', 'out', 'promises', 'value');\n            nav('promises', 'selected', 'in', 'rejects', 'value');\n            nav('rejects', 'promises', 'down-tree', 'right', 'value');\n            nav('value', 'left', 'promises', 'handlers', Stack);\n            nav('handlers', 'value', 'promises', 'right', Stack);\n            nav(Stack, 'left', 'value', 'right', 'down');\n        }\n        const openLink = async (id) => {\n            !!id && go.go.do('open', { handlerId: TreeLink, id: id, prevId: go.linkId });\n            await go.go.await(id);\n            go.go.focus(id);\n        };\n        const deconcentrated = React.createElement(c.Button, { h: '100%', w: '3em', pt: '1em', variant: isActive ? 'active' : undefined, alignItems: 'flex-start' }, go?.link?.symbol);\n        const content = isConcentrated === false ? deconcentrated : column;\n        return React.createElement(go.On, { do: {\n                focus: (g, v, linkId, o) => !go.value && ((go?.link?.type_id === Package || !go?.link?.value?.value) && go.do('contains')),\n                use: (g, v, o) => o?.id && go.value === Stack ? (go(Stack).do('use', o)) : (go.set('current')),\n                close: (g, v, o) => go.go.do('close', { id: go.linkId }),\n                exec: (g, v, o) => o?.id ? go.go.do('open', { id: o.id, prevId: go.linkId, focus: true }) : go.value && go.do(go.value, o),\n                left: (g, v, o) => go.focus(nav.get(go.value || 'current', 'left'), { prev: go.value }),\n                up: (g, v, o) => go.focus(nav.get(go.value || 'current', 'up'), { prev: go.value }),\n                right: (g, v, o) => go.focus(nav.get(go.value || 'current', 'right'), { prev: go.value }),\n                down: (g, v, o) => go.focus(nav.get(go.value || 'current', 'down'), { prev: go.value }),\n                'current': () => { },\n                'parents': () => go.do('query', { query: { ...queries.parents, limit: 100 } }),\n                'contains': () => go.do('query', { query: { ...queries.contains, limit: 100 } }),\n                'edit-from': () => fromDisclosure.onOpen(),\n                'from': () => openLink(go?.link?.from_id),\n                'type': () => openLink(go?.link?.type_id),\n                'to': () => openLink(go?.link?.to_id),\n                'edit-to': () => toDisclosure.onOpen(),\n                'up-tree': () => { },\n                'out': () => go.do('query', { query: { ...queries.out, limit: 100 } }),\n                'typed': () => go.do('query', { query: { ...queries.typed, limit: 100 } }),\n                'in': () => go.do('query', { query: { ...queries.in, limit: 100 } }),\n                'down-tree': () => { },\n                'selectors': () => go.do('query', { query: { ...queries.selectors, limit: 100 } }),\n                'selected': () => go.do('query', { query: { ...queries.selected, limit: 100 } }),\n                'promises': () => go.do('query', { query: { ...queries.promises, limit: 100 } }),\n                'rejects': () => go.do('query', { query: { ...queries.rejects, limit: 100 } }),\n                'value': () => {\n                    go.do('query', { query: null });\n                    go.focus(go.value === TreeEditor ? 'value' : TreeEditor);\n                },\n                'handlers': () => {\n                    go.do('query', { query: null });\n                    if (!compatables?.length) {\n                        handlerDisclosure.onOpen();\n                    }\n                    else\n                        setHandlers(h => !h);\n                },\n                'query': (g, v, o) => {\n                    if (o.hasOwnProperty('query'))\n                        setQuery(o.query);\n                },\n                [Stack]: (g, v, o) => openLink(o?.id),\n            }, focus: {\n                up: (q, v, o) => go.set().go?.go?.do('up'),\n                down: (q, v, o) => go.set().go?.go?.do('down'),\n                left: (q, v, o) => go.set(o?.left).go?.go?.do('left'),\n                right: (q, v, o) => go.set(o?.right).go?.go?.do('right'),\n            } },\n            React.createElement(c.HStack, { ref: ref, h: '100%', overflow: 'hidden' },\n                React.createElement(deep.Files, { containerId: go.linkId, noClick: true, onInsert: (id, files) => console.log(id, files), Component: c.Box, Props: { h: '100%', w: '100%' } },\n                    content,\n                    children)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUNKLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLEdBQ3pFLEdBQUcsT0FBTyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7SUFFL0MsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQixNQUFNLElBQUksR0FBRyxzQkFBc0IsQ0FBQztJQUNwQyxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEVBQUUsR0FBRyx5QkFBeUIsQ0FBQztJQUVyQyxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLGtCQUFrQixDQUFDLENBQUM7SUFDOUQsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDbkQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDekMsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDOUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDOUMsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsYUFBYSxDQUFDLENBQUM7SUFDcEQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDeEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDMUMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDMUMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDMUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdEMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDeEMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDN0MsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDM0MsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDL0MsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDL0MsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDbkQsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDakQsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUMzRCxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzNELE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFFM0QsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLEdBQUcsS0FBSyxFQUFFLEVBQUUsRUFBRTtRQUM3QyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDdEIsT0FBTztZQUNMLG9CQUFDLEVBQUUsQ0FBQyxPQUFPLElBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRSxTQUFTLEVBQUUsS0FBSyxLQUFNLEtBQUssR0FBRyxDQUNyRixDQUFDO0lBQ04sQ0FBQyxDQUFDLENBQUM7SUFFSCxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFNBQVMsRUFDVCxTQUFTLEVBRVQsTUFBTSxFQUNOLElBQUksRUFFSixRQUFRLEVBRVIsUUFBUSxFQUVSLFNBQVMsRUFDVCxVQUFVLEVBQ1YsY0FBYyxHQUNmLEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFekYsTUFBTSxjQUFjLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pDLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN2QyxNQUFNLGlCQUFpQixHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUU1QyxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFDbkMsU0FBUyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDdEYsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDeEYsS0FBSyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUN6RCxPQUFPLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxDQUFDO1lBQzNELElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDdEQsV0FBVyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUN6RyxVQUFVLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxFQUFFLFdBQVcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUN6RixVQUFVLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUNsSSxTQUFTLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFB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Q0FBQyxDQUFDO1lBQ2xELEdBQUcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFFdEQsR0FBRyxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUN6RCxHQUFHLENBQUMsVUFBVSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ3pELEdBQUcsQ0FBQyxVQUFVLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDdEQsR0FBRyxDQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUUxRCxHQUFHLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3BELEdBQUcsQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFFckQsR0FBRyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMvQyxDQUFDO1FBRUQsTUFBTSxRQUFRLEdBQUcsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFO1lBQzVCLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQTtZQUM1RSxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3RCLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xCLENBQUMsQ0FBQztRQUVGLE1BQU0sY0FBYyxHQUFHLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQzlCLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsS0FBSyxFQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUNsRSxVQUFVLEVBQUMsWUFBWSxJQUV0QixFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FDUixDQUFBO1FBRVgsTUFBTSxPQUFPLEdBQUcsY0FBYyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFFbkUsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUNYLEVBQUUsRUFBRTtnQkFDRixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEtBQUssT0FBTyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDMUgsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUM5RixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDeEQsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Z0JBRTFILElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssSUFBSSxTQUFTLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUN2RixFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksU0FBUyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDbkYsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsS0FBSyxJQUFJLFNBQVMsRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ3pGLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssSUFBSSxTQUFTLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUV2RixTQUFTLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDcEIsU0FBUyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsR0FBRyxPQUFPLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO2dCQUM5RSxVQUFVLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7Z0JBRWhGLFdBQVcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFO2dCQUMxQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDO2dCQUN6QyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDO2dCQUN6QyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDO2dCQUNyQyxTQUFTLEVBQUUsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRTtnQkFFdEMsU0FBUyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztnQkFDdEUsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsR0FBRyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO2dCQUMxRSxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7Z0JBQ3BFLFdBQVcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUV0QixXQUFXLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7Z0JBQ2xGLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEdBQUcsT0FBTyxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztnQkFDaEYsVUFBVSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsR0FBRyxPQUFPLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO2dCQUNoRixTQUFTLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7Z0JBRTlFLE9BQU8sRUFBRSxHQUFHLEVBQUU7b0JBQ1osRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztvQkFDaEMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsS0FBSyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDM0QsQ0FBQztnQkFFRCxVQUFVLEVBQUUsR0FBRyxFQUFFO29CQUNmLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7b0JBQ2hDLElBQUksQ0FBQyxXQUFXLEVBQUUsTUFBTSxFQUFFLENBQUM7d0JBQ3pCLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDO29CQUM3QixDQUFDOzt3QkFBTSxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM5QixDQUFDO2dCQUVELE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ2pCLElBQUksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUM7d0JBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDbkQsQ0FBQztnQkFFRCxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO2FBQ3RDLEVBQ0QsS0FBSyxFQUFFO2dCQUNMLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDO2dCQUMxQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFDOUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFDckQsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQzthQUN6RDtZQUVELG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxRQUFRO2dCQUM1QyxvQkFBQyxJQUFJLENBQUMsS0FBSyxJQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLE9BQU8sUUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUU7b0JBQzNJLE9BQU87b0JBQ1AsUUFBUSxDQUNFLENBQ0osQ0FFTCxDQUFBO0lBQ1YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCB7IE1kRWRpdCwgTWRQcmV2aWV3LCBNZFNhdmVBbHQgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9tZFwiKTtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG4gIGNvbnN0IHtcbiAgICBUeXBlZEljb24sIERvd25JY29uLCBVcEljb24sIFR5cGVJY29uLCBJbkljb24sIE91dEljb24sIEZyb21JY29uLCBUb0ljb24sXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG5cbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgX2RwbCA9IGRlZXAuaWRMb2NhbChkcGwpO1xuICBjb25zdCBkdHN4ID0gJ0BkZWVwLWZvdW5kYXRpb24vdHN4JztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHIgPSAnQGRlZXAtZm91bmRhdGlvbi9yZWFkbWUnO1xuXG4gIGNvbnN0IGNsaWVudFN1cHBvcnRzSnMgPSBkZWVwLmlkTG9jYWwoZGMsICdjbGllbnRTdXBwb3J0c0pzJyk7XG4gIGNvbnN0IFRTWCA9IGRlZXAuaWRMb2NhbChkdHN4LCAnVFNYJyk7XG4gIGNvbnN0IEhhbmRsZXIgPSBkZWVwLmlkTG9jYWwoZGMsICdIYW5kbGVyJyk7XG4gIGNvbnN0IENvbXBhdGFibGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQ29tcGF0YWJsZScpO1xuICBjb25zdCBTdGFjayA9IGRlZXAuaWRMb2NhbChkcGwsICdTdGFjaycpO1xuICBjb25zdCBTZWxlY3RvciA9IGRlZXAuaWRMb2NhbChkYywgJ1NlbGVjdG9yJyk7XG4gIGNvbnN0IFByb21pc2UgPSBkZWVwLmlkTG9jYWwoZGMsICdQcm9taXNlJyk7XG4gIGNvbnN0IFJlamVjdGVkID0gZGVlcC5pZExvY2FsKGRjLCAnUmVqZWN0ZWQnKTtcbiAgY29uc3QgcHJvbWlzZVRyZWUgPSBkZWVwLmlkTG9jYWwoZGMsICdwcm9taXNlVHJlZScpO1xuICBjb25zdCBWYWx1ZSA9IGRlZXAuaWRMb2NhbChkYywgJ1ZhbHVlJyk7XG4gIGNvbnN0IFN0cmluZyA9IGRlZXAuaWRMb2NhbChkYywgJ1N0cmluZycpO1xuICBjb25zdCBOdW1iZXIgPSBkZWVwLmlkTG9jYWwoZGMsICdOdW1iZXInKTtcbiAgY29uc3QgT2JqZWN0ID0gZGVlcC5pZExvY2FsKGRjLCAnT2JqZWN0Jyk7XG4gIGNvbnN0IEZpbGUgPSBkZWVwLmlkTG9jYWwoZGMsICdGaWxlJyk7XG4gIGNvbnN0IFVzZXIgPSBkZWVwLmlkTG9jYWwoZGMsICdVc2VyJyk7XG4gIGNvbnN0IFBhY2thZ2UgPSBkZWVwLmlkTG9jYWwoZGMsICdQYWNrYWdlJyk7XG4gIGNvbnN0IFF1ZXJ5ID0gZGVlcC5pZExvY2FsKGRjLCAnUXVlcnknKTtcbiAgY29uc3QgQ29udGFpbiA9IGRlZXAuaWRMb2NhbChkYywgJ0NvbnRhaW4nKTtcbiAgY29uc3QgSGlzdG9yeSA9IGRlZXAuaWRMb2NhbChkcGwsICdIaXN0b3J5Jyk7XG4gIGNvbnN0IEhlYWRlciA9IGRlZXAuaWRMb2NhbChkcGwsICdIZWFkZXInKTtcbiAgY29uc3QgVHJlZUxpbmsgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmsnKTtcbiAgY29uc3QgVHJlZUxpc3QgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpc3QnKTtcbiAgY29uc3QgVHJlZUVkaXRvciA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlRWRpdG9yJyk7XG4gIGNvbnN0IFRyZWVRdWVyeSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlUXVlcnknKTtcbiAgY29uc3QgVHJlZUxpbmtJbnNlcnQgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtJbnNlcnQnKTtcbiAgY29uc3QgVHJlZUxpbmtEZWxldGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtEZWxldGUnKTtcbiAgY29uc3QgVHJlZUxpbmtCdXR0b24gPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtCdXR0b24nKTtcblxuICBjb25zdCBJdGVtID0gUmVhY3QubWVtbygoeyBsaW5rLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgY29uc3QgZ28gPSBHby51c2VHbygpO1xuICAgIHJldHVybiA8PlxuICAgICAgPGdvLkhhbmRsZXIgbGlua0lkPXtsaW5rLmlkfSBoYW5kbGVySWQ9e1RyZWVMaW5rQnV0dG9ufSByZWxhdGlvbnM9e2ZhbHNlfSB7Li4ucHJvcHN9Lz5cbiAgICA8Lz47XG4gIH0pO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG5cbiAgICBmdWxsV2lkdGgsXG4gICAgb3BlcmF0aW9ucyxcbiAgICBpc0NvbmNlbnRyYXRlZCxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgdmFsdWVUeXBlID0gUmVhY3QudXNlTWVtbygoKSA9PiBnby5saW5rPy50eXBlPy5vdXRCeVR5cGVbVmFsdWVdPy5bMF0/LnRvX2lkLCBbZ29dKTtcbiAgICBcbiAgICBjb25zdCBmcm9tRGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IHRvRGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IGhhbmRsZXJEaXNjbG9zdXJlID0gYy51c2VEaXNjbG9zdXJlKCk7XG5cbiAgICBjb25zdCBxdWVyaWVzID0gUmVhY3QudXNlTWVtbygoKSA9PiAoe1xuICAgICAgJ3BhcmVudHMnOiAoeyBvdXQ6IHsgdHlwZV9pZDogQ29udGFpbiwgdG9faWQ6IGdvLmxpbmtJZCB9LCBvcmRlcl9ieTogeyBpZDogJ2Rlc2MnIH0gfSksXG4gICAgICAnY29udGFpbnMnOiAoeyBpbjogeyB0eXBlX2lkOiBDb250YWluLCBmcm9tX2lkOiBnby5saW5rSWQgfSwgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9IH0pLFxuICAgICAgJ291dCc6ICh7IGZyb21faWQ6IGdvLmxpbmtJZCwgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9IH0pLFxuICAgICAgJ3R5cGVkJzogKHsgdHlwZV9pZDogZ28ubGlua0lkLCBvcmRlcl9ieTogeyBpZDogJ2Rlc2MnIH0gfSksXG4gICAgICAnaW4nOiAoeyB0b19pZDogZ28ubGlua0lkLCBvcmRlcl9ieTogeyBpZDogJ2Rlc2MnIH0gfSksXG4gICAgICAnc2VsZWN0b3JzJzogKHsgdHlwZV9pZDogU2VsZWN0b3IsIHNlbGVjdGVkOiB7IGl0ZW1faWQ6IHsgX2VxOiBnby5saW5rSWQgfSB9LCBvcmRlcl9ieTogeyBpZDogJ2Rlc2MnIH0gfSksXG4gICAgICAnc2VsZWN0ZWQnOiAoeyBzZWxlY3RlZDogeyBzZWxlY3Rvcl9pZDogeyBfZXE6IGdvLmxpbmtJZCB9IH0sIG9yZGVyX2J5OiB7IGlkOiAnZGVzYycgfSB9KSxcbiAgICAgICdwcm9taXNlcyc6ICh7IHR5cGVfaWQ6IFByb21pc2UsIHVwOiB7IHRyZWVfaWQ6IHsgX2VxOiBwcm9taXNlVHJlZSB9LCBwYXJlbnRfaWQ6IHsgX2VxOiBnby5saW5rSWQgfSB9LCBvcmRlcl9ieTogeyBpZDogJ2Rlc2MnIH0gfSksXG4gICAgICAncmVqZWN0cyc6ICh7IHR5cGVfaWQ6IFJlamVjdGVkLCB1cDogeyB0cmVlX2lkOiB7IF9lcTogcHJvbWlzZVRyZWUgfSwgcGFyZW50X2lkOiB7IF9lcTogZ28ubGlua0lkIH0gfSwgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9IH0pLFxuICAgIH0pLCBbXSk7XG5cbiAgICBjb25zdCBbcXVlcnksIHNldFF1ZXJ5XSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IHEgPSB7IC4uLihxdWVyeSB8fCB7fSksIHJldHVybjoge1xuICAgICAgY29udGFpbjogeyByZWxhdGlvbjogJ2luJywgdHlwZV9pZDogQ29udGFpbiwgbGltaXQ6IDEsIGZyb206IHsgdHlwZV9pZDogeyBfaW46IFtVc2VyLCBQYWNrYWdlXSB9IH0gfSxcbiAgICAgIHRvczogeyByZWxhdGlvbjogJ3RvJyB9LFxuICAgICAgZnJvbXM6IHsgcmVsYXRpb246ICdmcm9tJyB9LFxuICAgIH0gfTtcbiAgICBjb25zdCB7IGRhdGE6IGxpbmtzIH0gPSBkZWVwLnVzZVF1ZXJ5KHEsIHsgc2tpcDogIXF1ZXJ5IH0pO1xuICAgIC8vIGNvbnN0IFtsaW5rcywgc2V0TGlua3NdID0gUmVhY3QudXNlU3RhdGUoW10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAhIXF1ZXJ5ICYmIHNldEhhbmRsZXJzKGZhbHNlKTtcbiAgICB9LCBbcXVlcnldKTtcblxuICAgIGNvbnN0IHsgZGF0YTogY29tcGF0YWJsZXMsIHJlZmV0Y2ggfSA9IGRlZXAudXNlUXVlcnkoZ28/Lmxpbms/LnR5cGVfaWQgPyB7XG4gICAgICB0eXBlX2lkOiBIYW5kbGVyLFxuICAgICAgZnJvbV9pZDogY2xpZW50U3VwcG9ydHNKcyxcbiAgICAgIF9hbmQ6IFtcbiAgICAgICAgeyBvdXQ6IHtcbiAgICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICAgIHRvX2lkOiBoYW5kbGVySWQsXG4gICAgICAgIH0gfSxcbiAgICAgICAgeyBvdXQ6IHtcbiAgICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICAgIHRvX2lkOiB7IF9pbjogW2xpbmsuaWQsIGxpbmsudHlwZV9pZF0gfSxcbiAgICAgICAgfSB9LFxuICAgICAgXSxcbiAgICB9IDoge30sIHsgc2tpcDogIWdvPy5saW5rPy50eXBlX2lkIH0pO1xuXG4gICAgY29uc3QgdmFsdWVCdXR0b24gPSAhdmFsdWVUeXBlID8gPD5cbiAgICAgIDxjLkJ1dHRvblxuICAgICAgICBmbGV4PScxJ1xuICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3ZhbHVlJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBiZz17Z28udmFsdWUgPT09IFRyZWVFZGl0b3IgPyAnZGVlcEJnRGFyaycgOiBudWxsfSBqdXN0aWZ5Q29udGVudD0nY2VudGVyJ1xuICAgICAgICBkaXNhYmxlZFxuICAgICAgPlxuICAgICAgICB0eXBlIGNhbid0IGhhdmUgVmFsdWVcbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC8+IDogdmFsdWVUeXBlID09PSBTdHJpbmcgPyA8PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIGZsZXg9JzEnXG4gICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAndmFsdWUnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IGJnPXtnby52YWx1ZSA9PT0gVHJlZUVkaXRvciA/ICdkZWVwQmdEYXJrJyA6IG51bGx9IGp1c3RpZnlDb250ZW50PSdjZW50ZXInXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCd2YWx1ZScpLmdvLmRvKCd2YWx1ZScpfVxuICAgICAgPlxuICAgICAgICA8Yy5UZXh0IHByPXsxfT5cIlwiLmxlbmd0aCA9PT0ge2dvLmxpbms/LnZhbHVlPy52YWx1ZT8ubGVuZ3RoIHx8IDB9PC9jLlRleHQ+IHN0cmluZ1xuICAgICAgPC9jLkJ1dHRvbj5cbiAgICA8Lz4gOiB2YWx1ZVR5cGUgPT09IE51bWJlciA/IDw+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgZmxleD0nMSdcbiAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICd2YWx1ZScgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0gYmc9e2dvLnZhbHVlID09PSBUcmVlRWRpdG9yID8gJ2RlZXBCZ0RhcmsnIDogbnVsbH0ganVzdGlmeUNvbnRlbnQ9J2NlbnRlcidcbiAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ3ZhbHVlJykuZ28uZG8oJ3ZhbHVlJyl9XG4gICAgICA+XG4gICAgICAgIDxjLlRleHQgcHI9ezF9PnsrZ28ubGluaz8udmFsdWU/LnZhbHVlfTwvYy5UZXh0PiBudW1iZXJcbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC8+IDogdmFsdWVUeXBlID09PSBPYmplY3QgPyA8PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIGZsZXg9JzEnXG4gICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAndmFsdWUnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IGJnPXtnby52YWx1ZSA9PT0gVHJlZUVkaXRvciA/ICdkZWVwQmdEYXJrJyA6IG51bGx9IGp1c3RpZnlDb250ZW50PSdjZW50ZXInXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCd2YWx1ZScpLmdvLmRvKCd2YWx1ZScpfVxuICAgICAgPlxuICAgICAgICA8Yy5UZXh0IHByPXsxfT57YHsuLi59YH08L2MuVGV4dD4gb2JqZWN0XG4gICAgICA8L2MuQnV0dG9uPlxuICAgIDwvPiA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IFtoYW5kbGVycywgc2V0SGFuZGxlcnNdID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG5cbiAgICBjb25zdCBjb2x1bW4gPSA8Yy5WU3RhY2tcbiAgICAgIHBvc2l0aW9uPSdyZWxhdGl2ZScgbWluVz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gbWF4Vz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gaD0nMTAwJScgc3BhY2luZz17MX1cbiAgICAgIGJnPXtpc0FjdGl2ZSA/ICdkZWVwQmdEYXJrJyA6IG51bGx9XG4gICAgPlxuICAgICAgPGMuRmxleCB3PScxMDAlJz5cbiAgICAgICAgPGdvLkhhbmRsZXJcbiAgICAgICAgICBoYW5kbGVySWQ9e1RyZWVMaW5rQnV0dG9ufSBsaW5rSWQ9e2dvLmxpbmtJZH0gZmxleD0nMSdcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnY3VycmVudCcpLmdvLmRvKCdleGVjJyl9XG4gICAgICAgICAgbmVlZFBhcmVudD17ZmFsc2V9IGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gJ2N1cnJlbnQnfVxuICAgICAgICAgIGVkaXRhYmxlU3ltYm9sXG4gICAgICAgIC8+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIG1pblc9JzNlLCcgdz0nM2VtJyBoPScxMDAlJyBtaW5IPSczZW0nIHA9JzAnXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ2Nsb3NlJykuZ28uZG8oJ2Nsb3NlJyl9XG4gICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdjbG9zZScgPyAnYWN0aXZlJyA6IG51bGx9XG4gICAgICAgID54PC9jLkJ1dHRvbj5cbiAgICAgIDwvYy5GbGV4PlxuICAgICAgPGMuU2ltcGxlR3JpZCBzcGFjaW5nPXsxfSB3PScxMDAlJyBjb2x1bW5zPXsyICsgKG9wZXJhdGlvbnMgPyAyIDogMCl9PlxuICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3BhcmVudHMnID8gJ2FjdGl2ZScgOiBudWxsfVxuICAgICAgICAgIGp1c3RpZnlDb250ZW50PSdjZW50ZXInXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ3BhcmVudHMnKS5nby5kbygncGFyZW50cycpfVxuICAgICAgICA+XG4gICAgICAgICAgPGMuVGV4dCBwcj17MX0+8J+Xgu+4jzwvYy5UZXh0PiBwYXJlbnRzXG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAnY29udGFpbnMnID8gJ2FjdGl2ZScgOiBudWxsfVxuICAgICAgICAgIGp1c3RpZnlDb250ZW50PSdjZW50ZXInXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ2NvbnRhaW5zJykuZ28uZG8oJ2NvbnRhaW5zJyl9XG4gICAgICAgID5cbiAgICAgICAgICA8Yy5UZXh0IHByPXsxfT7wn5eC77iPPC9jLlRleHQ+IGNvbnRhaW5zXG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIHtvcGVyYXRpb25zICYmIDw+XG4gICAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17VHJlZUxpbmtJbnNlcnR9PlxuICAgICAgICAgICAgPGdvLkhhbmRsZXJcbiAgICAgICAgICAgICAgaXNBY3RpdmU9e2dvLnZhbHVlID09PSAnaW5zZXJ0JyA/IGdvLnJlZiA6IG51bGx9XG4gICAgICAgICAgICAgIGhhbmRsZXJJZD17VHJlZUxpbmtJbnNlcnR9XG4gICAgICAgICAgICAgIGRlZmF1bHRDb250YWluZXJJZD17Z28ubGlua0lkfSBkZWZhdWx0VHlwZUlkPXsxfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e1RyZWVMaW5rRGVsZXRlfT5cbiAgICAgICAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgICAgICAgIGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gJ2RlbGV0ZScgPyBnby5yZWYgOiBudWxsfVxuICAgICAgICAgICAgICBoYW5kbGVySWQ9e1RyZWVMaW5rRGVsZXRlfVxuICAgICAgICAgICAgICBsaW5rSWQ9e2dvLmxpbmtJZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgPC8+fVxuICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICB7KGdvPy5saW5rPy50eXBlX2lkID09PSAxIHx8ICEhZ28/Lmxpbms/LmZyb21faWQpICYmIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ0ZpbmRlciddfVxuICAgICAgICBkaXNjbG9zdXJlPXtmcm9tRGlzY2xvc3VyZX0gaW5pdGlhbElkPXtnbz8ubGluaz8uZnJvbV9pZCB8fCBnbz8ubGluaz8uaWR9IGluaXRpYWxIYW5kbGVySWQ9e1RyZWVMaXN0fVxuICAgICAgICBvblN1Ym1pdD17KGlkKSA9PiB7XG4gICAgICAgICAgZGVlcC51cGRhdGUoZ28ubGlua0lkLCB7IGZyb21faWQ6IGlkIH0pO1xuICAgICAgICAgIGZyb21EaXNjbG9zdXJlLm9uQ2xvc2UoKTtcbiAgICAgICAgfX1cbiAgICAgIC8+fVxuICAgICAgeyhnbz8ubGluaz8udHlwZV9pZCA9PT0gMSB8fCAhIWdvPy5saW5rPy50b19pZCkgJiYgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVyJ119XG4gICAgICAgIGRpc2Nsb3N1cmU9e3RvRGlzY2xvc3VyZX0gaW5pdGlhbElkPXtnbz8ubGluaz8udG9faWQgfHwgZ28/Lmxpbms/LmlkfSBpbml0aWFsSGFuZGxlcklkPXtUcmVlTGlzdH1cbiAgICAgICAgb25TdWJtaXQ9eyhpZCkgPT4ge1xuICAgICAgICAgIGRlZXAudXBkYXRlKGdvLmxpbmtJZCwgeyB0b19pZDogaWQgfSk7XG4gICAgICAgICAgdG9EaXNjbG9zdXJlLm9uQ2xvc2UoKTtcbiAgICAgICAgfX1cbiAgICAgIC8+fVxuICAgICAge1s8Z28uUXVlcnkga2V5PXtgJHtmcm9tRGlzY2xvc3VyZS5pc09wZW59JHt0b0Rpc2Nsb3N1cmUuaXNPcGVufWB9IHF1ZXJ5PXt7IGlkOiBnby5saW5rSWQgfX0vPl19XG4gICAgICA8Yy5TaW1wbGVHcmlkIHNwYWNpbmc9ezF9IHc9JzEwMCUnIGNvbHVtbnM9ezN9PlxuICAgICAgICA8Yy5GbGV4PlxuICAgICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdlZGl0LWZyb20nID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudD0ncmlnaHQnIHRleHRBbGlnbj0ncmlnaHQnIGg9JzNlbScgZGlzYWJsZWQ9eyFnby5saW5rPy5mcm9tX2lkfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ2VkaXQtZnJvbScpLmdvLmRvKCdlZGl0LWZyb20nKX1cbiAgICAgICAgICA+PGMuQm94PlxuICAgICAgICAgICAgICA8TWRFZGl0IC8+XG4gICAgICAgICAgICA8L2MuQm94PjwvYy5CdXR0b24+XG4gICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ2Zyb20nID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudD0ncmlnaHQnIHRleHRBbGlnbj0ncmlnaHQnXG4gICAgICAgICAgICBmbGV4PScxJyBoPSczZW0nXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnZnJvbScpLmdvLmRvKCdmcm9tJyl9XG4gICAgICAgICAgICByaWdodEljb249ezxGcm9tSWNvbiAvPn1cbiAgICAgICAgICAgIG92ZXJmbG93PSdoaWRkZW4nXG4gICAgICAgICAgPjxjLkJveD5cbiAgICAgICAgICAgICAgPGMuVGV4dD5mcm9tPC9jLlRleHQ+XG4gICAgICAgICAgICAgIDxjLkJveD48Yy5UZXh0IGZvbnRTaXplPSd4cyc+e2dvLmxpbms/LmZyb20/LnN5bWJvbH0geyEhZ28ubGluaz8uZnJvbSAmJiBnbz8ubGluaz8uZnJvbS5uYW1lfSB7Z28ubGluaz8uZnJvbV9pZH08L2MuVGV4dD48L2MuQm94PlxuICAgICAgICAgICAgPC9jLkJveD48L2MuQnV0dG9uPlxuICAgICAgICA8L2MuRmxleD5cbiAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICd0eXBlJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICAgIGRpc2FibGVkPXshZ28ubGluaz8udHlwZV9pZH0gbGVmdEljb249ezxUeXBlSWNvbiAvPn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygndHlwZScpLmdvLmRvKCd0eXBlJyl9XG4gICAgICAgICAgaD0nM2VtJyBvdmVyZmxvdz0naGlkZGVuJ1xuICAgICAgICA+PGMuQm94PlxuICAgICAgICAgICAgPGMuVGV4dD50eXBlPC9jLlRleHQ+XG4gICAgICAgICAgICA8Yy5Cb3g+PGMuVGV4dCBmb250U2l6ZT0neHMnPntnby5saW5rPy50eXBlPy5zeW1ib2x9IHshIWdvLmxpbms/LnR5cGUgJiYgZ28/Lmxpbms/LnR5cGUubmFtZX0ge2dvLmxpbms/LnR5cGVfaWR9PC9jLlRleHQ+PC9jLkJveD5cbiAgICAgICAgICA8L2MuQm94PjwvYy5CdXR0b24+XG4gICAgICAgIDxjLkZsZXg+XG4gICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3RvJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ9J2xlZnQnIHRleHRBbGlnbj0nbGVmdCcgZmxleD0nMScgaD0nM2VtJyByaWdodEljb249ezxUb0ljb24gLz59XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygndG8nKS5nby5kbygndG8nKX1cbiAgICAgICAgICAgIG92ZXJmbG93PSdoaWRkZW4nXG4gICAgICAgICAgPjxjLkJveD5cbiAgICAgICAgICAgICAgPGMuVGV4dD50bzwvYy5UZXh0PlxuICAgICAgICAgICAgICA8Yy5Cb3g+PGMuVGV4dCBmb250U2l6ZT0neHMnPntnby5saW5rPy50bz8uc3ltYm9sfSB7ISFnby5saW5rPy50byAmJiBnbz8ubGluaz8udG8ubmFtZX0ge2dvLmxpbms/LnRvX2lkfTwvYy5UZXh0PjwvYy5Cb3g+XG4gICAgICAgICAgICA8L2MuQm94PjwvYy5CdXR0b24+XG4gICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ2VkaXQtdG8nID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudD0ncmlnaHQnIHRleHRBbGlnbj0ncmlnaHQnIGg9JzNlbScgZGlzYWJsZWQ9eyFnby5saW5rPy50b19pZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCdlZGl0LXRvJykuZ28uZG8oJ2VkaXQtdG8nKX1cbiAgICAgICAgICA+PGMuQm94PlxuICAgICAgICAgICAgICA8TWRFZGl0IC8+XG4gICAgICAgICAgICA8L2MuQm94PjwvYy5CdXR0b24+XG4gICAgICAgIDwvYy5GbGV4PlxuICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICA8Yy5TaW1wbGVHcmlkIHNwYWNpbmc9ezF9IHc9JzEwMCUnIGNvbHVtbnM9ezV9PlxuICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3VwLXRyZWUnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IGp1c3RpZnlDb250ZW50PSdjZW50ZXInXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ3VwLXRyZWUnKS5nby5kbygndXAtdHJlZScpfVxuICAgICAgICAgIGxlZnRJY29uPXs8VXBJY29uIC8+fVxuICAgICAgICA+XG4gICAgICAgICAgPGMuVGV4dD51cDwvYy5UZXh0PlxuICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ291dCcgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0ganVzdGlmeUNvbnRlbnQ9J2xlZnQnIHRleHRBbGlnbj0nbGVmdCdcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnb3V0JykuZ28uZG8oJ291dCcpfVxuICAgICAgICAgIGxlZnRJY29uPXs8T3V0SWNvbiAvPn1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLlRleHQ+b3V0PC9jLlRleHQ+XG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIHsvKiA8SWNvbkJ1dHRvbiBhcmlhLWxhYmVsPSd0eXBlZCcgaWNvbj17PFR5cGVkSWNvbiAvPn0gLz4gKi99XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAndHlwZWQnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ3R5cGVkJykuZ28uZG8oJ3R5cGVkJyl9XG4gICAgICAgICAgbGVmdEljb249ezxUeXBlZEljb24gLz59XG4gICAgICAgID5cbiAgICAgICAgICA8Yy5UZXh0PnR5cGVkPC9jLlRleHQ+XG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAnaW4nID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IGp1c3RpZnlDb250ZW50PSdyaWdodCcgdGV4dEFsaWduPSdyaWdodCdcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnaW4nKS5nby5kbygnaW4nKX1cbiAgICAgICAgICByaWdodEljb249ezxJbkljb24gLz59XG4gICAgICAgID5cbiAgICAgICAgICA8Yy5UZXh0PmluPC9jLlRleHQ+XG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAnZG93bi10cmVlJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBqdXN0aWZ5Q29udGVudD0nY2VudGVyJ1xuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCdkb3duLXRyZWUnKS5nby5kbygnZG93bi10cmVlJyl9XG4gICAgICAgICAgbGVmdEljb249ezxEb3duSWNvbiAvPn1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLlRleHQ+ZG93bjwvYy5UZXh0PlxuICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICA8Yy5TaW1wbGVHcmlkIHNwYWNpbmc9ezF9IHc9JzEwMCUnIGNvbHVtbnM9ezR9PlxuICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3NlbGVjdG9ycycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0ganVzdGlmeUNvbnRlbnQ9J2NlbnRlcidcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnc2VsZWN0b3JzJykuZ28uZG8oJ3NlbGVjdG9ycycpfVxuICAgICAgICA+XG4gICAgICAgICAgPGMuVGV4dCBwcj17MX0+8J+qoTwvYy5UZXh0PiBzZWxlY3RvcnNcbiAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdzZWxlY3RlZCcgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0ganVzdGlmeUNvbnRlbnQ9J2NlbnRlcidcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnc2VsZWN0ZWQnKS5nby5kbygnc2VsZWN0ZWQnKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLlRleHQgcHI9ezF9PvCfqqE8L2MuVGV4dD4gc2VsZWN0ZWRcbiAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdwcm9taXNlcycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0ganVzdGlmeUNvbnRlbnQ9J2NlbnRlcidcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygncHJvbWlzZXMnKS5nby5kbygncHJvbWlzZXMnKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLlRleHQgcHI9ezF9PvCfpJ48L2MuVGV4dD4gcHJvbWlzZXNcbiAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdyZWplY3RzJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBqdXN0aWZ5Q29udGVudD0nY2VudGVyJ1xuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCdyZWplY3RzJykuZ28uZG8oJ3JlamVjdHMnKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLlRleHQgcHI9ezF9PvCflLQ8L2MuVGV4dD4gcmVqZWN0c1xuICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICA8Yy5GbGV4IHc9JzEwMCUnIHNwYWNpbmc9ezF9PlxuICAgICAgICB7dmFsdWVCdXR0b259XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e2hhbmRsZXJzICYmIGNvbXBhdGFibGVzPy5sZW5ndGggPyAnZGVlcERhcmsnIDogZ28udmFsdWUgPT09ICdoYW5kbGVycycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0ganVzdGlmeUNvbnRlbnQ9J2NlbnRlcidcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnaGFuZGxlcnMnKS5nby5kbygnaGFuZGxlcnMnKX1cbiAgICAgICAgICBwb3NpdGlvbj0ncmVsYXRpdmUnXG4gICAgICAgID5cbiAgICAgICAgICDwn5GB77iPXG4gICAgICAgICAgeyFjb21wYXRhYmxlcz8ubGVuZ3RoICYmIDxjLkJveFxuICAgICAgICAgICAgcG9zaXRpb249J2Fic29sdXRlJyByaWdodD0nMC41ZW0nIHRvcD0nMC4xZW0nIGNvbG9yPXtnby52YWx1ZSA9PT0gJ2hhbmRsZXJzJyA/ICdkZWVwQ29sb3JBY3RpdmUnIDogJ2RlZXBDb2xvcid9XG4gICAgICAgICAgPis8L2MuQm94Pn1cbiAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgIDwvYy5GbGV4PlxuICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnTGlua0luc2VydE1vZGFsJ119IGRpc2Nsb3N1cmU9e2hhbmRsZXJEaXNjbG9zdXJlfVxuICAgICAgICBvbkluc2VydD17KGluc2VydGVkKSA9PiB7XG4gICAgICAgICAgcmVmZXRjaCgpO1xuICAgICAgICB9fVxuICAgICAgICB7Li4uKHsgY3VzdG9tSW5zZXJ0OiAoeyBuYW1lIH0gPSB7IG5hbWU6ICcnIH0pID0+ICh7XG4gICAgICAgICAgY29udGFpbmVySWQ6IF9kcGwsXG4gICAgICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgICAgICBmcm9tX2lkOiBjbGllbnRTdXBwb3J0c0pzLFxuICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICB0eXBlX2lkOiBUU1gsXG4gICAgICAgICAgICBzdHJpbmc6IGdvLmNvbXBvbmVudFRlbXBsYXRlKHsgY2hpbGRyZW46IGA8PkhhbmRsZXIgb2YgJHtnby5saW5rfTwvPmAgfSksXG4gICAgICAgICAgICBuYW1lOiBgJHtuYW1lfUNvbXBvbmVudGAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvdXQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZV9pZDogQ29tcGF0YWJsZSxcbiAgICAgICAgICAgICAgdG9faWQ6IGdvLmxpbmtJZCxcbiAgICAgICAgICAgICAgbmFtZTogYCR7bmFtZX1Db21wYXRhYmxlJHtnby5saW5rLm5hbWV9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGVfaWQ6IENvbXBhdGFibGUsXG4gICAgICAgICAgICAgIHRvX2lkOiBUcmVlTGluayxcbiAgICAgICAgICAgICAgbmFtZTogYCR7bmFtZX1Db21wYXRhYmxlVHJlZUxpbmtgLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KSB9KX1cbiAgICAgIC8+XG4gICAgICB7IWxpbmtzLmxlbmd0aCAmJiAoISFoYW5kbGVycyAmJiBjb21wYXRhYmxlcz8ubGVuZ3RoID8gKGNvbXBhdGFibGVzLm1hcChjb21wYXRhYmxlID0+ICg8PlxuICAgICAgICA8Yy5Cb3ggbWluVz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gbWF4Vz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gZmxleD0nMScgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtjb21wYXRhYmxlPy5pZH0+XG4gICAgICAgICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e2NvbXBhdGFibGU/LmlkfSBsaW5rSWQ9e2dvLmxpbmtJZH0gbGluaz17Z28ubGlua30gZmlsbFNpemUgYXV0b0ZvY3VzIC8+XG4gICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgPC9jLkJveD5cbiAgICAgIDwvPikpKSA6IGdvLnZhbHVlID09PSBUcmVlRWRpdG9yICYmICFsaW5rcz8ubGVuZ3RoID8gKFxuICAgICAgICA8Yy5Cb3ggbWluVz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gbWF4Vz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gZmxleD0nMScgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e1RyZWVFZGl0b3J9IGxpbmtJZD17Z28ubGlua0lkfSBmaWxsU2l6ZSBhdXRvRm9jdXMgLz5cbiAgICAgICAgPC9jLkJveD5cbiAgICAgICkgOiBudWxsKX1cbiAgICAgIHshIWxpbmtzPy5sZW5ndGggJiYgPGdvLlByb3ZpZGVyIGxpbmtJZD17U3RhY2t9PlxuICAgICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdTdGFjayddfSBsaW5rcz17bGlua3N9IEl0ZW09e0l0ZW19IGRpcmVjdGlvbj0ndmVydGljYWwnIGZsZXg9JzEnIC8+XG4gICAgICA8L2dvLlByb3ZpZGVyPn1cbiAgICA8L2MuVlN0YWNrPjtcblxuICAgIGNvbnN0IG5hdiA9IGdvLnVzZU5hdigpO1xuICAgIG5hdignY3VycmVudCcsICdsZWZ0JywgJ3VwJywgJ2Nsb3NlJywgJ2NvbnRhaW5zJyk7XG4gICAgXG4gICAgaWYgKGlzQ29uY2VudHJhdGVkICE9PSBmYWxzZSkge1xuICAgICAgbmF2KCdjbG9zZScsICdjdXJyZW50JywgJ3VwJywgJ3JpZ2h0JywgJ2NvbnRhaW5zJyk7XG4gIFxuICAgICAgbmF2KCdwYXJlbnRzJywgJ2xlZnQnLCAnY3VycmVudCcsICdjb250YWlucycsICd0eXBlJyk7XG4gICAgICBuYXYoJ2NvbnRhaW5zJywgJ3BhcmVudHMnLCAnY3VycmVudCcsICdpbnNlcnQnLCAndHlwZScpO1xuICAgICAgbmF2KCdpbnNlcnQnLCAnY29udGFpbnMnLCAnY3VycmVudCcsICdkZWxldGUnLCAndHlwZScpO1xuICAgICAgbmF2KCdkZWxldGUnLCAnaW5zZXJ0JywgJ2Nsb3NlJywgJ3JpZ2h0JywgJ3R5cGUnKTtcbiAgXG4gICAgICBuYXYoJ2VkaXQtZnJvbScsICdsZWZ0JywgJ2NvbnRhaW5zJywgJ2Zyb20nLCAndXAtdHJlZScpO1xuICAgICAgbmF2KCdmcm9tJywgJ2VkaXQtZnJvbScsICdjb250YWlucycsICd0bycsICdvdXQnKTtcbiAgICAgIG5hdigndHlwZScsICdmcm9tJywgJ2NvbnRhaW5zJywgJ3RvJywgJ3R5cGVkJyk7XG4gICAgICBuYXYoJ3RvJywgJ3R5cGUnLCAnY29udGFpbnMnLCAnZWRpdC10bycsICdpbicpO1xuICAgICAgbmF2KCdlZGl0LXRvJywgJ3RvJywgJ2NvbnRhaW5zJywgJ3JpZ2h0JywgJ2Rvd24tdHJlZScpO1xuICBcbiAgICAgIG5hdigndXAtdHJlZScsICdsZWZ0JywgJ2VkaXQtZnJvbScsICdvdXQnLCAnc2VsZWN0b3JzJyk7XG4gICAgICBuYXYoJ291dCcsICd1cC10cmVlJywgJ2Zyb20nLCAndHlwZWQnLCAnc2VsZWN0ZWQnKTtcbiAgICAgIG5hdigndHlwZWQnLCAnb3V0JywgJ3R5cGUnLCAnaW4nLCAncHJvbWlzZXMnKTtcbiAgICAgIG5hdignaW4nLCAndHlwZWQnLCAndG8nLCAnZG93bi10cmVlJywgJ3Byb21pc2VzJyk7XG4gICAgICBuYXYoJ2Rvd24tdHJlZScsICdpbicsICdlZGl0LXRvJywgJ3JpZ2h0JywgJ3JlamVjdHMnKTtcbiAgXG4gICAgICBuYXYoJ3NlbGVjdG9ycycsICdsZWZ0JywgJ3VwLXRyZWUnLCAnc2VsZWN0ZWQnLCAndmFsdWUnKTtcbiAgICAgIG5hdignc2VsZWN0ZWQnLCAnc2VsZWN0b3JzJywgJ291dCcsICdwcm9taXNlcycsICd2YWx1ZScpO1xuICAgICAgbmF2KCdwcm9taXNlcycsICdzZWxlY3RlZCcsICdpbicsICdyZWplY3RzJywgJ3ZhbHVlJyk7XG4gICAgICBuYXYoJ3JlamVjdHMnLCAncHJvbWlzZXMnLCAnZG93bi10cmVlJywgJ3JpZ2h0JywgJ3ZhbHVlJyk7XG4gIFxuICAgICAgbmF2KCd2YWx1ZScsICdsZWZ0JywgJ3Byb21pc2VzJywgJ2hhbmRsZXJzJywgU3RhY2spO1xuICAgICAgbmF2KCdoYW5kbGVycycsICd2YWx1ZScsICdwcm9taXNlcycsICdyaWdodCcsIFN0YWNrKTtcbiAgXG4gICAgICBuYXYoU3RhY2ssICdsZWZ0JywgJ3ZhbHVlJywgJ3JpZ2h0JywgJ2Rvd24nKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcGVuTGluayA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgISFpZCAmJiBnby5nby5kbygnb3BlbicsIHsgaGFuZGxlcklkOiBUcmVlTGluaywgaWQ6IGlkLCBwcmV2SWQ6IGdvLmxpbmtJZCB9KVxuICAgICAgYXdhaXQgZ28uZ28uYXdhaXQoaWQpO1xuICAgICAgZ28uZ28uZm9jdXMoaWQpO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWNvbmNlbnRyYXRlZCA9IDxjLkJ1dHRvblxuICAgICAgaD0nMTAwJScgdz0nM2VtJyBwdD0nMWVtJyB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgYWxpZ25JdGVtcz0nZmxleC1zdGFydCdcbiAgICA+XG4gICAgICB7Z28/Lmxpbms/LnN5bWJvbH1cbiAgICA8L2MuQnV0dG9uPlxuXG4gICAgY29uc3QgY29udGVudCA9IGlzQ29uY2VudHJhdGVkID09PSBmYWxzZSA/IGRlY29uY2VudHJhdGVkIDogY29sdW1uO1xuXG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgZm9jdXM6IChnLCB2LCBsaW5rSWQsIG8pID0+ICFnby52YWx1ZSAmJiAoKGdvPy5saW5rPy50eXBlX2lkID09PSBQYWNrYWdlIHx8ICFnbz8ubGluaz8udmFsdWU/LnZhbHVlKSAmJiBnby5kbygnY29udGFpbnMnKSksXG4gICAgICAgIHVzZTogKGcsIHYsIG8pID0+IG8/LmlkICYmIGdvLnZhbHVlID09PSBTdGFjayA/IChnbyhTdGFjaykuZG8oJ3VzZScsIG8pKSA6IChnby5zZXQoJ2N1cnJlbnQnKSksXG4gICAgICAgIGNsb3NlOiAoZywgdiwgbykgPT4gZ28uZ28uZG8oJ2Nsb3NlJywgeyBpZDogZ28ubGlua0lkIH0pLFxuICAgICAgICBleGVjOiAoZywgdiwgbykgPT4gbz8uaWQgPyBnby5nby5kbygnb3BlbicsIHsgaWQ6IG8uaWQsIHByZXZJZDogZ28ubGlua0lkLCBmb2N1czogdHJ1ZSB9KSA6IGdvLnZhbHVlICYmIGdvLmRvKGdvLnZhbHVlLCBvKSxcblxuICAgICAgICBsZWZ0OiAoZywgdiwgbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSB8fCAnY3VycmVudCcsICdsZWZ0JyksIHsgcHJldjogZ28udmFsdWUgfSksXG4gICAgICAgIHVwOiAoZywgdiwgbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSB8fCAnY3VycmVudCcsICd1cCcpLCB7IHByZXY6IGdvLnZhbHVlIH0pLFxuICAgICAgICByaWdodDogKGcsIHYsIG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgJ2N1cnJlbnQnLCAncmlnaHQnKSwgeyBwcmV2OiBnby52YWx1ZSB9KSxcbiAgICAgICAgZG93bjogKGcsIHYsIG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgJ2N1cnJlbnQnLCAnZG93bicpLCB7IHByZXY6IGdvLnZhbHVlIH0pLFxuXG4gICAgICAgICdjdXJyZW50JzogKCkgPT4geyB9LFxuICAgICAgICAncGFyZW50cyc6ICgpID0+IGdvLmRvKCdxdWVyeScsIHsgcXVlcnk6IHsgLi4ucXVlcmllcy5wYXJlbnRzLCBsaW1pdDogMTAwIH0gfSksXG4gICAgICAgICdjb250YWlucyc6ICgpID0+IGdvLmRvKCdxdWVyeScsIHsgcXVlcnk6IHsgLi4ucXVlcmllcy5jb250YWlucywgbGltaXQ6IDEwMCB9IH0pLFxuXG4gICAgICAgICdlZGl0LWZyb20nOiAoKSA9PiBmcm9tRGlzY2xvc3VyZS5vbk9wZW4oKSxcbiAgICAgICAgJ2Zyb20nOiAoKSA9PiBvcGVuTGluayhnbz8ubGluaz8uZnJvbV9pZCksXG4gICAgICAgICd0eXBlJzogKCkgPT4gb3BlbkxpbmsoZ28/Lmxpbms/LnR5cGVfaWQpLFxuICAgICAgICAndG8nOiAoKSA9PiBvcGVuTGluayhnbz8ubGluaz8udG9faWQpLFxuICAgICAgICAnZWRpdC10byc6ICgpID0+IHRvRGlzY2xvc3VyZS5vbk9wZW4oKSxcblxuICAgICAgICAndXAtdHJlZSc6ICgpID0+IHsgfSxcbiAgICAgICAgJ291dCc6ICgpID0+IGdvLmRvKCdxdWVyeScsIHsgcXVlcnk6IHsgLi4ucXVlcmllcy5vdXQsIGxpbWl0OiAxMDAgfSB9KSxcbiAgICAgICAgJ3R5cGVkJzogKCkgPT4gZ28uZG8oJ3F1ZXJ5JywgeyBxdWVyeTogeyAuLi5xdWVyaWVzLnR5cGVkLCBsaW1pdDogMTAwIH0gfSksXG4gICAgICAgICdpbic6ICgpID0+IGdvLmRvKCdxdWVyeScsIHsgcXVlcnk6IHsgLi4ucXVlcmllcy5pbiwgbGltaXQ6IDEwMCB9IH0pLFxuICAgICAgICAnZG93bi10cmVlJzogKCkgPT4geyB9LFxuXG4gICAgICAgICdzZWxlY3RvcnMnOiAoKSA9PiBnby5kbygncXVlcnknLCB7IHF1ZXJ5OiB7IC4uLnF1ZXJpZXMuc2VsZWN0b3JzLCBsaW1pdDogMTAwIH0gfSksXG4gICAgICAgICdzZWxlY3RlZCc6ICgpID0+IGdvLmRvKCdxdWVyeScsIHsgcXVlcnk6IHsgLi4ucXVlcmllcy5zZWxlY3RlZCwgbGltaXQ6IDEwMCB9IH0pLFxuICAgICAgICAncHJvbWlzZXMnOiAoKSA9PiBnby5kbygncXVlcnknLCB7IHF1ZXJ5OiB7IC4uLnF1ZXJpZXMucHJvbWlzZXMsIGxpbWl0OiAxMDAgfSB9KSxcbiAgICAgICAgJ3JlamVjdHMnOiAoKSA9PiBnby5kbygncXVlcnknLCB7IHF1ZXJ5OiB7IC4uLnF1ZXJpZXMucmVqZWN0cywgbGltaXQ6IDEwMCB9IH0pLFxuXG4gICAgICAgICd2YWx1ZSc6ICgpID0+IHtcbiAgICAgICAgICBnby5kbygncXVlcnknLCB7IHF1ZXJ5OiBudWxsIH0pO1xuICAgICAgICAgIGdvLmZvY3VzKGdvLnZhbHVlID09PSBUcmVlRWRpdG9yID8gJ3ZhbHVlJyA6IFRyZWVFZGl0b3IpO1xuICAgICAgICB9LFxuXG4gICAgICAgICdoYW5kbGVycyc6ICgpID0+IHtcbiAgICAgICAgICBnby5kbygncXVlcnknLCB7IHF1ZXJ5OiBudWxsIH0pO1xuICAgICAgICAgIGlmICghY29tcGF0YWJsZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlckRpc2Nsb3N1cmUub25PcGVuKCk7XG4gICAgICAgICAgfSBlbHNlIHNldEhhbmRsZXJzKGggPT4gIWgpO1xuICAgICAgICB9LFxuXG4gICAgICAgICdxdWVyeSc6IChnLHYsbykgPT4ge1xuICAgICAgICAgIGlmIChvLmhhc093blByb3BlcnR5KCdxdWVyeScpKSBzZXRRdWVyeShvLnF1ZXJ5KTtcbiAgICAgICAgfSxcblxuICAgICAgICBbU3RhY2tdOiAoZywgdiwgbykgPT4gb3Blbkxpbmsobz8uaWQpLFxuICAgICAgfX1cbiAgICAgIGZvY3VzPXt7XG4gICAgICAgIHVwOiAocSwgdiwgbykgPT4gZ28uc2V0KCkuZ28/LmdvPy5kbygndXAnKSxcbiAgICAgICAgZG93bjogKHEsIHYsIG8pID0+IGdvLnNldCgpLmdvPy5nbz8uZG8oJ2Rvd24nKSxcbiAgICAgICAgbGVmdDogKHEsIHYsIG8pID0+IGdvLnNldChvPy5sZWZ0KS5nbz8uZ28/LmRvKCdsZWZ0JyksXG4gICAgICAgIHJpZ2h0OiAocSwgdiwgbykgPT4gZ28uc2V0KG8/LnJpZ2h0KS5nbz8uZ28/LmRvKCdyaWdodCcpLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5IU3RhY2sgcmVmPXtyZWZ9IGg9JzEwMCUnIG92ZXJmbG93PSdoaWRkZW4nPlxuICAgICAgICA8ZGVlcC5GaWxlcyBjb250YWluZXJJZD17Z28ubGlua0lkfSBub0NsaWNrIG9uSW5zZXJ0PXsoaWQsIGZpbGVzKSA9PiBjb25zb2xlLmxvZyhpZCwgZmlsZXMpfSBDb21wb25lbnQ9e2MuQm94fSBQcm9wcz17eyBoOiAnMTAwJScsIHc6ICcxMDAlJyB9fT5cbiAgICAgICAgICB7Y29udGVudH1cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvZGVlcC5GaWxlcz5cbiAgICAgIDwvYy5IU3RhY2s+XG4gICAgICB7LyogeyEhcXVlcnkgJiYgPGdvLlF1ZXJ5IHF1ZXJ5PXtxdWVyeX0gb25DaGFuZ2U9eyh7IGRhdGEgfSkgPT4gc2V0TGlua3MoZGF0YSl9IC8+fSAqL31cbiAgICA8L2dvLk9uPlxuICB9O1xufVxuIl19",
        "link_id": 1105
      }
    },
    {
      "id": 1106,
      "type_id": 3,
      "from_id": 835,
      "to_id": 1105,
      "value": {
        "id": 359,
        "value": "generated",
        "link_id": 1106
      }
    },
    {
      "id": 1107,
      "type_id": 143,
      "from_id": 1105,
      "to_id": 835
    },
    {
      "id": 1108,
      "type_id": 3,
      "from_id": 835,
      "to_id": 1107
    },
    {
      "id": 836,
      "type_id": 35,
      "from_id": 145,
      "to_id": 835
    },
    {
      "id": 837,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 361,
        "value": "({ deep, data, require, Go }) => {\n  const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n  const React = require('react');\n\n  const {\n    TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon,\n    useSymbol,\n  } = require('@deep-foundation/perception-app');\n  \n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n  \n  const History = deep.idLocal(dpl, 'History');\n  const Header = deep.idLocal(dpl, 'Header');\n  const Search = deep.idLocal(dpl, 'Search');\n  const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n  const TreeList = deep.idLocal(dpl, 'TreeList');\n  const TreeLink = deep.idLocal(dpl, 'TreeLink');\n  const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n  const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n  const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n\n  const Item = ({ l, isActive }) => {\n    const go = Go.useGo();\n    return <c.Box ref={go.ref} w='100%'>\n      <go.Handler\n        handlerId={TreeLinkButton} linkId={l.id}\n        onClick={() => go.go.focus(l.id).go.do(l.id)} variant='full'\n        isActive={isActive} w='100%'\n      />\n    </c.Box>;\n  }\n\n  return ({\n    go,\n    handlerId,\n\n    isActive,\n    operations = true,\n    saveHistory = false,\n\n    children,\n  }, ref) => {\n    const [results, setResults] = React.useState([]);\n\n    const content = <c.Flex ref={ref} direction='column'\n      position='relative' minW='30em' maxW='30em' h='100%'\n      bg={isActive ? 'deepBg' : 'deepBgDark'}\n    >\n      <c.VStack ref={ref}\n        flex={1}\n        w='100%' h='100%'\n      >\n        <go.Handler\n          handlerId={TreeLinkButton} linkId={go.linkId}\n          onClick={() => go.focus('current').go.do('current')} needParent={false}\n          isActive={go.value === 'current'} w='100%'\n        />\n        <c.Box w='100%'>\n          <go.Provider linkId={Search}>\n            <go.Handler\n              handlerId={Search} linkId={go.linkId}\n              isActive={go.value === Search} w='100%'\n              onSearch={(results) => setResults(results)}\n            />\n          </go.Provider>\n        </c.Box>\n        <go.Provider linkId={TreeList}>\n          <go.Handler\n            handlerId={TreeList} linkId={TreeList} links={results}\n            isActive={go.value === TreeList} w='100%' flex='1'\n          />\n        </go.Provider>\n      </c.VStack>\n      {children}\n    </c.Flex>;\n\n    React.useEffect(() => {\n      if (go?.current) go?.current.scroll();\n    }, [go.value]);\n\n    const nav = go.useNav();\n    nav('current', 'prev', 'up', 'next', Search);\n    nav(Search, 'prev', 'current', 'next', TreeList);\n    nav(TreeList, 'prev', Search, 'next', TreeList);\n\n    return <go.Provider\n      onDo={{\n        current: () => go.do('next', { linkId: go.linkId, handlerId: TreeLink }),\n        focus: () => go.focus('current').go.scroll();\n        up: () =>  go.focus(nav.get(go.value, 'up')),\n        down: () => go.focus(nav.get(go.value, 'down')),\n        space: () => go.go.do('next', {\n          linkId: go.value === 'current' ? go.linkId : go.value === TreeList ? go(TreeList).linkId : go.linkId,\n          handlerId: TreeLink\n        }),\n      }}\n      onFocus={{\n        current: () => go.save(handlerId),\n        up: () => go?.go.do('up'),\n        down: () => go?.go.do('down'),\n      }}\n    >\n      {content}\n    </go.Provider>\n  };\n}\n",
        "link_id": 837
      }
    },
    {
      "id": 1177,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 384,
        "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Tree = deep.idLocal(dpl, 'Tree');\n    return ({ go, using = false, fullWidth = null, }, ref) => {\n        return React.createElement(go.On, { do: {\n                focus: (g, v, linkId, o) => o?.id && go.focus(o.id),\n                use: (g, v, o) => go.current && go.current.do('use', o),\n                open: async (g, v, o) => {\n                    if (!go.current)\n                        await (go.focus(Tree).go.awaitRef(Tree));\n                    if (o?.id)\n                        go.current.do('open', o);\n                },\n                concentrate: (g, v, o) => {\n                    go.current && go.current.do('concentrate', o);\n                },\n            } },\n            React.createElement(c.Box, { ref: ref, w: '100%', h: '100%' }, !!go.value && [React.createElement(go.Provider, { key: go.value, linkId: go.value },\n                    React.createElement(go.Handler, { initialId: deep?.linkId, handlerId: go.value, saveHistory: true, using: using, fullWidth: fullWidth, queryField: 'opened', operations: true }))]));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRXZDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFFRixLQUFLLEdBQUcsS0FBSyxFQUNiLFNBQVMsR0FBRyxJQUFJLEdBQ2pCLEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFJUixPQUFPLG9CQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUMsRUFBRSxFQUFFO2dCQUNoQixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUNoRCxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUMsQ0FBQyxDQUFDO2dCQUNwRCxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ3BCLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTzt3QkFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQzFELElBQUksQ0FBQyxFQUFFLEVBQUU7d0JBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNyQyxDQUFDO2dCQUNELFdBQVcsRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ3JCLEVBQUUsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNoRCxDQUFDO2FBQ0Y7WUFDQyxvQkFBQyxDQUFDLENBQUMsR0FBRyxJQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUMsTUFBTSxJQUMvQixDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssSUFBSSxDQUFDLG9CQUFDLEVBQUUsQ0FBQyxRQUFRLElBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQyxLQUFLO29CQUMxRCxvQkFBQyxFQUFFLENBQUMsT0FBTyxJQUNULFNBQVMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUN2QixTQUFTLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFDbkIsV0FBVyxRQUNYLEtBQUssRUFBRSxLQUFLLEVBQ1osU0FBUyxFQUFFLFNBQVMsRUFDcEIsVUFBVSxFQUFDLFFBQVEsRUFDbkIsVUFBVSxTQUNWLENBQ1UsQ0FBQyxDQUNULENBQ0YsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgVHJlZSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICB1c2luZyA9IGZhbHNlLFxuICAgIGZ1bGxXaWR0aCA9IG51bGwsXG4gIH0sIHJlZikgPT4ge1xuICAgIC8vIGNvbnN0IFtsYXllciwgc2V0TGF5ZXJdID0gZ28udXNlUXVlcnlTdG9yZShgbGF5ZXJgLCBUcmVlKTtcbiAgICAvLyBSZWFjdC51c2VFZmZlY3QoKCkgPT4gZ28udmFsdWUgJiYgc2V0TGF5ZXIoZ28udmFsdWUpLCBbZ28udmFsdWVdKTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGZvY3VzOiAoZyx2LGxpbmtJZCxvKSA9PiBvPy5pZCAmJiBnby5mb2N1cyhvLmlkKSxcbiAgICAgIHVzZTogKGcsdixvKSA9PiBnby5jdXJyZW50ICYmIGdvLmN1cnJlbnQuZG8oJ3VzZScsbyksXG4gICAgICBvcGVuOiBhc3luYyAoZyx2LG8pID0+IHtcbiAgICAgICAgaWYgKCFnby5jdXJyZW50KSBhd2FpdCAoZ28uZm9jdXMoVHJlZSkuZ28uYXdhaXRSZWYoVHJlZSkpO1xuICAgICAgICBpZiAobz8uaWQpIGdvLmN1cnJlbnQuZG8oJ29wZW4nLG8pO1xuICAgICAgfSxcbiAgICAgIGNvbmNlbnRyYXRlOiAoZyx2LG8pID0+IHtcbiAgICAgICAgZ28uY3VycmVudCAmJiBnby5jdXJyZW50LmRvKCdjb25jZW50cmF0ZScsIG8pO1xuICAgICAgfSxcbiAgICB9fT5cbiAgICAgIDxjLkJveCByZWY9e3JlZn0gdz0nMTAwJScgaD0nMTAwJSc+XG4gICAgICAgIHshIWdvLnZhbHVlICYmIFs8Z28uUHJvdmlkZXIga2V5PXtnby52YWx1ZX0gbGlua0lkPXtnby52YWx1ZX0+XG4gICAgICAgICAgPGdvLkhhbmRsZXJcbiAgICAgICAgICAgIGluaXRpYWxJZD17ZGVlcD8ubGlua0lkfVxuICAgICAgICAgICAgaGFuZGxlcklkPXtnby52YWx1ZX1cbiAgICAgICAgICAgIHNhdmVIaXN0b3J5XG4gICAgICAgICAgICB1c2luZz17dXNpbmd9XG4gICAgICAgICAgICBmdWxsV2lkdGg9e2Z1bGxXaWR0aH1cbiAgICAgICAgICAgIHF1ZXJ5RmllbGQ9J29wZW5lZCdcbiAgICAgICAgICAgIG9wZXJhdGlvbnNcbiAgICAgICAgICAvPlxuICAgICAgICA8L2dvLlByb3ZpZGVyPl19XG4gICAgICA8L2MuQm94PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1177
      }
    },
    {
      "id": 1178,
      "type_id": 3,
      "from_id": 856,
      "to_id": 1177,
      "value": {
        "id": 383,
        "value": "generated",
        "link_id": 1178
      }
    },
    {
      "id": 1179,
      "type_id": 143,
      "from_id": 1177,
      "to_id": 856
    },
    {
      "id": 1180,
      "type_id": 3,
      "from_id": 856,
      "to_id": 1179
    },
    {
      "id": 857,
      "type_id": 35,
      "from_id": 145,
      "to_id": 856
    },
    {
      "id": 858,
      "type_id": 827,
      "from_id": 834,
      "to_id": 857
    },
    {
      "id": 859,
      "type_id": 827,
      "from_id": 840,
      "to_id": 857
    },
    {
      "id": 860,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 385,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const { MoonIcon, SunIcon } = require('@chakra-ui/icons');\n  const { GrGraphQl } = require(\"react-icons/gr\");\n  const { IoReload, IoMdBrowsers } = require(\"react-icons/io\");\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Menu = deep.idLocal(dpl, 'Menu');\n  const Layer = deep.idLocal(dpl, 'Layer');\n  const Header = deep.idLocal(dpl, 'Header');\n  const Queries = deep.idLocal(dpl, 'Queries');\n\n  const Tree = deep.idLocal(dpl, 'Tree');\n\n  return ({\n    go,\n    linkId,\n\n    Status,\n    Auth,\n    ColorMode,\n\n    children,\n\n  }, ref) => {\n    const nav = go.useNav();\n    nav(Menu, Menu, Header, Layer, Queries);\n    nav(Queries, Queries, Menu, Layer, Queries);\n    nav(Layer, Menu, Header, Layer, Layer);\n    nav(Header, Header, Header, Header, Layer);\n\n    // const useTheme = go.useHook({ path: [dpl, 'useTheme'] });\n    // console.log('useTheme', useTheme);\n\n    React.useEffect(() => {\n      go.focus(Menu)\n\n    }, []);\n\n    const isMobile = c.useBreakpointValue(\n      { base: true, md: false },\n      { fallback: 'xs' },\n    );\n\n    return <go.On\n      do={{\n        left: (g, v, o) => go.focus(nav.get(go.value, 'left'), o),\n        up: (g, v, o) => go.focus(nav.get(go.value, 'up'), o),\n        right: (g, v, o) => go.focus(nav.get(go.value, 'right'), o),\n        down: (g, v, o) => go.focus(nav.get(go.value, 'down'), o),\n        use: (g, v, o) => {\n          if (go.data.usedId != o?.id && o?.id) {\n            go.data.usedId = o.id;\n            go(Header).do('use', o);\n            go(Layer).do('use', o);\n          }\n        },\n        open: async (g, v, o) => {\n          if (!go(Layer)) await (go.focus(Layer).go.awaitRef(Layer));\n          go(Layer).do('open', o);\n        },\n        concentrate: (g,v,o) => {\n          go(Layer).do('concentrate', o);\n        },\n      }}\n    >\n      <c.Box ref={go.ref} h='100vh' w=\"100vw\" position=\"fixed\" left=\"0%\" top=\"0%\">\n        <c.Grid\n          templateAreas={`\"tabs tabs\"\n                              \"nav main\"`}\n          gridTemplateRows={'3em 1fr'}\n          gridTemplateColumns={'3em 1fr'}\n          h='100vh' w=\"100vw\" position=\"fixed\" left=\"0%\" top=\"0%\"\n          color='blackAlpha.700'\n          fontWeight='bold'\n          ref={ref}\n        >\n          <c.GridItem area={'tabs'} zIndex={1}>\n            <c.Flex w=\"100%\" h=\"100%\" bg={go.value === Header ? 'deepBgDark' : 'deepBg'}>\n              <go.Provider linkId={Header}>\n                <go.Handler\n                  linkId={deep.linkId}\n                  handlerId={Header}\n                  using\n                />\n              </go.Provider>\n            </c.Flex>\n          </c.GridItem>\n          <c.GridItem area={'nav'} zIndex={1} position=\"relative\" h=\"100%\">\n            <c.Flex direction='column' h='100%' bg={go.value === Menu ? 'deepBgDark' : 'deepBg'}>\n              <go.Provider linkId={Menu}>\n                <go.Handler\n                  linkId={deep.linkId}\n                  handlerId={Menu}\n                  flex='1'\n                />\n              </go.Provider>\n              <c.VStack>\n                <c.Button w='3em' h='3em' as='a' target='_blank' href={`https://deep-foundation.github.io/perception-app?path=\"http${deep.client.ssl ? 's' : ''}://${deep.client.path}\"&token=${deep.token}`}><IoMdBrowsers /></c.Button>\n                <c.Button w='3em' h='3em' as='a' href={`http://${deep?.client?.path}`}><GrGraphQl /></c.Button>\n                <ColorMode w='3em' h='3em' dark={{ children: <SunIcon /> }} light={{ children: <MoonIcon /> }} />\n                <go.Provider linkId={Queries}>\n                  <go.Component path={[dpl, 'Queries']} isActive={go.value === Queries}><Status /></go.Component>\n                </go.Provider>\n                <Auth />\n              </c.VStack>\n            </c.Flex>\n          </c.GridItem>\n          <c.GridItem area={'main'} overflow=\"hidden\" position=\"relative\" h='100%' bg={go.value === Layer ? 'deepBgDark' : 'deepBg'}>\n            <go.Provider linkId={Layer} value={Tree}>\n              <go.Handler\n                linkId={deep.linkId}\n                handlerId={Layer}\n                using fullWidth={isMobile ? 'calc(100vw - 3em)' : null}\n              />\n            </go.Provider>\n          </c.GridItem>\n        </c.Grid>\n      </c.Box>\n    </go.On>;\n  };\n}",
        "link_id": 860
      }
    },
    {
      "id": 1240,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 405,
        "value": "({ deep, data, require, Go }) => {\n    const { BsFullscreenExit, BsFullscreen } = require(\"react-icons/bs\");\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    return ({ go, linkId, disclosure: __disclosure, }, ref) => {\n        const _disclosure = c.useDisclosure();\n        const disclosure = __disclosure || _disclosure;\n        return React.createElement(go.On, { do: {} },\n            !disclosure.isOpen && React.createElement(go.Editor, { linkId: linkId, fillSize: true },\n                React.createElement(c.Button, { w: '3em', h: '3em', onClick: disclosure.onOpen },\n                    React.createElement(BsFullscreen, null))),\n            React.createElement(c.Modal, { closeOnOverlayClick: true, blockScrollOnMount: false, onClose: disclosure.onClose, isOpen: disclosure.isOpen, portalProps: { containerRef: go.root().ref } },\n                React.createElement(c.ModalOverlay, null),\n                React.createElement(c.ModalContent, { w: '80vw', maxW: '80vw', h: '80vh', position: 'relative' },\n                    React.createElement(c.ModalHeader, null, '' + deep.nameLocal(linkId)),\n                    React.createElement(c.ModalBody, { p: 0, position: 'relative' },\n                        React.createElement(go.Editor, { linkId: linkId, fillSize: true },\n                            React.createElement(BsFullscreenExit, null))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDckUsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRS9CLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBRWhELE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixNQUFNLEVBRU4sVUFBVSxFQUFFLFlBQVksR0FDekIsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN0QyxNQUFNLFVBQVUsR0FBRyxZQUFZLElBQUksV0FBVyxDQUFDO1FBRS9DLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUUsRUFDakI7WUFDRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLElBQUksb0JBQUMsRUFBRSxDQUFDLE1BQU0sSUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVE7Z0JBQ3hELG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsTUFBTTtvQkFDbEQsb0JBQUMsWUFBWSxPQUFFLENBQ04sQ0FDRDtZQUNaLG9CQUFDLENBQUMsQ0FBQyxLQUFLLElBQ04sbUJBQW1CLFFBQUMsa0JBQWtCLEVBQUUsS0FBSyxFQUM3QyxPQUFPLEVBQUUsVUFBVSxDQUFDLE9BQU8sRUFDM0IsTUFBTSxFQUFFLFVBQVUsQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUU7Z0JBRXZFLG9CQUFDLENBQUMsQ0FBQyxZQUFZLE9BQUc7Z0JBQ2xCLG9CQUFDLENBQUMsQ0FBQyxZQUFZLElBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFVBQVU7b0JBQy9ELG9CQUFDLENBQUMsQ0FBQyxXQUFXLFFBQUUsRUFBRSxHQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQWlCO29CQUMxRCxvQkFBQyxDQUFDLENBQUMsU0FBUyxJQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFDLFVBQVU7d0JBQ3BDLG9CQUFDLEVBQUUsQ0FBQyxNQUFNLElBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFROzRCQUNqQyxvQkFBQyxnQkFBZ0IsT0FBRSxDQUNWLENBQ0MsQ0FDQyxDQUNULENBQ0osQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgeyBCc0Z1bGxzY3JlZW5FeGl0LCBCc0Z1bGxzY3JlZW4gfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9ic1wiKTtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBsaW5rSWQsXG4gIFxuICAgIGRpc2Nsb3N1cmU6IF9fZGlzY2xvc3VyZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgX2Rpc2Nsb3N1cmUgPSBjLnVzZURpc2Nsb3N1cmUoKTtcbiAgICBjb25zdCBkaXNjbG9zdXJlID0gX19kaXNjbG9zdXJlIHx8IF9kaXNjbG9zdXJlO1xuICAgIFxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICB9fT5cbiAgICAgIHshZGlzY2xvc3VyZS5pc09wZW4gJiYgPGdvLkVkaXRvciBsaW5rSWQ9e2xpbmtJZH0gZmlsbFNpemU+XG4gICAgICAgIDxjLkJ1dHRvbiB3PSczZW0nIGg9JzNlbScgb25DbGljaz17ZGlzY2xvc3VyZS5vbk9wZW59PlxuICAgICAgICAgIDxCc0Z1bGxzY3JlZW4vPlxuICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgPC9nby5FZGl0b3I+fVxuICAgICAgPGMuTW9kYWxcbiAgICAgICAgY2xvc2VPbk92ZXJsYXlDbGljayBibG9ja1Njcm9sbE9uTW91bnQ9e2ZhbHNlfVxuICAgICAgICBvbkNsb3NlPXtkaXNjbG9zdXJlLm9uQ2xvc2V9XG4gICAgICAgIGlzT3Blbj17ZGlzY2xvc3VyZS5pc09wZW59IHBvcnRhbFByb3BzPXt7IGNvbnRhaW5lclJlZjogZ28ucm9vdCgpLnJlZiB9fVxuICAgICAgPlxuICAgICAgICA8Yy5Nb2RhbE92ZXJsYXkgLz5cbiAgICAgICAgPGMuTW9kYWxDb250ZW50IHc9JzgwdncnIG1heFc9JzgwdncnIGg9JzgwdmgnIHBvc2l0aW9uPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgPGMuTW9kYWxIZWFkZXI+eycnK2RlZXAubmFtZUxvY2FsKGxpbmtJZCl9PC9jLk1vZGFsSGVhZGVyPlxuICAgICAgICAgIDxjLk1vZGFsQm9keSBwPXswfSBwb3NpdGlvbj0ncmVsYXRpdmUnPlxuICAgICAgICAgICAgPGdvLkVkaXRvciBsaW5rSWQ9e2xpbmtJZH0gZmlsbFNpemU+XG4gICAgICAgICAgICAgIDxCc0Z1bGxzY3JlZW5FeGl0Lz5cbiAgICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgICAgPC9jLk1vZGFsQm9keT5cbiAgICAgICAgPC9jLk1vZGFsQ29udGVudD5cbiAgICAgIDwvYy5Nb2RhbD5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1240
      }
    },
    {
      "id": 1241,
      "type_id": 3,
      "from_id": 877,
      "to_id": 1240,
      "value": {
        "id": 404,
        "value": "generated",
        "link_id": 1241
      }
    },
    {
      "id": 1242,
      "type_id": 143,
      "from_id": 1240,
      "to_id": 877
    },
    {
      "id": 1243,
      "type_id": 3,
      "from_id": 877,
      "to_id": 1242
    },
    {
      "id": 878,
      "type_id": 35,
      "from_id": 145,
      "to_id": 877
    },
    {
      "id": 879,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 406,
        "value": "async ({ deep, data, require }) => {\n  const React = require('react');\n  const { SiApollographql } = require(\"react-icons/si\");\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Sandbox = deep.idLocal(dpl, 'Sandbox');\n\n  return ({\n    go,\n    handlerId,\n\n    isActive,\n  }, ref) => {\n    return <go.On do={{\n      exec: (g,v,o) => go.go.do('right', { ...o, id: Sandbox })),\n      click: (g,v,o) => go.do('exec', o),\n      right: (g,v,o) => go.do('exec', o),\n    }}>\n      <c.Button\n        w='3em' h='3em'\n        variant={isActive ? 'active' : undefined}\n        onClick={() => {\n          go.do('enter');\n        }}\n        ref={ref}\n      >\n        <SiApollographql/>\n      </c.Button>\n    </go.On>;\n  };\n}",
        "link_id": 879
      }
    },
    {
      "id": 1249,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 408,
        "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { SiApollographql } = require(\"react-icons/si\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Sandbox = deep.idLocal(dpl, 'Sandbox');\n    return ({ go, handlerId, isActive, }, ref) => {\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.go.do('right', { ...o, id: Sandbox }),\n                click: (g, v, o) => go.do('exec', o),\n                right: (g, v, o) => go.do('exec', o),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, onClick: () => {\n                    go.do('enter');\n                }, ref: ref },\n                React.createElement(SiApollographql, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUN0RCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUU3QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQztnQkFDekQsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztnQkFDbEMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQzthQUNuQztZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxPQUFPLEVBQUUsR0FBRyxFQUFFO29CQUNaLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ2pCLENBQUMsRUFDRCxHQUFHLEVBQUUsR0FBRztnQkFFUixvQkFBQyxlQUFlLE9BQUUsQ0FDVCxDQUNMLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCByZXF1aXJlIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCB7IFNpQXBvbGxvZ3JhcGhxbCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL3NpXCIpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIGNvbnN0IFNhbmRib3ggPSBkZWVwLmlkTG9jYWwoZHBsLCAnU2FuZGJveCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGhhbmRsZXJJZCxcblxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBleGVjOiAoZyx2LG8pID0+IGdvLmdvLmRvKCdyaWdodCcsIHsgLi4ubywgaWQ6IFNhbmRib3ggfSkpLFxuICAgICAgY2xpY2s6IChnLHYsbykgPT4gZ28uZG8oJ2V4ZWMnLCBvKSxcbiAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgfX0+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgdz0nM2VtJyBoPSczZW0nXG4gICAgICAgIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBnby5kbygnZW50ZXInKTtcbiAgICAgICAgfX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICA+XG4gICAgICAgIDxTaUFwb2xsb2dyYXBocWwvPlxuICAgICAgPC9jLkJ1dHRvbj5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1249
      }
    },
    {
      "id": 1250,
      "type_id": 3,
      "from_id": 879,
      "to_id": 1249,
      "value": {
        "id": 407,
        "value": "generated",
        "link_id": 1250
      }
    },
    {
      "id": 1251,
      "type_id": 143,
      "from_id": 1249,
      "to_id": 879
    },
    {
      "id": 1252,
      "type_id": 3,
      "from_id": 879,
      "to_id": 1251
    },
    {
      "id": 880,
      "type_id": 35,
      "from_id": 145,
      "to_id": 879
    },
    {
      "id": 881,
      "type_id": 827,
      "from_id": 880,
      "to_id": 852
    },
    {
      "id": 882,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 409,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const { ApolloSandbox } = require('@apollo/sandbox/react');\n  const c = require('@chakra-ui/react');\n\n  return ({\n    go,\n\n    requestOptions = {},\n\n    children,\n  }, ref) => {\n    return <go.On do={{\n      use: (g,v,o) => {},\n    }}>\n      <c.Box ref={ref} h='100%' w='100%' sx={{ '& > div': { h: '100%' } }}>\n        <ApolloSandbox\n          initialEndpoint={`http${deep.client.ssl ? 's' : ''}://${deep.client.path}`}\n          initialState={{\n            sharedHeaders: {\n              Authorization: `Bearer ${deep.token}`,\n            },\n          }}\n        />\n      </c.Box>\n    </go.On>;\n  };\n}",
        "link_id": 882
      }
    },
    {
      "id": 885,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 412,
        "value": "async ({ deep, data, require }) => {\n  const React = require('react');\n  const { GrGraphQl } = require(\"react-icons/gr\");\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Layer = deep.idLocal(dpl, 'Layer');\n  const Graphql = deep.idLocal(dpl, 'Graphql');\n\n  return ({\n    go,\n    handlerId,\n\n    isActive,\n  }, ref) => {\n    return <go.Provider onDo={{\n      space: () => go.go.go.focus(Layer).go(Layer).focus(Graphql),\n      enter: () => go.go.go.focus(Layer).go(Layer).focus(Graphql),\n    }}>\n      <c.Button\n        w='3em' h='3em'\n        variant={isActive ? 'active' : undefined}\n        onClick={() => {\n          go.go.focus(handlerId);\n          go.do('enter');\n        }}\n        ref={ref}\n      >\n        <GrGraphQl/>\n      </c.Button>\n    </go.Provider>;\n  };\n}",
        "link_id": 885
      }
    },
    {
      "id": 1366,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 447,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n    const { IoInfiniteSharp } = require(\"react-icons/io5\");\n    const { Planet } = require('react-planet');\n    const c = require('@chakra-ui/react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const dpl = '@deep-foundation/perception-links';\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const _Item = ({ link, isActive, Item, index, position }) => {\n        const go = Go.useGo();\n        const Component = link?.Component || Item;\n        return React.createElement(Component, { link: link, go: go, isActive: isActive, position: position, index: index });\n    };\n    return ({ go, links: _links, Component, ErrorComponent, UnhandledComponent, Item, saveHistory = false, linkId, link, handlerId, goHandler, ...props }, ref) => {\n        const links = React.useMemo(() => _links.filter(l => !!l?.id), [_links]);\n        const list = links.map((link, i) => !!link ? React.createElement(go.Provider, { key: link.id, linkId: link.id },\n            React.createElement(_Item, { link: link, isActive: go.value === link.id, Item: Item, saveHistory: saveHistory, index: i, position: i / (links.length - 1) })) : React.createElement(React.Fragment, null));\n        const index = React.useMemo(() => links.findIndex(l => l?.id === go.value), [go.value]);\n        const position = React.useMemo(() => index / (links.length - 1), [index]);\n        return React.createElement(go.On, { do: {\n                focus: (g, v, id, o) => !id && go.do('use', o),\n                exec: (g, v, o) => !!go.value && go.go.do('exec', { id: go.value, index, position }),\n                up: (g, v, o) => go.set().go.go.do('up', { ...o, id: go.value, index, position }),\n                down: (g, v, o) => go.set().go.go.do('down', { ...o, id: go.value, index, position }),\n                left: (g, v, o) => go.focus(go.prev(links)),\n                right: (g, v, o) => go.focus(go.next(links)),\n                use: (g, v, o) => {\n                    let id = o?.id;\n                    if (typeof (o?.position) === 'number') {\n                        id = links?.[Math.round((links.length - 1) * o.position)]?.id;\n                        console.log('XXXX', o, id, links, Math.round((links.length - 1) * o.position));\n                    }\n                    if (typeof (id) === 'number' || typeof (id) === 'string')\n                        id != go.value && go(id) && go.set(id).go(id)?.go?.do('use');\n                },\n            }, focus: {} },\n            React.createElement(Planet, { orbitRadius: 70, mass: 1, tension: 500, friction: 19, ...props }, list));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BFLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUN2RCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFDSixTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxHQUN6RSxHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBRWhELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sS0FBSyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRTtRQUMxRCxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDdEIsTUFBTSxTQUFTLEdBQUcsSUFBSSxFQUFFLFNBQVMsSUFBSSxJQUFJLENBQUM7UUFDMUMsT0FBTyxvQkFBQyxTQUFTLElBQUMsSUFBSSxFQUFFLElBQUks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QUFFLENBQUMsS0FBSyxRQUFRLElBQUksT0FBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLFFBQVE7d0JBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3ZILENBQUM7YUFDRixFQUFFLEtBQUssRUFBRSxFQUNUO1lBQ0Msb0JBQUMsTUFBTSxJQUNMLFdBQVcsRUFBRSxFQUFFLEVBQ2YsSUFBSSxFQUFFLENBQUMsRUFDUCxPQUFPLEVBQUUsR0FBRyxFQUNaLFFBQVEsRUFBRSxFQUFFLEtBQ1IsS0FBSyxJQUVSLElBQUksQ0FDRSxDQUNILENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBMdUNoZXZyb25MYXN0LCBMdUNoZXZyb25GaXJzdCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2x1XCIpO1xuICBjb25zdCB7IElvSW5maW5pdGVTaGFycCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2lvNVwiKTtcbiAgY29uc3QgeyBQbGFuZXQgfSA9IHJlcXVpcmUoJ3JlYWN0LXBsYW5ldCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IHtcbiAgICBUeXBlZEljb24sIERvd25JY29uLCBVcEljb24sIFR5cGVJY29uLCBJbkljb24sIE91dEljb24sIEZyb21JY29uLCBUb0ljb24sXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG5cbiAgY29uc3QgVHJlZUxpc3QgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpc3QnKTtcblxuICBjb25zdCBfSXRlbSA9ICh7IGxpbmssIGlzQWN0aXZlLCBJdGVtLCBpbmRleCwgcG9zaXRpb24gfSkgPT4ge1xuICAgIGNvbnN0IGdvID0gR28udXNlR28oKTtcbiAgICBjb25zdCBDb21wb25lbnQgPSBsaW5rPy5Db21wb25lbnQgfHwgSXRlbTtcbiAgICByZXR1cm4gPENvbXBvbmVudCBsaW5rPXtsaW5rfSBnbz17Z299IGlzQWN0aXZlPXtpc0FjdGl2ZX0gcG9zaXRpb249e3Bvc2l0aW9ufSBpbmRleD17aW5kZXh9Lz47XG4gIH1cblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGxpbmtzOiBfbGlua3MsXG5cbiAgICBDb21wb25lbnQsXG4gICAgRXJyb3JDb21wb25lbnQsXG4gICAgVW5oYW5kbGVkQ29tcG9uZW50LFxuXG4gICAgSXRlbSxcblxuICAgIHNhdmVIaXN0b3J5ID0gZmFsc2UsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcbiAgICBoYW5kbGVySWQsXG4gICAgZ29IYW5kbGVyLFxuXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgbGlua3MgPSBSZWFjdC51c2VNZW1vKCgpID0+IF9saW5rcy5maWx0ZXIobCA9PiAhIWw/LmlkKSwgW19saW5rc10pO1xuICAgIGNvbnN0IGxpc3QgPSBsaW5rcy5tYXAoKGxpbmssIGkpID0+ICEhbGluayA/IDxnby5Qcm92aWRlciBrZXk9e2xpbmsuaWR9IGxpbmtJZD17bGluay5pZH0+XG4gICAgICA8X0l0ZW1cbiAgICAgICAgbGluaz17bGlua30gaXNBY3RpdmU9e2dvLnZhbHVlID09PSBsaW5rLmlkfSBJdGVtPXtJdGVtfSBzYXZlSGlzdG9yeT17c2F2ZUhpc3Rvcnl9XG4gICAgICAgIGluZGV4PXtpfSBwb3NpdGlvbj17aSAvIChsaW5rcy5sZW5ndGggLSAxKX1cbiAgICAgIC8+XG4gICAgPC9nby5Qcm92aWRlcj4gOiA8UmVhY3QuRnJhZ21lbnQvPik7XG5cbiAgICBjb25zdCBpbmRleCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gbGlua3MuZmluZEluZGV4KGwgPT4gbD8uaWQgPT09IGdvLnZhbHVlKSwgW2dvLnZhbHVlXSk7XG4gICAgY29uc3QgcG9zaXRpb24gPSBSZWFjdC51c2VNZW1vKCgpID0+IGluZGV4IC8gKGxpbmtzLmxlbmd0aCAtIDEpLCBbaW5kZXhdKTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGZvY3VzOiAoZyx2LGlkLG8pID0+ICFpZCAmJiBnby5kbygndXNlJywgbyksXG4gICAgICBleGVjOiAoZyx2LG8pID0+ICEhZ28udmFsdWUgJiYgZ28uZ28uZG8oJ2V4ZWMnLCB7IGlkOiBnby52YWx1ZSwgaW5kZXgsIHBvc2l0aW9uIH0pLFxuICAgICAgdXA6IChnLHYsbykgPT4gZ28uc2V0KCkuZ28uZ28uZG8oJ3VwJywgeyAuLi5vLCBpZDogZ28udmFsdWUsIGluZGV4LCBwb3NpdGlvbiB9KSxcbiAgICAgIGRvd246IChnLHYsbykgPT4gZ28uc2V0KCkuZ28uZ28uZG8oJ2Rvd24nLCB7IC4uLm8sIGlkOiBnby52YWx1ZSwgaW5kZXgsIHBvc2l0aW9uIH0pLFxuICAgICAgbGVmdDogKGcsdixvKSA9PiBnby5mb2N1cyhnby5wcmV2KGxpbmtzKSksXG4gICAgICByaWdodDogKGcsdixvKSA9PiBnby5mb2N1cyhnby5uZXh0KGxpbmtzKSksXG4gICAgICB1c2U6IChnLHYsbykgPT4ge1xuICAgICAgICBsZXQgaWQgPSBvPy5pZDtcbiAgICAgICAgaWYgKHR5cGVvZihvPy5wb3NpdGlvbikgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgaWQgPSBsaW5rcz8uW01hdGgucm91bmQoKGxpbmtzLmxlbmd0aCAtIDEpICogby5wb3NpdGlvbildPy5pZDtcbiAgICAgICAgY29uc29sZS5sb2coJ1hYWFgnLCBvLCBpZCwgbGlua3MsIE1hdGgucm91bmQoKGxpbmtzLmxlbmd0aCAtIDEpICogby5wb3NpdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YoaWQpID09PSAnbnVtYmVyJyB8fCB0eXBlb2YoaWQpID09PSAnc3RyaW5nJykgaWQgIT0gZ28udmFsdWUgJiYgZ28oaWQpICYmIGdvLnNldChpZCkuZ28oaWQpPy5nbz8uZG8oJ3VzZScpO1xuICAgICAgfSxcbiAgICB9fSBmb2N1cz17e1xuICAgIH19PlxuICAgICAgPFBsYW5ldFxuICAgICAgICBvcmJpdFJhZGl1cz17NzB9XG4gICAgICAgIG1hc3M9ezF9XG4gICAgICAgIHRlbnNpb249ezUwMH1cbiAgICAgICAgZnJpY3Rpb249ezE5fVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICA+XG4gICAgICAgIHtsaXN0fVxuICAgICAgPC9QbGFuZXQ+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1366
      }
    },
    {
      "id": 1367,
      "type_id": 3,
      "from_id": 905,
      "to_id": 1366,
      "value": {
        "id": 446,
        "value": "generated",
        "link_id": 1367
      }
    },
    {
      "id": 1368,
      "type_id": 143,
      "from_id": 1366,
      "to_id": 905
    },
    {
      "id": 1369,
      "type_id": 3,
      "from_id": 905,
      "to_id": 1368
    },
    {
      "id": 906,
      "type_id": 35,
      "from_id": 145,
      "to_id": 905
    },
    {
      "id": 907,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 448,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n  const { IoInfiniteSharp } = require(\"react-icons/io5\");\n  const { Planet } = require('react-planet');\n  const c = require('@chakra-ui/react');\n\n  const {\n    TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon,\n  } = require('@deep-foundation/perception-app');\n\n  const dpl = '@deep-foundation/perception-links';\n\n  const TreeList = deep.idLocal(dpl, 'TreeList');\n\n  const Item = ({ isActive, link, position }) => {\n    const go = Go.useGo();\n    return <c.Button variant={isActive ? 'planetActive' : 'planet'}\n      onClick={() => go.go.focus(link.id).go.do(link.id)}\n    >{link.icon}</c.Button>;\n  };\n\n  let i = 1;\n\n  return ({\n    go,\n\n    linkId,\n\n    isActive = false,\n  }, ref) => {\n    const { cy } = go.useGraph();\n\n    const links = [\n      { id: 'ups', icon: <UpIcon/> },\n      { id: 'out', icon: <OutIcon/> },\n      { id: 'from', icon: <FromIcon/> },\n      { id: 'type', icon: <TypeIcon/> },\n      { id: 'typed', icon: <TypedIcon/> },\n      { id: 'to', icon: <ToIcon/> },\n      { id: 'in', icon: <InIcon/> },\n      { id: 'downs', icon: <DownIcon/> },\n    ];\n\n    const focus = {};\n    for (let l in links) {\n      focus[links[l].id] = (g,v,o) => {}\n    }\n\n    return <go.On do={{\n      exec: () => go.do(go.value),\n\n      typed: async (g,v,o) => {\n        go.do('query', { name: v, parentId: linkId, query: { type_id: linkId } });\n        go.go.set();\n      },\n      out: async (g,v,o) => {\n        go.do('query', { name: v, parentId: linkId, query: { from_id: linkId } });\n        go.go.set();\n      },\n      in: async (g,v,o) => {\n        go.do('query', { name: v, parentId: linkId, query: { to_id: linkId } });\n        go.go.set();\n      },\n\n      type: async (g,v,o) => {\n        go.do('query', { name: v, parentId: linkId, query: { id: deep.get(linkId).type_id } });\n        go.go.set();\n      },\n      from: async (g,v,o) => {\n        go.do('query', { name: v, parentId: linkId, query: { id: deep.get(linkId).from_id } });\n        go.go.set();\n      },\n      to: async (g,v,o) => {\n        go.do('query', { name: v, parentId: linkId, query: { id: deep.get(linkId).to_id } });\n        go.go.set();\n      },\n\n      ups: async (g,v,o) => {\n        go.do('query', { name: v, parentId: linkId, query: { down: { link_id: linkId } } });\n        go.go.set();\n      },\n      downs: async (g,v,o) => {\n        go.do('query', { name: v, parentId: linkId, query: { up: { parent_id: linkId } } });\n        go.go.set();\n      },\n    }} focus={focus}>\n      <go.Component\n        open={isActive}\n        path={[dpl, 'Planet']} links={links}\n        Item={Item}\n        orbitRadius={70} mass={1}\n      />\n    </go.On>;\n  };\n}",
        "link_id": 907
      }
    },
    {
      "id": 964,
      "type_id": 3,
      "from_id": 948,
      "to_id": 835,
      "value": {
        "id": 511,
        "value": "TreeLinkComponent",
        "link_id": 964
      }
    },
    {
      "id": 980,
      "type_id": 3,
      "from_id": 948,
      "to_id": 855,
      "value": {
        "id": 527,
        "value": "compatableMenuTree",
        "link_id": 980
      }
    },
    {
      "id": 981,
      "type_id": 3,
      "from_id": 948,
      "to_id": 872,
      "value": {
        "id": 528,
        "value": "compatableMenuGraph",
        "link_id": 981
      }
    },
    {
      "id": 1033,
      "type_id": 3,
      "from_id": 948,
      "to_id": 891,
      "value": {
        "id": 580,
        "value": "LinkInsertModalComponent",
        "link_id": 1033
      }
    },
    {
      "id": 1589,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1561,
      "value": {
        "id": 649,
        "value": "ruleSubject",
        "link_id": 1589
      }
    },
    {
      "id": 1590,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1565,
      "value": {
        "id": 650,
        "value": "ruleObject",
        "link_id": 1590
      }
    },
    {
      "id": 1591,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1567,
      "value": {
        "id": 651,
        "value": "ruleAction",
        "link_id": 1591
      }
    },
    {
      "id": 1592,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1554,
      "value": {
        "id": 652,
        "value": "rule",
        "link_id": 1592
      }
    },
    {
      "id": 1593,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1563,
      "value": {
        "id": 653,
        "value": "ruleSubjectSelectorIncludeTree",
        "link_id": 1593
      }
    },
    {
      "id": 1594,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1562,
      "value": {
        "id": 654,
        "value": "ruleSubjectSelectorInclude",
        "link_id": 1594
      }
    },
    {
      "id": 1595,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1560,
      "value": {
        "id": 655,
        "value": "ruleSubjectSelector",
        "link_id": 1595
      }
    },
    {
      "id": 1596,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1564,
      "value": {
        "id": 656,
        "value": "ruleObjectSelector",
        "link_id": 1596
      }
    },
    {
      "id": 1597,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1569,
      "value": {
        "id": 657,
        "value": "ruleActionSelectorIncludeTree",
        "link_id": 1597
      }
    },
    {
      "id": 277,
      "type_id": 3,
      "from_id": 184,
      "to_id": 93,
      "value": {
        "id": 99,
        "value": "AllowPackageInstall",
        "link_id": 277
      }
    },
    {
      "id": 279,
      "type_id": 3,
      "from_id": 184,
      "to_id": 95,
      "value": {
        "id": 101,
        "value": "PromiseOut",
        "link_id": 279
      }
    },
    {
      "id": 281,
      "type_id": 3,
      "from_id": 184,
      "to_id": 97,
      "value": {
        "id": 103,
        "value": "PackageQuery",
        "link_id": 281
      }
    },
    {
      "id": 282,
      "type_id": 3,
      "from_id": 184,
      "to_id": 98,
      "value": {
        "id": 104,
        "value": "packageQueryValue",
        "link_id": 282
      }
    },
    {
      "id": 283,
      "type_id": 3,
      "from_id": 184,
      "to_id": 99,
      "value": {
        "id": 105,
        "value": "Port",
        "link_id": 283
      }
    },
    {
      "id": 284,
      "type_id": 3,
      "from_id": 184,
      "to_id": 100,
      "value": {
        "id": 106,
        "value": "portValue",
        "link_id": 284
      }
    },
    {
      "id": 285,
      "type_id": 3,
      "from_id": 184,
      "to_id": 101,
      "value": {
        "id": 107,
        "value": "HandlePort",
        "link_id": 285
      }
    },
    {
      "id": 286,
      "type_id": 3,
      "from_id": 184,
      "to_id": 102,
      "value": {
        "id": 108,
        "value": "PackageInstalled",
        "link_id": 286
      }
    },
    {
      "id": 287,
      "type_id": 3,
      "from_id": 184,
      "to_id": 103,
      "value": {
        "id": 109,
        "value": "PackagePublished",
        "link_id": 287
      }
    },
    {
      "id": 288,
      "type_id": 3,
      "from_id": 184,
      "to_id": 104,
      "value": {
        "id": 110,
        "value": "Route",
        "link_id": 288
      }
    },
    {
      "id": 289,
      "type_id": 3,
      "from_id": 184,
      "to_id": 105,
      "value": {
        "id": 111,
        "value": "RouterListening",
        "link_id": 289
      }
    },
    {
      "id": 290,
      "type_id": 3,
      "from_id": 184,
      "to_id": 106,
      "value": {
        "id": 112,
        "value": "RouterStringUse",
        "link_id": 290
      }
    },
    {
      "id": 291,
      "type_id": 3,
      "from_id": 184,
      "to_id": 107,
      "value": {
        "id": 113,
        "value": "routerStringUseValue",
        "link_id": 291
      }
    },
    {
      "id": 292,
      "type_id": 3,
      "from_id": 184,
      "to_id": 108,
      "value": {
        "id": 114,
        "value": "HandleRoute",
        "link_id": 292
      }
    },
    {
      "id": 293,
      "type_id": 3,
      "from_id": 184,
      "to_id": 109,
      "value": {
        "id": 115,
        "value": "routeTree",
        "link_id": 293
      }
    },
    {
      "id": 294,
      "type_id": 3,
      "from_id": 184,
      "to_id": 110,
      "value": {
        "id": 116,
        "value": "routeTreePort",
        "link_id": 294
      }
    },
    {
      "id": 295,
      "type_id": 3,
      "from_id": 184,
      "to_id": 111,
      "value": {
        "id": 117,
        "value": "routeTreeRouter",
        "link_id": 295
      }
    },
    {
      "id": 296,
      "type_id": 3,
      "from_id": 184,
      "to_id": 112,
      "value": {
        "id": 118,
        "value": "routeTreeRoute",
        "link_id": 296
      }
    },
    {
      "id": 297,
      "type_id": 3,
      "from_id": 184,
      "to_id": 113,
      "value": {
        "id": 119,
        "value": "routeTreeHandler",
        "link_id": 297
      }
    },
    {
      "id": 298,
      "type_id": 3,
      "from_id": 184,
      "to_id": 114,
      "value": {
        "id": 120,
        "value": "routeTreeRouterListening",
        "link_id": 298
      }
    },
    {
      "id": 299,
      "type_id": 3,
      "from_id": 184,
      "to_id": 115,
      "value": {
        "id": 121,
        "value": "routeTreeRouterStringUse",
        "link_id": 299
      }
    },
    {
      "id": 300,
      "type_id": 3,
      "from_id": 184,
      "to_id": 116,
      "value": {
        "id": 122,
        "value": "routeTreeHandleRoute",
        "link_id": 300
      }
    },
    {
      "id": 301,
      "type_id": 3,
      "from_id": 184,
      "to_id": 117,
      "value": {
        "id": 123,
        "value": "TreeIncludeIn",
        "link_id": 301
      }
    },
    {
      "id": 302,
      "type_id": 3,
      "from_id": 184,
      "to_id": 118,
      "value": {
        "id": 124,
        "value": "TreeIncludeOut",
        "link_id": 302
      }
    },
    {
      "id": 303,
      "type_id": 3,
      "from_id": 184,
      "to_id": 119,
      "value": {
        "id": 125,
        "value": "TreeIncludeFromCurrent",
        "link_id": 303
      }
    },
    {
      "id": 304,
      "type_id": 3,
      "from_id": 184,
      "to_id": 120,
      "value": {
        "id": 126,
        "value": "TreeIncludeToCurrent",
        "link_id": 304
      }
    },
    {
      "id": 305,
      "type_id": 3,
      "from_id": 184,
      "to_id": 121,
      "value": {
        "id": 127,
        "value": "TreeIncludeCurrentFrom",
        "link_id": 305
      }
    },
    {
      "id": 306,
      "type_id": 3,
      "from_id": 184,
      "to_id": 122,
      "value": {
        "id": 128,
        "value": "TreeIncludeCurrentTo",
        "link_id": 306
      }
    },
    {
      "id": 307,
      "type_id": 3,
      "from_id": 184,
      "to_id": 123,
      "value": {
        "id": 129,
        "value": "TreeIncludeFromCurrentTo",
        "link_id": 307
      }
    },
    {
      "id": 308,
      "type_id": 3,
      "from_id": 184,
      "to_id": 124,
      "value": {
        "id": 130,
        "value": "TreeIncludeToCurrentFrom",
        "link_id": 308
      }
    },
    {
      "id": 309,
      "type_id": 3,
      "from_id": 184,
      "to_id": 125,
      "value": {
        "id": 131,
        "value": "AllowInsertType",
        "link_id": 309
      }
    },
    {
      "id": 310,
      "type_id": 3,
      "from_id": 184,
      "to_id": 126,
      "value": {
        "id": 132,
        "value": "AllowUpdateType",
        "link_id": 310
      }
    },
    {
      "id": 311,
      "type_id": 3,
      "from_id": 184,
      "to_id": 127,
      "value": {
        "id": 133,
        "value": "AllowDeleteType",
        "link_id": 311
      }
    },
    {
      "id": 312,
      "type_id": 3,
      "from_id": 184,
      "to_id": 128,
      "value": {
        "id": 134,
        "value": "AllowSelectType",
        "link_id": 312
      }
    },
    {
      "id": 313,
      "type_id": 3,
      "from_id": 184,
      "to_id": 129,
      "value": {
        "id": 135,
        "value": "ruleTree",
        "link_id": 313
      }
    },
    {
      "id": 314,
      "type_id": 3,
      "from_id": 184,
      "to_id": 130,
      "value": {
        "id": 136,
        "value": "ruleTreeRule",
        "link_id": 314
      }
    },
    {
      "id": 315,
      "type_id": 3,
      "from_id": 184,
      "to_id": 131,
      "value": {
        "id": 137,
        "value": "ruleTreeRuleAction",
        "link_id": 315
      }
    },
    {
      "id": 316,
      "type_id": 3,
      "from_id": 184,
      "to_id": 132,
      "value": {
        "id": 138,
        "value": "ruleTreeRuleObject",
        "link_id": 316
      }
    },
    {
      "id": 317,
      "type_id": 3,
      "from_id": 184,
      "to_id": 133,
      "value": {
        "id": 139,
        "value": "ruleTreeRuleSubject",
        "link_id": 317
      }
    },
    {
      "id": 318,
      "type_id": 3,
      "from_id": 184,
      "to_id": 134,
      "value": {
        "id": 140,
        "value": "ruleTreeRuleSelector",
        "link_id": 318
      }
    },
    {
      "id": 319,
      "type_id": 3,
      "from_id": 184,
      "to_id": 135,
      "value": {
        "id": 141,
        "value": "ruleTreeRuleQuery",
        "link_id": 319
      }
    },
    {
      "id": 320,
      "type_id": 3,
      "from_id": 184,
      "to_id": 136,
      "value": {
        "id": 142,
        "value": "ruleTreeRuleSelectorInclude",
        "link_id": 320
      }
    },
    {
      "id": 333,
      "type_id": 3,
      "from_id": 184,
      "to_id": 149,
      "value": {
        "id": 155,
        "value": "containTreeThen",
        "link_id": 333
      }
    },
    {
      "id": 334,
      "type_id": 3,
      "from_id": 184,
      "to_id": 150,
      "value": {
        "id": 156,
        "value": "containTreeResolved",
        "link_id": 334
      }
    },
    {
      "id": 335,
      "type_id": 3,
      "from_id": 184,
      "to_id": 151,
      "value": {
        "id": 157,
        "value": "containTreeRejected",
        "link_id": 335
      }
    },
    {
      "id": 336,
      "type_id": 3,
      "from_id": 184,
      "to_id": 152,
      "value": {
        "id": 158,
        "value": "handlersTree",
        "link_id": 336
      }
    },
    {
      "id": 337,
      "type_id": 3,
      "from_id": 184,
      "to_id": 153,
      "value": {
        "id": 159,
        "value": "handlersTreeHandler",
        "link_id": 337
      }
    },
    {
      "id": 338,
      "type_id": 3,
      "from_id": 184,
      "to_id": 154,
      "value": {
        "id": 160,
        "value": "handlersTreeSupports",
        "link_id": 338
      }
    },
    {
      "id": 339,
      "type_id": 3,
      "from_id": 184,
      "to_id": 155,
      "value": {
        "id": 161,
        "value": "handlersTreeHandleOperation",
        "link_id": 339
      }
    },
    {
      "id": 340,
      "type_id": 3,
      "from_id": 184,
      "to_id": 156,
      "value": {
        "id": 162,
        "value": "HandleClient",
        "link_id": 340
      }
    },
    {
      "id": 341,
      "type_id": 3,
      "from_id": 184,
      "to_id": 157,
      "value": {
        "id": 163,
        "value": "HandlingError",
        "link_id": 341
      }
    },
    {
      "id": 342,
      "type_id": 3,
      "from_id": 184,
      "to_id": 158,
      "value": {
        "id": 164,
        "value": "handlingErrorValue",
        "link_id": 342
      }
    },
    {
      "id": 343,
      "type_id": 3,
      "from_id": 184,
      "to_id": 159,
      "value": {
        "id": 165,
        "value": "HandlingErrorReason",
        "link_id": 343
      }
    },
    {
      "id": 344,
      "type_id": 3,
      "from_id": 184,
      "to_id": 160,
      "value": {
        "id": 166,
        "value": "HandlingErrorLink",
        "link_id": 344
      }
    },
    {
      "id": 345,
      "type_id": 3,
      "from_id": 184,
      "to_id": 161,
      "value": {
        "id": 167,
        "value": "GqlEndpoint",
        "link_id": 345
      }
    },
    {
      "id": 346,
      "type_id": 3,
      "from_id": 184,
      "to_id": 162,
      "value": {
        "id": 168,
        "value": "MainGqlEndpoint",
        "link_id": 346
      }
    },
    {
      "id": 347,
      "type_id": 3,
      "from_id": 184,
      "to_id": 163,
      "value": {
        "id": 169,
        "value": "HandleGql",
        "link_id": 347
      }
    },
    {
      "id": 348,
      "type_id": 3,
      "from_id": 184,
      "to_id": 164,
      "value": {
        "id": 170,
        "value": "SupportsCompatable",
        "link_id": 348
      }
    },
    {
      "id": 349,
      "type_id": 3,
      "from_id": 184,
      "to_id": 165,
      "value": {
        "id": 171,
        "value": "plv8JSSupportsCompatableHandleInsert",
        "link_id": 349
      }
    },
    {
      "id": 350,
      "type_id": 3,
      "from_id": 184,
      "to_id": 166,
      "value": {
        "id": 172,
        "value": "plv8JSSupportsCompatableHandleUpdate",
        "link_id": 350
      }
    },
    {
      "id": 351,
      "type_id": 3,
      "from_id": 184,
      "to_id": 167,
      "value": {
        "id": 173,
        "value": "plv8JSSupportsCompatableHandleDelete",
        "link_id": 351
      }
    },
    {
      "id": 352,
      "type_id": 3,
      "from_id": 184,
      "to_id": 168,
      "value": {
        "id": 174,
        "value": "dockerJSSupportsCompatableHandleInsert",
        "link_id": 352
      }
    },
    {
      "id": 353,
      "type_id": 3,
      "from_id": 184,
      "to_id": 169,
      "value": {
        "id": 175,
        "value": "dockerJSSupportsCompatableHandleUpdate",
        "link_id": 353
      }
    },
    {
      "id": 354,
      "type_id": 3,
      "from_id": 184,
      "to_id": 170,
      "value": {
        "id": 176,
        "value": "dockerJSSupportsCompatableHandleDelete",
        "link_id": 354
      }
    },
    {
      "id": 355,
      "type_id": 3,
      "from_id": 184,
      "to_id": 171,
      "value": {
        "id": 177,
        "value": "dockerJSSupportsCompatableHandleSchedule",
        "link_id": 355
      }
    },
    {
      "id": 356,
      "type_id": 3,
      "from_id": 184,
      "to_id": 172,
      "value": {
        "id": 178,
        "value": "dockerJSSupportsCompatableHandlePort",
        "link_id": 356
      }
    },
    {
      "id": 357,
      "type_id": 3,
      "from_id": 184,
      "to_id": 173,
      "value": {
        "id": 179,
        "value": "dockerJSSupportsCompatableHandleRoute",
        "link_id": 357
      }
    },
    {
      "id": 358,
      "type_id": 3,
      "from_id": 184,
      "to_id": 174,
      "value": {
        "id": 180,
        "value": "clientJSSupportsCompatableHandleClient",
        "link_id": 358
      }
    },
    {
      "id": 359,
      "type_id": 3,
      "from_id": 184,
      "to_id": 175,
      "value": {
        "id": 181,
        "value": "promiseTree",
        "link_id": 359
      }
    },
    {
      "id": 360,
      "type_id": 3,
      "from_id": 184,
      "to_id": 176,
      "value": {
        "id": 182,
        "value": "promiseTreeAny",
        "link_id": 360
      }
    },
    {
      "id": 361,
      "type_id": 3,
      "from_id": 184,
      "to_id": 177,
      "value": {
        "id": 183,
        "value": "promiseTreeThen",
        "link_id": 361
      }
    },
    {
      "id": 362,
      "type_id": 3,
      "from_id": 184,
      "to_id": 178,
      "value": {
        "id": 184,
        "value": "promiseTreePromise",
        "link_id": 362
      }
    },
    {
      "id": 363,
      "type_id": 3,
      "from_id": 184,
      "to_id": 179,
      "value": {
        "id": 185,
        "value": "promiseTreeResolved",
        "link_id": 363
      }
    },
    {
      "id": 364,
      "type_id": 3,
      "from_id": 184,
      "to_id": 180,
      "value": {
        "id": 186,
        "value": "promiseTreeRejected",
        "link_id": 364
      }
    },
    {
      "id": 365,
      "type_id": 3,
      "from_id": 184,
      "to_id": 181,
      "value": {
        "id": 187,
        "value": "promiseTreePromiseResult",
        "link_id": 365
      }
    },
    {
      "id": 366,
      "type_id": 3,
      "from_id": 184,
      "to_id": 182,
      "value": {
        "id": 188,
        "value": "MigrationsEnd",
        "link_id": 366
      }
    },
    {
      "id": 367,
      "type_id": 3,
      "from_id": 184,
      "to_id": 183,
      "value": {
        "id": 189,
        "value": "typesTree",
        "link_id": 367
      }
    },
    {
      "id": 596,
      "type_id": 3,
      "from_id": 559,
      "to_id": 595,
      "value": {
        "id": 240,
        "value": "SelectorFilterSymbol",
        "link_id": 596
      }
    },
    {
      "id": 597,
      "type_id": 146,
      "from_id": 559,
      "to_id": 70,
      "value": {
        "id": 241,
        "value": "🌲",
        "link_id": 597
      }
    },
    {
      "id": 598,
      "type_id": 3,
      "from_id": 559,
      "to_id": 597,
      "value": {
        "id": 242,
        "value": "SelectorTreeSymbol",
        "link_id": 598
      }
    },
    {
      "id": 599,
      "type_id": 146,
      "from_id": 559,
      "to_id": 66,
      "value": {
        "id": 243,
        "value": "🤝",
        "link_id": 599
      }
    },
    {
      "id": 600,
      "type_id": 3,
      "from_id": 559,
      "to_id": 599,
      "value": {
        "id": 244,
        "value": "JoinSymbol",
        "link_id": 600
      }
    },
    {
      "id": 601,
      "type_id": 146,
      "from_id": 559,
      "to_id": 62,
      "value": {
        "id": 245,
        "value": "🔮",
        "link_id": 601
      }
    },
    {
      "id": 602,
      "type_id": 3,
      "from_id": 559,
      "to_id": 601,
      "value": {
        "id": 246,
        "value": "SpaceSymbol",
        "link_id": 602
      }
    },
    {
      "id": 603,
      "type_id": 146,
      "from_id": 559,
      "to_id": 58,
      "value": {
        "id": 247,
        "value": "🔎",
        "link_id": 603
      }
    },
    {
      "id": 604,
      "type_id": 3,
      "from_id": 559,
      "to_id": 603,
      "value": {
        "id": 248,
        "value": "QuerySymbol",
        "link_id": 604
      }
    },
    {
      "id": 605,
      "type_id": 146,
      "from_id": 559,
      "to_id": 55,
      "value": {
        "id": 249,
        "value": "📌",
        "link_id": 605
      }
    },
    {
      "id": 606,
      "type_id": 3,
      "from_id": 559,
      "to_id": 605,
      "value": {
        "id": 250,
        "value": "FocusSymbol",
        "link_id": 606
      }
    },
    {
      "id": 607,
      "type_id": 146,
      "from_id": 559,
      "to_id": 54,
      "value": {
        "id": 251,
        "value": "🧲",
        "link_id": 607
      }
    },
    {
      "id": 608,
      "type_id": 3,
      "from_id": 559,
      "to_id": 607,
      "value": {
        "id": 252,
        "value": "PromiseReasonSymbol",
        "link_id": 608
      }
    },
    {
      "id": 609,
      "type_id": 146,
      "from_id": 559,
      "to_id": 52,
      "value": {
        "id": 253,
        "value": "🔖",
        "link_id": 609
      }
    },
    {
      "id": 610,
      "type_id": 3,
      "from_id": 559,
      "to_id": 609,
      "value": {
        "id": 254,
        "value": "PromiseResultSymbol",
        "link_id": 610
      }
    },
    {
      "id": 1114,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 363,
        "value": "({ deep, data, require, Go }) => {\n    const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n    const React = require('react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, useSymbol, } = require('@deep-foundation/perception-app');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const History = deep.idLocal(dpl, 'History');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Search = deep.idLocal(dpl, 'Search');\n    const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n    const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const Item = ({ l, isActive }) => {\n        const go = Go.useGo();\n        return React.createElement(c.Box, { ref: go.ref, w: '100%' },\n            React.createElement(go.Handler, { handlerId: TreeLinkButton, linkId: l.id, onClick: () => go.go.focus(l.id).go.do(l.id), variant: 'full', isActive: isActive, w: '100%' }));\n    };\n    return ({ go, handlerId, isActive, operations = true, saveHistory = false, children, }, ref) => {\n        const [results, setResults] = React.useState([]);\n        const content = React.createElement(c.Flex, { ref: ref, direction: 'column', position: 'relative', minW: '30em', maxW: '30em', h: '100%', bg: isActive ? 'deepBg' : 'deepBgDark' },\n            React.createElement(c.VStack, { ref: ref, flex: 1, w: '100%', h: '100%' },\n                React.createElement(go.Handler, { handlerId: TreeLinkButton, linkId: go.linkId, onClick: () => go.focus('current').go.do('current'), needParent: false, isActive: go.value === 'current', w: '100%' }),\n                React.createElement(c.Box, { w: '100%' },\n                    React.createElement(go.Provider, { linkId: Search },\n                        React.createElement(go.Handler, { handlerId: Search, linkId: go.linkId, isActive: go.value === Search, w: '100%', onSearch: (results) => setResults(results) }))),\n                React.createElement(go.Provider, { linkId: TreeList },\n                    React.createElement(go.Handler, { handlerId: TreeList, linkId: TreeList, links: results, isActive: go.value === TreeList, w: '100%', flex: '1' }))),\n            children);\n        React.useEffect(() => {\n            if (go?.current)\n                go?.current.scroll();\n        }, [go.value]);\n        const nav = go.useNav();\n        nav('current', 'prev', 'up', 'next', Search);\n        nav(Search, 'prev', 'current', 'next', TreeList);\n        nav(TreeList, 'prev', Search, 'next', TreeList);\n        return React.createElement(go.Provider, { onDo: {\n                current: () => go.do('next', { linkId: go.linkId, handlerId: TreeLink }),\n                focus: () => go.focus('current').go.scroll(),\n                up: () => go.focus(nav.get(go.value, 'up')),\n                down: () => go.focus(nav.get(go.value, 'down')),\n                space: () => go.go.do('next', {\n                    linkId: go.value === 'current' ? go.linkId : go.value === TreeList ? go(TreeList).linkId : go.linkId,\n                    handlerId: TreeLink\n                }),\n            }, onFocus: {\n                current: () => go.save(handlerId),\n                up: () => go?.go.do('up'),\n                down: () => go?.go.do('down'),\n            } }, content);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUNKLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQ3hFLFNBQVMsR0FDVixHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzdDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ2pELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxP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aXQsIE1kUHJldmlldywgTWRTYXZlQWx0IH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvbWRcIik7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuICBjb25zdCB7XG4gICAgVHlwZWRJY29uLCBEb3duSWNvbiwgVXBJY29uLCBUeXBlSWNvbiwgSW5JY29uLCBPdXRJY29uLCBGcm9tSWNvbiwgVG9JY29uLFxuICAgIHVzZVN5bWJvbCxcbiAgfSA9IHJlcXVpcmUoJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1hcHAnKTtcbiAgXG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG4gIFxuICBjb25zdCBIaXN0b3J5ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hpc3RvcnknKTtcbiAgY29uc3QgSGVhZGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hlYWRlcicpO1xuICBjb25zdCBTZWFyY2ggPSBkZWVwLmlkTG9jYWwoZHBsLCAnU2VhcmNoJyk7XG4gIGNvbnN0IFRyZWVRdWVyeSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlUXVlcnknKTtcbiAgY29uc3QgVHJlZUxpc3QgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpc3QnKTtcbiAgY29uc3QgVHJlZUxpbmsgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmsnKTtcbiAgY29uc3QgVHJlZUxpbmtJbnNlcnQgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtJbnNlcnQnKTtcbiAgY29uc3QgVHJlZUxpbmtEZWxldGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtEZWxldGUnKTtcbiAgY29uc3QgVHJlZUxpbmtCdXR0b24gPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtCdXR0b24nKTtcblxuICBjb25zdCBJdGVtID0gKHsgbCwgaXNBY3RpdmUgfSkgPT4ge1xuICAgIGNvbnN0IGdvID0gR28udXNlR28oKTtcbiAgICByZXR1cm4gPGMuQm94IHJlZj17Z28ucmVmfSB3PScxMDAlJz5cbiAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgIGhhbmRsZXJJZD17VHJlZUxpbmtCdXR0b259IGxpbmtJZD17bC5pZH1cbiAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZ28uZm9jdXMobC5pZCkuZ28uZG8obC5pZCl9IHZhcmlhbnQ9J2Z1bGwnXG4gICAgICAgIGlzQWN0aXZlPXtpc0FjdGl2ZX0gdz0nMTAwJSdcbiAgICAgIC8+XG4gICAgPC9jLkJveD47XG4gIH1cblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBoYW5kbGVySWQsXG5cbiAgICBpc0FjdGl2ZSxcbiAgICBvcGVyYXRpb25zID0gdHJ1ZSxcbiAgICBzYXZlSGlzdG9yeSA9IGZhbHNlLFxuXG4gICAgY2hpbGRyZW4sXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IFtyZXN1bHRzLCBzZXRSZXN1bHRzXSA9IFJlYWN0LnVzZVN0YXRlKFtdKTtcblxuICAgIGNvbnN0IGNvbnRlbnQgPSA8Yy5GbGV4IHJlZj17cmVmfSBkaXJlY3Rpb249J2NvbHVtbidcbiAgICAgIHBvc2l0aW9uPSdyZWxhdGl2ZScgbWluVz0nMzBlbScgbWF4Vz0nMzBlbScgaD0nMTAwJSdcbiAgICAgIGJnPXtpc0FjdGl2ZSA/ICdkZWVwQmcnIDogJ2RlZXBCZ0RhcmsnfVxuICAgID5cbiAgICAgIDxjLlZTdGFjayByZWY9e3JlZn1cbiAgICAgICAgZmxleD17MX1cbiAgICAgICAgdz0nMTAwJScgaD0nMTAwJSdcbiAgICAgID5cbiAgICAgICAgPGdvLkhhbmRsZXJcbiAgICAgICAgICBoYW5kbGVySWQ9e1RyZWVMaW5rQnV0dG9ufSBsaW5rSWQ9e2dvLmxpbmtJZH1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnY3VycmVudCcpLmdvLmRvKCdjdXJyZW50Jyl9IG5lZWRQYXJlbnQ9e2ZhbHNlfVxuICAgICAgICAgIGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gJ2N1cnJlbnQnfSB3PScxMDAlJ1xuICAgICAgICAvPlxuICAgICAgICA8Yy5Cb3ggdz0nMTAwJSc+XG4gICAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17U2VhcmNofT5cbiAgICAgICAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgICAgICAgIGhhbmRsZXJJZD17U2VhcmNofSBsaW5rSWQ9e2dvLmxpbmtJZH1cbiAgICAgICAgICAgICAgaXNBY3RpdmU9e2dvLnZhbHVlID09PSBTZWFyY2h9IHc9JzEwMCUnXG4gICAgICAgICAgICAgIG9uU2VhcmNoPXsocmVzdWx0cykgPT4gc2V0UmVzdWx0cyhyZXN1bHRzKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgPC9jLkJveD5cbiAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17VHJlZUxpc3R9PlxuICAgICAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgICAgICBoYW5kbGVySWQ9e1RyZWVMaXN0fSBsaW5rSWQ9e1RyZWVMaXN0fSBsaW5rcz17cmVzdWx0c31cbiAgICAgICAgICAgIGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gVHJlZUxpc3R9IHc9JzEwMCUnIGZsZXg9JzEnXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgIDwvYy5WU3RhY2s+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9jLkZsZXg+O1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChnbz8uY3VycmVudCkgZ28/LmN1cnJlbnQuc2Nyb2xsKCk7XG4gICAgfSwgW2dvLnZhbHVlXSk7XG5cbiAgICBjb25zdCBuYXYgPSBnby51c2VOYXYoKTtcbiAgICBuYXYoJ2N1cnJlbnQnLCAncHJldicsICd1cCcsICduZXh0JywgU2VhcmNoKTtcbiAgICBuYXYoU2VhcmNoLCAncHJldicsICdjdXJyZW50JywgJ25leHQnLCBUcmVlTGlzdCk7XG4gICAgbmF2KFRyZWVMaXN0LCAncHJldicsIFNlYXJjaCwgJ25leHQnLCBUcmVlTGlzdCk7XG5cbiAgICByZXR1cm4gPGdvLlByb3ZpZGVyXG4gICAgICBvbkRvPXt7XG4gICAgICAgIGN1cnJlbnQ6ICgpID0+IGdvLmRvKCduZXh0JywgeyBsaW5rSWQ6IGdvLmxpbmtJZCwgaGFuZGxlcklkOiBUcmVlTGluayB9KSxcbiAgICAgICAgZm9jdXM6ICgpID0+IGdvLmZvY3VzKCdjdXJyZW50JykuZ28uc2Nyb2xsKCk7XG4gICAgICAgIHVwOiAoKSA9PiAgZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSwgJ3VwJykpLFxuICAgICAgICBkb3duOiAoKSA9PiBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlLCAnZG93bicpKSxcbiAgICAgICAgc3BhY2U6ICgpID0+IGdvLmdvLmRvKCduZXh0Jywge1xuICAgICAgICAgIGxpbmtJZDogZ28udmFsdWUgPT09ICdjdXJyZW50JyA/IGdvLmxpbmtJZCA6IGdvLnZhbHVlID09PSBUcmVlTGlzdCA/IGdvKFRyZWVMaXN0KS5saW5rSWQgOiBnby5saW5rSWQsXG4gICAgICAgICAgaGFuZGxlcklkOiBUcmVlTGlua1xuICAgICAgICB9KSxcbiAgICAgIH19XG4gICAgICBvbkZvY3VzPXt7XG4gICAgICAgIGN1cnJlbnQ6ICgpID0+IGdvLnNhdmUoaGFuZGxlcklkKSxcbiAgICAgICAgdXA6ICgpID0+IGdvPy5nby5kbygndXAnKSxcbiAgICAgICAgZG93bjogKCkgPT4gZ28/LmdvLmRvKCdkb3duJyksXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjb250ZW50fVxuICAgIDwvZ28uUHJvdmlkZXI+XG4gIH07XG59XG4iXX0=",
        "link_id": 1114
      }
    },
    {
      "id": 1115,
      "type_id": 3,
      "from_id": 837,
      "to_id": 1114,
      "value": {
        "id": 362,
        "value": "generated",
        "link_id": 1115
      }
    },
    {
      "id": 1116,
      "type_id": 143,
      "from_id": 1114,
      "to_id": 837
    },
    {
      "id": 1117,
      "type_id": 3,
      "from_id": 837,
      "to_id": 1116
    },
    {
      "id": 838,
      "type_id": 35,
      "from_id": 145,
      "to_id": 837
    },
    {
      "id": 839,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 364,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const { PiGraphBold } = require(\"react-icons/pi\");\n  const c = require('@chakra-ui/react');\n  const _ = require('lodash');\n\n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n  const dr = '@deep-foundation/readme';\n\n  const Symbol = deep.idLocal(dc, 'Symbol');\n  const Input = deep.idLocal(dr, 'Input');\n  const Output = deep.idLocal(dr, 'Output');\n  const Inherit = deep.idLocal(dr, 'Inherit');\n  const Readme = deep.idLocal(dr, 'Readme');\n  const Cause = deep.idLocal(dr, 'Cause');\n\n  const Dpl = deep.idLocal(dpl);\n  const Focus = deep.idLocal(dc, 'Focus');\n  const Active = deep.idLocal(dc, 'Active');\n  const History = deep.idLocal(dpl, 'History');\n  const Layer = deep.idLocal(dpl, 'Layer');\n  const Graph = deep.idLocal(dpl, 'Graph');\n  const GraphLink = deep.idLocal(dpl, 'GraphLink');\n  const GraphLinkPlanet = deep.idLocal(dpl, 'GraphLinkPlanet');\n  const containTree = deep.idLocal(dc, 'containTree');\n  const Contain = deep.idLocal(dc, 'Contain');\n\n  const defaultLimiter = {\n    _not: {\n      type_id: { _in: [Symbol, Input, Output, Inherit, Readme, Cause] }\n    },\n  };\n\n  const Link = React.memo(({ isActive, saveHistory, ...props }) => {\n    const go = Go.useGo();\n    return <>\n      {!!saveHistory && !!isActive && <go.Save handlerId={GraphLink}/>}\n      <go.Handler handlerId={GraphLink} isActive={isActive} {...props} />\n    </>;\n  }, _.isEqual);\n\n  const Item = React.memo(({\n    opened, go, concentrated, parental, saveHistory\n  }) => {\n    return <Go.Provider key={opened.link.id} linkId={opened.link.id}>\n      <Link\n        isActive={go.value === opened.link.id} saveHistory={saveHistory}\n        isConcentrated={concentrated ? !!concentrated[opened.link.id] : undefined}\n      >\n        {!!parental[opened.link?.id] && parental[opened.link.id].map((opened, i) => {\n          return <Item opened={opened} go={go} concentrated={concentrated} parental={parental}/>\n        })}\n      </Link>\n    </Go.Provider>;\n  }, _.isEqual);\n\n  return ({\n    go,\n\n    using = false,\n    saveHistory = false,\n\n    initialId = deep.linkId,\n  }, ref) => {\n    const [spaceId, setSpaceId] = React.useState();\n    const [containerId, setContainerId] = React.useState();\n\n    const initialOpened = React.useMemo(() => {\n      if (!initialId) return [];\n      return [{ link: deep.get(initialId) }];\n    }, []);\n\n    const [limiter, setLimiter] = React.useState(defaultLimiter);\n\n    const [_opened, setOpened] = React.useState(initialOpened);\n    const { openedIds, openedHash } = React.useMemo(() => {\n      const openedHash = {};\n      const openedIds = _opened.map(o => {\n        openedHash[o.link.id] = o;\n        return o.link.id;\n      });\n      return { openedHash, openedIds }\n    }, [_opened]);\n\n    const limited = deep.useLocalQuery({ id: { _in: openedIds }, ...limiter });\n    const { ids, opened } = React.useMemo(() => {\n      const ids = [];\n      const opened = limited.map(o => {\n        ids.push(o.id);\n        return openedHash[o.id];\n      });\n      return { opened, ids };\n    }, [limited]);\n\n    React.useEffect(() => { console.log('limiter changed'); }, [limiter]);\n    React.useEffect(() => { console.log('openedIds changed'); }, [openedIds]);\n    React.useEffect(() => { console.log('openedHash changed'); }, [openedHash]);\n    React.useEffect(() => { console.log('_opened changed'); }, [_opened]);\n    React.useEffect(() => { console.log('limited changed'); }, [limited]);\n    React.useEffect(() => { console.log('ids changed'); }, [ids]);\n    React.useEffect(() => { console.log('opened changed'); }, [opened]);\n\n    const parental = React.useMemo(() => {\n      const byParent = {};\n      for (let i = 0; i < opened.length; i++) {\n        if (opened[i]?.parentId) {\n          byParent[opened[i].parentId] = byParent[opened[i]?.parentId] || [];\n          byParent[opened[i].parentId].push(opened[i]);\n        }\n      }\n      return byParent;\n    }, [opened]);\n    React.useEffect(() => {\n      if (initialId) go.do('use', { id: initialId });\n    }, []);\n    // deep.useSubscription({\n    //   type_id: { _in: [History, Focus, Active] },\n    //   from_id: deep.linkId,\n    //   order_by: { id: 'desc' },\n    //   return: {\n    //     item: { relation: 'to' },\n    //   },\n    // });\n    // const history = deep.useLocalSubscription({\n    //   type_id: History,\n    //   from_id: deep.linkId,\n    //   order_by: { id: 'desc' },\n    // });\n\n    React.useEffect(() => {\n      if (go?.current) {\n        // if (using && go.root()?.data?.usedId != go.value) go.root().do('use', { id: go.value });\n        // go.do('changed', { id: go.value });\n        // go?.current?.do('scroll');\n      }\n    }, [go.value]);\n\n    const [concentrate, setConcentrate] = React.useState();\n    const { ids: concentrated } = deep.useSearch(concentrate, {\n      db: false, sort: false,\n      query: { id: { _in: ids } },\n      skip: !concentrate,\n    });\n\n    const _limiter = React.useMemo(() => {\n      try {\n        return JSON.stringify(limiter, null, 2);\n      } catch(e) { return JSON.stringify(defaultLimiter, null, 2) }\n    }, [limiter])\n\n    const [queries, setQueries] = React.useState({});\n    const qs = React.useMemo(() => Object.keys(queries), [queries]);\n\n    return <go.On do={{\n      focus: (g, v, o) => {\n        o?.id ? go.focus(o?.id) : initialId && !go.value ? go.focus(initialId) : undefined;\n      },\n      use: (g, v, o) => {\n        o?.id && o?.id != go.value && go(o?.id) && go.set(o.id).go(o?.id).go?.do('scroll').go?.do('use')\n      },\n      open: (g, v, { id, ids: _ids, parentId, focus } = {}) => {\n        const ids = id ? [id] : _ids;\n        if (ids?.length) {\n          const toAdd = [];\n          for (let i in ids) {\n            const id = ids[i];\n            if (!opened.find(o => o?.link?.id === id)) toAdd.push({ link: deep.get(id), parentId });\n          }\n          if (toAdd.length) {\n            const toSet = [...opened, ...toAdd];\n            console.log('setOpened',toSet);\n            setOpened(toSet);\n          }\n          if (focus && ids[0]) go.awaitRef(ids[0]).then(g => {\n            // go.focus(ids[0]).go(ids[0]).do('scroll');\n          });\n        }\n      },\n      concentrate: (g,v,o) => {\n        setConcentrate(o?.value);\n      },\n      containerId: (g,v,o) => o?.id && setContainerId(o?.id),\n      spaceId: (g,v,o) => o?.id && setSpaceId(o?.id),\n      query: (g,v,o) => {\n        setQueries({ ...queries, [`${g?.linkId}_${o.name}`]: { parentId: o?.parentId, query: o.query } });\n      },\n    }}>\n      <go.Subscription query={{\n        type_id: { _in: [Readme, Input, Output, Cause, Inherit], to_id: { _in: ids } }\n      }}/>\n      {qs.map(q => <go.Subscription key={JSON.stringify(queries[q].query)} query={queries[q].query}\n        onChange={({ data }) => go.do('open', { ids: data.map(l => l.id), parentId: queries[q].parentId })}\n      />)}\n      <c.Box\n        w='100%' h='100%'\n        ref={ref}\n        sx={{\n          '& .deep-graph-node-html-label': {\n            w: '15em',\n            pl: '1em',\n            color: 'deepColor',\n          }\n        }}\n      >\n        <go.Graph\n          onLoaded={cy => { window.cy = cy; }}\n          spaceId={spaceId}\n          containerId={containerId}\n          buttonsChildren={<>\n            <c.Popover placement='left'>{({ isOpen }) => (<>\n              <c.PopoverTrigger>\n                <c.Button>🗜️</c.Button>\n              </c.PopoverTrigger>\n              <c.PopoverContent>\n                {!!isOpen && <go.Editor value={_limiter} onChange={(v) => {\n                  try {\n                    setLimiter(JSON.parse(v));\n                  } catch(e) {}\n                }}/>}\n              </c.PopoverContent>\n            </>)}</c.Popover>\n          </>}\n        >\n          {<go.Provider linkId={deep.linkId}>\n            <Link />\n          </go.Provider>}\n          <go.GraphStyle stylesheet={[\n            {\n              selector: '.link-children',\n              style: {\n                'background-opacity': 0.05,\n                'background-color': 'deepBgGraphChildren',\n                opacity: 1,\n                'background-fit': 'cover',\n                'border-width': 0,\n                'events': 'no',\n              }\n            },\n            {\n              selector: '.link-file',\n              style: {\n                color: 'deepColor',\n                width: 30,\n                height: 30,\n                'font-size': 16,\n                'text-margin-y': 23, // -4\n                'text-margin-x': -2,\n                label: 'data(label)',\n                \"text-wrap\": \"wrap\",\n                'background-image': 'data(image)',\n                'background-fit': 'cover',\n              }\n            },\n            {\n              selector: '.link-ghost',\n              style: {\n                color: 'deepLinkNodeColor',\n                'background-opacity': 0,\n                'background-color': 'deepLinkNodeBg',\n                width: 30,\n                height: 30,\n                'font-size': 16,\n                'text-margin-y': 23, // -4\n                'text-margin-x': 1,\n                'label': 'data(label)',\n                \"text-wrap\": \"wrap\",\n                'background-fit': 'cover',\n                'border-color': 'deepLinkNodeColor',\n                'border-width': 3,\n              }\n            },\n            {\n              selector: '.link-node',\n              style: {\n                color: 'deepLinkNodeColor',\n                'background-opacity': 1,\n                'background-color': 'deepLinkNodeBg',\n                opacity: 1,\n                width: 30,\n                height: 30,\n                'font-size': 16,\n                'text-margin-y': 23, // -4\n                'text-margin-x': 1,\n                'label': 'data(label)',\n                \"text-wrap\": \"wrap\",\n                'background-fit': 'cover',\n                'events': 'yes',\n              }\n            },\n            {\n              selector: '.link-node-concentrated',\n              style: {\n                opacity: 1,\n              }\n            },\n            {\n              selector: '.link-node-unconcentrated',\n              style: {\n                opacity: 0.4,\n              }\n            },\n            {\n              selector: '.link-node-input',\n              style: {\n                \"border-color\": \"yellow\",\n                'border-width': '3',\n              },\n            },\n            {\n              selector: '.link-node-output',\n              style: {\n                \"border-color\": \"blue\",\n                'border-width': '3',\n              },\n            },\n            {\n              selector: '.link-node-inherit',\n              style: {\n                \"border-color\": \"black\",\n                'border-width': '3',\n              },\n            },\n            {\n              selector: '.link-node-active',\n              style: {\n                \"background-color\": \"deepColorActive\",\n              }\n            },\n            {\n              selector: '.link-edge',\n              style: {\n                width: 1,\n                'curve-style': 'bezier',\n                'target-distance-from-node': 8,\n                'source-distance-from-node': 1,\n              }\n            },\n            {\n              selector: '.link-edge-active',\n              style: {\n                \"line-color\": \"deepColorActive\",\n              }\n            },\n            {\n              selector: '.link-to',\n              style: {\n                'target-arrow-shape': 'triangle',\n              }\n            },\n            {\n              selector: '.link-from',\n              style: {\n                'target-arrow-shape': 'tee',\n              }\n            },\n            {\n              selector: '.link-type',\n              style: {\n                'target-arrow-shape': 'triangle',\n                'line-style': 'dashed',\n                'line-dash-pattern': [5, 5]\n              }\n            },\n            {\n              selector: '.link-contain',\n              style: {\n                'source-arrow-shape': 'tee',\n                'target-arrow-shape': 'triangle',\n                'font-size': 16,\n                'text-margin-y': 23, // -4\n                'text-margin-x': 1,\n                'label': 'data(label)',\n                \"edge-text-rotation\": \"autorotate\",\n                \"text-wrap\": \"wrap\",\n                'line-dash-pattern': [5, 5],\n              }\n            },\n            {\n              selector: '.link-cause',\n              style: {\n                'source-arrow-shape': 'tee',\n                'target-arrow-shape': 'triangle',\n                'line-dash-pattern': [5, 5],\n                \"line-color\": \"violet\",\n              }\n            },\n          ]} />\n          {opened.map((opened, i) => <Item\n            opened={opened} go={go} concentrated={!!concentrate && concentrated}\n            parental={parental} saveHistory={saveHistory}\n          />)}\n        </go.Graph>\n      </c.Box>\n    </go.On>;\n  };\n}",
        "link_id": 839
      }
    },
    {
      "id": 1231,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 402,
        "value": "({ deep, data, require, Go }) => {\n    const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n    const React = require('react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, useSymbol, } = require('@deep-foundation/perception-app');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Query = deep.idLocal(dc, 'Query');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const History = deep.idLocal(dpl, 'History');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Search = deep.idLocal(dpl, 'Search');\n    const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n    const Tree = deep.idLocal(dpl, 'Tree');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n    const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    return ({ go, isActive, fullWidth = null, saveHistory = false, initialResults, ...props }, ref) => {\n        const [links, setLinks] = React.useState(initialResults || []);\n        const firstRef = React.useRef(false);\n        const nav = go.useNav();\n        nav(Search, 'left', 'up', 'right', Stack);\n        nav(Stack, 'left', Search, 'right', 'down');\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => o?.id && go.parent(Tree).do('open', { handlerId: TreeLink, id: o.id, prevId: go.linkId, focus: true }),\n                close: (g, v, o) => go.parent(Tree).do('close', { id: go.linkId }),\n                left: (g, v, o) => go.focus(nav.get(go.value || Search, 'left'), { prev: go.value }),\n                up: (g, v, o) => go.focus(nav.get(go.value || Search, 'up'), { prev: go.value }),\n                right: (g, v, o) => go.focus(nav.get(go.value || Search, 'right'), { prev: go.value }),\n                down: (g, v, o) => go.focus(nav.get(go.value || Search, 'down'), { prev: go.value }),\n            } },\n            React.createElement(c.Flex, { direction: 'column', minW: fullWidth || '30em', maxW: fullWidth || '30em', h: '100%', maxH: '100%', ...props },\n                React.createElement(go.Provider, { linkId: Search },\n                    React.createElement(go.Handler, { linkId: go.linkId, handlerId: Search, saveHistory: saveHistory, onSearch: (results) => {\n                            if (!initialResults || !!firstRef.current) {\n                                console.log('onSearch', results);\n                                let links = results.data || [];\n                                setLinks(links);\n                            }\n                            firstRef.current = true;\n                        }, childrenSearchRight: React.createElement(c.Button, { minW: '3e,', w: '3em', h: '100%', minH: '3em', p: '0', onClick: () => go.focus('close').go.do('close'), variant: go.value === 'close' ? 'active' : null }, \"x\") })),\n                React.createElement(go.Provider, { linkId: Stack },\n                    React.createElement(go.Handler, { handlerId: Stack, direction: 'vertical', links: links, flex: '1', saveHistory: saveHistory }))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUNKLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQ3hFLFNBQVMsR0FDVixHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzdDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxP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bUJBQW1CLEVBQUUsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDNUIsSUFBSSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUM1QyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUMvQyxPQUFPLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxRQUNwQyxHQUNiLENBQ1U7Z0JBQ2Qsb0JBQUMsRUFBRSxDQUFDLFFBQVEsSUFBQyxNQUFNLEVBQUUsS0FBSztvQkFDeEIsb0JBQUMsRUFBRSxDQUFDLE9BQU8sSUFBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBQyxVQUFVLEVBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUMsR0FBRyxFQUFDLFdBQVcsRUFBRSxXQUFXLEdBQUcsQ0FDekYsQ0FDUCxDQUNILENBQUE7SUFDVixDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBHbyB9KSA9PiB7XG4gIGNvbnN0IHsgTWRFZGl0LCBNZFByZXZpZXcsIE1kU2F2ZUFsdCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL21kXCIpO1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbiAgY29uc3Qge1xuICAgIFR5cGVkSWNvbiwgRG93bkljb24sIFVwSWNvbiwgVHlwZUljb24sIEluSWNvbiwgT3V0SWNvbiwgRnJvbUljb24sIFRvSWNvbixcbiAgICB1c2VTeW1ib2wsXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG5cbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgXG4gIGNvbnN0IFF1ZXJ5ID0gZGVlcC5pZExvY2FsKGRjLCAnUXVlcnknKTtcbiAgY29uc3QgU3RhY2sgPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2snKTtcbiAgY29uc3QgSGlzdG9yeSA9IGRlZXAuaWRMb2NhbChkcGwsICdIaXN0b3J5Jyk7XG4gIGNvbnN0IEhlYWRlciA9IGRlZXAuaWRMb2NhbChkcGwsICdIZWFkZXInKTtcbiAgY29uc3QgU2VhcmNoID0gZGVlcC5pZExvY2FsKGRwbCwgJ1NlYXJjaCcpO1xuICBjb25zdCBUcmVlUXVlcnkgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZVF1ZXJ5Jyk7XG4gIGNvbnN0IFRyZWUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZScpO1xuICBjb25zdCBUcmVlTGlzdCA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlzdCcpO1xuICBjb25zdCBUcmVlTGluayA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGluaycpO1xuICBjb25zdCBUcmVlTGlua0luc2VydCA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlua0luc2VydCcpO1xuICBjb25zdCBUcmVlTGlua0RlbGV0ZSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlua0RlbGV0ZScpO1xuICBjb25zdCBUcmVlTGlua0J1dHRvbiA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlua0J1dHRvbicpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgaXNBY3RpdmUsXG4gICAgZnVsbFdpZHRoID0gbnVsbCxcblxuICAgIHNhdmVIaXN0b3J5ID0gZmFsc2UsXG5cbiAgICBpbml0aWFsUmVzdWx0cyxcbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBbbGlua3MsIHNldExpbmtzXSA9IFJlYWN0LnVzZVN0YXRlKGluaXRpYWxSZXN1bHRzIHx8IFtdKTtcbiAgICBjb25zdCBmaXJzdFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgXG4gICAgY29uc3QgbmF2ID0gZ28udXNlTmF2KCk7XG4gICAgbmF2KFNlYXJjaCwgJ2xlZnQnLCAndXAnLCAncmlnaHQnLCBTdGFjayk7XG4gICAgbmF2KFN0YWNrLCAnbGVmdCcsIFNlYXJjaCwgJ3JpZ2h0JywgJ2Rvd24nKTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6IChnLHYsbykgPT4gbz8uaWQgJiYgZ28ucGFyZW50KFRyZWUpLmRvKCdvcGVuJywgeyBoYW5kbGVySWQ6IFRyZWVMaW5rLCBpZDogby5pZCwgcHJldklkOiBnby5saW5rSWQsIGZvY3VzOiB0cnVlIH0pLFxuICAgICAgY2xvc2U6IChnLHYsbykgPT4gZ28ucGFyZW50KFRyZWUpLmRvKCdjbG9zZScsIHsgaWQ6IGdvLmxpbmtJZCB9KSxcblxuICAgICAgbGVmdDogKGcsdixvKSA9PiBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlIHx8IFNlYXJjaCwgJ2xlZnQnKSwgeyBwcmV2OiBnby52YWx1ZSB9KSxcbiAgICAgIHVwOiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgU2VhcmNoLCAndXAnKSwgeyBwcmV2OiBnby52YWx1ZSB9KSxcbiAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgU2VhcmNoLCAncmlnaHQnKSwgeyBwcmV2OiBnby52YWx1ZSB9KSxcbiAgICAgIGRvd246IChnLHYsbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSB8fCBTZWFyY2gsICdkb3duJyksIHsgcHJldjogZ28udmFsdWUgfSksXG4gICAgfX0+XG4gICAgICA8Yy5GbGV4IGRpcmVjdGlvbj0nY29sdW1uJyBtaW5XPXtmdWxsV2lkdGggfHwgJzMwZW0nfSBtYXhXPXtmdWxsV2lkdGggfHwgJzMwZW0nfSBoPScxMDAlJyBtYXhIPScxMDAlJyB7Li4ucHJvcHN9PlxuICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtTZWFyY2h9PlxuICAgICAgICAgIDxnby5IYW5kbGVyIGxpbmtJZD17Z28ubGlua0lkfSBoYW5kbGVySWQ9e1NlYXJjaH1cbiAgICAgICAgICAgIHNhdmVIaXN0b3J5PXtzYXZlSGlzdG9yeX1cbiAgICAgICAgICAgIG9uU2VhcmNoPXsocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWluaXRpYWxSZXN1bHRzIHx8ICEhZmlyc3RSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvblNlYXJjaCcsIHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIGxldCBsaW5rcyA9IHJlc3VsdHMuZGF0YSB8fCBbXTtcbiAgICAgICAgICAgICAgICBzZXRMaW5rcyhsaW5rcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZmlyc3RSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2hpbGRyZW5TZWFyY2hSaWdodD17PGMuQnV0dG9uXG4gICAgICAgICAgICAgIG1pblc9JzNlLCcgdz0nM2VtJyBoPScxMDAlJyBtaW5IPSczZW0nIHA9JzAnXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCdjbG9zZScpLmdvLmRvKCdjbG9zZScpfVxuICAgICAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ2Nsb3NlJyA/ICdhY3RpdmUnIDogbnVsbH1cbiAgICAgICAgICAgID54PC9jLkJ1dHRvbj59XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17U3RhY2t9PlxuICAgICAgICAgIDxnby5IYW5kbGVyIGhhbmRsZXJJZD17U3RhY2t9IGRpcmVjdGlvbj0ndmVydGljYWwnIGxpbmtzPXtsaW5rc30gZmxleD0nMScgc2F2ZUhpc3Rvcnk9e3NhdmVIaXN0b3J5fS8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICA8L2MuRmxleD5cbiAgICA8L2dvLk9uPlxuICB9O1xufVxuIl19",
        "link_id": 1231
      }
    },
    {
      "id": 1232,
      "type_id": 3,
      "from_id": 875,
      "to_id": 1231,
      "value": {
        "id": 401,
        "value": "generated",
        "link_id": 1232
      }
    },
    {
      "id": 1233,
      "type_id": 143,
      "from_id": 1231,
      "to_id": 875
    },
    {
      "id": 1234,
      "type_id": 3,
      "from_id": 875,
      "to_id": 1233
    },
    {
      "id": 876,
      "type_id": 35,
      "from_id": 145,
      "to_id": 875
    },
    {
      "id": 877,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 403,
        "value": "({ deep, data, require, Go }) => {\n  const { BsFullscreenExit, BsFullscreen } = require(\"react-icons/bs\");\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n\n  return ({\n    go,\n    linkId,\n  \n    disclosure: __disclosure,\n  }, ref) => {\n    const _disclosure = c.useDisclosure();\n    const disclosure = __disclosure || _disclosure;\n    \n    return <go.On do={{\n    }}>\n      {!disclosure.isOpen && <go.Editor linkId={linkId} fillSize>\n        <c.Button w='3em' h='3em' onClick={disclosure.onOpen}>\n          <BsFullscreen/>\n        </c.Button>\n      </go.Editor>}\n      <c.Modal\n        closeOnOverlayClick blockScrollOnMount={false}\n        onClose={disclosure.onClose}\n        isOpen={disclosure.isOpen} portalProps={{ containerRef: go.root().ref }}\n      >\n        <c.ModalOverlay />\n        <c.ModalContent w='80vw' maxW='80vw' h='80vh' position='relative'>\n          <c.ModalHeader>{''+deep.nameLocal(linkId)}</c.ModalHeader>\n          <c.ModalBody p={0} position='relative'>\n            <go.Editor linkId={linkId} fillSize>\n              <BsFullscreenExit/>\n            </c.Button>\n          </c.ModalBody>\n        </c.ModalContent>\n      </c.Modal>\n    </go.On>;\n  };\n}",
        "link_id": 877
      }
    },
    {
      "id": 1393,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 456,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const moment = require('moment');\n    const { useDebounceCallback } = require('@react-hook/debounce');\n    var dpl = '@deep-foundation/perception-links';\n    var dc = '@deep-foundation/core';\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const Queries = deep.idLocal(dpl, 'Queries');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const Query = deep.idLocal(dpl, 'Query');\n    const QueriesClient = deep.idLocal(dpl, 'QueriesClient');\n    let initialMemoryObject = {\n        useQuery: {}, useSubscription: {}, select: {}, subscribe: {}, insert: {}, update: {}, 'delete': {},\n    };\n    if (typeof (window) === 'object') {\n        if (window._deep_perception_queries_memory)\n            initialMemoryObject = window._deep_perception_queries_memory;\n        window._deep_perception_queries_memory = initialMemoryObject;\n    }\n    return ({ go, isActive = false, children, }, ref) => {\n        const containerRef = React.useMemo(() => go.root().ref, []);\n        const { sync, setSync } = React.useContext(go.HandlerConfigContext);\n        const mode = React.useState('useQuery');\n        const modeRef = React.useRef(mode);\n        modeRef.current = mode[0];\n        const modes = Object.keys(initialMemoryObject);\n        const [list, setList] = React.useState([]);\n        const generateList = React.useCallback(() => {\n            if (!modeRef.current)\n                return;\n            const list = _.chain(Object.values(initialMemoryObject[modeRef.current] || {})).sortBy('mounted').reverse().value();\n            setList(list);\n        }, []);\n        const generateListDebounced = useDebounceCallback(generateList, 1000);\n        const apply = React.useCallback((mode, event) => {\n            const prev = initialMemoryObject[mode][event.name] || {};\n            const next = initialMemoryObject[mode][event.name] = { id: event.name, mode, ...prev, ...event, count: (prev?.count || 0) + 1 };\n            next[next.mounted ? 'updated' : 'mounted'] = new Date().valueOf();\n            if (mode === modeRef.current)\n                generateListDebounced();\n        }, []);\n        const unapply = React.useCallback((mode, event) => {\n            delete initialMemoryObject[mode][event.name];\n            if (mode === modeRef.current)\n                generateListDebounced();\n        }, []);\n        const events = React.useMemo(() => ({\n            'useQuery.mount': (event) => apply('useQuery', event),\n            'useQuery': (event) => apply('useQuery', event),\n            'useQuery.unmount': (event) => unapply('useQuery', event),\n            'useSubscription.mount': (event) => apply('useSubscription', event),\n            'useSubscription': (event) => apply('useSubscription', event),\n            'useSubscription.unmount': (event) => unapply('useSubscription', event),\n            'select': (event) => apply('select', event),\n            'subscribe.before': (event) => apply('subscribe', event),\n            'subscribe': (event) => apply('subscribe', event),\n            'insert': (event) => {\n                if (event?.table === 'links' && event.remoteData?.length) {\n                    event.remoteData.forEach(l => go.root().do('open', { id: l?.id }));\n                }\n                apply('insert', event);\n            },\n            'update': (event) => apply('update', event),\n            'delete': (event) => apply('delete', event),\n        }), []);\n        React.useEffect(() => {\n            const sub = (name) => events?.[name] && deep.emitter.on(name, events?.[name]);\n            Object.keys(events).forEach(name => sub(name));\n        }, []);\n        const [opened, setOpened] = React.useState();\n        const Item = React.useMemo(() => React.memo(({ link, isActive }) => {\n            const go = Go.useGo();\n            const q = JSON.stringify(link?.query) || '';\n            return React.createElement(go.On, { do: {\n                    exec: (g, v, o) => setOpened(link),\n                } },\n                React.createElement(c.Button, { bg: isActive ? 'deepBgDark' : undefined, onClick: () => go.do('exec'), w: '100%' },\n                    React.createElement(c.Flex, { w: '100%' },\n                        React.createElement(c.Box, { flex: '1', p: '0.5em', pl: '1em' },\n                            React.createElement(c.Box, { noOfLines: 1, textAlign: 'left' },\n                                q.slice(0, 43),\n                                q.length > 43 ? '...' : ''),\n                            !!link?.value && React.createElement(c.Box, { noOfLines: 1 }, JSON.stringify(link?.value))),\n                        React.createElement(c.Box, { p: '0.25em', pr: '1em', fontSize: 'xs' },\n                            React.createElement(c.Box, null, moment(link.mounted).format('HH:mm:ss')),\n                            !!link.updated && React.createElement(c.Box, null, moment(link.updated).format('HH:mm:ss'))))));\n        }, _.isEqual), []);\n        React.useMemo(() => {\n            setOpened();\n            generateList();\n        }, [mode[0]]);\n        React.useMemo(() => {\n            if (!go.value)\n                mode[1]();\n            else if (!mode)\n                mode[1]('useQuery');\n        }, [go.value]);\n        React.useMemo(() => {\n            opened && go.focus(Query);\n        }, [opened]);\n        return React.createElement(go.On, { do: {\n                focus: (g, v, id, o) => {\n                    if (!v)\n                        go.set('useQuery');\n                    else if (modes.includes(v))\n                        setMode(v);\n                },\n                right: (g, v, o) => {\n                    mode[1](go.next(modes.map(m => ({ id: m })), mode[0]));\n                },\n                left: (g, v, o) => {\n                    modes[0] === mode[0] ? go.set() : mode[1](go.prev(modes.map(m => ({ id: m })), mode[0]));\n                },\n            } },\n            React.createElement(c.Popover, { placement: 'right-end', closeOnBlur: false, isOpen: !!go.value, onClose: () => go.set() },\n                React.createElement(c.PopoverTrigger, null,\n                    React.createElement(c.Button, { ref: ref, w: '3em', h: '3em', variant: !!go.value || isActive ? 'active' : undefined, onClick: () => go.value ? go.set() : go.set('useQuery') }, children)),\n                React.createElement(c.Portal, { containerRef: containerRef },\n                    React.createElement(c.PopoverContent, { w: '30em', maxH: '30em', minH: '30em', position: 'relative' },\n                        React.createElement(c.PopoverArrow, null),\n                        React.createElement(c.Flex, { direction: 'column', position: 'absolute', top: '0', left: '0', w: '100%', h: '100%' },\n                            React.createElement(c.Flex, { overflowX: 'scroll', css: go.noScrollBar },\n                                React.createElement(c.Flex, { columns: modes.length, flex: '1' }, modes.map(m => React.createElement(c.Button, { ...go.activator(mode, m) }, m))),\n                                React.createElement(c.Divider, { orientation: 'vertical' }),\n                                React.createElement(c.Button, { ...go.activator([sync, setSync], true) }, \"sync\")),\n                            React.createElement(c.Divider, null),\n                            React.createElement(go.Provider, { linkId: Stack, value: list?.[0]?.id }, !opened && React.createElement(go.Component, { key: mode[0], path: [dpl, 'Stack'], direction: 'vertical', links: list, Item: Item, flex: '1' })),\n                            !!opened && React.createElement(React.Fragment, null,\n                                React.createElement(go.Provider, { linkId: Query, value: list?.[0]?.id },\n                                    React.createElement(go.Component, { path: [dpl, 'Query'], event: opened }))))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNqQyxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUVoRSxJQUFJLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUM5QyxJQUFJLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVqQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNuRCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsQ0FBQztJQUV6RCxJQUFJLG1CQUFtQixHQUFHO1FBQ3hCLFFB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RSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7b0NBQzlDLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxFQUFFLEtBQUssRUFBRSxNQUFNLEdBQUcsQ0FDeEMsQ0FNYixDQUNJLENBQ1EsQ0FDVixDQUNELENBQ04sQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuICBjb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbiAgY29uc3QgeyB1c2VEZWJvdW5jZUNhbGxiYWNrIH0gPSByZXF1aXJlKCdAcmVhY3QtaG9vay9kZWJvdW5jZScpO1xuXG4gIHZhciBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgdmFyIGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgU3RhY2sgPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2snKTtcbiAgY29uc3QgUXVlcmllcyA9IGRlZXAuaWRMb2NhbChkcGwsICdRdWVyaWVzJyk7XG4gIGNvbnN0IENvbXBhdGFibGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQ29tcGF0YWJsZScpO1xuICBjb25zdCBIYW5kbGVyID0gZGVlcC5pZExvY2FsKGRjLCAnSGFuZGxlcicpO1xuICBjb25zdCBRdWVyeSA9IGRlZXAuaWRMb2NhbChkcGwsICdRdWVyeScpO1xuICBjb25zdCBRdWVyaWVzQ2xpZW50ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1F1ZXJpZXNDbGllbnQnKTtcblxuICBsZXQgaW5pdGlhbE1lbW9yeU9iamVjdCA9IHtcbiAgICB1c2VRdWVyeToge30sIHVzZVN1YnNjcmlwdGlvbjoge30sIHNlbGVjdDoge30sIHN1YnNjcmliZToge30sIGluc2VydDoge30sIHVwZGF0ZToge30sICdkZWxldGUnOiB7fSxcbiAgfTtcbiAgaWYgKHR5cGVvZih3aW5kb3cpID09PSAnb2JqZWN0Jykge1xuICAgIGlmICh3aW5kb3cuX2RlZXBfcGVyY2VwdGlvbl9xdWVyaWVzX21lbW9yeSkgaW5pdGlhbE1lbW9yeU9iamVjdCA9IHdpbmRvdy5fZGVlcF9wZXJjZXB0aW9uX3F1ZXJpZXNfbWVtb3J5O1xuICAgIHdpbmRvdy5fZGVlcF9wZXJjZXB0aW9uX3F1ZXJpZXNfbWVtb3J5ID0gaW5pdGlhbE1lbW9yeU9iamVjdDtcbiAgfVxuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgaXNBY3RpdmUgPSBmYWxzZSxcblxuICAgIGNoaWxkcmVuLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBjb250YWluZXJSZWYgPSBSZWFjdC51c2VNZW1vKCgpID0+IGdvLnJvb3QoKS5yZWYsIFtdKTtcblxuICAgIGNvbnN0IHsgc3luYywgc2V0U3luYyB9ID0gUmVhY3QudXNlQ29udGV4dChnby5IYW5kbGVyQ29uZmlnQ29udGV4dCk7XG4gICAgY29uc3QgbW9kZSA9IFJlYWN0LnVzZVN0YXRlKCd1c2VRdWVyeScpO1xuICAgIGNvbnN0IG1vZGVSZWYgPSBSZWFjdC51c2VSZWYobW9kZSk7IG1vZGVSZWYuY3VycmVudCA9IG1vZGVbMF07XG5cbiAgICBjb25zdCBtb2RlcyA9IE9iamVjdC5rZXlzKGluaXRpYWxNZW1vcnlPYmplY3QpO1xuXG4gICAgY29uc3QgW2xpc3QsIHNldExpc3RdID0gUmVhY3QudXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IGdlbmVyYXRlTGlzdCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIGlmICghbW9kZVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBjb25zdCBsaXN0ID0gXy5jaGFpbihPYmplY3QudmFsdWVzKGluaXRpYWxNZW1vcnlPYmplY3RbbW9kZVJlZi5jdXJyZW50XSB8fCB7fSkpLnNvcnRCeSgnbW91bnRlZCcpLnJldmVyc2UoKS52YWx1ZSgpO1xuICAgICAgc2V0TGlzdChsaXN0KTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgZ2VuZXJhdGVMaXN0RGVib3VuY2VkID0gdXNlRGVib3VuY2VDYWxsYmFjayhnZW5lcmF0ZUxpc3QsIDEwMDApO1xuXG4gICAgY29uc3QgYXBwbHkgPSBSZWFjdC51c2VDYWxsYmFjaygobW9kZSwgZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHByZXYgPSBpbml0aWFsTWVtb3J5T2JqZWN0W21vZGVdW2V2ZW50Lm5hbWVdIHx8IHt9O1xuICAgICAgY29uc3QgbmV4dCA9IGluaXRpYWxNZW1vcnlPYmplY3RbbW9kZV1bZXZlbnQubmFtZV0gPSB7IGlkOiBldmVudC5uYW1lLCBtb2RlLCAuLi5wcmV2LCAuLi5ldmVudCwgY291bnQ6IChwcmV2Py5jb3VudCB8fCAwKSArIDEgfTtcbiAgICAgIG5leHRbbmV4dC5tb3VudGVkID8gJ3VwZGF0ZWQnIDogJ21vdW50ZWQnXSA9IG5ldyBEYXRlKCkudmFsdWVPZigpO1xuICAgICAgaWYgKG1vZGUgPT09IG1vZGVSZWYuY3VycmVudCkgZ2VuZXJhdGVMaXN0RGVib3VuY2VkKCk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgdW5hcHBseSA9IFJlYWN0LnVzZUNhbGxiYWNrKChtb2RlLCBldmVudCkgPT4ge1xuICAgICAgZGVsZXRlIGluaXRpYWxNZW1vcnlPYmplY3RbbW9kZV1bZXZlbnQubmFtZV07XG4gICAgICBpZiAobW9kZSA9PT0gbW9kZVJlZi5jdXJyZW50KSBnZW5lcmF0ZUxpc3REZWJvdW5jZWQoKTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBldmVudHMgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgICAndXNlUXVlcnkubW91bnQnOiAoZXZlbnQpID0+IGFwcGx5KCd1c2VRdWVyeScsIGV2ZW50KSxcbiAgICAgICd1c2VRdWVyeSc6IChldmVudCkgPT4gYXBwbHkoJ3VzZVF1ZXJ5JywgZXZlbnQpLFxuICAgICAgJ3VzZVF1ZXJ5LnVubW91bnQnOiAoZXZlbnQpID0+IHVuYXBwbHkoJ3VzZVF1ZXJ5JywgZXZlbnQpLFxuICAgICAgJ3VzZVN1YnNjcmlwdGlvbi5tb3VudCc6IChldmVudCkgPT4gYXBwbHkoJ3VzZVN1YnNjcmlwdGlvbicsIGV2ZW50KSxcbiAgICAgICd1c2VTdWJzY3JpcHRpb24nOiAoZXZlbnQpID0+IGFwcGx5KCd1c2VTdWJzY3JpcHRpb24nLCBldmVudCksXG4gICAgICAndXNlU3Vic2NyaXB0aW9uLnVubW91bnQnOiAoZXZlbnQpID0+IHVuYXBwbHkoJ3VzZVN1YnNjcmlwdGlvbicsIGV2ZW50KSxcbiAgICAgICdzZWxlY3QnOiAoZXZlbnQpID0+IGFwcGx5KCdzZWxlY3QnLCBldmVudCksXG4gICAgICAnc3Vic2NyaWJlLmJlZm9yZSc6IChldmVudCkgPT4gYXBwbHkoJ3N1YnNjcmliZScsIGV2ZW50KSxcbiAgICAgICdzdWJzY3JpYmUnOiAoZXZlbnQpID0+IGFwcGx5KCdzdWJzY3JpYmUnLCBldmVudCksXG4gICAgICAnaW5zZXJ0JzogKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudD8udGFibGUgPT09ICdsaW5rcycgJiYgZXZlbnQucmVtb3RlRGF0YT8ubGVuZ3RoKSB7XG4gICAgICAgICAgZXZlbnQucmVtb3RlRGF0YS5mb3JFYWNoKGwgPT4gZ28ucm9vdCgpLmRvKCdvcGVuJywgeyBpZDogbD8uaWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGFwcGx5KCdpbnNlcnQnLCBldmVudCk7XG4gICAgICB9LFxuICAgICAgJ3VwZGF0ZSc6IChldmVudCkgPT4gYXBwbHkoJ3VwZGF0ZScsIGV2ZW50KSxcbiAgICAgICdkZWxldGUnOiAoZXZlbnQpID0+IGFwcGx5KCdkZWxldGUnLCBldmVudCksXG4gICAgfSksIFtdKTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBzdWIgPSAobmFtZSkgPT4gZXZlbnRzPy5bbmFtZV0gJiYgZGVlcC5lbWl0dGVyLm9uKG5hbWUsIGV2ZW50cz8uW25hbWVdKTtcbiAgICAgIE9iamVjdC5rZXlzKGV2ZW50cykuZm9yRWFjaChuYW1lID0+IHN1YihuYW1lKSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgW29wZW5lZCwgc2V0T3BlbmVkXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG5cbiAgICBjb25zdCBJdGVtID0gUmVhY3QudXNlTWVtbygoKSA9PiBSZWFjdC5tZW1vKCh7IGxpbmssIGlzQWN0aXZlIH0pID0+IHtcbiAgICAgIGNvbnN0IGdvID0gR28udXNlR28oKTtcblxuICAgICAgY29uc3QgcSA9IEpTT04uc3RyaW5naWZ5KGxpbms/LnF1ZXJ5KSB8fCAnJztcblxuICAgICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgICBleGVjOiAoZyx2LG8pID0+IHNldE9wZW5lZChsaW5rKSxcbiAgICAgIH19PlxuICAgICAgICA8Yy5CdXR0b24gYmc9e2lzQWN0aXZlID8gJ2RlZXBCZ0RhcmsnIDogdW5kZWZpbmVkfSBvbkNsaWNrPXsoKSA9PiBnby5kbygnZXhlYycpfSB3PScxMDAlJz5cbiAgICAgICAgICA8Yy5GbGV4IHc9JzEwMCUnPlxuICAgICAgICAgICAgPGMuQm94IGZsZXg9JzEnIHA9JzAuNWVtJyBwbD0nMWVtJz5cbiAgICAgICAgICAgICAgPGMuQm94IG5vT2ZMaW5lcz17MX0gdGV4dEFsaWduPSdsZWZ0Jz5cbiAgICAgICAgICAgICAgICB7cS5zbGljZSgwLCA0Myl9e3EubGVuZ3RoID4gNDMgPyAnLi4uJyA6ICcnfVxuICAgICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgICB7ISFsaW5rPy52YWx1ZSAmJiA8Yy5Cb3ggbm9PZkxpbmVzPXsxfT5cbiAgICAgICAgICAgICAgICB7SlNPTi5zdHJpbmdpZnkobGluaz8udmFsdWUpfVxuICAgICAgICAgICAgICA8L2MuQm94Pn1cbiAgICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgICAgICA8Yy5Cb3ggcD0nMC4yNWVtJyBwcj0nMWVtJyBmb250U2l6ZT0neHMnPlxuICAgICAgICAgICAgICA8Yy5Cb3g+e21vbWVudChsaW5rLm1vdW50ZWQpLmZvcm1hdCgnSEg6bW06c3MnKX08L2MuQm94PlxuICAgICAgICAgICAgICB7ISFsaW5rLnVwZGF0ZWQgJiYgPGMuQm94Pnttb21lbnQobGluay51cGRhdGVkKS5mb3JtYXQoJ0hIOm1tOnNzJyl9PC9jLkJveD59XG4gICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgIDwvYy5GbGV4PlxuICAgICAgICA8L2dvLkJ1dHRvbj5cbiAgICAgIDwvZ28uT24+XG4gICAgfSwgXy5pc0VxdWFsKSwgW10pO1xuXG4gICAgUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBzZXRPcGVuZWQoKTtcbiAgICAgIGdlbmVyYXRlTGlzdCgpO1xuICAgIH0sIFttb2RlWzBdXSk7XG5cbiAgICBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGlmICghZ28udmFsdWUpIG1vZGVbMV0oKTtcbiAgICAgIGVsc2UgaWYgKCFtb2RlKSBtb2RlWzFdKCd1c2VRdWVyeScpO1xuICAgIH0sIFtnby52YWx1ZV0pO1xuXG4gICAgUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBvcGVuZWQgJiYgZ28uZm9jdXMoUXVlcnkpO1xuICAgIH0sIFtvcGVuZWRdKTtcblxuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICAgIGZvY3VzOiAoZyx2LGlkLG8pID0+IHtcbiAgICAgICAgICBpZiAoIXYpIGdvLnNldCgndXNlUXVlcnknKTtcbiAgICAgICAgICBlbHNlIGlmIChtb2Rlcy5pbmNsdWRlcyh2KSkgc2V0TW9kZSh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHQ6IChnLHYsbykgPT4ge1xuICAgICAgICAgIG1vZGVbMV0oZ28ubmV4dChtb2Rlcy5tYXAobSA9PiAoeyBpZDogbSB9KSksIG1vZGVbMF0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGVmdDogKGcsdixvKSA9PiB7XG4gICAgICAgICAgbW9kZXNbMF0gPT09IG1vZGVbMF0gID8gZ28uc2V0KCkgOiBtb2RlWzFdKGdvLnByZXYobW9kZXMubWFwKG0gPT4gKHsgaWQ6IG0gfSkpLCBtb2RlWzBdKSk7XG4gICAgICAgIH0sXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLlBvcG92ZXIgcGxhY2VtZW50PSdyaWdodC1lbmQnIGNsb3NlT25CbHVyPXtmYWxzZX0gaXNPcGVuPXshIWdvLnZhbHVlfSBvbkNsb3NlPXsoKSA9PiBnby5zZXQoKX0+XG4gICAgICAgIDxjLlBvcG92ZXJUcmlnZ2VyPlxuICAgICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgICAgcmVmPXtyZWZ9IHc9JzNlbScgaD0nM2VtJyB2YXJpYW50PXshIWdvLnZhbHVlIHx8IGlzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby52YWx1ZSA/IGdvLnNldCgpIDogZ28uc2V0KCd1c2VRdWVyeScpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICA8L2MuUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgIDxjLlBvcnRhbCBjb250YWluZXJSZWY9e2NvbnRhaW5lclJlZn0+XG4gICAgICAgICAgPGMuUG9wb3ZlckNvbnRlbnQgdz0nMzBlbScgbWF4SD0nMzBlbScgbWluSD0nMzBlbScgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICAgIDxjLlBvcG92ZXJBcnJvdyAvPlxuICAgICAgICAgICAgPGMuRmxleCBkaXJlY3Rpb249J2NvbHVtbicgcG9zaXRpb249J2Fic29sdXRlJyB0b3A9JzAnIGxlZnQ9JzAnIHc9JzEwMCUnIGg9JzEwMCUnPlxuICAgICAgICAgICAgICA8Yy5GbGV4IG92ZXJmbG93WD0nc2Nyb2xsJyBjc3M9e2dvLm5vU2Nyb2xsQmFyfT5cbiAgICAgICAgICAgICAgICA8Yy5GbGV4IGNvbHVtbnM9e21vZGVzLmxlbmd0aH0gZmxleD0nMSc+XG4gICAgICAgICAgICAgICAgICB7bW9kZXMubWFwKG0gPT4gPGMuQnV0dG9uIHsuLi5nby5hY3RpdmF0b3IobW9kZSwgbSl9PnttfTwvYy5CdXR0b24+KX1cbiAgICAgICAgICAgICAgICA8L2MuRmxleD5cbiAgICAgICAgICAgICAgICA8Yy5EaXZpZGVyIG9yaWVudGF0aW9uPSd2ZXJ0aWNhbCcgLz5cbiAgICAgICAgICAgICAgICA8Yy5CdXR0b24gey4uLmdvLmFjdGl2YXRvcihbc3luYywgc2V0U3luY10sIHRydWUpfT5zeW5jPC9jLkJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9jLkZsZXg+XG4gICAgICAgICAgICAgIDxjLkRpdmlkZXIvPlxuICAgICAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtTdGFja30gdmFsdWU9e2xpc3Q/LlswXT8uaWR9PlxuICAgICAgICAgICAgICAgIHshb3BlbmVkICYmIDxnby5Db21wb25lbnQga2V5PXttb2RlWzBdfSBwYXRoPXtbZHBsLCAnU3RhY2snXX0gZGlyZWN0aW9uPSd2ZXJ0aWNhbCcgbGlua3M9e2xpc3R9IEl0ZW09e0l0ZW19IGZsZXg9JzEnLz59XG4gICAgICAgICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICAgICAgICAgIHshIW9wZW5lZCAmJiA8PlxuICAgICAgICAgICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e1F1ZXJ5fSB2YWx1ZT17bGlzdD8uWzBdPy5pZH0+XG4gICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdRdWVyeSddfSBldmVudD17b3BlbmVkfS8+XG4gICAgICAgICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgICAgICAgICB7LyogPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnU3RhY2snXX0gZGlyZWN0aW9uPSdob3Jpem9udGFsJyBsaW5rcz17dmlld3N9IEl0ZW09e1ZpZXdJdGVtfS8+ICovfVxuICAgICAgICAgICAgICAgIHsvKiA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdRdWVyaWVzR1FMJ119IGV4dGVuZEluc2VydD17eyBvdXQ6IHsgdHlwZV9pZDogQ29tcGF0YWJsZSwgdG9faWQ6IFF1ZXJpZXMgfSB9fS8+XG4gICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnUXVlcmllc1JlYWN0J119IGV4dGVuZEluc2VydD17eyBvdXQ6IHsgdHlwZV9pZDogQ29tcGF0YWJsZSwgdG9faWQ6IFF1ZXJpZXMgfSB9fS8+XG4gICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnUXVlcmllc0NsaWVudCddfSBleHRlbmRJbnNlcnQ9e3sgb3V0OiB7IHR5cGVfaWQ6IENvbXBhdGFibGUsIHRvX2lkOiBRdWVyaWVzIH0gfX0vPlxuICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ1F1ZXJpZXNSZXN1bHRzJ119IGV4dGVuZEluc2VydD17eyBvdXQ6IHsgdHlwZV9pZDogQ29tcGF0YWJsZSwgdG9faWQ6IFF1ZXJpZXMgfSB9fS8+ICovfVxuICAgICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICA8L2MuRmxleD5cbiAgICAgICAgICA8L2MuUG9wb3ZlckNvbnRlbnQ+XG4gICAgICAgIDwvYy5Qb3J0YWw+XG4gICAgICA8L2MuUG9wb3Zlcj5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1393
      }
    },
    {
      "id": 1394,
      "type_id": 3,
      "from_id": 911,
      "to_id": 1393,
      "value": {
        "id": 455,
        "value": "generated",
        "link_id": 1394
      }
    },
    {
      "id": 1395,
      "type_id": 143,
      "from_id": 1393,
      "to_id": 911
    },
    {
      "id": 1396,
      "type_id": 3,
      "from_id": 911,
      "to_id": 1395
    },
    {
      "id": 912,
      "type_id": 35,
      "from_id": 145,
      "to_id": 911
    },
    {
      "id": 913,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 457,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n\n  return ({\n    go,\n\n    children,\n  }, ref) => {\n    return <go.On\n      do={{\n      }}\n    >\n      <c.Box ref={ref} h='3em'>{`${go}`}</c.Box>\n    </go.On>;\n  };\n}",
        "link_id": 913
      }
    },
    {
      "id": 280,
      "type_id": 3,
      "from_id": 184,
      "to_id": 96,
      "value": {
        "id": 102,
        "value": "promiseOutValue",
        "link_id": 280
      }
    },
    {
      "id": 328,
      "type_id": 3,
      "from_id": 184,
      "to_id": 144,
      "value": {
        "id": 150,
        "value": "ClientJSIsolationProvider",
        "link_id": 328
      }
    },
    {
      "id": 329,
      "type_id": 3,
      "from_id": 184,
      "to_id": 145,
      "value": {
        "id": 151,
        "value": "clientSupportsJs",
        "link_id": 329
      }
    },
    {
      "id": 330,
      "type_id": 3,
      "from_id": 184,
      "to_id": 146,
      "value": {
        "id": 152,
        "value": "Symbol",
        "link_id": 330
      }
    },
    {
      "id": 611,
      "type_id": 146,
      "from_id": 559,
      "to_id": 48,
      "value": {
        "id": 255,
        "value": "🛠",
        "link_id": 611
      }
    },
    {
      "id": 738,
      "type_id": 3,
      "from_id": 727,
      "to_id": 723,
      "value": {
        "id": 324,
        "value": "TSX",
        "link_id": 738
      }
    },
    {
      "id": 1411,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 462,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { GrGraphQl } = require(\"react-icons/gr\");\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, handlerId, isActive, }, ref) => {\n        const View = React.useCallback(({ event }) => {\n            const value = `// query\n${event?.remoteQuery?.query?.queryString || ''}\n\n// variables\n${JSON.stringify(event?.remoteQuery?.query?.variables || {}, null, 2)}\n`;\n            return React.createElement(Go.Editor, { editable: false, value: value, fillSize: true });\n        }, []);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.do('view', { id: go.linkId, Component: View })\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(GrGraphQl, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDaEQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsUUFBUSxHQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO1lBQzNDLE1BQU0sS0FBSyxHQUFHO0VBQ2xCLEtBQUssRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLFdBQVcsSUFBSSxFQUFFOzs7RUFHNUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxTQUFTLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7Q0FDcEUsQ0FBQTtZQUVLLE9BQU8sb0JBQUMsRUFBRSxDQUFDLE1BQU0sSUFBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsUUFBUSxTQUFFLENBQUM7UUFDOUQsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRVAsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxDQUFDO2FBQ25FO1lBQ0Msb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDUCxDQUFDLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxLQUFLLEVBQ2YsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQ3hDLEdBQUcsRUFBRSxHQUFHLEVBQ1IsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2dCQUU1QixvQkFBQyxTQUFTLE9BQUUsQ0FDSCxDQUNMLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBHckdyYXBoUWwgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9nclwiKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGhhbmRsZXJJZCxcblxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBWaWV3ID0gUmVhY3QudXNlQ2FsbGJhY2soKHsgZXZlbnQgfSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBgLy8gcXVlcnlcbiR7ZXZlbnQ/LnJlbW90ZVF1ZXJ5Py5xdWVyeT8ucXVlcnlTdHJpbmcgfHwgJyd9XG5cbi8vIHZhcmlhYmxlc1xuJHtKU09OLnN0cmluZ2lmeShldmVudD8ucmVtb3RlUXVlcnk/LnF1ZXJ5Py52YXJpYWJsZXMgfHwge30sIG51bGwsIDIpfVxuYFxuICBcbiAgICAgIHJldHVybiA8R28uRWRpdG9yIGVkaXRhYmxlPXtmYWxzZX0gdmFsdWU9e3ZhbHVlfSBmaWxsU2l6ZS8+O1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6IChnLHYsbykgPT4gZ28uZG8oJ3ZpZXcnLCB7IGlkOiBnby5saW5rSWQsIENvbXBvbmVudDogVmlldyB9KSksXG4gICAgfX0+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgdz0nM2VtJyBoPSczZW0nXG4gICAgICAgIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnZXhlYycpfVxuICAgICAgPlxuICAgICAgICA8R3JHcmFwaFFsLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1411
      }
    },
    {
      "id": 1412,
      "type_id": 3,
      "from_id": 915,
      "to_id": 1411,
      "value": {
        "id": 461,
        "value": "generated",
        "link_id": 1412
      }
    },
    {
      "id": 1413,
      "type_id": 143,
      "from_id": 1411,
      "to_id": 915
    },
    {
      "id": 1414,
      "type_id": 3,
      "from_id": 915,
      "to_id": 1413
    },
    {
      "id": 916,
      "type_id": 35,
      "from_id": 145,
      "to_id": 915
    },
    {
      "id": 917,
      "type_id": 827,
      "from_id": 916,
      "to_id": 912
    },
    {
      "id": 918,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 463,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const { FaReact } = require(\"react-icons/fa\");\n  const c = require('@chakra-ui/react');\n  const _ = require('lodash');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  return ({\n    go,\n    handlerId,\n\n    isActive,\n  }, ref) => {\n    const View = React.useCallback(({ event }) => {\n      let value = event.mode;\n  \n      const q = JSON.stringify(event.query, null, 2);\n      const r = JSON.stringify(event.plainLinks).slice(1,30);\n      const v = JSON.stringify(event.value || {}, null, 2);\n\n      const _o = { ...event.options };\n      if (_o.table === 'links') delete _o.table;\n\n      const o = _.isEmpty(_o) ? '' : JSON.stringify(_o, null, 2);\n      const oo = o ? `, ${o}` : '';\n      \n      if (event.mode === 'useQuery' || event.mode === 'useSubscription' || event.mode === 'select' || event.mode === 'subscribe') {\n        value = `// basically deep.select and deep.subscribe returns plain data\n// but deep.useQuery and deep.useSubscriptions always\n// apply synced from server to deep.minilinks local memory\n\n// load links once\nconst { data } = deep.useQuery(${q}${o});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... }, loading: false }\n\n// load and subscribe to reactive links\nconst { data } = deep.useSubscription(${q}${o})\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... }, loading: false }\n\n// equal queries can be used in local memory\n\n// find links once\nconst data = deep.useLocalSubscription(${q}${o});\n// data // Link[];\n\n// find links with reactive subscription\nconst data = deep.useLocalSubscription(${q}${o});\n// data // Link[];\n\n// links fetched from hooks already exists in minilinks and\n// related each other\n// you can travel by it simply:\nhandler.to.value // { value: \\`my new component\\` }\n\n// you can get reactive links from static links or ids\nconst [user, handler] = deep.useLinks(deep.linkId, notReactiveLink);\n\n// pretty handy use traveler:\nconst data = deep.useSubscription(myLink.travel().out({ type: Contain }).to().query());\n`;\n      }\n  \n      if (event.mode === 'insert') {\n        value = `// hints for react\n\n// if not need to await result\nReact.useEffect(() => {\n  deep.insert(${q}${oo});\n}, []);\n\n// if need to await\nReact.useEffect(() => { (async () => {\n  deep.insert(${q}${oo});\n})() }, []);\n\n<c.Box onChange={async () => {\n  await deep.insert(${q}${oo});\n}}>button</Button>`\n      }\n  \n      if (event.mode === 'update') {\n        value = `// hints for react\n\n// if not need to await result\nReact.useEffect(() => {\n  deep.update(${q}, ${v}${oo});\n}, []);\n\n// if need to await\nReact.useEffect(() => { (async () => {\n  deep.update(${q}, ${v}${oo});\n})() }, []);\n\n<c.Box onChange={async () => {\n  await deep.update(${q}, ${v}${oo});\n}}>button</Button>`\n      }\n  \n      if (event.mode === 'delete') {\n        value = `// hints for react\n\n// if not need to await result\nReact.useEffect(() => {\n  deep.delete(${q}${oo});\n}, []);\n\n// if need to await\nReact.useEffect(() => { (async () => {\n  deep.delete(${q}${oo});\n})() }, []);\n\n<c.Box onChange={async () => {\n  await deep.delete(${q}${oo});\n}}>button</Button>`\n      }\n  \n      return <Go.Editor editable={false} value={value} fillSize/>;\n    }, []);\n\n    return <go.On do={{\n      exec: (g,v,o) => go.do('view', { id: go.linkId, Component: View })),\n    }}>\n      <c.Button\n        w='3em' h='3em'\n        variant={isActive ? 'active' : undefined}\n        ref={ref}\n        onClick={() => go.do('exec')}\n      >\n        <FaReact/>\n      </c.Button>\n    </go.On>;\n  };\n}",
        "link_id": 918
      }
    },
    {
      "id": 1465,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 480,
        "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { IoIosHome } = require(\"react-icons/io\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Site = await deep.id(dpl, 'Site');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.go.do('right', { ...o, id: Site }),\n                click: (g, v, o) => go.do('exec', o),\n                right: (g, v, o) => go.do('exec', o),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', p: '0.3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(IoIosHome, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUVoRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRXhDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsU0FBUyxFQUNULFNBQVMsRUFFVCxNQUFNLEVBQ04sSUFBSSxFQUVKLFFBQVEsRUFFUixRQUFRLEVBRVIsR0FBRyxLQUFLLEVBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUU7Z0JBQ2hCLElBQUksRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUM7Z0JBQ3RELEtBQUssRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7Z0JBQ2xDLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7YUFDbkM7WUFDQyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLENBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUN6QixPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDeEMsR0FBRyxFQUFFLEdBQUcsRUFDUixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0JBRzVCLG9CQUFDLFNBQVMsT0FBRSxDQUNILENBQ0wsQ0FBQztJQUNiLENBQUMsQ0FBQTtBQUFBLENBQUMsQUFBRCxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBJb0lvc0hvbWUgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9pb1wiKTtcbiAgLy8gY29uc3QgeyBkZWZhdWx0OiBJbWFnZSB9ID0gcmVxdWlyZSgnbmV4dC9pbWFnZScpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIGNvbnN0IFNpdGUgPSBhd2FpdCBkZWVwLmlkKGRwbCwgJ1NpdGUnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBnb0hhbmRsZXIsXG5cbiAgICBoYW5kbGVySWQsXG4gICAgQ29tcG9uZW50LFxuXG4gICAgbGlua0lkLFxuICAgIGxpbmssXG5cbiAgICBjaGlsZHJlbixcblxuICAgIGlzQWN0aXZlLFxuXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKGcsdixvKSA9PiBnby5nby5kbygncmlnaHQnLCB7IC4uLm8sIGlkOiBTaXRlIH0pKSxcbiAgICAgIGNsaWNrOiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgICByaWdodDogKGcsdixvKSA9PiBnby5kbygnZXhlYycsIG8pLFxuICAgIH19PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIHc9JzNlbScgaD0nM2VtJyBwPScwLjNlbSdcbiAgICAgICAgdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICA+XG4gICAgICAgIHsvKiA8SW1hZ2Ugc3JjPVwiL2xvZ28uc3ZnXCIgd2lkdGg9ezMyfSBoZWlnaHQ9ezMyfS8+ICovfVxuICAgICAgICA8SW9Jb3NIb21lLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Pbj47XG59Il19",
        "link_id": 1465
      }
    },
    {
      "id": 1466,
      "type_id": 3,
      "from_id": 931,
      "to_id": 1465,
      "value": {
        "id": 479,
        "value": "generated",
        "link_id": 1466
      }
    },
    {
      "id": 1467,
      "type_id": 143,
      "from_id": 1465,
      "to_id": 931
    },
    {
      "id": 1468,
      "type_id": 3,
      "from_id": 931,
      "to_id": 1467
    },
    {
      "id": 932,
      "type_id": 35,
      "from_id": 83,
      "to_id": 931
    },
    {
      "id": 933,
      "type_id": 827,
      "from_id": 932,
      "to_id": 852
    },
    {
      "id": 934,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 481,
        "value": "async ({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n\n  const ds = '@deep-foundation/site-links';\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    ...props\n  }, ref) => {\n    return <go.On\n      do={{\n        focus: (g,v,linkId,o) => {},\n        use: (g,v,o) => {},\n        open: (g,v,{ id, prevId, handlerId, focus }: any = {}) => {},\n        close: (g,v,o) => {},\n        concentrate: (g,v,o) => {},\n      }}\n    >\n      <c.Box ref={ref} position='absolute' h='100%' w='100%' left='0' top='0' color='deepColor' overflowY='scroll' css={go.noScrollBar}>\n        <c.Heading as='h1' size='3xl' color='deepColorActive'>Deep.Foundation</c.Heading>\n        <c.Heading as='h2' size='2xl'>Landing</c.Heading>\n        <c.Heading as='h3' size='xl'>Features</c.Heading>\n        <c.Heading as='h3' size='xl'>Founders and Members</c.Heading>\n        <c.Heading as='h2' size='2xl'>Quick start</c.Heading>\n        <c.Heading as='h2' size='2xl'>Documentation</c.Heading>\n        <c.Tabs>\n          <c.TabList>\n            <c.Tab>Links</c.Tab>\n            <c.Tab>DeepLinks</c.Tab>\n            <c.Tab>DeepClient</c.Tab>\n            <c.Tab>Minilinks</c.Tab>\n            <c.Tab>React</c.Tab>\n            <c.Tab>Traveler</c.Tab>\n            <c.Tab>Storage</c.Tab>\n            <c.Tab>Permissions</c.Tab>\n            <c.Tab>Handlers</c.Tab>\n            <c.Tab>Packager</c.Tab>\n            <c.Tab>DeepChain</c.Tab>\n            <c.Tab>Perception</c.Tab>\n            <c.Tab>SDK</c.Tab>\n          </c.TabList>\n        \n          <c.TabPanels>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>Links</c.Heading>\n              <go.Component provide path={[ds, 'LinkStructure']}/>\n              <c.Heading as='h5' size='sm'>Link typing</c.Heading>\n              <c.Heading as='h5' size='sm'>Link relations</c.Heading>\n              <c.Heading as='h5' size='sm'>Link trees</c.Heading>\n              <c.Heading as='h5' size='sm'>Subjectivity</c.Heading>\n              <c.Heading as='h5' size='sm'>Permissions</c.Heading>\n              <c.Heading as='h5' size='sm'>Handlers</c.Heading>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>DeepLinks</c.Heading>\n              <c.Tabs>\n                <c.TabList>\n                  <c.Tab>architecture</c.Tab>\n                  <c.Tab>npx @deep-foundation/deeplinks</c.Tab>\n                  <c.Tab>docker compose</c.Tab>\n                  <c.Tab>kubernetes</c.Tab>\n                  <c.Tab>source code</c.Tab>\n                </c.TabList>\n              \n                <c.TabPanels>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='sm'>architecture</c.Heading>\n                    <go.Component provide path={[ds, 'DeepLinksDockerArchitecture']}/>\n                  </c.TabPanel>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='sm'>npx @deep-foundation/deeplinks</c.Heading>\n                    <go.Component provide path={[ds, 'DeepLinksNpx']}/>\n                  </c.TabPanel>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='sm'>docker compose</c.Heading>\n                    <go.Component provide path={[ds, 'DeepLinksDockerCompose']}/>\n                  </c.TabPanel>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='sm'>kubernetes</c.Heading>\n                  </c.TabPanel>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='sm'>source code</c.Heading>\n                    <go.Component provide path={[ds, 'DeepLinksDockerSourceCode']}/>\n                  </c.TabPanel>\n                </c.TabPanels>\n              </c.Tabs>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>DeepClient</c.Heading>\n              <c.Tabs>\n                <c.TabList>\n                  <c.Tab>operations</c.Tab>\n                  <c.Tab>authorization</c.Tab>\n                  <c.Tab>shorts</c.Tab>\n                  <c.Tab>react</c.Tab>\n                  <c.Tab>handlers</c.Tab>\n                </c.TabList>\n              \n                <c.TabPanels>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='md'>operations</c.Heading>\n\n                    <c.Heading as='h5' size='sm'>deep.select</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.select']}/>\n                    <c.Heading as='h5' size='sm'>deep.subscribe</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.subscribe']}/>\n                    <c.Heading as='h5' size='sm'>deep.insert</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.insert']}/>\n                    <c.Heading as='h5' size='sm'>deep.update</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.update']}/>\n                    <c.Heading as='h5' size='sm'>deep.delete</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.delete']}/>\n\n                    <c.Heading as='h5' size='sm'>deep.value</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.value']}/>\n\n                    <c.Heading as='h5' size='sm'>deep.search</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.search']}/>\n                    <c.Heading as='h6' size='xs'>deep.useSearch</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useSearch']}/>\n                    <c.Heading as='h6' size='xs'>deep.searchQuery</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.searchQuery']}/>\n\n                    <c.Heading as='h6' size='xs'>deep.serializeQuery</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.serializeQuery']}/>\n                  </c.TabPanel>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='md'>authorization</c.Heading>\n\n                    <c.Heading as='h5' size='sm'>deep.jwt</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.jwt']}/>\n                    <c.Heading as='h5' size='sm'>deep.login</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.login']}/>\n                    <c.Heading as='h5' size='sm'>deep.logout</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.logout']}/>\n                    <c.Heading as='h5' size='sm'>deep.guest</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.guest']}/>\n                  </c.TabPanel>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='sm'>shorts</c.Heading>\n\n                    <c.Heading as='h5' size='sm'>deep.id</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.id']}/>\n                    <c.Heading as='h6' size='xs'>deep.idLocal</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.idLocal']}/>\n                    <c.Heading as='h5' size='xs'>deep.useId</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useId']}/>\n\n                    <c.Heading as='h5' size='sm'>deep.name</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.name']}/>\n                    <c.Heading as='h6' size='xs'>deep.nameLocal</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.nameLocal']}/>\n\n                    <c.Heading as='h5' size='sm'>deep.symbol</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.symbol']}/>\n                    <c.Heading as='h6' size='xs'>deep.symbolLocal</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.symbolLocal']}/>\n\n                    <c.Heading as='h5' size='sm'>deep.get</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.get']}/>\n                    <c.Heading as='h5' size='sm'>link.toPlain</c.Heading>\n                    <go.Component provide path={[ds, 'Link.toPlain']}/>\n                  </c.TabPanel>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='sm'>react</c.Heading>\n\n                    <c.Heading as='h5' size='sm'>deep.useDeep</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useDeep']}/>\n\n                    <c.Heading as='h5' size='sm'>deep.useSubscription</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useSubscription']}/>\n                    <c.Heading as='h6' size='xs'>deep.useLocalSubscription</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useLocalSubscription']}/>\n                    <c.Heading as='h6' size='xs'>deep.useMinilinksSubscription</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useMinilinksSubscription']}/>\n\n                    <c.Heading as='h5' size='sm'>deep.useQuery</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useQuery']}/>\n                    <c.Heading as='h6' size='xs'>deep.useLocalQuery</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useLocalQuery']}/>\n                    <c.Heading as='h6' size='xs'>deep.useMinilinksQuery</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useMinilinksQuery']}/>\n\n                    <c.Heading as='h5' size='sm'>deep.useLink</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useLink']}/>\n                    <c.Heading as='h5' size='sm'>deep.useLinks</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useLinks']}/>\n\n                    <c.Heading as='h5' size='sm'>deep.useSearch</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useSearch']}/>\n\n                    <c.Heading as='h5' size='sm'>deep.useLocalApply</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useLocalApply']}/>\n                    <c.Heading as='h5' size='xs'>deep.useMinilinksApply</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.useMinilinksApply']}/>\n                  </c.TabPanel>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='sm'>handlers</c.Heading>\n                    <c.Heading as='h5' size='sm'>deep.eval</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.eval']}/>\n                    <c.Heading as='h5' size='sm'>deep.await</c.Heading>\n                    <go.Component provide path={[ds, 'DeepClient.await']}/>\n                    <c.Heading as='h6' size='xs'>go.Handler</c.Heading>\n                    <go.Component provide path={[ds, 'Go.Handler']}/>\n                    <c.Heading as='h5' size='sm'>deep.reserve</c.Heading>\n                    <go.Component provide path={[ds, 'Go.reserve']}/>\n                    <c.Heading as='h5' size='sm'>deep.stringify</c.Heading>\n                    <go.Component provide path={[ds, 'Go.stringify']}/>\n                  </c.TabPanel>\n                </c.TabPanels>\n              </c.Tabs>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>Minilinks</c.Heading>\n              <c.Heading as='h5' size='sm'>Link</c.Heading>\n              <go.Component provide path={[ds, 'Link']}/>\n              <c.Text>.id .type_id .from_id .to_id .value</c.Text>\n              <c.Text>.type .typed .from .out .to .in</c.Text>\n              <c.Text>.name .symbol .toString .valueOf</c.Text>\n              <c.Text>.traveler</c.Text>\n              <c.Heading as='h5' size='sm'>deep.ml.select</c.Heading>\n              <go.Component provide path={[ds, 'Minilinks.select']}/>\n              <c.Heading as='h5' size='sm'>deep.useLocalQuery</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useLocalQuery']}/>\n              <c.Heading as='h5' size='sm'>deep.ml.subscription</c.Heading>\n              <go.Component provide path={[ds, 'Minilinks.subscription']}/>\n              <c.Heading as='h5' size='sm'>deep.useLocalSubscription</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useLocalSubscription']}/>\n              <c.Heading as='h5' size='sm'>deep.ml.apply</c.Heading>\n              <go.Component provide path={[ds, 'Minilinks.apply']}/>\n              <c.Heading as='h5' size='sm'>deep.ml.add</c.Heading>\n              <go.Component provide path={[ds, 'Minilinks.add']}/>\n              <c.Heading as='h5' size='sm'>deep.ml.update</c.Heading>\n              <go.Component provide path={[ds, 'Minilinks.update']}/>\n              <c.Heading as='h5' size='sm'>deep.ml.remove</c.Heading>\n              <go.Component provide path={[ds, 'Minilinks.remove']}/>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>React</c.Heading>\n              <c.Heading as='h5' size='sm'>deep.useDeep</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useDeep']}/>\n              <c.Heading as='h5' size='sm'>deep.useQuery</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useQuery']}/>\n              <c.Heading as='h5' size='sm'>deep.useSubscription</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useSubscription']}/>\n              <c.Heading as='h5' size='sm'>deep.useLocalQuery</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useLocalQuery']}/>\n              <c.Heading as='h5' size='xs'>deep.useMinilinksQuery</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useMinilinksQuery']}/>\n              <c.Heading as='h5' size='xs'>deep.ml.useQuery</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useQuery']}/>\n              <c.Heading as='h5' size='sm'>deep.useLocalSubscription</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useLocalSubscription']}/>\n              <c.Heading as='h5' size='xs'>deep.ml.useSubscription</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useSubscription']}/>\n              <c.Heading as='h5' size='xs'>deep.useMinilinksSubscription</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useMinilinksSubscription']}/>\n              <c.Heading as='h5' size='sm'>deep.useLink</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useLink']}/>\n              <c.Heading as='h5' size='sm'>deep.useLinks</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useLinks']}/>\n              <c.Heading as='h5' size='sm'>deep.useSearch</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.useSearch']}/>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>Traveler</c.Heading>\n              <c.Heading as='h5' size='sm'>new Traveler</c.Heading>\n              <go.Component provide path={[ds, 'Traveler']}/>\n              <c.Heading as='h5' size='sm'>available from results.travel() and each link.travel()</c.Heading>\n              <c.Text>.type .typed .from .out .to .in .up .down</c.Text>\n              <c.Text>.query</c.Text>\n              <c.Text>.select .subscription .count .sum .avg .min .max</c.Text>\n              <c.Text>.and</c.Text>\n              <c.Text>.local .remote</c.Text>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>Storage</c.Heading>\n              <go.Component provide path={[ds, 'Storage']}/>\n              <c.Heading as='h5' size='sm'>/file</c.Heading>\n              <c.Heading as='h5' size='sm'>deep.value</c.Heading>\n              <c.Heading as='h5' size='sm'>deep.insert file:</c.Heading>\n              <c.Heading as='h5' size='sm'>go.DropZone</c.Heading>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>Permissions</c.Heading>\n              <go.Component provide path={[ds, 'Permissions']}/>\n              <c.Heading as='h5' size='sm'>Rule Object Subject Action</c.Heading>\n              <c.Heading as='h5' size='sm'>Selectors</c.Heading>\n              <go.Component provide path={[ds, 'Selectors']}/>\n              <c.Heading as='h5' size='sm'>Filter Query</c.Heading>\n              <c.Heading as='h5' size='sm'>deep.can</c.Heading>\n              <go.Component provide path={[ds, 'DeepClient.can']}/>\n              <c.Heading as='h5' size='sm'>custom actions</c.Heading>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>Handlers</c.Heading>\n              <go.Component provide path={[ds, 'Handlers']}/>\n              <c.Heading as='h5' size='sm'>Supports structure</c.Heading>\n              <c.Heading as='h5' size='sm'>Async Docker, Sync PLV8, Client handlers</c.Heading>\n              <c.Heading as='h5' size='sm'>HandleInsert HandleUpdate HandleDelete</c.Heading>\n              <go.Component provide path={[ds, 'HandleLinks']}/>\n              <c.Heading as='h5' size='sm'>HandleRoute</c.Heading>\n              <go.Component provide path={[ds, 'HandleRoute']}/>\n              <c.Heading as='h5' size='sm'>HandleGql</c.Heading>\n              <go.Component provide path={[ds, 'HandleGql']}/>\n              <c.Heading as='h5' size='sm'>HandleSchedule</c.Heading>\n              <go.Component provide path={[ds, 'HandleSchedule']}/>\n              <c.Heading as='h5' size='sm'>HandlePort</c.Heading>\n              <go.Component provide path={[ds, 'HandlePort']}/>\n              <c.Heading as='h5' size='sm'>custom handles</c.Heading>\n              <go.Component provide path={[ds, 'CustomHandle']}/>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>Packager</c.Heading>\n              <go.Component provide path={[ds, 'Packager']}/>\n              <c.Heading as='h5' size='sm'>Package structure</c.Heading>\n              <c.Heading as='h5' size='sm'>npm packages</c.Heading>\n              <go.Component provide path={[ds, 'PackagerNpm']}/>\n              <c.Heading as='h5' size='sm'>deep.chain packages</c.Heading>\n              <c.Heading as='h5' size='sm'>packager.import</c.Heading>\n              <go.Component provide path={[ds, 'Packager.import']}/>\n              <c.Heading as='h5' size='sm'>packager.export</c.Heading>\n              <go.Component provide path={[ds, 'Packager.export']}/>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>DeepChain</c.Heading>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>Perception</c.Heading>\n              <c.Tabs>\n                <c.TabList>\n                  <c.Tab>conception</c.Tab>\n                  <c.Tab>go</c.Tab>\n                  <c.Tab>builds</c.Tab>\n                </c.TabList>\n              \n                <c.TabPanels>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='md'>conception</c.Heading>\n                    <go.Component provide path={[ds, 'PerceptionConception']}/>\n                  </c.TabPanel>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='md'>go</c.Heading>\n                    <go.Component provide path={[ds, 'Go']}/>\n\n                    <c.Heading as='h5' size='sm'>go.linkId go.link</c.Heading>\n                    <c.Heading as='h5' size='sm'>go.go</c.Heading>\n                    <c.Heading as='h5' size='sm'>go.parent</c.Heading>\n                    <c.Heading as='h5' size='sm'>go.value go.set</c.Heading>\n                    <c.Heading as='h5' size='sm'>go.do</c.Heading>\n                  </c.TabPanel>\n                  <c.TabPanel>\n                    <c.Heading as='h5' size='sm'>builds</c.Heading>\n                    <go.Component provide path={[ds, 'PerceptionBuilds']}/>\n\n                    <c.Heading as='h5' size='xs'>any component as application</c.Heading>\n                    <c.Heading as='h5' size='xs'>publishing</c.Heading>\n                    <c.Heading as='h5' size='xs'>already with memory</c.Heading>\n                  </c.TabPanel>\n                </c.TabPanels>\n              </c.Tabs>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>SDK</c.Heading>\n              <go.Component provide path={[ds, 'SDK']}/>\n\n              <c.Heading as='h5' size='md'>manual</c.Heading>\n              <c.Heading as='h5' size='xs'>NextJS static/server/dev</c.Heading>\n              <c.Heading as='h5' size='xs'>Capacitor Android/iOS/Windows/Linux/Max</c.Heading>\n              <c.Heading as='h5' size='xs'>browser-extensions</c.Heading>\n              <c.Heading as='h5' size='xs'>NodeOS butable</c.Heading>\n\n              <c.Heading as='h5' size='md'>github actions</c.Heading>\n              <c.Heading as='h5' size='sm'>deep handlers</c.Heading>\n\n              <c.Heading as='h5' size='sm'>preload</c.Heading>\n            </c.TabPanel>\n            <c.TabPanel>\n              <c.Heading as='h4' size='md'>GQL</c.Heading>\n              <go.Component provide path={[ds, 'GQL']}/>\n            </c.TabPanel>\n          </c.TabPanels>\n        </c.Tabs>\n      </c.Box>\n    </go.On>;\n  };\n}",
        "link_id": 934
      }
    },
    {
      "id": 999,
      "type_id": 3,
      "from_id": 948,
      "to_id": 854,
      "value": {
        "id": 546,
        "value": "MenuTree",
        "link_id": 999
      }
    },
    {
      "id": 1034,
      "type_id": 3,
      "from_id": 948,
      "to_id": 894,
      "value": {
        "id": 581,
        "value": "LinkDeleteModal",
        "link_id": 1034
      }
    },
    {
      "id": 1035,
      "type_id": 3,
      "from_id": 948,
      "to_id": 893,
      "value": {
        "id": 582,
        "value": "LinkDeleteModalComponent",
        "link_id": 1035
      }
    },
    {
      "id": 1036,
      "type_id": 3,
      "from_id": 948,
      "to_id": 896,
      "value": {
        "id": 583,
        "value": "Finder",
        "link_id": 1036
      }
    },
    {
      "id": 1037,
      "type_id": 3,
      "from_id": 948,
      "to_id": 895,
      "value": {
        "id": 584,
        "value": "FinderComponent",
        "link_id": 1037
      }
    },
    {
      "id": 1038,
      "type_id": 3,
      "from_id": 948,
      "to_id": 898,
      "value": {
        "id": 585,
        "value": "FinderInput",
        "link_id": 1038
      }
    },
    {
      "id": 1039,
      "type_id": 3,
      "from_id": 948,
      "to_id": 897,
      "value": {
        "id": 586,
        "value": "FinderInputComponent",
        "link_id": 1039
      }
    },
    {
      "id": 750,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 326,
        "value": "async ({ deep, require, gql, data: { triggeredByLinkId, newLink } }) => {\n  const fs = await deep.import('fs');\n  const encoding = 'utf8';\n  const deepPackageKeyWord = 'deep-package';\n  \n  const makeTempDirectory = async () => {\n    const os = await deep.import('os');\n    const { v4: uuid } = await deep.import('uuid');\n    \n    const baseTempDirectory = os.tmpdir();\n    const randomId = uuid();\n    const tempDirectory = [baseTempDirectory,randomId].join('/');\n    fs.mkdirSync(tempDirectory);\n    console.log(tempDirectory);\n    return tempDirectory;\n  };\n  const npmInstall = async (packageName, installationPath, setTildaPrefix) => {\n    const execSync = (await deep.import('child_process')).execSync;\n\n    if (setTildaPrefix === true) {\n      const savePrefixCommand = `npm --prefix \"${installationPath}\" config set save-prefix=\"~\"`;\n      try {\n        const output = execSync(savePrefixCommand, { \n          encoding: 'utf-8',\n          cwd: installationPath\n        }).toString();\n        console.log(`${savePrefixCommand}\\n`, output);\n      } catch(error) {\n        return {\n          rejected: error\n        };\n      }\n    }\n  \n    let result;\n    const command = `npm --prefix \"${installationPath}\" i ${packageName}`;\n    try {\n      const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: installationPath\n      }).toString();\n      console.log(`${command}\\n`, output);\n      result = {\n        resolved: {\n          status: 0,\n          stdout: output\n        }\n      };\n    } catch(error) {\n      return {\n        rejected: error\n      };\n    }\n\n    if (setTildaPrefix === true) {\n      const deletePrefixCommand = `npm --prefix \"${installationPath}\" config delete save-prefix`;\n      try {\n        const output = execSync(deletePrefixCommand, { \n          encoding: 'utf-8',\n          cwd: installationPath\n        }).toString();\n        console.log(`${deletePrefixCommand}\\n`, output);\n      } catch(error) {\n        return {\n          rejected: error\n        };\n      }\n    }\n\n    return result;\n  };\n  const npmLogin = async (token, tempDirectory) => {\n    const execSync = (await deep.import('child_process')).execSync;\n  \n    const command = `npm set \"//registry.npmjs.org/:_authToken\" ${token}`;\n    const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: tempDirectory\n    });\n    console.log(`${command}\\n`, output);\n    return output;\n  };\n  const npmPublish = async (tempDirectory) => {\n    const execSync = (await deep.import('child_process')).execSync;\n  \n    const command = `npm publish --access public`;\n    const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: tempDirectory\n    });\n    console.log(`${command}\\n`, output);\n    return output;\n  };\n  const makeDeepPackagePath = (tempDirectory, packageName) => [tempDirectory, 'node_modules', packageName].join('/');\n  const makeDeepJsonPath = (packagePath) => [packagePath, 'deep.json'].join('/');\n  const makePackageJsonPath = (packagePath) => [packagePath, 'package.json'].join('/');\n  const deepExport = async (packageId) => {\n    const packager = new (await deep.import('@deep-foundation/deeplinks/imports/packager.js')).Packager(deep);\n    const exported = await packager.export({ packageLinkId: packageId });\n    console.log(exported);\n    if (exported?.errors?.length) throw exported;\n    return exported;\n  };\n  const loadNpmToken = async () => {\n    const containTreeId = await deep.id('@deep-foundation/core', 'containTree');\n    const tokenTypeId = await deep.id('@deep-foundation/npm-packager', 'Token');\n    const { data: [{ value: { value: npmToken = undefined } = {}} = {}] = []} = await deep.select({\n      up: {\n        tree_id: { _eq: containTreeId },\n        parent: { id: { _eq: triggeredByLinkId } },\n        link: { type_id: { _eq: tokenTypeId } }\n      }\n    });\n    return npmToken;\n  };\n  const loadFromJson = (path) => {\n    if (!fs.existsSync(path)) {\n      throw new Error(`${path} is not found.`);\n    }\n    const json = fs.readFileSync(path, { encoding });\n    if (!json) {\n      throw new Error(`${path} is empty or was not read properly.`);\n    }\n    console.log(`Parsing ${path} ...`);\n    const data = JSON.parse(json);\n    console.log(`Parsing ${path} finished.`);\n    return data;\n  }\n  const saveAsJson = (path, data) => {\n    fs.writeFileSync(path, JSON.stringify(data, null, 2), { encoding });\n  }\n  const updateVersion = async (deepJsonPath, packageJsonPath, localVersion) => {\n    const semver = await deep.import('semver');\n\n    const deepPackage = loadFromJson(deepJsonPath);\n    const npmPackage = loadFromJson(packageJsonPath);\n\n    const oldNpmVersion = npmPackage?.version || '0.0.0';\n\n    const nextVersion = semver.gt(localVersion, oldNpmVersion) ? localVersion : semver.inc(oldNpmVersion, 'patch');\n\n    npmPackage.version = nextVersion;\n    if (!deepPackage.package) {\n      deepPackage.package = {};\n    }\n    deepPackage.package.version = nextVersion;  \n\n    saveAsJson(deepJsonPath, deepPackage);\n    saveAsJson(packageJsonPath, npmPackage);\n\n    return nextVersion;\n  };\n  const addKeyword = (packageJsonPath, keyword) => {\n    const npmPackage = loadFromJson(packageJsonPath);\n    if (npmPackage?.keywords?.length > 0) {\n      if (!npmPackage.keywords.includes(keyword)) {\n        npmPackage.keywords.push(keyword); \n      }\n    } else {\n      npmPackage.keywords = [ keyword ];\n    }\n    saveAsJson(packageJsonPath, npmPackage);\n  };\n  const installDependencies = async (packagePath, dependencies) => {\n    for (const dependency of dependencies) {\n      const dependencyPackageName = `${dependency.name}@${dependency.version}`;\n      const installationResult = await npmInstall(dependencyPackageName, packagePath, true);\n      if (installationResult?.rejected) {\n        console.log(`Unable to install ${dependencyPackageName} dependency.`)\n        throw installationResult.rejected;\n      } else if (!installationResult?.resolved) {\n        throw new Error(`Unsupported NPM dependency installation result for ${dependencyPackageName} dependency package.`);\n      }\n    }\n  }\n\n  if (!triggeredByLinkId) {\n    throw new Error('Publish link should be inserted using JWT token (role link), it cannot be inserted using hasura secret (role admin).');\n  }\n\n  const { data: [packageQuery] } = await deep.select({ id: newLink.to_id });\n  const packageName = packageQuery?.value?.value;\n  if (!packageName) {\n    throw new Error('Package query value is empty.');\n  }\n  const packageVersionTypeId = await deep.id('@deep-foundation/core', 'PackageVersion');\n  const { data: [{ versions: [{ version: { value: localVersion = undefined } = {}} = {}] = []} = {}] = []} = await deep.select({ id: newLink.from_id }, { returning: `id versions: in(where: { type_id: { _eq: ${packageVersionTypeId} } }) { id type_id version: value }` });\n  if (!localVersion) {\n    throw new Error('Package must have a version.');\n  }\n\n  const packageId = newLink.from_id;\n  const { data: [{ value: actualPackageName }]} = await deep.select(\n    { link_id: { _eq: packageId } },\n    {\n      table: 'strings',\n      returning: 'value'\n    }\n  );\n  if (packageName !== actualPackageName) {\n    throw new Error('Package query value should be equal to actual package name.');\n  }\n  const tempDirectory = await makeTempDirectory();\n  try {\n    const npmToken = await loadNpmToken();\n    if (!npmToken) {\n      throw new Error('NPM token is required to publish package. NPM token should be contained by user that does insert publish link.');\n    }\n    await npmLogin(npmToken, tempDirectory);\n    const installationResult = await npmInstall(packageName, tempDirectory, false);\n    let deepPackagePath; \n    let packageJsonPath;\n    if (installationResult?.resolved) {\n      deepPackagePath = makeDeepPackagePath(tempDirectory, packageName);\n      packageJsonPath = makePackageJsonPath(deepPackagePath);\n    } else if(installationResult?.rejected) {\n      deepPackagePath = tempDirectory;\n      packageJsonPath = makePackageJsonPath(deepPackagePath);\n      const packageJson = {\n        name: packageName\n      };\n      saveAsJson(packageJsonPath, packageJson);\n    } else {\n      throw new Error(`Unsupported NPM installation result for ${packageName} package.`);\n    }\n    console.log('deepPackagePath', deepPackagePath);\n    console.log('packageJsonPath', packageJsonPath);\n    \n    const pkg = await deepExport(packageId);\n    console.log(pkg);\n    await installDependencies(deepPackagePath, pkg.dependencies);\n    const deepJsonPath = makeDeepJsonPath(deepPackagePath);\n    saveAsJson(deepJsonPath, pkg);\n    const nextVersion = await updateVersion(deepJsonPath, packageJsonPath, localVersion);\n    addKeyword(packageJsonPath, deepPackageKeyWord);\n    await npmPublish(deepPackagePath);\n    if (nextVersion !== localVersion) {\n      await deep.update({\n        link: {\n          type_id: { _eq: await deep.id('@deep-foundation/core', 'PackageVersion') },\n          to_id: { _eq: packageId },\n        },\n      }, { value: nextVersion }, { table: 'strings' });\n    }\n  } finally {\n    fs.rmSync(tempDirectory, { recursive: true, force: true });\n  }\n}",
        "link_id": 750
      }
    },
    {
      "id": 1040,
      "type_id": 3,
      "from_id": 948,
      "to_id": 900,
      "value": {
        "id": 587,
        "value": "GraphLinkGhost",
        "link_id": 1040
      }
    },
    {
      "id": 1041,
      "type_id": 3,
      "from_id": 948,
      "to_id": 899,
      "value": {
        "id": 588,
        "value": "GraphLinkGhostComponent",
        "link_id": 1041
      }
    },
    {
      "id": 1042,
      "type_id": 3,
      "from_id": 948,
      "to_id": 902,
      "value": {
        "id": 589,
        "value": "GraphLinkPlanet",
        "link_id": 1042
      }
    },
    {
      "id": 1043,
      "type_id": 3,
      "from_id": 948,
      "to_id": 901,
      "value": {
        "id": 590,
        "value": "GraphLinkPlanetComponent",
        "link_id": 1043
      }
    },
    {
      "id": 1044,
      "type_id": 3,
      "from_id": 948,
      "to_id": 904,
      "value": {
        "id": 591,
        "value": "MenuMemo",
        "link_id": 1044
      }
    },
    {
      "id": 1045,
      "type_id": 3,
      "from_id": 948,
      "to_id": 903,
      "value": {
        "id": 592,
        "value": "MenuMemoComponent",
        "link_id": 1045
      }
    },
    {
      "id": 1046,
      "type_id": 3,
      "from_id": 948,
      "to_id": 906,
      "value": {
        "id": 593,
        "value": "Planet",
        "link_id": 1046
      }
    },
    {
      "id": 1047,
      "type_id": 3,
      "from_id": 948,
      "to_id": 905,
      "value": {
        "id": 594,
        "value": "PlanetComponent",
        "link_id": 1047
      }
    },
    {
      "id": 1048,
      "type_id": 3,
      "from_id": 948,
      "to_id": 908,
      "value": {
        "id": 595,
        "value": "PlanetRelations",
        "link_id": 1048
      }
    },
    {
      "id": 1123,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 366,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { PiGraphBold } = require(\"react-icons/pi\");\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const dr = '@deep-foundation/readme';\n    const Symbol = deep.idLocal(dc, 'Symbol');\n    const Input = deep.idLocal(dr, 'Input');\n    const Output = deep.idLocal(dr, 'Output');\n    const Inherit = deep.idLocal(dr, 'Inherit');\n    const Readme = deep.idLocal(dr, 'Readme');\n    const Cause = deep.idLocal(dr, 'Cause');\n    const Dpl = deep.idLocal(dpl);\n    const Focus = deep.idLocal(dc, 'Focus');\n    const Active = deep.idLocal(dc, 'Active');\n    const History = deep.idLocal(dpl, 'History');\n    const Layer = deep.idLocal(dpl, 'Layer');\n    const Graph = deep.idLocal(dpl, 'Graph');\n    const GraphLink = deep.idLocal(dpl, 'GraphLink');\n    const GraphLinkPlanet = deep.idLocal(dpl, 'GraphLinkPlanet');\n    const containTree = deep.idLocal(dc, 'containTree');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const defaultLimiter = {\n        _not: {\n            type_id: { _in: [Symbol, Input, Output, Inherit, Readme, Cause] }\n        },\n    };\n    const Link = React.memo(({ isActive, saveHistory, ...props }) => {\n        const go = Go.useGo();\n        return React.createElement(React.Fragment, null,\n            !!saveHistory && !!isActive && React.createElement(go.Save, { handlerId: GraphLink }),\n            React.createElement(go.Handler, { handlerId: GraphLink, isActive: isActive, ...props }));\n    }, _.isEqual);\n    const Item = React.memo(({ opened, go, concentrated, parental, saveHistory }) => {\n        return React.createElement(Go.Provider, { key: opened.link.id, linkId: opened.link.id },\n            React.createElement(Link, { isActive: go.value === opened.link.id, saveHistory: saveHistory, isConcentrated: concentrated ? !!concentrated[opened.link.id] : undefined }, !!parental[opened.link?.id] && parental[opened.link.id].map((opened, i) => {\n                return React.createElement(Item, { opened: opened, go: go, concentrated: concentrated, parental: parental });\n            })));\n    }, _.isEqual);\n    return ({ go, using = false, saveHistory = false, initialId = deep.linkId, }, ref) => {\n        const [spaceId, setSpaceId] = React.useState();\n        const [containerId, setContainerId] = React.useState();\n        const initialOpened = React.useMemo(() => {\n            if (!initialId)\n                return [];\n            return [{ link: deep.get(initialId) }];\n        }, []);\n        const [limiter, setLimiter] = React.useState(defaultLimiter);\n        const [_opened, setOpened] = React.useState(initialOpened);\n        const { openedIds, openedHash } = React.useMemo(() => {\n            const openedHash = {};\n            const openedIds = _opened.map(o => {\n                openedHash[o.link.id] = o;\n                return o.link.id;\n            });\n            return { openedHash, openedIds };\n        }, [_opened]);\n        const limited = deep.useLocalQuery({ id: { _in: openedIds }, ...limiter });\n        const { ids, opened } = React.useMemo(() => {\n            const ids = [];\n            const opened = limited.map(o => {\n                ids.push(o.id);\n                return openedHash[o.id];\n            });\n            return { opened, ids };\n        }, [limited]);\n        React.useEffect(() => { console.log('limiter changed'); }, [limiter]);\n        React.useEffect(() => { console.log('openedIds changed'); }, [openedIds]);\n        React.useEffect(() => { console.log('openedHash changed'); }, [openedHash]);\n        React.useEffect(() => { console.log('_opened changed'); }, [_opened]);\n        React.useEffect(() => { console.log('limited changed'); }, [limited]);\n        React.useEffect(() => { console.log('ids changed'); }, [ids]);\n        React.useEffect(() => { console.log('opened changed'); }, [opened]);\n        const parental = React.useMemo(() => {\n            const byParent = {};\n            for (let i = 0; i < opened.length; i++) {\n                if (opened[i]?.parentId) {\n                    byParent[opened[i].parentId] = byParent[opened[i]?.parentId] || [];\n                    byParent[opened[i].parentId].push(opened[i]);\n                }\n            }\n            return byParent;\n        }, [opened]);\n        React.useEffect(() => {\n            if (initialId)\n                go.do('use', { id: initialId });\n        }, []);\n        React.useEffect(() => {\n            if (go?.current) {\n            }\n        }, [go.value]);\n        const [concentrate, setConcentrate] = React.useState();\n        const { ids: concentrated } = deep.useSearch(concentrate, {\n            db: false, sort: false,\n            query: { id: { _in: ids } },\n            skip: !concentrate,\n        });\n        const _limiter = React.useMemo(() => {\n            try {\n                return JSON.stringify(limiter, null, 2);\n            }\n            catch (e) {\n                return JSON.stringify(defaultLimiter, null, 2);\n            }\n        }, [limiter]);\n        const [queries, setQueries] = React.useState({});\n        const qs = React.useMemo(() => Object.keys(queries), [queries]);\n        return React.createElement(go.On, { do: {\n                focus: (g, v, o) => {\n                    o?.id ? go.focus(o?.id) : initialId && !go.value ? go.focus(initialId) : undefined;\n                },\n                use: (g, v, o) => {\n                    o?.id && o?.id != go.value && go(o?.id) && go.set(o.id).go(o?.id).go?.do('scroll').go?.do('use');\n                },\n                open: (g, v, { id, ids: _ids, parentId, focus } = {}) => {\n                    const ids = id ? [id] : _ids;\n                    if (ids?.length) {\n                        const toAdd = [];\n                        for (let i in ids) {\n                            const id = ids[i];\n                            if (!opened.find(o => o?.link?.id === id))\n                                toAdd.push({ link: deep.get(id), parentId });\n                        }\n                        if (toAdd.length) {\n                            const toSet = [...opened, ...toAdd];\n                            console.log('setOpened', toSet);\n                            setOpened(toSet);\n                        }\n                        if (focus && ids[0])\n                            go.awaitRef(ids[0]).then(g => {\n                            });\n                    }\n                },\n                concentrate: (g, v, o) => {\n                    setConcentrate(o?.value);\n                },\n                containerId: (g, v, o) => o?.id && setContainerId(o?.id),\n                spaceId: (g, v, o) => o?.id && setSpaceId(o?.id),\n                query: (g, v, o) => {\n                    setQueries({ ...queries, [`${g?.linkId}_${o.name}`]: { parentId: o?.parentId, query: o.query } });\n                },\n            } },\n            React.createElement(go.Subscription, { query: {\n                    type_id: { _in: [Readme, Input, Output, Cause, Inherit], to_id: { _in: ids } }\n                } }),\n            qs.map(q => React.createElement(go.Subscription, { key: JSON.stringify(queries[q].query), query: queries[q].query, onChange: ({ data }) => go.do('open', { ids: data.map(l => l.id), parentId: queries[q].parentId }) })),\n            React.createElement(c.Box, { w: '100%', h: '100%', ref: ref, sx: {\n                    '& .deep-graph-node-html-label': {\n                        w: '15em',\n                        pl: '1em',\n                        color: 'deepColor',\n                    }\n                } },\n                React.createElement(go.Graph, { onLoaded: cy => { window.cy = cy; }, spaceId: spaceId, containerId: containerId, buttonsChildren: React.createElement(React.Fragment, null,\n                        React.createElement(c.Popover, { placement: 'left' }, ({ isOpen }) => (React.createElement(React.Fragment, null,\n                            React.createElement(c.PopoverTrigger, null,\n                                React.createElement(c.Button, null, \"\\uD83D\\uDDDC\\uFE0F\")),\n                            React.createElement(c.PopoverContent, null, !!isOpen && React.createElement(go.Editor, { value: _limiter, onChange: (v) => {\n                                    try {\n                                        setLimiter(JSON.parse(v));\n                                    }\n                                    catch (e) { }\n                                } })))))) },\n                    React.createElement(go.Provider, { linkId: deep.linkId },\n                        React.createElement(Link, null)),\n                    React.createElement(go.GraphStyle, { stylesheet: [\n                            {\n                                selector: '.link-children',\n                                style: {\n                                    'background-opacity': 0.05,\n                                    'background-color': 'deepBgGraphChildren',\n                                    opacity: 1,\n                                    'background-fit': 'cover',\n                                    'border-width': 0,\n                                    'events': 'no',\n                                }\n                            },\n                            {\n                                selector: '.link-file',\n                                style: {\n                                    color: 'deepColor',\n                                    width: 30,\n                                    height: 30,\n                                    'font-size': 16,\n                                    'text-margin-y': 23,\n                                    'text-margin-x': -2,\n                                    label: 'data(label)',\n                                    \"text-wrap\": \"wrap\",\n                                    'background-image': 'data(image)',\n                                    'background-fit': 'cover',\n                                }\n                            },\n                            {\n                                selector: '.link-ghost',\n                                style: {\n                                    color: 'deepLinkNodeColor',\n                                    'background-opacity': 0,\n                                    'background-color': 'deepLinkNodeBg',\n                                    width: 30,\n                                    height: 30,\n                                    'font-size': 16,\n                                    'text-margin-y': 23,\n                                    'text-margin-x': 1,\n                                    'label': 'data(label)',\n                                    \"text-wrap\": \"wrap\",\n                                    'background-fit': 'cover',\n                                    'border-color': 'deepLinkNodeColor',\n                                    'border-width': 3,\n                                }\n                            },\n                            {\n                                selector: '.link-node',\n                                style: {\n                                    color: 'deepLinkNodeColor',\n                                    'background-opacity': 1,\n                                    'background-color': 'deepLinkNodeBg',\n                                    opacity: 1,\n                                    width: 30,\n                                    height: 30,\n                                    'font-size': 16,\n                                    'text-margin-y': 23,\n                                    'text-margin-x': 1,\n                                    'label': 'data(label)',\n                                    \"text-wrap\": \"wrap\",\n                                    'background-fit': 'cover',\n                                    'events': 'yes',\n                                }\n                            },\n                            {\n                                selector: '.link-node-concentrated',\n                                style: {\n                                    opacity: 1,\n                                }\n                            },\n                            {\n                                selector: '.link-node-unconcentrated',\n                                style: {\n                                    opacity: 0.4,\n                                }\n                            },\n                            {\n                                selector: '.link-node-input',\n                                style: {\n                                    \"border-color\": \"yellow\",\n                                    'border-width': '3',\n                                },\n                            },\n                            {\n                                selector: '.link-node-output',\n                                style: {\n                                    \"border-color\": \"blue\",\n                                    'border-width': '3',\n                                },\n                            },\n                            {\n                                selector: '.link-node-inherit',\n                                style: {\n                                    \"border-color\": \"black\",\n                                    'border-width': '3',\n                                },\n                            },\n                            {\n                                selector: '.link-node-active',\n                                style: {\n                                    \"background-color\": \"deepColorActive\",\n                                }\n                            },\n                            {\n                                selector: '.link-edge',\n                                style: {\n                                    width: 1,\n                                    'curve-style': 'bezier',\n                                    'target-distance-from-node': 8,\n                                    'source-distance-from-node': 1,\n                                }\n                            },\n                            {\n                                selector: '.link-edge-active',\n                                style: {\n                                    \"line-color\": \"deepColorActive\",\n                                }\n                            },\n                            {\n                                selector: '.link-to',\n                                style: {\n                                    'target-arrow-shape': 'triangle',\n                                }\n                            },\n                            {\n                                selector: '.link-from',\n                                style: {\n                                    'target-arrow-shape': 'tee',\n                                }\n                            },\n                            {\n                                selector: '.link-type',\n                                style: {\n                                    'target-arrow-shape': 'triangle',\n                                    'line-style': 'dashed',\n                                    'line-dash-pattern': [5, 5]\n                                }\n                            },\n                            {\n                                selector: '.link-contain',\n                                style: {\n                                    'source-arrow-shape': 'tee',\n                                    'target-arrow-shape': 'triangle',\n                                    'font-size': 16,\n                                    'text-margin-y': 23,\n                                    'text-margin-x': 1,\n                                    'label': 'data(label)',\n                                    \"edge-text-rotation\": \"autorotate\",\n                                    \"text-wrap\": \"wrap\",\n                                    'line-dash-pattern': [5, 5],\n                                }\n                            },\n                            {\n                                selector: '.link-cause',\n                                style: {\n                                    'source-arrow-shape': 'tee',\n                                    'target-arrow-shape': 'triangle',\n                                    'line-dash-pattern': [5, 5],\n                                    \"line-color\": \"violet\",\n                                }\n                            },\n                        ] }),\n                    opened.map((opened, i) => React.createElement(Item, { opened: opened, go: go, concentrated: !!concentrate && concentrated, parental: parental, saveHistory: saveHistory })))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDbEQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBQ25DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHlCQUF5QixDQUFDO0lBRXJDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBRXhDLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMs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QixvQkFBb0IsRUFBRSxVQUFVO29DQUNoQyxXQUFXLEVBQUUsRUFBRTtvQ0FDZixlQUFlLEVBQUUsRUFBRTtvQ0FDbkIsZUFBZSxFQUFFLENBQUM7b0NBQ2xCLE9BQU8sRUFBRSxhQUFhO29DQUN0QixvQkFBb0IsRUFBRSxZQUFZO29DQUNsQyxXQUFXLEVBQUUsTUFBTTtvQ0FDbkIsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2lDQUM1Qjs2QkFDRjs0QkFDRDtnQ0FDRSxRQUFRLEVBQUUsYUFBYTtnQ0FDdkIsS0FBSyxFQUFFO29DQUNMLG9CQUFvQixFQUFFLEtBQUs7b0NBQzNCLG9CQUFvQixFQUFFLFVBQVU7b0NBQ2hDLG1CQUFtQixFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQ0FDM0IsWUFBWSxFQUFFLFFBQVE7aUNBQ3ZCOzZCQUNGO3lCQUNGLEdBQUk7b0JBQ0osTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLG9CQUFDLElBQUksSUFDOUIsTUFBTSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsV0FBVyxJQUFJLFlBQVksRUFDbkUsUUFBUSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsV0FBVyxHQUM1QyxDQUFDLENBQ00sQ0FDTCxDQUNGLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBQaUdyYXBoQm9sZCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL3BpXCIpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRyID0gJ0BkZWVwLWZvdW5kYXRpb24vcmVhZG1lJztcblxuICBjb25zdCBTeW1ib2wgPSBkZWVwLmlkTG9jYWwoZGMsICdTeW1ib2wnKTtcbiAgY29uc3QgSW5wdXQgPSBkZWVwLmlkTG9jYWwoZHIsICdJbnB1dCcpO1xuICBjb25zdCBPdXRwdXQgPSBkZWVwLmlkTG9jYWwoZHIsICdPdXRwdXQnKTtcbiAgY29uc3QgSW5oZXJpdCA9IGRlZXAuaWRMb2NhbChkciwgJ0luaGVyaXQnKTtcbiAgY29uc3QgUmVhZG1lID0gZGVlcC5pZExvY2FsKGRyLCAnUmVhZG1lJyk7XG4gIGNvbnN0IENhdXNlID0gZGVlcC5pZExvY2FsKGRyLCAnQ2F1c2UnKTtcblxuICBjb25zdCBEcGwgPSBkZWVwLmlkTG9jYWwoZHBsKTtcbiAgY29uc3QgRm9jdXMgPSBkZWVwLmlkTG9jYWwoZGMsICdGb2N1cycpO1xuICBjb25zdCBBY3RpdmUgPSBkZWVwLmlkTG9jYWwoZGMsICdBY3RpdmUnKTtcbiAgY29uc3QgSGlzdG9yeSA9IGRlZXAuaWRMb2NhbChkcGwsICdIaXN0b3J5Jyk7XG4gIGNvbnN0IExheWVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0xheWVyJyk7XG4gIGNvbnN0IEdyYXBoID0gZGVlcC5pZExvY2FsKGRwbCwgJ0dyYXBoJyk7XG4gIGNvbnN0IEdyYXBoTGluayA9IGRlZXAuaWRMb2NhbChkcGwsICdHcmFwaExpbmsnKTtcbiAgY29uc3QgR3JhcGhMaW5rUGxhbmV0ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0dyYXBoTGlua1BsYW5ldCcpO1xuICBjb25zdCBjb250YWluVHJlZSA9IGRlZXAuaWRMb2NhbChkYywgJ2NvbnRhaW5UcmVlJyk7XG4gIGNvbnN0IENvbnRhaW4gPSBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyk7XG5cbiAgY29uc3QgZGVmYXVsdExpbWl0ZXIgPSB7XG4gICAgX25vdDoge1xuICAgICAgdHlwZV9pZDogeyBfaW46IFtTeW1ib2wsIElucHV0LCBPdXRwdXQsIEluaGVyaXQsIFJlYWRtZSwgQ2F1c2VdIH1cbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IExpbmsgPSBSZWFjdC5tZW1vKCh7IGlzQWN0aXZlLCBzYXZlSGlzdG9yeSwgLi4ucHJvcHMgfSkgPT4ge1xuICAgIGNvbnN0IGdvID0gR28udXNlR28oKTtcbiAgICByZXR1cm4gPD5cbiAgICAgIHshIXNhdmVIaXN0b3J5ICYmICEhaXNBY3RpdmUgJiYgPGdvLlNhdmUgaGFuZGxlcklkPXtHcmFwaExpbmt9Lz59XG4gICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e0dyYXBoTGlua30gaXNBY3RpdmU9e2lzQWN0aXZlfSB7Li4ucHJvcHN9IC8+XG4gICAgPC8+O1xuICB9LCBfLmlzRXF1YWwpO1xuXG4gIGNvbnN0IEl0ZW0gPSBSZWFjdC5tZW1vKCh7XG4gICAgb3BlbmVkLCBnbywgY29uY2VudHJhdGVkLCBwYXJlbnRhbCwgc2F2ZUhpc3RvcnlcbiAgfSkgPT4ge1xuICAgIHJldHVybiA8R28uUHJvdmlkZXIga2V5PXtvcGVuZWQubGluay5pZH0gbGlua0lkPXtvcGVuZWQubGluay5pZH0+XG4gICAgICA8TGlua1xuICAgICAgICBpc0FjdGl2ZT17Z28udmFsdWUgPT09IG9wZW5lZC5saW5rLmlkfSBzYXZlSGlzdG9yeT17c2F2ZUhpc3Rvcnl9XG4gICAgICAgIGlzQ29uY2VudHJhdGVkPXtjb25jZW50cmF0ZWQgPyAhIWNvbmNlbnRyYXRlZFtvcGVuZWQubGluay5pZF0gOiB1bmRlZmluZWR9XG4gICAgICA+XG4gICAgICAgIHshIXBhcmVudGFsW29wZW5lZC5saW5rPy5pZF0gJiYgcGFyZW50YWxbb3BlbmVkLmxpbmsuaWRdLm1hcCgob3BlbmVkLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxJdGVtIG9wZW5lZD17b3BlbmVkfSBnbz17Z299IGNvbmNlbnRyYXRlZD17Y29uY2VudHJhdGVkfSBwYXJlbnRhbD17cGFyZW50YWx9Lz5cbiAgICAgICAgfSl9XG4gICAgICA8L0xpbms+XG4gICAgPC9Hby5Qcm92aWRlcj47XG4gIH0sIF8uaXNFcXVhbCk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICB1c2luZyA9IGZhbHNlLFxuICAgIHNhdmVIaXN0b3J5ID0gZmFsc2UsXG5cbiAgICBpbml0aWFsSWQgPSBkZWVwLmxpbmtJZCxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgW3NwYWNlSWQsIHNldFNwYWNlSWRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCBbY29udGFpbmVySWQsIHNldENvbnRhaW5lcklkXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG5cbiAgICBjb25zdCBpbml0aWFsT3BlbmVkID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBpZiAoIWluaXRpYWxJZCkgcmV0dXJuIFtdO1xuICAgICAgcmV0dXJuIFt7IGxpbms6IGRlZXAuZ2V0KGluaXRpYWxJZCkgfV07XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgW2xpbWl0ZXIsIHNldExpbWl0ZXJdID0gUmVhY3QudXNlU3RhdGUoZGVmYXVsdExpbWl0ZXIpO1xuXG4gICAgY29uc3QgW19vcGVuZWQsIHNldE9wZW5lZF0gPSBSZWFjdC51c2VTdGF0ZShpbml0aWFsT3BlbmVkKTtcbiAgICBjb25zdCB7IG9wZW5lZElkcywgb3BlbmVkSGFzaCB9ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCBvcGVuZWRIYXNoID0ge307XG4gICAgICBjb25zdCBvcGVuZWRJZHMgPSBfb3BlbmVkLm1hcChvID0+IHtcbiAgICAgICAgb3BlbmVkSGFzaFtvLmxpbmsuaWRdID0gbztcbiAgICAgICAgcmV0dXJuIG8ubGluay5pZDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgb3BlbmVkSGFzaCwgb3BlbmVkSWRzIH1cbiAgICB9LCBbX29wZW5lZF0pO1xuXG4gICAgY29uc3QgbGltaXRlZCA9IGRlZXAudXNlTG9jYWxRdWVyeSh7IGlkOiB7IF9pbjogb3BlbmVkSWRzIH0sIC4uLmxpbWl0ZXIgfSk7XG4gICAgY29uc3QgeyBpZHMsIG9wZW5lZCB9ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCBpZHMgPSBbXTtcbiAgICAgIGNvbnN0IG9wZW5lZCA9IGxpbWl0ZWQubWFwKG8gPT4ge1xuICAgICAgICBpZHMucHVzaChvLmlkKTtcbiAgICAgICAgcmV0dXJuIG9wZW5lZEhhc2hbby5pZF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IG9wZW5lZCwgaWRzIH07XG4gICAgfSwgW2xpbWl0ZWRdKTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7IGNvbnNvbGUubG9nKCdsaW1pdGVyIGNoYW5nZWQnKTsgfSwgW2xpbWl0ZXJdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4geyBjb25zb2xlLmxvZygnb3BlbmVkSWRzIGNoYW5nZWQnKTsgfSwgW29wZW5lZElkc10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7IGNvbnNvbGUubG9nKCdvcGVuZWRIYXNoIGNoYW5nZWQnKTsgfSwgW29wZW5lZEhhc2hdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4geyBjb25zb2xlLmxvZygnX29wZW5lZCBjaGFuZ2VkJyk7IH0sIFtfb3BlbmVkXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsgY29uc29sZS5sb2coJ2xpbWl0ZWQgY2hhbmdlZCcpOyB9LCBbbGltaXRlZF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7IGNvbnNvbGUubG9nKCdpZHMgY2hhbmdlZCcpOyB9LCBbaWRzXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsgY29uc29sZS5sb2coJ29wZW5lZCBjaGFuZ2VkJyk7IH0sIFtvcGVuZWRdKTtcblxuICAgIGNvbnN0IHBhcmVudGFsID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCBieVBhcmVudCA9IHt9O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcGVuZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG9wZW5lZFtpXT8ucGFyZW50SWQpIHtcbiAgICAgICAgICBieVBhcmVudFtvcGVuZWRbaV0ucGFyZW50SWRdID0gYnlQYXJlbnRbb3BlbmVkW2ldPy5wYXJlbnRJZF0gfHwgW107XG4gICAgICAgICAgYnlQYXJlbnRbb3BlbmVkW2ldLnBhcmVudElkXS5wdXNoKG9wZW5lZFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBieVBhcmVudDtcbiAgICB9LCBbb3BlbmVkXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChpbml0aWFsSWQpIGdvLmRvKCd1c2UnLCB7IGlkOiBpbml0aWFsSWQgfSk7XG4gICAgfSwgW10pO1xuICAgIC8vIGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAvLyAgIHR5cGVfaWQ6IHsgX2luOiBbSGlzdG9yeSwgRm9jdXMsIEFjdGl2ZV0gfSxcbiAgICAvLyAgIGZyb21faWQ6IGRlZXAubGlua0lkLFxuICAgIC8vICAgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9LFxuICAgIC8vICAgcmV0dXJuOiB7XG4gICAgLy8gICAgIGl0ZW06IHsgcmVsYXRpb246ICd0bycgfSxcbiAgICAvLyAgIH0sXG4gICAgLy8gfSk7XG4gICAgLy8gY29uc3QgaGlzdG9yeSA9IGRlZXAudXNlTG9jYWxTdWJzY3JpcHRpb24oe1xuICAgIC8vICAgdHlwZV9pZDogSGlzdG9yeSxcbiAgICAvLyAgIGZyb21faWQ6IGRlZXAubGlua0lkLFxuICAgIC8vICAgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9LFxuICAgIC8vIH0pO1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChnbz8uY3VycmVudCkge1xuICAgICAgICAvLyBpZiAodXNpbmcgJiYgZ28ucm9vdCgpPy5kYXRhPy51c2VkSWQgIT0gZ28udmFsdWUpIGdvLnJvb3QoKS5kbygndXNlJywgeyBpZDogZ28udmFsdWUgfSk7XG4gICAgICAgIC8vIGdvLmRvKCdjaGFuZ2VkJywgeyBpZDogZ28udmFsdWUgfSk7XG4gICAgICAgIC8vIGdvPy5jdXJyZW50Py5kbygnc2Nyb2xsJyk7XG4gICAgICB9XG4gICAgfSwgW2dvLnZhbHVlXSk7XG5cbiAgICBjb25zdCBbY29uY2VudHJhdGUsIHNldENvbmNlbnRyYXRlXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgY29uc3QgeyBpZHM6IGNvbmNlbnRyYXRlZCB9ID0gZGVlcC51c2VTZWFyY2goY29uY2VudHJhdGUsIHtcbiAgICAgIGRiOiBmYWxzZSwgc29ydDogZmFsc2UsXG4gICAgICBxdWVyeTogeyBpZDogeyBfaW46IGlkcyB9IH0sXG4gICAgICBza2lwOiAhY29uY2VudHJhdGUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBfbGltaXRlciA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGxpbWl0ZXIsIG51bGwsIDIpO1xuICAgICAgfSBjYXRjaChlKSB7IHJldHVybiBKU09OLnN0cmluZ2lmeShkZWZhdWx0TGltaXRlciwgbnVsbCwgMikgfVxuICAgIH0sIFtsaW1pdGVyXSlcblxuICAgIGNvbnN0IFtxdWVyaWVzLCBzZXRRdWVyaWVzXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICBjb25zdCBxcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gT2JqZWN0LmtleXMocXVlcmllcyksIFtxdWVyaWVzXSk7XG5cbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBmb2N1czogKGcsIHYsIG8pID0+IHtcbiAgICAgICAgbz8uaWQgPyBnby5mb2N1cyhvPy5pZCkgOiBpbml0aWFsSWQgJiYgIWdvLnZhbHVlID8gZ28uZm9jdXMoaW5pdGlhbElkKSA6IHVuZGVmaW5lZDtcbiAgICAgIH0sXG4gICAgICB1c2U6IChnLCB2LCBvKSA9PiB7XG4gICAgICAgIG8/LmlkICYmIG8/LmlkICE9IGdvLnZhbHVlICYmIGdvKG8/LmlkKSAmJiBnby5zZXQoby5pZCkuZ28obz8uaWQpLmdvPy5kbygnc2Nyb2xsJykuZ28/LmRvKCd1c2UnKVxuICAgICAgfSxcbiAgICAgIG9wZW46IChnLCB2LCB7IGlkLCBpZHM6IF9pZHMsIHBhcmVudElkLCBmb2N1cyB9ID0ge30pID0+IHtcbiAgICAgICAgY29uc3QgaWRzID0gaWQgPyBbaWRdIDogX2lkcztcbiAgICAgICAgaWYgKGlkcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgdG9BZGQgPSBbXTtcbiAgICAgICAgICBmb3IgKGxldCBpIGluIGlkcykge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBpZHNbaV07XG4gICAgICAgICAgICBpZiAoIW9wZW5lZC5maW5kKG8gPT4gbz8ubGluaz8uaWQgPT09IGlkKSkgdG9BZGQucHVzaCh7IGxpbms6IGRlZXAuZ2V0KGlkKSwgcGFyZW50SWQgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0b0FkZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvU2V0ID0gWy4uLm9wZW5lZCwgLi4udG9BZGRdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NldE9wZW5lZCcsdG9TZXQpO1xuICAgICAgICAgICAgc2V0T3BlbmVkKHRvU2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZvY3VzICYmIGlkc1swXSkgZ28uYXdhaXRSZWYoaWRzWzBdKS50aGVuKGcgPT4ge1xuICAgICAgICAgICAgLy8gZ28uZm9jdXMoaWRzWzBdKS5nbyhpZHNbMF0pLmRvKCdzY3JvbGwnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbmNlbnRyYXRlOiAoZyx2LG8pID0+IHtcbiAgICAgICAgc2V0Q29uY2VudHJhdGUobz8udmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGNvbnRhaW5lcklkOiAoZyx2LG8pID0+IG8/LmlkICYmIHNldENvbnRhaW5lcklkKG8/LmlkKSxcbiAgICAgIHNwYWNlSWQ6IChnLHYsbykgPT4gbz8uaWQgJiYgc2V0U3BhY2VJZChvPy5pZCksXG4gICAgICBxdWVyeTogKGcsdixvKSA9PiB7XG4gICAgICAgIHNldFF1ZXJpZXMoeyAuLi5xdWVyaWVzLCBbYCR7Zz8ubGlua0lkfV8ke28ubmFtZX1gXTogeyBwYXJlbnRJZDogbz8ucGFyZW50SWQsIHF1ZXJ5OiBvLnF1ZXJ5IH0gfSk7XG4gICAgICB9LFxuICAgIH19PlxuICAgICAgPGdvLlN1YnNjcmlwdGlvbiBxdWVyeT17e1xuICAgICAgICB0eXBlX2lkOiB7IF9pbjogW1JlYWRtZSwgSW5wdXQsIE91dHB1dCwgQ2F1c2UsIEluaGVyaXRdLCB0b19pZDogeyBfaW46IGlkcyB9IH1cbiAgICAgIH19Lz5cbiAgICAgIHtxcy5tYXAocSA9PiA8Z28uU3Vic2NyaXB0aW9uIGtleT17SlNPTi5zdHJpbmdpZnkocXVlcmllc1txXS5xdWVyeSl9IHF1ZXJ5PXtxdWVyaWVzW3FdLnF1ZXJ5fVxuICAgICAgICBvbkNoYW5nZT17KHsgZGF0YSB9KSA9PiBnby5kbygnb3BlbicsIHsgaWRzOiBkYXRhLm1hcChsID0+IGwuaWQpLCBwYXJlbnRJZDogcXVlcmllc1txXS5wYXJlbnRJZCB9KX1cbiAgICAgIC8+KX1cbiAgICAgIDxjLkJveFxuICAgICAgICB3PScxMDAlJyBoPScxMDAlJ1xuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgc3g9e3tcbiAgICAgICAgICAnJiAuZGVlcC1ncmFwaC1ub2RlLWh0bWwtbGFiZWwnOiB7XG4gICAgICAgICAgICB3OiAnMTVlbScsXG4gICAgICAgICAgICBwbDogJzFlbScsXG4gICAgICAgICAgICBjb2xvcjogJ2RlZXBDb2xvcicsXG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8Z28uR3JhcGhcbiAgICAgICAgICBvbkxvYWRlZD17Y3kgPT4geyB3aW5kb3cuY3kgPSBjeTsgfX1cbiAgICAgICAgICBzcGFjZUlkPXtzcGFjZUlkfVxuICAgICAgICAgIGNvbnRhaW5lcklkPXtjb250YWluZXJJZH1cbiAgICAgICAgICBidXR0b25zQ2hpbGRyZW49ezw+XG4gICAgICAgICAgICA8Yy5Qb3BvdmVyIHBsYWNlbWVudD0nbGVmdCc+eyh7IGlzT3BlbiB9KSA9PiAoPD5cbiAgICAgICAgICAgICAgPGMuUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgICAgICAgPGMuQnV0dG9uPvCfl5zvuI88L2MuQnV0dG9uPlxuICAgICAgICAgICAgICA8L2MuUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgICAgIDxjLlBvcG92ZXJDb250ZW50PlxuICAgICAgICAgICAgICAgIHshIWlzT3BlbiAmJiA8Z28uRWRpdG9yIHZhbHVlPXtfbGltaXRlcn0gb25DaGFuZ2U9eyh2KSA9PiB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzZXRMaW1pdGVyKEpTT04ucGFyc2UodikpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgICAgICAgICAgIH19Lz59XG4gICAgICAgICAgICAgIDwvYy5Qb3BvdmVyQ29udGVudD5cbiAgICAgICAgICAgIDwvPil9PC9jLlBvcG92ZXI+XG4gICAgICAgICAgPC8+fVxuICAgICAgICA+XG4gICAgICAgICAgezxnby5Qcm92aWRlciBsaW5rSWQ9e2RlZXAubGlua0lkfT5cbiAgICAgICAgICAgIDxMaW5rIC8+XG4gICAgICAgICAgPC9nby5Qcm92aWRlcj59XG4gICAgICAgICAgPGdvLkdyYXBoU3R5bGUgc3R5bGVzaGVldD17W1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLWNoaWxkcmVuJyxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1vcGFjaXR5JzogMC4wNSxcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdkZWVwQmdHcmFwaENoaWxkcmVuJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWZpdCc6ICdjb3ZlcicsXG4gICAgICAgICAgICAgICAgJ2JvcmRlci13aWR0aCc6IDAsXG4gICAgICAgICAgICAgICAgJ2V2ZW50cyc6ICdubycsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmxpbmstZmlsZScsXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICdkZWVwQ29sb3InLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAzMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwLFxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAxNixcbiAgICAgICAgICAgICAgICAndGV4dC1tYXJnaW4teSc6IDIzLCAvLyAtNFxuICAgICAgICAgICAgICAgICd0ZXh0LW1hcmdpbi14JzogLTIsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdkYXRhKGxhYmVsKScsXG4gICAgICAgICAgICAgICAgXCJ0ZXh0LXdyYXBcIjogXCJ3cmFwXCIsXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAnZGF0YShpbWFnZSknLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWZpdCc6ICdjb3ZlcicsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmxpbmstZ2hvc3QnLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAnZGVlcExpbmtOb2RlQ29sb3InLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLW9wYWNpdHknOiAwLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ2RlZXBMaW5rTm9kZUJnJyxcbiAgICAgICAgICAgICAgICB3aWR0aDogMzAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogMTYsXG4gICAgICAgICAgICAgICAgJ3RleHQtbWFyZ2luLXknOiAyMywgLy8gLTRcbiAgICAgICAgICAgICAgICAndGV4dC1tYXJnaW4teCc6IDEsXG4gICAgICAgICAgICAgICAgJ2xhYmVsJzogJ2RhdGEobGFiZWwpJyxcbiAgICAgICAgICAgICAgICBcInRleHQtd3JhcFwiOiBcIndyYXBcIixcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1maXQnOiAnY292ZXInLFxuICAgICAgICAgICAgICAgICdib3JkZXItY29sb3InOiAnZGVlcExpbmtOb2RlQ29sb3InLFxuICAgICAgICAgICAgICAgICdib3JkZXItd2lkdGgnOiAzLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLW5vZGUnLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAnZGVlcExpbmtOb2RlQ29sb3InLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLW9wYWNpdHknOiAxLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ2RlZXBMaW5rTm9kZUJnJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAzMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwLFxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAxNixcbiAgICAgICAgICAgICAgICAndGV4dC1tYXJnaW4teSc6IDIzLCAvLyAtNFxuICAgICAgICAgICAgICAgICd0ZXh0LW1hcmdpbi14JzogMSxcbiAgICAgICAgICAgICAgICAnbGFiZWwnOiAnZGF0YShsYWJlbCknLFxuICAgICAgICAgICAgICAgIFwidGV4dC13cmFwXCI6IFwid3JhcFwiLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWZpdCc6ICdjb3ZlcicsXG4gICAgICAgICAgICAgICAgJ2V2ZW50cyc6ICd5ZXMnLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLW5vZGUtY29uY2VudHJhdGVkJyxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLW5vZGUtdW5jb25jZW50cmF0ZWQnLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNCxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3I6ICcubGluay1ub2RlLWlucHV0JyxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBcImJvcmRlci1jb2xvclwiOiBcInllbGxvd1wiLFxuICAgICAgICAgICAgICAgICdib3JkZXItd2lkdGgnOiAnMycsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLW5vZGUtb3V0cHV0JyxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBcImJvcmRlci1jb2xvclwiOiBcImJsdWVcIixcbiAgICAgICAgICAgICAgICAnYm9yZGVyLXdpZHRoJzogJzMnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3I6ICcubGluay1ub2RlLWluaGVyaXQnLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIFwiYm9yZGVyLWNvbG9yXCI6IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgICAnYm9yZGVyLXdpZHRoJzogJzMnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3I6ICcubGluay1ub2RlLWFjdGl2ZScsXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwiZGVlcENvbG9yQWN0aXZlXCIsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmxpbmstZWRnZScsXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgJ2N1cnZlLXN0eWxlJzogJ2JlemllcicsXG4gICAgICAgICAgICAgICAgJ3RhcmdldC1kaXN0YW5jZS1mcm9tLW5vZGUnOiA4LFxuICAgICAgICAgICAgICAgICdzb3VyY2UtZGlzdGFuY2UtZnJvbS1ub2RlJzogMSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3I6ICcubGluay1lZGdlLWFjdGl2ZScsXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgXCJsaW5lLWNvbG9yXCI6IFwiZGVlcENvbG9yQWN0aXZlXCIsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmxpbmstdG8nLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICd0YXJnZXQtYXJyb3ctc2hhcGUnOiAndHJpYW5nbGUnLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLWZyb20nLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICd0YXJnZXQtYXJyb3ctc2hhcGUnOiAndGVlJyxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3I6ICcubGluay10eXBlJyxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAndGFyZ2V0LWFycm93LXNoYXBlJzogJ3RyaWFuZ2xlJyxcbiAgICAgICAgICAgICAgICAnbGluZS1zdHlsZSc6ICdkYXNoZWQnLFxuICAgICAgICAgICAgICAgICdsaW5lLWRhc2gtcGF0dGVybic6IFs1LCA1XVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLWNvbnRhaW4nLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICdzb3VyY2UtYXJyb3ctc2hhcGUnOiAndGVlJyxcbiAgICAgICAgICAgICAgICAndGFyZ2V0LWFycm93LXNoYXBlJzogJ3RyaWFuZ2xlJyxcbiAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogMTYsXG4gICAgICAgICAgICAgICAgJ3RleHQtbWFyZ2luLXknOiAyMywgLy8gLTRcbiAgICAgICAgICAgICAgICAndGV4dC1tYXJnaW4teCc6IDEsXG4gICAgICAgICAgICAgICAgJ2xhYmVsJzogJ2RhdGEobGFiZWwpJyxcbiAgICAgICAgICAgICAgICBcImVkZ2UtdGV4dC1yb3RhdGlvblwiOiBcImF1dG9yb3RhdGVcIixcbiAgICAgICAgICAgICAgICBcInRleHQtd3JhcFwiOiBcIndyYXBcIixcbiAgICAgICAgICAgICAgICAnbGluZS1kYXNoLXBhdHRlcm4nOiBbNSwgNV0sXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmxpbmstY2F1c2UnLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICdzb3VyY2UtYXJyb3ctc2hhcGUnOiAndGVlJyxcbiAgICAgICAgICAgICAgICAndGFyZ2V0LWFycm93LXNoYXBlJzogJ3RyaWFuZ2xlJyxcbiAgICAgICAgICAgICAgICAnbGluZS1kYXNoLXBhdHRlcm4nOiBbNSwgNV0sXG4gICAgICAgICAgICAgICAgXCJsaW5lLWNvbG9yXCI6IFwidmlvbGV0XCIsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXX0gLz5cbiAgICAgICAgICB7b3BlbmVkLm1hcCgob3BlbmVkLCBpKSA9PiA8SXRlbVxuICAgICAgICAgICAgb3BlbmVkPXtvcGVuZWR9IGdvPXtnb30gY29uY2VudHJhdGVkPXshIWNvbmNlbnRyYXRlICYmIGNvbmNlbnRyYXRlZH1cbiAgICAgICAgICAgIHBhcmVudGFsPXtwYXJlbnRhbH0gc2F2ZUhpc3Rvcnk9e3NhdmVIaXN0b3J5fVxuICAgICAgICAgIC8+KX1cbiAgICAgICAgPC9nby5HcmFwaD5cbiAgICAgIDwvYy5Cb3g+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1123
      }
    },
    {
      "id": 1124,
      "type_id": 3,
      "from_id": 839,
      "to_id": 1123,
      "value": {
        "id": 365,
        "value": "generated",
        "link_id": 1124
      }
    },
    {
      "id": 1125,
      "type_id": 143,
      "from_id": 1123,
      "to_id": 839
    },
    {
      "id": 1126,
      "type_id": 3,
      "from_id": 839,
      "to_id": 1125
    },
    {
      "id": 840,
      "type_id": 35,
      "from_id": 145,
      "to_id": 839
    },
    {
      "id": 841,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 367,
        "value": "({ deep, data, require, go }) => {\n  const React = require('react');\n  const { MdSaveAlt } = require('react-icons/md');\n  const c = require('@chakra-ui/react');\n  const _ = require('lodash');\n  const EmojiPicker = require('emoji-picker-react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Package = deep.idLocal(dc, 'Package');\n  const Symbol = deep.idLocal(dc, 'Symbol');\n  const Contain = deep.idLocal(dc, 'Contain');\n\n  return ({\n    go,\n\n    handlerId,\n\n    linkId,\n    isActive,\n\n    onClick,\n\n    variant='short', // full | short\n    needParent = false,\n    isConcentrated,\n    editableSymbol = false,\n\n    children = null,\n\n    relations = false,\n    ...props\n  }, ref) => {\n    const co = deep.minilinks.byId[linkId]?.inByType?.[Contain]?.[0];\n    const sy = deep.minilinks.byId[linkId]?.inByType?.[Symbol]?.[0];\n    const [link, contain, symbol] = deep.useLinks(linkId, co, sy);\n    // console.log('XXXXX', link, contain);\n    // const link = deep.get(linkId);\n    const name = link?.name;\n    const type = link?.type?.name;\n    const icon = symbol?.value?.value || link?.symbol;\n\n    const parent = contain?.from;\n    const parentName = parent?.name || '';\n    const parentIcon = parent?.symbol;\n    const [editing, setEditing] = React.useState(false);\n    const heightRef = React.useRef(0);\n    const [value, setValue] = React.useState(link?.name);\n  \n    const emojiD = c.useDisclosure();\n    const editingRef = React.useRef(editing);\n\n    const afterEdit = (!!editingRef.current && (!editing && !emojiD));\n    editingRef.current = !!(editing || emojiD.isOpen);\n\n    const content = <>\n      {isConcentrated != false && <>\n        {editing && <c.Box ref={ref} height={`${heightRef.current}px`} w='100%' overflow='hidden'>\n          <c.InputGroup h='100%'>\n            <c.Input\n              autoFocus value={value} onChange={e => setValue(e.target.value)} h='100%'\n              onKeyDown={event => (event.key === 'Escape' ? go.do('escape') : event.key === 'Enter' ? go.do('enter') : null)}\n            />\n            <c.InputRightElement h='100%' w='3em'>\n              <c.Button onClick={() => go.do('enter')}><MdSaveAlt/></c.Button>\n            </c.InputRightElement>\n          </c.InputGroup>\n        </c.Box>}\n        {!!afterEdit && <go.Query query={{\n          type_id: { _in: [Symbol, Contain ] }, to_id: linkId,\n        }}/>}\n        {!editing && <>\n          {!!editableSymbol && <>\n            <c.Popover\n              returnFocusOnClose={true}\n              isOpen={emojiD.isOpen}\n              onClose={emojiD.onClose}\n              closeOnBlur={false}\n            >\n              <c.PopoverContent>\n                <EmojiPicker\n                  theme='dark'\n                  open={emojiD.isOpen}\n                  onEmojiClick={async (emoji) => {\n                    emojiD.onClose();\n                    const { data: [symbol] } = await deep.select({\n                      type_id: Symbol, to_id: go.linkId,\n                    });\n                    const { data: [parent] } = await deep.select({\n                      out: {\n                        type_id: Contain, to_id: go.linkId,\n                      },\n                    });\n                    if (!symbol) await deep.insert({\n                      type_id: Symbol, from_id: go.linkId, to_id: go.linkId,\n                      string: emoji.emoji,\n                      containerId: parent?.type_id === Package ? parent.id : go.linkId,\n                      name: `${go?.link?.name}Symbol`\n                    });\n                    else await deep.value(symbol.id, emoji.emoji);\n                  }}\n                />\n              </c.PopoverContent>\n            </c.Popover>\n            <c.Button w='3em' h='100%' onClick={() => {\n              emojiD.onOpen();\n            }}>{icon}</c.Button>\n          </>}\n          <c.Button\n            ref={ref}\n            {...props}\n            variant={isActive ? 'active' : undefined}\n            onClick={(e) => {\n              e.stopPropagation();\n              e.preventDefault();\n              go.do('exec', { id: linkId });\n              onClick && onClick(link);\n            }}\n            justifyContent={'left'}\n            pt={2} pb={2} w='100%' h='100%'\n          >\n            {!editableSymbol && <>{icon}</>}\n            <c.Box textAlign='left' pl={editableSymbol ? '0' : '0.5em' w='100%' overflow='hidden' position='relative'>\n              {!!parent && !!needParent && <c.Box fontSize=\"0.6em\" textAlign='right'>{parentName} {parentIcon}</c.Box>}\n              {!!((name) || (type)) && <c.Box fontSize=\"sm\">{name || type}\n              </c.Box>}\n              <c.Box fontSize=\"xxs\">{name ? type : ''} {linkId}</c.Box>\n              {children}\n              {variant === 'full' && !!link?.value && <>\n                <c.Text fontSize=\"xxs\" opacity={0.5}>value:</c.Text>\n                <c.Text fontSize=\"xs\">\n                  {typeof(link?.value?.value) == 'string' && <>\n                    <c.Heading as='pre' fontSize='xs' noOfLines={1} w='100%'>{link?.value?.value}</c.Heading>\n                  </>}\n                  {typeof(link?.value?.value) == 'number' && <>\n                    <c.Heading as='pre' fontSize='xs' noOfLines={1} w='100%'>{link?.value?.value}</c.Heading>\n                  </>}\n                  {typeof(link?.value?.value) == 'object' && <>\n                    <c.Heading as='pre' fontSize='xs' noOfLines={1} w='100%'>{JSON.stringify(link?.value?.value)}</c.Heading>\n                  </>}\n                </c.Text>\n              </>}\n            </c.Box>\n          </c.Button>\n        </>}\n      </>}\n      {isConcentrated === false && <>\n        <c.Button\n          ref={ref}\n          {...props}\n          variant={isActive ? 'active' : undefined}\n          onClick={(e) => {\n            e.stopPropagation();\n            e.preventDefault();\n            go.do('exec', { id: linkId });\n            onClick && onClick(link);\n          }}\n          justifyContent={'left'}\n          pt={2} pb={2} w='0' h='100%'\n        >\n          {icon}\n        </c.Button>\n      </>}\n    </>;\n  \n    return <go.On do={{\n      enter: async () => {\n        if (!isActive || !contain) return;\n        heightRef.current = ref.current.clientHeight;\n        if (!editing) {\n          setEditing(true);\n          setValue(link?.name);\n        } else {\n          await deep.value(contain?.id, value);\n          setEditing(false);\n        }\n      },\n      escape: () => {\n        setEditing(false);\n      },\n    }}>\n      {relations ? <c.Flex>\n        {!!link.from_id && <go.Provider linkId={link.from_id}>\n          <go.Handler handlerId={handlerId} linkId={link.from_id}/>\n        </go.Provider>}\n        {content}\n        {!!link.to_id && <go.Provider linkId={link.to_id}>\n          <go.Handler handlerId={handlerId} linkId={link.to_id}/>\n        </go.Provider>}\n      </c.Flex> : content}\n    </go.On>;\n  };\n}",
        "link_id": 841
      }
    },
    {
      "id": 1132,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 369,
        "value": "({ deep, data, require, go }) => {\n    const React = require('react');\n    const { MdSaveAlt } = require('react-icons/md');\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const EmojiPicker = require('emoji-picker-react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Package = deep.idLocal(dc, 'Package');\n    const Symbol = deep.idLocal(dc, 'Symbol');\n    const Contain = deep.idLocal(dc, 'Contain');\n    return ({ go, handlerId, linkId, isActive, onClick, variant = 'short', needParent = false, isConcentrated, editableSymbol = false, children = null, relations = false, ...props }, ref) => {\n        const co = deep.minilinks.byId[linkId]?.inByType?.[Contain]?.[0];\n        const sy = deep.minilinks.byId[linkId]?.inByType?.[Symbol]?.[0];\n        const [link, contain, symbol] = deep.useLinks(linkId, co, sy);\n        const name = link?.name;\n        const type = link?.type?.name;\n        const icon = symbol?.value?.value || link?.symbol;\n        const parent = contain?.from;\n        const parentName = parent?.name || '';\n        const parentIcon = parent?.symbol;\n        const [editing, setEditing] = React.useState(false);\n        const heightRef = React.useRef(0);\n        const [value, setValue] = React.useState(link?.name);\n        const emojiD = c.useDisclosure();\n        const editingRef = React.useRef(editing);\n        const afterEdit = (!!editingRef.current && (!editing && !emojiD));\n        editingRef.current = !!(editing || emojiD.isOpen);\n        const content = React.createElement(React.Fragment, null,\n            isConcentrated != false && React.createElement(React.Fragment, null,\n                editing && React.createElement(c.Box, { ref: ref, height: `${heightRef.current}px`, w: '100%', overflow: 'hidden' },\n                    React.createElement(c.InputGroup, { h: '100%' },\n                        React.createElement(c.Input, { autoFocus: true, value: value, onChange: e => setValue(e.target.value), h: '100%', onKeyDown: event => (event.key === 'Escape' ? go.do('escape') : event.key === 'Enter' ? go.do('enter') : null) }),\n                        React.createElement(c.InputRightElement, { h: '100%', w: '3em' },\n                            React.createElement(c.Button, { onClick: () => go.do('enter') },\n                                React.createElement(MdSaveAlt, null))))),\n                !!afterEdit && React.createElement(go.Query, { query: {\n                        type_id: { _in: [Symbol, Contain] }, to_id: linkId,\n                    } }),\n                !editing && React.createElement(React.Fragment, null,\n                    !!editableSymbol && React.createElement(React.Fragment, null,\n                        React.createElement(c.Popover, { returnFocusOnClose: true, isOpen: emojiD.isOpen, onClose: emojiD.onClose, closeOnBlur: false },\n                            React.createElement(c.PopoverContent, null,\n                                React.createElement(EmojiPicker, { theme: 'dark', open: emojiD.isOpen, onEmojiClick: async (emoji) => {\n                                        emojiD.onClose();\n                                        const { data: [symbol] } = await deep.select({\n                                            type_id: Symbol, to_id: go.linkId,\n                                        });\n                                        const { data: [parent] } = await deep.select({\n                                            out: {\n                                                type_id: Contain, to_id: go.linkId,\n                                            },\n                                        });\n                                        if (!symbol)\n                                            await deep.insert({\n                                                type_id: Symbol, from_id: go.linkId, to_id: go.linkId,\n                                                string: emoji.emoji,\n                                                containerId: parent?.type_id === Package ? parent.id : go.linkId,\n                                                name: `${go?.link?.name}Symbol`\n                                            });\n                                        else\n                                            await deep.value(symbol.id, emoji.emoji);\n                                    } }))),\n                        React.createElement(c.Button, { w: '3em', h: '100%', onClick: () => {\n                                emojiD.onOpen();\n                            } }, icon)),\n                    React.createElement(c.Button, { ref: ref, ...props, variant: isActive ? 'active' : undefined, onClick: (e) => {\n                            e.stopPropagation();\n                            e.preventDefault();\n                            go.do('exec', { id: linkId });\n                            onClick && onClick(link);\n                        }, justifyContent: 'left', pt: 2, pb: 2, w: '100%', h: '100%' },\n                        !editableSymbol && React.createElement(React.Fragment, null, icon),\n                        React.createElement(c.Box, { textAlign: 'left', pl: editableSymbol ? '0' : '0.5em', w: '100%', overflow: 'hidden', position: 'relative' },\n                            !!parent && !!needParent && React.createElement(c.Box, { fontSize: \"0.6em\", textAlign: 'right' },\n                                parentName,\n                                \" \",\n                                parentIcon),\n                            !!((name) || (type)) && React.createElement(c.Box, { fontSize: \"sm\" }, name || type),\n                            React.createElement(c.Box, { fontSize: \"xxs\" },\n                                name ? type : '',\n                                \" \",\n                                linkId),\n                            children,\n                            variant === 'full' && !!link?.value && React.createElement(React.Fragment, null,\n                                React.createElement(c.Text, { fontSize: \"xxs\", opacity: 0.5 }, \"value:\"),\n                                React.createElement(c.Text, { fontSize: \"xs\" },\n                                    typeof (link?.value?.value) == 'string' && React.createElement(React.Fragment, null,\n                                        React.createElement(c.Heading, { as: 'pre', fontSize: 'xs', noOfLines: 1, w: '100%' }, link?.value?.value)),\n                                    typeof (link?.value?.value) == 'number' && React.createElement(React.Fragment, null,\n                                        React.createElement(c.Heading, { as: 'pre', fontSize: 'xs', noOfLines: 1, w: '100%' }, link?.value?.value)),\n                                    typeof (link?.value?.value) == 'object' && React.createElement(React.Fragment, null,\n                                        React.createElement(c.Heading, { as: 'pre', fontSize: 'xs', noOfLines: 1, w: '100%' }, JSON.stringify(link?.value?.value))))))))),\n            isConcentrated === false && React.createElement(React.Fragment, null,\n                React.createElement(c.Button, { ref: ref, ...props, variant: isActive ? 'active' : undefined, onClick: (e) => {\n                        e.stopPropagation();\n                        e.preventDefault();\n                        go.do('exec', { id: linkId });\n                        onClick && onClick(link);\n                    }, justifyContent: 'left', pt: 2, pb: 2, w: '0', h: '100%' }, icon)));\n        return React.createElement(go.On, { do: {\n                enter: async () => {\n                    if (!isActive || !contain)\n                        return;\n                    heightRef.current = ref.current.clientHeight;\n                    if (!editing) {\n                        setEditing(true);\n                        setValue(link?.name);\n                    }\n                    else {\n                        await deep.value(contain?.id, value);\n                        setEditing(false);\n                    }\n                },\n                escape: () => {\n                    setEditing(false);\n                },\n            } }, relations ? React.createElement(c.Flex, null,\n            !!link.from_id && React.createElement(go.Provider, { linkId: link.from_id },\n                React.createElement(go.Handler, { handlerId: handlerId, linkId: link.from_id })),\n            content,\n            !!link.to_id && React.createElement(go.Provider, { linkId: link.to_id },\n                React.createElement(go.Handler, { handlerId: handlerId, linkId: link.to_id }))) : content);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ2hELE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1QixNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUVsRCxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMxQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUU1QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBRUYsU0FBUyxFQUVULE1BQU0sRUFDTixRQUFRLEVBRVIsT0FBTyxFQUVQLE9BQU8sR0FBQyxPQUFPLEVBQ2YsVUFBVSxHQUFHLEtBQUssRUFDbEIsY0FBYyxFQUNkLGNBQWMsR0FBRyxLQUFLLEVBRXRCLFFBQVEsR0FBRyxJQUFJLEVBRWYsU0FBUyxHQUFHLEtBQUssRUFDakIsR0FBRyxLQUFLLEVBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE1BQU0s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QUFDLElBQUk7WUFDakIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLElBQUksb0JBQUMsRUFBRSxDQUFDLFFBQVEsSUFBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU87Z0JBQ2xELG9CQUFDLEVBQUUsQ0FBQyxPQUFPLElBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUM3QztZQUNiLE9BQU87WUFDUCxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxvQkFBQyxFQUFFLENBQUMsUUFBUSxJQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSztnQkFDOUMsb0JBQUMsRUFBRSxDQUFDLE9BQU8sSUFBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQzNDLENBQ1AsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUNiLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBnbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBNZFNhdmVBbHQgfSA9IHJlcXVpcmUoJ3JlYWN0LWljb25zL21kJyk7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG4gIGNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbiAgY29uc3QgRW1vamlQaWNrZXIgPSByZXF1aXJlKCdlbW9qaS1waWNrZXItcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICBjb25zdCBQYWNrYWdlID0gZGVlcC5pZExvY2FsKGRjLCAnUGFja2FnZScpO1xuICBjb25zdCBTeW1ib2wgPSBkZWVwLmlkTG9jYWwoZGMsICdTeW1ib2wnKTtcbiAgY29uc3QgQ29udGFpbiA9IGRlZXAuaWRMb2NhbChkYywgJ0NvbnRhaW4nKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGhhbmRsZXJJZCxcblxuICAgIGxpbmtJZCxcbiAgICBpc0FjdGl2ZSxcblxuICAgIG9uQ2xpY2ssXG5cbiAgICB2YXJpYW50PSdzaG9ydCcsIC8vIGZ1bGwgfCBzaG9ydFxuICAgIG5lZWRQYXJlbnQgPSBmYWxzZSxcbiAgICBpc0NvbmNlbnRyYXRlZCxcbiAgICBlZGl0YWJsZVN5bWJvbCA9IGZhbHNlLFxuXG4gICAgY2hpbGRyZW4gPSBudWxsLFxuXG4gICAgcmVsYXRpb25zID0gZmFsc2UsXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgY28gPSBkZWVwLm1pbmlsaW5rcy5ieUlkW2xpbmtJZF0/LmluQnlUeXBlPy5bQ29udGFpbl0/LlswXTtcbiAgICBjb25zdCBzeSA9IGRlZXAubWluaWxpbmtzLmJ5SWRbbGlua0lkXT8uaW5CeVR5cGU/LltTeW1ib2xdPy5bMF07XG4gICAgY29uc3QgW2xpbmssIGNvbnRhaW4sIHN5bWJvbF0gPSBkZWVwLnVzZUxpbmtzKGxpbmtJZCwgY28sIHN5KTtcbiAgICAvLyBjb25zb2xlLmxvZygnWFhYWFgnLCBsaW5rLCBjb250YWluKTtcbiAgICAvLyBjb25zdCBsaW5rID0gZGVlcC5nZXQobGlua0lkKTtcbiAgICBjb25zdCBuYW1lID0gbGluaz8ubmFtZTtcbiAgICBjb25zdCB0eXBlID0gbGluaz8udHlwZT8ubmFtZTtcbiAgICBjb25zdCBpY29uID0gc3ltYm9sPy52YWx1ZT8udmFsdWUgfHwgbGluaz8uc3ltYm9sO1xuXG4gICAgY29uc3QgcGFyZW50ID0gY29udGFpbj8uZnJvbTtcbiAgICBjb25zdCBwYXJlbnROYW1lID0gcGFyZW50Py5uYW1lIHx8ICcnO1xuICAgIGNvbnN0IHBhcmVudEljb24gPSBwYXJlbnQ/LnN5bWJvbDtcbiAgICBjb25zdCBbZWRpdGluZywgc2V0RWRpdGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgaGVpZ2h0UmVmID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gUmVhY3QudXNlU3RhdGUobGluaz8ubmFtZSk7XG4gIFxuICAgIGNvbnN0IGVtb2ppRCA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IGVkaXRpbmdSZWYgPSBSZWFjdC51c2VSZWYoZWRpdGluZyk7XG5cbiAgICBjb25zdCBhZnRlckVkaXQgPSAoISFlZGl0aW5nUmVmLmN1cnJlbnQgJiYgKCFlZGl0aW5nICYmICFlbW9qaUQpKTtcbiAgICBlZGl0aW5nUmVmLmN1cnJlbnQgPSAhIShlZGl0aW5nIHx8IGVtb2ppRC5pc09wZW4pO1xuXG4gICAgY29uc3QgY29udGVudCA9IDw+XG4gICAgICB7aXNDb25jZW50cmF0ZWQgIT0gZmFsc2UgJiYgPD5cbiAgICAgICAge2VkaXRpbmcgJiYgPGMuQm94IHJlZj17cmVmfSBoZWlnaHQ9e2Ake2hlaWdodFJlZi5jdXJyZW50fXB4YH0gdz0nMTAwJScgb3ZlcmZsb3c9J2hpZGRlbic+XG4gICAgICAgICAgPGMuSW5wdXRHcm91cCBoPScxMDAlJz5cbiAgICAgICAgICAgIDxjLklucHV0XG4gICAgICAgICAgICAgIGF1dG9Gb2N1cyB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXtlID0+IHNldFZhbHVlKGUudGFyZ2V0LnZhbHVlKX0gaD0nMTAwJSdcbiAgICAgICAgICAgICAgb25LZXlEb3duPXtldmVudCA9PiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyA/IGdvLmRvKCdlc2NhcGUnKSA6IGV2ZW50LmtleSA9PT0gJ0VudGVyJyA/IGdvLmRvKCdlbnRlcicpIDogbnVsbCl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGMuSW5wdXRSaWdodEVsZW1lbnQgaD0nMTAwJScgdz0nM2VtJz5cbiAgICAgICAgICAgICAgPGMuQnV0dG9uIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdlbnRlcicpfT48TWRTYXZlQWx0Lz48L2MuQnV0dG9uPlxuICAgICAgICAgICAgPC9jLklucHV0UmlnaHRFbGVtZW50PlxuICAgICAgICAgIDwvYy5JbnB1dEdyb3VwPlxuICAgICAgICA8L2MuQm94Pn1cbiAgICAgICAgeyEhYWZ0ZXJFZGl0ICYmIDxnby5RdWVyeSBxdWVyeT17e1xuICAgICAgICAgIHR5cGVfaWQ6IHsgX2luOiBbU3ltYm9sLCBDb250YWluIF0gfSwgdG9faWQ6IGxpbmtJZCxcbiAgICAgICAgfX0vPn1cbiAgICAgICAgeyFlZGl0aW5nICYmIDw+XG4gICAgICAgICAgeyEhZWRpdGFibGVTeW1ib2wgJiYgPD5cbiAgICAgICAgICAgIDxjLlBvcG92ZXJcbiAgICAgICAgICAgICAgcmV0dXJuRm9jdXNPbkNsb3NlPXt0cnVlfVxuICAgICAgICAgICAgICBpc09wZW49e2Vtb2ppRC5pc09wZW59XG4gICAgICAgICAgICAgIG9uQ2xvc2U9e2Vtb2ppRC5vbkNsb3NlfVxuICAgICAgICAgICAgICBjbG9zZU9uQmx1cj17ZmFsc2V9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxjLlBvcG92ZXJDb250ZW50PlxuICAgICAgICAgICAgICAgIDxFbW9qaVBpY2tlclxuICAgICAgICAgICAgICAgICAgdGhlbWU9J2RhcmsnXG4gICAgICAgICAgICAgICAgICBvcGVuPXtlbW9qaUQuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgb25FbW9qaUNsaWNrPXthc3luYyAoZW1vamkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZW1vamlELm9uQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBbc3ltYm9sXSB9ID0gYXdhaXQgZGVlcC5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGVfaWQ6IFN5bWJvbCwgdG9faWQ6IGdvLmxpbmtJZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogW3BhcmVudF0gfSA9IGF3YWl0IGRlZXAuc2VsZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfaWQ6IENvbnRhaW4sIHRvX2lkOiBnby5saW5rSWQsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3ltYm9sKSBhd2FpdCBkZWVwLmluc2VydCh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZV9pZDogU3ltYm9sLCBmcm9tX2lkOiBnby5saW5rSWQsIHRvX2lkOiBnby5saW5rSWQsXG4gICAgICAgICAgICAgICAgICAgICAgc3RyaW5nOiBlbW9qaS5lbW9qaSxcbiAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJZDogcGFyZW50Py50eXBlX2lkID09PSBQYWNrYWdlID8gcGFyZW50LmlkIDogZ28ubGlua0lkLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGAke2dvPy5saW5rPy5uYW1lfVN5bWJvbGBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgYXdhaXQgZGVlcC52YWx1ZShzeW1ib2wuaWQsIGVtb2ppLmVtb2ppKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9jLlBvcG92ZXJDb250ZW50PlxuICAgICAgICAgICAgPC9jLlBvcG92ZXI+XG4gICAgICAgICAgICA8Yy5CdXR0b24gdz0nM2VtJyBoPScxMDAlJyBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGVtb2ppRC5vbk9wZW4oKTtcbiAgICAgICAgICAgIH19PntpY29ufTwvYy5CdXR0b24+XG4gICAgICAgICAgPC8+fVxuICAgICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBnby5kbygnZXhlYycsIHsgaWQ6IGxpbmtJZCB9KTtcbiAgICAgICAgICAgICAgb25DbGljayAmJiBvbkNsaWNrKGxpbmspO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50PXsnbGVmdCd9XG4gICAgICAgICAgICBwdD17Mn0gcGI9ezJ9IHc9JzEwMCUnIGg9JzEwMCUnXG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyFlZGl0YWJsZVN5bWJvbCAmJiA8PntpY29ufTwvPn1cbiAgICAgICAgICAgIDxjLkJveCB0ZXh0QWxpZ249J2xlZnQnIHBsPXtlZGl0YWJsZVN5bWJvbCA/ICcwJyA6ICcwLjVlbScgdz0nMTAwJScgb3ZlcmZsb3c9J2hpZGRlbicgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICAgICAgeyEhcGFyZW50ICYmICEhbmVlZFBhcmVudCAmJiA8Yy5Cb3ggZm9udFNpemU9XCIwLjZlbVwiIHRleHRBbGlnbj0ncmlnaHQnPntwYXJlbnROYW1lfSB7cGFyZW50SWNvbn08L2MuQm94Pn1cbiAgICAgICAgICAgICAgeyEhKChuYW1lKSB8fCAodHlwZSkpICYmIDxjLkJveCBmb250U2l6ZT1cInNtXCI+e25hbWUgfHwgdHlwZX1cbiAgICAgICAgICAgICAgPC9jLkJveD59XG4gICAgICAgICAgICAgIDxjLkJveCBmb250U2l6ZT1cInh4c1wiPntuYW1lID8gdHlwZSA6ICcnfSB7bGlua0lkfTwvYy5Cb3g+XG4gICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAge3ZhcmlhbnQgPT09ICdmdWxsJyAmJiAhIWxpbms/LnZhbHVlICYmIDw+XG4gICAgICAgICAgICAgICAgPGMuVGV4dCBmb250U2l6ZT1cInh4c1wiIG9wYWNpdHk9ezAuNX0+dmFsdWU6PC9jLlRleHQ+XG4gICAgICAgICAgICAgICAgPGMuVGV4dCBmb250U2l6ZT1cInhzXCI+XG4gICAgICAgICAgICAgICAgICB7dHlwZW9mKGxpbms/LnZhbHVlPy52YWx1ZSkgPT0gJ3N0cmluZycgJiYgPD5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0ncHJlJyBmb250U2l6ZT0neHMnIG5vT2ZMaW5lcz17MX0gdz0nMTAwJSc+e2xpbms/LnZhbHVlPy52YWx1ZX08L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgICAgICAgIHt0eXBlb2YobGluaz8udmFsdWU/LnZhbHVlKSA9PSAnbnVtYmVyJyAmJiA8PlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdwcmUnIGZvbnRTaXplPSd4cycgbm9PZkxpbmVzPXsxfSB3PScxMDAlJz57bGluaz8udmFsdWU/LnZhbHVlfTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgICAge3R5cGVvZihsaW5rPy52YWx1ZT8udmFsdWUpID09ICdvYmplY3QnICYmIDw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J3ByZScgZm9udFNpemU9J3hzJyBub09mTGluZXM9ezF9IHc9JzEwMCUnPntKU09OLnN0cmluZ2lmeShsaW5rPy52YWx1ZT8udmFsdWUpfTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgIDwvYy5UZXh0PlxuICAgICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIDwvPn1cbiAgICAgIDwvPn1cbiAgICAgIHtpc0NvbmNlbnRyYXRlZCA9PT0gZmFsc2UgJiYgPD5cbiAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBnby5kbygnZXhlYycsIHsgaWQ6IGxpbmtJZCB9KTtcbiAgICAgICAgICAgIG9uQ2xpY2sgJiYgb25DbGljayhsaW5rKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIGp1c3RpZnlDb250ZW50PXsnbGVmdCd9XG4gICAgICAgICAgcHQ9ezJ9IHBiPXsyfSB3PScwJyBoPScxMDAlJ1xuICAgICAgICA+XG4gICAgICAgICAge2ljb259XG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICA8Lz59XG4gICAgPC8+O1xuICBcbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBlbnRlcjogYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWlzQWN0aXZlIHx8ICFjb250YWluKSByZXR1cm47XG4gICAgICAgIGhlaWdodFJlZi5jdXJyZW50ID0gcmVmLmN1cnJlbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICBpZiAoIWVkaXRpbmcpIHtcbiAgICAgICAgICBzZXRFZGl0aW5nKHRydWUpO1xuICAgICAgICAgIHNldFZhbHVlKGxpbms/Lm5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF3YWl0IGRlZXAudmFsdWUoY29udGFpbj8uaWQsIHZhbHVlKTtcbiAgICAgICAgICBzZXRFZGl0aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVzY2FwZTogKCkgPT4ge1xuICAgICAgICBzZXRFZGl0aW5nKGZhbHNlKTtcbiAgICAgIH0sXG4gICAgfX0+XG4gICAgICB7cmVsYXRpb25zID8gPGMuRmxleD5cbiAgICAgICAgeyEhbGluay5mcm9tX2lkICYmIDxnby5Qcm92aWRlciBsaW5rSWQ9e2xpbmsuZnJvbV9pZH0+XG4gICAgICAgICAgPGdvLkhhbmRsZXIgaGFuZGxlcklkPXtoYW5kbGVySWR9IGxpbmtJZD17bGluay5mcm9tX2lkfS8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+fVxuICAgICAgICB7Y29udGVudH1cbiAgICAgICAgeyEhbGluay50b19pZCAmJiA8Z28uUHJvdmlkZXIgbGlua0lkPXtsaW5rLnRvX2lkfT5cbiAgICAgICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e2hhbmRsZXJJZH0gbGlua0lkPXtsaW5rLnRvX2lkfS8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+fVxuICAgICAgPC9jLkZsZXg+IDogY29udGVudH1cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1132
      }
    },
    {
      "id": 1133,
      "type_id": 3,
      "from_id": 841,
      "to_id": 1132,
      "value": {
        "id": 368,
        "value": "generated",
        "link_id": 1133
      }
    },
    {
      "id": 1134,
      "type_id": 143,
      "from_id": 1132,
      "to_id": 841
    },
    {
      "id": 1135,
      "type_id": 3,
      "from_id": 841,
      "to_id": 1134
    },
    {
      "id": 842,
      "type_id": 35,
      "from_id": 145,
      "to_id": 841
    },
    {
      "id": 843,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 370,
        "value": "({ deep, data, require, go }) => {\n  const React = require('react');\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  return ({\n    go,\n\n    linkId,\n    containerId,\n\n    disclosure: _disclosure,\n    isActive,\n  }, ref) => {\n    if (!linkId) throw new Error('!linkId');\n\n    const __disclosure = c.useDisclosure();\n    const disclosure = _disclosure || __disclosure;\n\n    return <go.On do={{\n      'exec': () => disclosure.onOpen(),\n    }}>\n      <c.Button\n        ref={ref}\n        variant={isActive ? 'active' : undefined} justifyContent='center' position='relative'\n        onClick={() => go.do('exec')}\n      >\n        <c.Box position='absolute' right={1} top={1}>{true ? '🔓' : '🔒'}</c.Box>\n        <c.Text pr={1}>x</c.Text> delete\n      </c.Button>\n      <go.Component path={[dpl, 'LinkDeleteModal']} disclosure={disclosure} linkId={linkId} containerId={containerId}/>\n    </go.Provider>;\n  };\n}",
        "link_id": 843
      }
    },
    {
      "id": 1141,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 372,
        "value": "({ deep, data, require, go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, linkId, containerId, disclosure: _disclosure, isActive, }, ref) => {\n        if (!linkId)\n            throw new Error('!linkId');\n        const __disclosure = c.useDisclosure();\n        const disclosure = _disclosure || __disclosure;\n        return React.createElement(go.On, { do: {\n                'exec': () => disclosure.onOpen(),\n            } },\n            React.createElement(c.Button, { ref: ref, variant: isActive ? 'active' : undefined, justifyContent: 'center', position: 'relative', onClick: () => go.do('exec') },\n                React.createElement(c.Box, { position: 'absolute', right: 1, top: 1 }, true ? '🔓' : '🔒'),\n                React.createElement(c.Text, { pr: 1 }, \"x\"),\n                \" delete\"),\n            React.createElement(go.Component, { path: [dpl, 'LinkDeleteModal'], disclosure: disclosure, linkId: linkId, containerId: containerId }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFFbkMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUVGLE1BQU0sRUFDTixXQUFXLEVBRVgsVUFBVSxFQUFFLFdBQVcsRUFDdkIsUUFBUSxHQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixJQUFJLENBQUMsTUFBTTtZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFeEMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3ZDLE1BQU0sVUFBVSxHQUFHLFdBQVcsSUFBSSxZQUFZLENBQUM7UUFFL0MsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7YUFDbEM7WUFDQyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLEdBQUcsRUFBRSxHQUFHLEVBQ1IsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsY0FBYyxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsVUFBVSxFQUNyRixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0JBRTVCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLElBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBUztnQkFDekUsb0JBQUMsQ0FBQyxDQUFDLElBQUksSUFBQyxFQUFFLEVBQUUsQ0FBQyxRQUFZOzBCQUNoQjtZQUNYLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLGlCQUFpQixDQUFDLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxXQUFXLEdBQUcsQ0FDckcsQ0FBQztJQUNqQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBnbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGxpbmtJZCxcbiAgICBjb250YWluZXJJZCxcblxuICAgIGRpc2Nsb3N1cmU6IF9kaXNjbG9zdXJlLFxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICBpZiAoIWxpbmtJZCkgdGhyb3cgbmV3IEVycm9yKCchbGlua0lkJyk7XG5cbiAgICBjb25zdCBfX2Rpc2Nsb3N1cmUgPSBjLnVzZURpc2Nsb3N1cmUoKTtcbiAgICBjb25zdCBkaXNjbG9zdXJlID0gX2Rpc2Nsb3N1cmUgfHwgX19kaXNjbG9zdXJlO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgJ2V4ZWMnOiAoKSA9PiBkaXNjbG9zdXJlLm9uT3BlbigpLFxuICAgIH19PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBqdXN0aWZ5Q29udGVudD0nY2VudGVyJyBwb3NpdGlvbj0ncmVsYXRpdmUnXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICA+XG4gICAgICAgIDxjLkJveCBwb3NpdGlvbj0nYWJzb2x1dGUnIHJpZ2h0PXsxfSB0b3A9ezF9Pnt0cnVlID8gJ/CflJMnIDogJ/CflJInfTwvYy5Cb3g+XG4gICAgICAgIDxjLlRleHQgcHI9ezF9Png8L2MuVGV4dD4gZGVsZXRlXG4gICAgICA8L2MuQnV0dG9uPlxuICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnTGlua0RlbGV0ZU1vZGFsJ119IGRpc2Nsb3N1cmU9e2Rpc2Nsb3N1cmV9IGxpbmtJZD17bGlua0lkfSBjb250YWluZXJJZD17Y29udGFpbmVySWR9Lz5cbiAgICA8L2dvLlByb3ZpZGVyPjtcbiAgfTtcbn0iXX0=",
        "link_id": 1141
      }
    },
    {
      "id": 1142,
      "type_id": 3,
      "from_id": 843,
      "to_id": 1141,
      "value": {
        "id": 371,
        "value": "generated",
        "link_id": 1142
      }
    },
    {
      "id": 1143,
      "type_id": 143,
      "from_id": 1141,
      "to_id": 843
    },
    {
      "id": 1144,
      "type_id": 3,
      "from_id": 843,
      "to_id": 1143
    },
    {
      "id": 844,
      "type_id": 35,
      "from_id": 145,
      "to_id": 843
    },
    {
      "id": 1258,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 411,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const { ApolloSandbox } = require('@apollo/sandbox/react');\n    const c = require('@chakra-ui/react');\n    return ({ go, requestOptions = {}, children, }, ref) => {\n        return React.createElement(go.On, { do: {\n                use: (g, v, o) => { },\n            } },\n            React.createElement(c.Box, { ref: ref, h: '100%', w: '100%', sx: { '& > div': { h: '100%' } } },\n                React.createElement(ApolloSandbox, { initialEndpoint: `http${deep.client.ssl ? 's' : ''}://${deep.client.path}`, initialState: {\n                        sharedHeaders: {\n                            Authorization: `Bearer ${deep.token}`,\n                        },\n                    } })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUFFLGFBQWEsRUFBRSxHQUFHLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0lBQzNELE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFFRixjQUFjLEdBQUcsRUFBRSxFQUVuQixRQUFRLEdBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUU7Z0JBQ2hCLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRSxDQUFDO2FBQ25CO1lBQ0Msb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUU7Z0JBQ2pFLG9CQUFDLGFBQWEsSUFDWixlQUFlLEVBQUUsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFDMUUsWUFBWSxFQUFFO3dCQUNaLGFBQWEsRUFBRTs0QkFDYixhQUFhLEVBQUUsVUFBVSxJQUFJLENBQUMsS0FBSyxFQUFFO3lCQUN0QztxQkFDRixHQUNELENBQ0ksQ0FDRixDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCB7IEFwb2xsb1NhbmRib3ggfSA9IHJlcXVpcmUoJ0BhcG9sbG8vc2FuZGJveC9yZWFjdCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgcmVxdWVzdE9wdGlvbnMgPSB7fSxcblxuICAgIGNoaWxkcmVuLFxuICB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICB1c2U6IChnLHYsbykgPT4ge30sXG4gICAgfX0+XG4gICAgICA8Yy5Cb3ggcmVmPXtyZWZ9IGg9JzEwMCUnIHc9JzEwMCUnIHN4PXt7ICcmID4gZGl2JzogeyBoOiAnMTAwJScgfSB9fT5cbiAgICAgICAgPEFwb2xsb1NhbmRib3hcbiAgICAgICAgICBpbml0aWFsRW5kcG9pbnQ9e2BodHRwJHtkZWVwLmNsaWVudC5zc2wgPyAncycgOiAnJ306Ly8ke2RlZXAuY2xpZW50LnBhdGh9YH1cbiAgICAgICAgICBpbml0aWFsU3RhdGU9e3tcbiAgICAgICAgICAgIHNoYXJlZEhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2RlZXAudG9rZW59YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvYy5Cb3g+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1258
      }
    },
    {
      "id": 1259,
      "type_id": 3,
      "from_id": 882,
      "to_id": 1258,
      "value": {
        "id": 410,
        "value": "generated",
        "link_id": 1259
      }
    },
    {
      "id": 1260,
      "type_id": 143,
      "from_id": 1258,
      "to_id": 882
    },
    {
      "id": 1261,
      "type_id": 3,
      "from_id": 882,
      "to_id": 1260
    },
    {
      "id": 883,
      "type_id": 35,
      "from_id": 145,
      "to_id": 882
    },
    {
      "id": 884,
      "type_id": 827,
      "from_id": 883,
      "to_id": 857
    },
    {
      "id": 1049,
      "type_id": 3,
      "from_id": 948,
      "to_id": 907,
      "value": {
        "id": 596,
        "value": "PlanetRelationsComponent",
        "link_id": 1049
      }
    },
    {
      "id": 1082,
      "type_id": 3,
      "from_id": 948,
      "to_id": 945,
      "value": {
        "id": 629,
        "value": "MenuAuthComponent",
        "link_id": 1082
      }
    },
    {
      "id": 1546,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 632,
        "value": "async (req, res, next, { deep, require, gql }) => {\n  const { PassThrough, Readable } = require('stream');\n  const express = require('express');\n  const http = require('http');\n  const ApolloServer = require('apollo-server-express').ApolloServer;\n  const { ApolloServerPluginDrainHttpServer, ApolloServerPluginLandingPageGraphQLPlayground } = require('apollo-server-core');\n  const axios = require('axios');\n  const ffmpeg = require('fluent-ffmpeg');\n  const FormData = require('form-data');\n  var Chance = require('chance');\n  var chance = new Chance();\n\n  const da = '@deep-foundation/authorization';\n\n  const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n  const Authorization = deep.idLocal('@deep-foundation/core', 'Authorization');\n\n  const typeDefs = `\n    type Query {\n      authorization: Authorization\n    }\n    type Authorization {\n      try(input: AuthorizationTryInput): AuthorizationTryOutput\n      set(input: AuthorizationSetInput): AuthorizationSetOutput\n      get(input: AuthorizationGetInput): AuthorizationGetOutput\n    }\n    input AuthorizationTryInput {\n      linkId: Int\n    }\n    type AuthorizationTryOutput {\n      id: String\n      error: String\n    }\n    input AuthorizationSetInput {\n      id: String!\n      authId: Int\n      error: String\n    }\n    type AuthorizationSetOutput {\n      linkId: Int\n      token: String\n      error: String\n    }\n    input AuthorizationGetInput {\n      id: String!\n    }\n    type AuthorizationGetOutput {\n      linkId: Int\n      token: String\n      error: String\n    }\n  `;\n\n  const resolvers = {\n    Query: {\n      authorization: () => ({}),\n    },\n    Authorization: {\n      // создает попытку авторизации связь Try str: id\n      try: async (source, args, context, info) => {\n        const { linkId } = args.input;\n        if (linkId && linkId !== +context?.headers?.['x-hasura-user-id']) {\n          return { error: '!linkId must be currentUser' };\n        }\n\n        const id = chance.string({ length: 16, pool: 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789' });\n        await deep.insert({\n          type_id: await deep.id(da, 'Try'), from_id: linkId, to_id: linkId, string: id\n        });\n\n        return { id };\n      },\n      // устанавливает Allow или Error от try\n      // authId это символ способа авторизации сообщенная провайдером способа авторизации\n      set: async (source, args, context, info) => {\n        const { id, authId, error } = args.input;\n        const { data: [tr] } = await deep.select({\n          type_id: await deep.id(da, 'Try'), string: id,\n        });\n        if (!tr) return { error: '!try' };\n\n        let linkId = tr.to_id; // кто пытается сделать авторизацию\n\n        if (error) {\n          await deep.insert({\n            type_id: await deep.id(da, 'Error'), from_id: tr.id, to_id: tr.id,\n            string: String(error),\n          });\n          return {};\n        }\n\n        // если привязанный способ авторизации, либо привязать его\n        const { data: [auth] } = await deep.select({\n          type_id: deep.idLocal('@deep-foundation/core', 'Authorization'),\n          to_id: authId,\n        });\n        if (auth) linkId = auth.from_id;\n        if (!auth) {\n          await deep.insert([\n            {\n              type_id: deep.idLocal('@deep-foundation/core', 'Authorization'),\n              from_id: linkId, // авторизация привязывается к тому юзеру который выполняет операцию try\n              to_id: authId,\n              in: { type_id: Contain, from_id: linkId },\n            },\n            {\n              type_id: Contain,\n              from_id: linkId,\n              to_id: authId,\n            },\n          ]);\n        }\n\n        await deep.insert({\n          type_id: await deep.id(da, 'Allow'), from_id: tr.id, to_id: linkId,\n        });\n\n        return await deep.jwt({ linkId });\n      },\n      get: async (source, args, context, info) => {\n        const { id } = args.input;\n        const { data: [tr] } = await deep.select({\n          type_id: await deep.id(da, 'Try'), string: id,\n        });\n        if (!tr) return { error: '!try' };\n\n        const { data: [error] } = await deep.select({\n          type_id: await deep.id(da, 'Error'), from_id: tr.id\n        });\n        if (error) return { error: error?.value?.value };\n        const { data: [allow] } = await deep.select({\n          type_id: await deep.id(da, 'Allow'), from_id: tr.id\n        });\n        if (!allow) return { error: '!allow' };\n        const linkId = allow.to_id;\n        return await deep.jwt({ linkId });\n      },\n    },\n  };\n  \n  const context = ({ req }) => { return { headers: req.headers }; };\n  \n  const generateApolloServer = () => {\n      return new ApolloServer({\n          introspection: true,\n          typeDefs, \n          resolvers,\n          context,\n          plugins: [\n              ApolloServerPluginLandingPageGraphQLPlayground(),\n          ],\n      });\n  };\n\n  const router = express.Router();\n  const apolloServer = generateApolloServer();\n  await apolloServer.start();\n  apolloServer.applyMiddleware({ app: router, path: '/' });\n  router.handle(req, res);\n}",
        "link_id": 1546
      }
    },
    {
      "id": 1547,
      "type_id": 35,
      "from_id": 83,
      "to_id": 1546
    },
    {
      "id": 1548,
      "type_id": 104,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1549,
      "type_id": 108,
      "from_id": 1548,
      "to_id": 1547
    },
    {
      "id": 1550,
      "type_id": 163,
      "from_id": 162,
      "to_id": 1549
    },
    {
      "id": 1551,
      "type_id": 77,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1552,
      "type_id": 106,
      "from_id": 1548,
      "to_id": 1551,
      "value": {
        "id": 633,
        "value": "/deep-foundation/authorization",
        "link_id": 1552
      }
    },
    {
      "id": 1553,
      "type_id": 105,
      "from_id": 1551,
      "to_id": 798
    },
    {
      "id": 331,
      "type_id": 3,
      "from_id": 184,
      "to_id": 147,
      "value": {
        "id": 153,
        "value": "symbolValue",
        "link_id": 331
      }
    },
    {
      "id": 612,
      "type_id": 3,
      "from_id": 559,
      "to_id": 611,
      "value": {
        "id": 256,
        "value": "HandleOperationSymbol",
        "link_id": 612
      }
    },
    {
      "id": 613,
      "type_id": 146,
      "from_id": 559,
      "to_id": 46,
      "value": {
        "id": 257,
        "value": "🏷",
        "link_id": 613
      }
    },
    {
      "id": 614,
      "type_id": 3,
      "from_id": 559,
      "to_id": 613,
      "value": {
        "id": 258,
        "value": "PackageVersionSymbol",
        "link_id": 614
      }
    },
    {
      "id": 615,
      "type_id": 146,
      "from_id": 559,
      "to_id": 45,
      "value": {
        "id": 259,
        "value": "📯",
        "link_id": 615
      }
    },
    {
      "id": 616,
      "type_id": 3,
      "from_id": 559,
      "to_id": 615,
      "value": {
        "id": 260,
        "value": "PackageActiveSymbol",
        "link_id": 616
      }
    },
    {
      "id": 617,
      "type_id": 146,
      "from_id": 559,
      "to_id": 43,
      "value": {
        "id": 261,
        "value": "🎁",
        "link_id": 617
      }
    },
    {
      "id": 618,
      "type_id": 3,
      "from_id": 559,
      "to_id": 617,
      "value": {
        "id": 262,
        "value": "PackageNamespaceSymbol",
        "link_id": 618
      }
    },
    {
      "id": 619,
      "type_id": 146,
      "from_id": 559,
      "to_id": 34,
      "value": {
        "id": 263,
        "value": "🌿",
        "link_id": 619
      }
    },
    {
      "id": 620,
      "type_id": 3,
      "from_id": 559,
      "to_id": 619,
      "value": {
        "id": 264,
        "value": "TreeIncludeSymbol",
        "link_id": 620
      }
    },
    {
      "id": 621,
      "type_id": 146,
      "from_id": 559,
      "to_id": 36,
      "value": {
        "id": 265,
        "value": "🌲",
        "link_id": 621
      }
    },
    {
      "id": 622,
      "type_id": 3,
      "from_id": 559,
      "to_id": 621,
      "value": {
        "id": 266,
        "value": "TreeSymbol",
        "link_id": 622
      }
    },
    {
      "id": 623,
      "type_id": 146,
      "from_id": 559,
      "to_id": 35,
      "value": {
        "id": 267,
        "value": "💡",
        "link_id": 623
      }
    },
    {
      "id": 624,
      "type_id": 3,
      "from_id": 559,
      "to_id": 623,
      "value": {
        "id": 268,
        "value": "HandlerSymbol",
        "link_id": 624
      }
    },
    {
      "id": 625,
      "type_id": 146,
      "from_id": 559,
      "to_id": 57,
      "value": {
        "id": 269,
        "value": "💽",
        "link_id": 625
      }
    },
    {
      "id": 626,
      "type_id": 3,
      "from_id": 559,
      "to_id": 625,
      "value": {
        "id": 270,
        "value": "AsyncFileSymbol",
        "link_id": 626
      }
    },
    {
      "id": 627,
      "type_id": 146,
      "from_id": 559,
      "to_id": 78,
      "value": {
        "id": 271,
        "value": "📡",
        "link_id": 627
      }
    },
    {
      "id": 628,
      "type_id": 3,
      "from_id": 559,
      "to_id": 627,
      "value": {
        "id": 272,
        "value": "IsolationProviderSymbol",
        "link_id": 628
      }
    },
    {
      "id": 629,
      "type_id": 146,
      "from_id": 559,
      "to_id": 32,
      "value": {
        "id": 273,
        "value": "🔌",
        "link_id": 629
      }
    },
    {
      "id": 630,
      "type_id": 3,
      "from_id": 559,
      "to_id": 629,
      "value": {
        "id": 274,
        "value": "ExecutionProviderSymbol",
        "link_id": 630
      }
    },
    {
      "id": 798,
      "type_id": 99,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 799,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 344,
        "value": "@deep-foundation/main-port",
        "link_id": 799
      }
    },
    {
      "id": 845,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 373,
        "value": "({ deep, data, require, go }) => {\n  const React = require('react');\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  return ({\n    go,\n\n    disclosure: _disclosure,\n\n    defaultContainerId,\n    defaultTypeId,\n    defaultFromId,\n    defaultToId,\n\n    isActive,\n  }, ref) => {\n    const __disclosure = c.useDisclosure();\n    const disclosure = _disclosure || __disclosure;\n\n    return <go.On do={{\n      'exec': () => disclosure.onOpen(),\n    }}>\n      <c.Button\n        ref={ref}\n        variant={isActive ? 'active' : undefined} justifyContent='center' position='relative'\n        onClick={() => go.do('exec')}\n      >\n        <c.Box position='absolute' right={1} top={1}>{true ? '🔓' : '🔒'}</c.Box>\n        <c.Text pr={1}>+</c.Text> insert\n      </c.Button>\n      <go.Component path={[dpl, 'LinkInsertModal']} disclosure={disclosure}\n        defaultContainerId={defaultContainerId}\n        defaultTypeId={defaultTypeId}\n        defaultFromId={defaultFromId}\n        defaultToId={defaultToId}\n      />\n    </go.On>;\n  };\n}",
        "link_id": 845
      }
    },
    {
      "id": 1150,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 375,
        "value": "({ deep, data, require, go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, disclosure: _disclosure, defaultContainerId, defaultTypeId, defaultFromId, defaultToId, isActive, }, ref) => {\n        const __disclosure = c.useDisclosure();\n        const disclosure = _disclosure || __disclosure;\n        return React.createElement(go.On, { do: {\n                'exec': () => disclosure.onOpen(),\n            } },\n            React.createElement(c.Button, { ref: ref, variant: isActive ? 'active' : undefined, justifyContent: 'center', position: 'relative', onClick: () => go.do('exec') },\n                React.createElement(c.Box, { position: 'absolute', right: 1, top: 1 }, true ? '🔓' : '🔒'),\n                React.createElement(c.Text, { pr: 1 }, \"+\"),\n                \" insert\"),\n            React.createElement(go.Component, { path: [dpl, 'LinkInsertModal'], disclosure: disclosure, defaultContainerId: defaultContainerId, defaultTypeId: defaultTypeId, defaultFromId: defaultFromId, defaultToId: defaultToId }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFFbkMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUVGLFVBQVUsRUFBRSxXQUFXLEVBRXZCLGtCQUFrQixFQUNsQixhQUFhLEVBQ2IsYUFBYSxFQUNiLFdBQVcsRUFFWCxRQUFRLEdBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN2QyxNQUFNLFVBQVUsR0FBRyxXQUFXLElBQUksWUFBWSxDQUFDO1FBRS9DLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFO2FBQ2xDO1lBQ0Msb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDUCxHQUFHLEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLGNBQWMsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFDLFVBQVUsRUFDckYsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2dCQUU1QixvQkFBQyxDQUFDLENBQUMsR0FBRyxJQUFDLFFBQVEsRUFBQyxVQUFVLEVBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQVM7Z0JBQ3pFLG9CQUFDLENBQUMsQ0FBQyxJQUFJLElBQUMsRUFBRSxFQUFFLENBQUMsUUFBWTswQkFDaEI7WUFDWCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQ2xFLGtCQUFrQixFQUFFLGtCQUFrQixFQUN0QyxhQUFhLEVBQUUsYUFBYSxFQUM1QixhQUFhLEVBQUUsYUFBYSxFQUM1QixXQUFXLEVBQUUsV0FBVyxHQUN4QixDQUNJLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBnbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGRpc2Nsb3N1cmU6IF9kaXNjbG9zdXJlLFxuXG4gICAgZGVmYXVsdENvbnRhaW5lcklkLFxuICAgIGRlZmF1bHRUeXBlSWQsXG4gICAgZGVmYXVsdEZyb21JZCxcbiAgICBkZWZhdWx0VG9JZCxcblxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBfX2Rpc2Nsb3N1cmUgPSBjLnVzZURpc2Nsb3N1cmUoKTtcbiAgICBjb25zdCBkaXNjbG9zdXJlID0gX2Rpc2Nsb3N1cmUgfHwgX19kaXNjbG9zdXJlO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgJ2V4ZWMnOiAoKSA9PiBkaXNjbG9zdXJlLm9uT3BlbigpLFxuICAgIH19PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBqdXN0aWZ5Q29udGVudD0nY2VudGVyJyBwb3NpdGlvbj0ncmVsYXRpdmUnXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICA+XG4gICAgICAgIDxjLkJveCBwb3NpdGlvbj0nYWJzb2x1dGUnIHJpZ2h0PXsxfSB0b3A9ezF9Pnt0cnVlID8gJ/CflJMnIDogJ/CflJInfTwvYy5Cb3g+XG4gICAgICAgIDxjLlRleHQgcHI9ezF9Pis8L2MuVGV4dD4gaW5zZXJ0XG4gICAgICA8L2MuQnV0dG9uPlxuICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnTGlua0luc2VydE1vZGFsJ119IGRpc2Nsb3N1cmU9e2Rpc2Nsb3N1cmV9XG4gICAgICAgIGRlZmF1bHRDb250YWluZXJJZD17ZGVmYXVsdENvbnRhaW5lcklkfVxuICAgICAgICBkZWZhdWx0VHlwZUlkPXtkZWZhdWx0VHlwZUlkfVxuICAgICAgICBkZWZhdWx0RnJvbUlkPXtkZWZhdWx0RnJvbUlkfVxuICAgICAgICBkZWZhdWx0VG9JZD17ZGVmYXVsdFRvSWR9XG4gICAgICAvPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1150
      }
    },
    {
      "id": 1151,
      "type_id": 3,
      "from_id": 845,
      "to_id": 1150,
      "value": {
        "id": 374,
        "value": "generated",
        "link_id": 1151
      }
    },
    {
      "id": 1152,
      "type_id": 143,
      "from_id": 1150,
      "to_id": 845
    },
    {
      "id": 1153,
      "type_id": 3,
      "from_id": 845,
      "to_id": 1152
    },
    {
      "id": 846,
      "type_id": 35,
      "from_id": 145,
      "to_id": 845
    },
    {
      "id": 847,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 848,
      "type_id": 35,
      "from_id": 145,
      "to_id": 847
    },
    {
      "id": 849,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 850,
      "type_id": 35,
      "from_id": 145,
      "to_id": 849
    },
    {
      "id": 851,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 376,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n  const dtsx = '@deep-foundation/tsx';\n  const dml = '@deep-foundation/deepmemo-links';\n\n  const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n  const Handler = deep.idLocal(dc, 'Handler');\n  const TSX = deep.idLocal(dtsx, 'TSX');\n  const Compatable = deep.idLocal(dpl, 'Compatable');\n  const Header = deep.idLocal(dpl, 'Header');\n  const Menu = deep.idLocal(dpl, 'Menu');\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const Before = deep.idLocal(dpl, 'Before');\n  const After = deep.idLocal(dpl, 'After');\n\n  const StackInsertButton = deep.idLocal(dpl, 'StackInsertButton');\n\n  const Item = ({ link, isActive }) => {\n    const go = Go.useGo();\n    return (link?.id === Before ? (\n      <go.Handler handlerId={StackInsertButton} insertProps={{ customInsert: ({ name }) => ({\n        containerId: deep.linkId,\n        type_id: Handler,\n        from_id: clientSupportsJs,\n        to: {\n          type_id: TSX,\n          string: go.componentTemplate({ children: templateLayerButton('deep.linkId') }),\n          name: `${name}Component`,\n        },\n        out: {\n          type_id: Compatable,\n          to_id: deep.userId,\n          name: `${name}CompatableUser`,\n        },\n      }) }}>+</go.Handler>\n    ) : link?.id === After ? (\n      <go.Handler handlerId={StackInsertButton} insertProps={{ customInsert: ({ name }) => ({\n        containerId: dpl,\n        type_id: Handler,\n        from_id: clientSupportsJs,\n        to: {\n          type_id: TSX,\n          string: go.componentTemplate({ children: templateLayerButton('dpl') }),\n          name: `${name}Component`,\n        },\n        out: {\n          type_id: Compatable,\n          to_id: Menu,\n          name: `${name}CompatableMenu`,\n        },\n      }) }}>+</go.Handler>\n    ) : (<Go.Handler\n      handlerId={link.id}\n      linkId={link.id}\n      isActive={isActive}\n    />))\n  };\n\n  const templateLayerButton = (id) => `      <go.On do={{\n        exec: async (g,v,o) => go.go.do('right', { ...o, id: await deep.id(${id}, 'NameOfComponent') }),\n        click: (g,v,o) => go.do('exec', o),\n        right: (g,v,o) => go.do('exec', o),\n      }}>\n        <c.Button w='3em' h='3em' variant={isActive ? 'active' : undefined} onClick={() => go.do('exec')}>?</c.Button>\n        {/*<go.Component path={[${id}, 'NameOfComponent']}/>*/}\n      </go.On>`;\n  \n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n\n    ...props\n  }, ref) => {\n    const { data: menuPerception } = deep.useQuery({\n      type_id: Handler,\n      out: {\n        type_id: Compatable,\n        to_id: Menu,\n      },\n      order_by: { id: 'desc' }\n    });\n\n    const { data: menuUser } = deep.useQuery({\n      type_id: Handler,\n      out: {\n        type_id: Compatable,\n        to_id: deep.linkId,\n      },\n      order_by: { id: 'desc' }\n    });\n\n    const menu = [{ id: Before }, ...menuUser, ...menuPerception, { id: After }];\n\n    return <go.On do={{\n      focus: (g,v,linkId,o) => {\n        !go.value && go.focus(Stack);\n        o?.id && go(Stack).focus(o?.id);\n      },\n    }}>\n      <go.Provider linkId={Stack}>\n        <go.Component\n          path={[dpl, 'Stack']} links={menu} direction='vertical' Item={Item}\n          {...props}\n        />\n      </go.Provider>\n    </go.On>;\n  };\n}",
        "link_id": 851
      }
    },
    {
      "id": 1159,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 378,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const dtsx = '@deep-foundation/tsx';\n    const dml = '@deep-foundation/deepmemo-links';\n    const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const TSX = deep.idLocal(dtsx, 'TSX');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Menu = deep.idLocal(dpl, 'Menu');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const Before = deep.idLocal(dpl, 'Before');\n    const After = deep.idLocal(dpl, 'After');\n    const StackInsertButton = deep.idLocal(dpl, 'StackInsertButton');\n    const Item = ({ link, isActive }) => {\n        const go = Go.useGo();\n        return (link?.id === Before ? (React.createElement(go.Handler, { handlerId: StackInsertButton, insertProps: { customInsert: ({ name }) => ({\n                    containerId: deep.linkId,\n                    type_id: Handler,\n                    from_id: clientSupportsJs,\n                    to: {\n                        type_id: TSX,\n                        string: go.componentTemplate({ children: templateLayerButton('deep.linkId') }),\n                        name: `${name}Component`,\n                    },\n                    out: {\n                        type_id: Compatable,\n                        to_id: deep.userId,\n                        name: `${name}CompatableUser`,\n                    },\n                }) } }, \"+\")) : link?.id === After ? (React.createElement(go.Handler, { handlerId: StackInsertButton, insertProps: { customInsert: ({ name }) => ({\n                    containerId: dpl,\n                    type_id: Handler,\n                    from_id: clientSupportsJs,\n                    to: {\n                        type_id: TSX,\n                        string: go.componentTemplate({ children: templateLayerButton('dpl') }),\n                        name: `${name}Component`,\n                    },\n                    out: {\n                        type_id: Compatable,\n                        to_id: Menu,\n                        name: `${name}CompatableMenu`,\n                    },\n                }) } }, \"+\")) : (React.createElement(Go.Handler, { handlerId: link.id, linkId: link.id, isActive: isActive })));\n    };\n    const templateLayerButton = (id) => `      <go.On do={{\n        exec: async (g,v,o) => go.go.do('right', { ...o, id: await deep.id(${id}, 'NameOfComponent') }),\n        click: (g,v,o) => go.do('exec', o),\n        right: (g,v,o) => go.do('exec', o),\n      }}>\n        <c.Button w='3em' h='3em' variant={isActive ? 'active' : undefined} onClick={() => go.do('exec')}>?</c.Button>\n        {/*<go.Component path={[${id}, 'NameOfComponent']}/>*/}\n      </go.On>`;\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        const { data: menuPerception } = deep.useQuery({\n            type_id: Handler,\n            out: {\n                type_id: Compatable,\n                to_id: Menu,\n            },\n            order_by: { id: 'desc' }\n        });\n        const { data: menuUser } = deep.useQuery({\n            type_id: Handler,\n            out: {\n                type_id: Compatable,\n                to_id: deep.linkId,\n            },\n            order_by: { id: 'desc' }\n        });\n        const menu = [{ id: Before }, ...menuUser, ...menuPerception, { id: After }];\n        return React.createElement(go.On, { do: {\n                focus: (g, v, linkId, o) => {\n                    !go.value && go.focus(Stack);\n                    o?.id && go(Stack).focus(o?.id);\n                },\n            } },\n            React.createElement(go.Provider, { linkId: Stack },\n                React.createElement(go.Component, { path: [dpl, 'Stack'], links: menu, direction: 'vertical', Item: Item, ...props })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLElBQUksR0FBRyxzQkFBc0IsQ0FBQztJQUNwQyxNQUFNLEdBQUcsR0FBRyxpQ0FBaUMsQ0FBQztJQUU5QyxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLGtCQUFrQixDQUFDLENBQUM7SUFDOUQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDbkQsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDM0MsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdkMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDekMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDM0MsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFFekMsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0lBRWpFLE1BQU0sSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRTtRQUNsQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDdEIsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUM1QixvQkFBQyxFQUFFLENBQUMsT0FBTyxJQUFDLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxXQUFXLEVBQUUsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUNwRixXQUFXLEVBQUUsSUFBSSxDQUFDLE1BQU07b0JBQ3hCLE9BQU8sRUFBRSxPQUFPO29CQUNoQixPQUFPLEVBQUUsZ0JBQWdCO29CQUN6QixFQUFFLEVBQUU7d0JBQ0YsT0FBTyxFQUFFLEdBQUc7d0JBQ1osTUFBTSxFQUFFLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLFFBQVEsRUFBRSxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDO3dCQUM5RSxJQUFJLEVBQUUsR0FBRyxJQUFJLFdBQVc7cUJBQ3pCO29CQUNELEdBQUcsRUFBRTt3QkFDSCxPQUFPLEVBQUUsVUFBVTt3QkFDbkIsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNO3dCQUNsQixJQUFJLEVBQUUsR0FBRyxJQUFJLGdCQUFnQjtxQkFDOUI7aUJBQ0YsQ0FBQyxFQUFFLFFBQWdCLENBQ3JCLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUN2QixvQkFBQyxFQUFFLENBQUMsT0FBTyxJQUFDLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxXQUFXLEVBQUUsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUNwRixXQUFXLEVBQUUsR0FBRztvQkFDaEIsT0FBTyxFQUFFLE9BQU87b0JBQ2hCLE9BQU8sRUFBRSxnQkFBZ0I7b0JBQ3pCLEVBQUUsRUFBRTt3QkFDRixPQUFPLEVBQUUsR0FBRzt3QkFDWixNQUFNLEVBQUUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7d0JBQ3RFLElBQUksRUFBRSxHQUFHLElBQUksV0FBVztxQkFDekI7b0JBQ0QsR0FBRyxFQUFFO3dCQUNILE9BQU8sRUFBRSxVQUFVO3dCQUNuQixLQUFLLEVBQUUsSUFBSTt3QkFDWCxJQUFJLEVBQUUsR0FBRyxJQUFJLGdCQUFnQjtxQkFDOUI7aUJBQ0YsQ0FBQyxFQUFFLFFBQWdCLENBQ3JCLENBQUMsQ0FBQyxDQUFDLENBQUMsb0JBQUMsRUFBRSxDQUFDLE9BQU8sSUFDZCxTQUFTLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFDbEIsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQ2YsUUFBUSxFQUFFLFFBQVEsR0FDbEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDLENBQUM7SUFFRixNQUFNLG1CQUFtQixHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQzs2RUFDdUMsRUFBRTs7Ozs7a0NBSzdDLEVBQUU7ZUFDckIsQ0FBQztJQUVkLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsU0FBUyxFQUNULFNBQVMsRUFFVCxNQUFNLEVBQ04sSUFBSSxFQUVKLFFBQVEsRUFFUixRQUFRLEVBRVIsR0FBRyxLQUFLLEVBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE1BQU0sRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUM3QyxPQUFPLEVBQUUsT0FBTztZQUNoQixHQUFHLEVBQUU7Z0JBQ0gsT0FBTyxFQUFFLFVBQVU7Z0JBQ25CLEtBQUssRUFBRSxJQUFJO2FBQ1o7WUFDRCxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFO1NBQ3pCLENBQUMsQ0FBQztRQUVILE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUN2QyxPQUFPLEVBQUUsT0FBTztZQUNoQixHQUFHLEVBQUU7Z0JBQ0gsT0FBTyxFQUFFLFVBQVU7Z0JBQ25CLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTTthQUNuQjtZQUNELFFBQVEsRUFBRSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUU7U0FDekIsQ0FBQyxDQUFDO1FBRUgsTUFBTSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxHQUFHLFFBQVEsRUFBRSxHQUFHLGNBQWMsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBRTdFLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUU7Z0JBQ2hCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUFFO29CQUN0QixDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDN0IsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDbEMsQ0FBQzthQUNGO1lBQ0Msb0JBQUMsRUFBRSxDQUFDLFFBQVEsSUFBQyxNQUFNLEVBQUUsS0FBSztnQkFDeEIsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFDWCxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUMsVUFBVSxFQUFDLElBQUksRUFBRSxJQUFJLEtBQzlELEtBQUssR0FDVCxDQUNVLENBQ1IsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIEdvLCByZXF1aXJlIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBjb25zdCBkdHN4ID0gJ0BkZWVwLWZvdW5kYXRpb24vdHN4JztcbiAgY29uc3QgZG1sID0gJ0BkZWVwLWZvdW5kYXRpb24vZGVlcG1lbW8tbGlua3MnO1xuXG4gIGNvbnN0IGNsaWVudFN1cHBvcnRzSnMgPSBkZWVwLmlkTG9jYWwoZGMsICdjbGllbnRTdXBwb3J0c0pzJyk7XG4gIGNvbnN0IEhhbmRsZXIgPSBkZWVwLmlkTG9jYWwoZGMsICdIYW5kbGVyJyk7XG4gIGNvbnN0IFRTWCA9IGRlZXAuaWRMb2NhbChkdHN4LCAnVFNYJyk7XG4gIGNvbnN0IENvbXBhdGFibGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQ29tcGF0YWJsZScpO1xuICBjb25zdCBIZWFkZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnSGVhZGVyJyk7XG4gIGNvbnN0IE1lbnUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnTWVudScpO1xuICBjb25zdCBTdGFjayA9IGRlZXAuaWRMb2NhbChkcGwsICdTdGFjaycpO1xuICBjb25zdCBCZWZvcmUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQmVmb3JlJyk7XG4gIGNvbnN0IEFmdGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0FmdGVyJyk7XG5cbiAgY29uc3QgU3RhY2tJbnNlcnRCdXR0b24gPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2tJbnNlcnRCdXR0b24nKTtcblxuICBjb25zdCBJdGVtID0gKHsgbGluaywgaXNBY3RpdmUgfSkgPT4ge1xuICAgIGNvbnN0IGdvID0gR28udXNlR28oKTtcbiAgICByZXR1cm4gKGxpbms/LmlkID09PSBCZWZvcmUgPyAoXG4gICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e1N0YWNrSW5zZXJ0QnV0dG9ufSBpbnNlcnRQcm9wcz17eyBjdXN0b21JbnNlcnQ6ICh7IG5hbWUgfSkgPT4gKHtcbiAgICAgICAgY29udGFpbmVySWQ6IGRlZXAubGlua0lkLFxuICAgICAgICB0eXBlX2lkOiBIYW5kbGVyLFxuICAgICAgICBmcm9tX2lkOiBjbGllbnRTdXBwb3J0c0pzLFxuICAgICAgICB0bzoge1xuICAgICAgICAgIHR5cGVfaWQ6IFRTWCxcbiAgICAgICAgICBzdHJpbmc6IGdvLmNvbXBvbmVudFRlbXBsYXRlKHsgY2hpbGRyZW46IHRlbXBsYXRlTGF5ZXJCdXR0b24oJ2RlZXAubGlua0lkJykgfSksXG4gICAgICAgICAgbmFtZTogYCR7bmFtZX1Db21wb25lbnRgLFxuICAgICAgICB9LFxuICAgICAgICBvdXQ6IHtcbiAgICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICAgIHRvX2lkOiBkZWVwLnVzZXJJZCxcbiAgICAgICAgICBuYW1lOiBgJHtuYW1lfUNvbXBhdGFibGVVc2VyYCxcbiAgICAgICAgfSxcbiAgICAgIH0pIH19Pis8L2dvLkhhbmRsZXI+XG4gICAgKSA6IGxpbms/LmlkID09PSBBZnRlciA/IChcbiAgICAgIDxnby5IYW5kbGVyIGhhbmRsZXJJZD17U3RhY2tJbnNlcnRCdXR0b259IGluc2VydFByb3BzPXt7IGN1c3RvbUluc2VydDogKHsgbmFtZSB9KSA9PiAoe1xuICAgICAgICBjb250YWluZXJJZDogZHBsLFxuICAgICAgICB0eXBlX2lkOiBIYW5kbGVyLFxuICAgICAgICBmcm9tX2lkOiBjbGllbnRTdXBwb3J0c0pzLFxuICAgICAgICB0bzoge1xuICAgICAgICAgIHR5cGVfaWQ6IFRTWCxcbiAgICAgICAgICBzdHJpbmc6IGdvLmNvbXBvbmVudFRlbXBsYXRlKHsgY2hpbGRyZW46IHRlbXBsYXRlTGF5ZXJCdXR0b24oJ2RwbCcpIH0pLFxuICAgICAgICAgIG5hbWU6IGAke25hbWV9Q29tcG9uZW50YCxcbiAgICAgICAgfSxcbiAgICAgICAgb3V0OiB7XG4gICAgICAgICAgdHlwZV9pZDogQ29tcGF0YWJsZSxcbiAgICAgICAgICB0b19pZDogTWVudSxcbiAgICAgICAgICBuYW1lOiBgJHtuYW1lfUNvbXBhdGFibGVNZW51YCxcbiAgICAgICAgfSxcbiAgICAgIH0pIH19Pis8L2dvLkhhbmRsZXI+XG4gICAgKSA6ICg8R28uSGFuZGxlclxuICAgICAgaGFuZGxlcklkPXtsaW5rLmlkfVxuICAgICAgbGlua0lkPXtsaW5rLmlkfVxuICAgICAgaXNBY3RpdmU9e2lzQWN0aXZlfVxuICAgIC8+KSlcbiAgfTtcblxuICBjb25zdCB0ZW1wbGF0ZUxheWVyQnV0dG9uID0gKGlkKSA9PiBgICAgICAgPGdvLk9uIGRvPXt7XG4gICAgICAgIGV4ZWM6IGFzeW5jIChnLHYsbykgPT4gZ28uZ28uZG8oJ3JpZ2h0JywgeyAuLi5vLCBpZDogYXdhaXQgZGVlcC5pZCgke2lkfSwgJ05hbWVPZkNvbXBvbmVudCcpIH0pLFxuICAgICAgICBjbGljazogKGcsdixvKSA9PiBnby5kbygnZXhlYycsIG8pLFxuICAgICAgICByaWdodDogKGcsdixvKSA9PiBnby5kbygnZXhlYycsIG8pLFxuICAgICAgfX0+XG4gICAgICAgIDxjLkJ1dHRvbiB3PSczZW0nIGg9JzNlbScgdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0gb25DbGljaz17KCkgPT4gZ28uZG8oJ2V4ZWMnKX0+PzwvYy5CdXR0b24+XG4gICAgICAgIHsvKjxnby5Db21wb25lbnQgcGF0aD17WyR7aWR9LCAnTmFtZU9mQ29tcG9uZW50J119Lz4qL31cbiAgICAgIDwvZ28uT24+YDtcbiAgXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG5cbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCB7IGRhdGE6IG1lbnVQZXJjZXB0aW9uIH0gPSBkZWVwLnVzZVF1ZXJ5KHtcbiAgICAgIHR5cGVfaWQ6IEhhbmRsZXIsXG4gICAgICBvdXQ6IHtcbiAgICAgICAgdHlwZV9pZDogQ29tcGF0YWJsZSxcbiAgICAgICAgdG9faWQ6IE1lbnUsXG4gICAgICB9LFxuICAgICAgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGRhdGE6IG1lbnVVc2VyIH0gPSBkZWVwLnVzZVF1ZXJ5KHtcbiAgICAgIHR5cGVfaWQ6IEhhbmRsZXIsXG4gICAgICBvdXQ6IHtcbiAgICAgICAgdHlwZV9pZDogQ29tcGF0YWJsZSxcbiAgICAgICAgdG9faWQ6IGRlZXAubGlua0lkLFxuICAgICAgfSxcbiAgICAgIG9yZGVyX2J5OiB7IGlkOiAnZGVzYycgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgbWVudSA9IFt7IGlkOiBCZWZvcmUgfSwgLi4ubWVudVVzZXIsIC4uLm1lbnVQZXJjZXB0aW9uLCB7IGlkOiBBZnRlciB9XTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGZvY3VzOiAoZyx2LGxpbmtJZCxvKSA9PiB7XG4gICAgICAgICFnby52YWx1ZSAmJiBnby5mb2N1cyhTdGFjayk7XG4gICAgICAgIG8/LmlkICYmIGdvKFN0YWNrKS5mb2N1cyhvPy5pZCk7XG4gICAgICB9LFxuICAgIH19PlxuICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17U3RhY2t9PlxuICAgICAgICA8Z28uQ29tcG9uZW50XG4gICAgICAgICAgcGF0aD17W2RwbCwgJ1N0YWNrJ119IGxpbmtzPXttZW51fSBkaXJlY3Rpb249J3ZlcnRpY2FsJyBJdGVtPXtJdGVtfVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1159
      }
    },
    {
      "id": 1160,
      "type_id": 3,
      "from_id": 851,
      "to_id": 1159,
      "value": {
        "id": 377,
        "value": "generated",
        "link_id": 1160
      }
    },
    {
      "id": 1161,
      "type_id": 143,
      "from_id": 1159,
      "to_id": 851
    },
    {
      "id": 1162,
      "type_id": 3,
      "from_id": 851,
      "to_id": 1161
    },
    {
      "id": 852,
      "type_id": 35,
      "from_id": 145,
      "to_id": 851
    },
    {
      "id": 853,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 379,
        "value": "async ({ deep, data, require }) => {\n  const React = require('react');\n  const { FaTree } = require(\"react-icons/fa\");\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Tree = deep.idLocal(dpl, 'Tree');\n\n  return ({\n    go,\n    handlerId,\n\n    isActive,\n  }, ref) => {\n    return <go.On do={{\n      exec: (g,v,o) => go.go.do('right', { ...o, id: Tree })),\n      click: (g,v,o) => go.do('exec', o),\n      right: (g,v,o) => go.do('exec', o),\n    }}>\n      <c.Button\n        w='3em' h='3em'\n        variant={isActive ? 'active' : undefined}\n        ref={ref}\n        onClick={() => go.do('exec')}\n      >\n        <FaTree/>\n      </c.Button>\n    </go.On>;\n  };\n}",
        "link_id": 853
      }
    },
    {
      "id": 865,
      "type_id": 35,
      "from_id": 145,
      "to_id": 864
    },
    {
      "id": 866,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 391,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const c = require('@chakra-ui/react');\n\n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n  const dr = '@deep-foundation/readme';\n\n  const Graph = deep.idLocal(dpl, 'Graph');\n  const GraphLinkPlanet = deep.idLocal(dpl, 'GraphLinkPlanet');\n  const Contain = deep.idLocal(dc, 'Contain');\n\n  const Input = deep.idLocal(dr, 'Input');\n  const Output = deep.idLocal(dr, 'Output');\n  const Readme = deep.idLocal(dr, 'Readme');\n  const Cause = deep.idLocal(dr, 'Cause');\n  const Inherit = deep.idLocal(dr, 'Inherit');\n\n  return ({\n    go,\n\n    isActive,\n    isConcentrated,\n\n    position,\n    locked = false,\n\n    children,\n  }, ref) => {\n    const { cy } = go.useGraph();\n\n    const $inouts = cy.$(`.link-type[target=\"${go.linkId}\"],.link-from[target=\"${go.linkId}\"],.link-to[target=\"${go.linkId}\"]`);\n    const inouts = $inouts.map((e) => {\n      return { id: e.id(), linkId: e.data().linkId };\n    });\n\n    const nav = go.useNav();\n    nav('current', go?.link?.from_id ? 'from_id' : 'current', 'type_id', go?.link?.to_id ? 'to_id' : 'current', inouts?.length ? 'inout' : 'current');\n    nav('from_id', 'from', 'from_id', 'current', 'from_id');\n    nav('to_id', 'current', 'to_id', 'to', 'to_id');\n    nav('type_id', 'type_id', 'type', 'type_id', 'current');\n\n    const [inoutId, setInoutId] = React.useState();\n    nav('inout', 'inout', 'current', 'inout', 'inouted');\n    React.useEffect(() => {\n      $inouts.removeClass('link-edge-active');\n      if (go.value === 'inout' && inoutId) cy.$id(inoutId).addClass('link-edge-active');\n    }, [go.value, inoutId]);\n    // React.useEffect(() => {\n    //   if (!isActive) go.set('current');\n    // }, [isActive]);\n\n    const value = React.useMemo(() => {\n      const value = deep.stringify(go?.link?.value?.value || '');\n      return value.length > 32 ? `${value.slice(0, 32)}...` : value;\n    }, [go?.link?.value?.value]);\n\n    const [input] = deep.useLocalSubscription({ type_id: Input, to_id: go.linkId });\n    const [output] = deep.useLocalSubscription({ type_id: Output, to_id: go.linkId });\n    const [inherit] = deep.useLocalSubscription({ type_id: Inherit, to_id: go.linkId });\n    const [readme] = deep.useLocalSubscription({ type_id: Readme, to_id: go.linkId });\n\n    const setReadme = React.useCallback((readme, linkId) => {\n      if (!readme || !cy.$id(`${linkId}`).length) return;\n      cy.nodeHtmlLabel([{\n        query: `#${linkId}`,\n        halign: 'right',\n        valign: 'top',\n        halignBox: 'right',\n        valignBox: 'bottom',\n        cssClass: 'deep-graph-node-html-label',\n        tpl: data => data?.readme || '',\n      }]);\n    }, []);\n\n    // React.useEffect(() => {\n    //   setReadme(readme, go.linkId);\n    // }, [readme]);\n\n    return <go.On do={{\n      exec: (g,v,o) => {\n        if (!go.value || go.value === 'current') go.focus(GraphLinkPlanet);\n        if (go.value === GraphLinkPlanet) go.focus('current');\n      },\n      focus: (g,v,o) => {},\n      use: (g,v,o) => {},\n      position: (g,v,o) => {},\n      scroll: (g,v,o) => {\n        console.log(ref);\n        cy.center(ref.current);\n      },\n      ...(go.value === 'inout') ? {\n        left: (g,v,o) => {\n          if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n            setInoutId(inouts?.[0]);\n          } else setInoutId(go.prev(inouts, inoutId));\n        },\n        right: (g,v,o) => {\n          if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n            setInoutId(inouts?.[inouts.length - 1]?.id);\n          } else setInoutId(go.next(inouts, inoutId));\n        },\n      } : {\n        left: (g,v,o) => {\n          go.focus(nav.get(go.value || 'current', 'left'), { prev: go.value });\n        },\n        right: (g,v,o) => {\n          go.focus(nav.get(go.value || 'current', 'right'), { prev: go.value })\n        },\n      },\n      up: (g,v,o) => go.focus(nav.get(go.value || 'current', 'up'), { prev: go.value }),\n      down: (g,v,o) => go.focus(nav.get(go.value || 'current', 'down'), { prev: go.value }),\n    }} focus={{\n      type: (g,v,o) => go.set().go.parent(Graph).do('open', { id: go.link.type_id, focus: true }),\n      from: (g,v,o) => go.set().go.parent(Graph).do('open', { id: go.link.from_id, focus: true }),\n      to: (g,v,o) => go.set().go.parent(Graph).do('open', { id: go.link.to_id, focus: true }),\n      inout: (g,v,o) => setInoutId(inouts?.[0]?.id),\n      inouted: (g,v,o) => {\n        setInoutId();\n        go.set().go.go.focus(cy.$id(inoutId)?.data()?.linkId);\n      }\n    }}>\n      {!!go?.link && <>\n        {go?.link?.type_id === Contain ? <>\n          <go.GraphEdge element={{\n            data: {\n              id: `${go.link.id}-contain`, source: `${go.link?.from_id}`, target: `${go.link?.to_id}`,\n              label: `${go.link?.symbol} ${go.link?.value?.value || go.linkId}`,\n            },\n            classes: ['link-edge', 'link-contain'],\n          }}/>\n        </> : <>\n          <go.GraphNode element={{\n            data: { id: `${go.link.id}-children` },\n            classes: ['link-children'],\n          }}>\n            <go.GraphNode\n              ref={ref}\n              element={{\n                linkId: go.link.id,\n                data: { id: go.link.id,\n                readme: readme?.value?.value || ' ',\n                label: `${go.linkId}: ${go.link.name !== go.linkId ? go.link.name : ''}\n(${go.link.type_id}: ${go.link.type?.name !== go.link.type_id ? go.link.type?.name : ''})${`\n`+(value)}\n\n\n${go.link.symbol}` },\n                classes: [\n                  'link-node',\n                  ...(isActive ? ['link-node-active'] : []),\n                  ...(input ? ['link-node-input'] : []),\n                  ...(output ? ['link-node-output'] : []),\n                  ...(inherit ? ['link-node-inherit'] : []),\n                  ...(isConcentrated === true ? ['link-node-concentrated'] : []),\n                  ...(isConcentrated === false ? ['link-node-unconcentrated'] : []),\n                ],\n              }}\n              onClick={(e) => {\n                const graph = go.parent(Graph);\n                console.log('XXXXXX', go, go.linkId, go.go.value, go.value);\n                graph.focus(go.linkId);\n                go.do('exec', { id: go.linkId });\n              }}\n              onAdded={(el, cy) => {\n                setReadme(readme, go.linkId);\n              }}\n            >\n              <c.Box w='0' h='0' position='relative' ref={go.ref}>\n                {isActive && <go.Provider linkId={GraphLinkPlanet}>\n                  <go.Component path={[dpl, 'GraphLinkPlanet']} linkId={go.linkId} isActive={isActive && go.value === GraphLinkPlanet}/>\n                </go.Provider>}\n              </c.Box>\n            </go.GraphNode>\n            {!!go.link.type_id && <go.GraphEdge\n              element={{\n                data: { id: `${go.link.id}-type`, source: `${go.link.id}`, target: `${go.link.type_id}` },\n                classes: ['link-edge', 'link-type', ...(go.value === 'type_id' ? ['link-edge-active'] : [])],\n              }}/>}\n            {!!go.link.from_id && <go.GraphEdge\n              element={{\n                data: { id: `${go.link.id}-from`, source: `${go.link.id}`, target: `${go.link.from_id}` },\n                classes: ['link-edge', 'link-from', ...(go.value === 'from_id' ? ['link-edge-active'] : [])],\n              }}/>}\n            {!!go.link.to_id && <go.GraphEdge\n              element={{\n                data: { id: `${go.link.id}-to`, source: `${go.link.id}`, target: `${go.link.to_id}` },\n                classes: ['link-edge', 'link-to', ...(go.value === 'to_id' ? ['link-edge-active'] : [])],\n              }}/>}\n            {children}\n          </go.GraphNode>\n        </>}\n      </>}\n    </go.On>;\n  };\n}",
        "link_id": 866
      }
    },
    {
      "id": 867,
      "type_id": 35,
      "from_id": 145,
      "to_id": 866
    },
    {
      "id": 868,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 869,
      "type_id": 35,
      "from_id": 145,
      "to_id": 868
    },
    {
      "id": 870,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 394,
        "value": "async ({ deep, data, require }) => {\n  const React = require('react');\n  const { PiGraphBold } = require(\"react-icons/pi\");\n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  const Graph = deep.idLocal(dpl, 'Graph');\n\n  return ({\n    go,\n    handlerId,\n\n    isActive,\n  }, ref) => {\n    return <go.On do={{\n      exec: (g,v,o) => go.go.do('right', { ...o, id: Graph })),\n      click: (g,v,o) => go.do('exec', o),\n      right: (g,v,o) => go.do('exec', o),\n    }}>\n      <c.Button\n        w='3em' h='3em'\n        variant={isActive ? 'active' : undefined}\n        onClick={() => go.do('exec')}\n        ref={ref}\n      >\n        <PiGraphBold/>\n      </c.Button>\n    </go.On>;\n  };\n}",
        "link_id": 870
      }
    },
    {
      "id": 922,
      "type_id": 35,
      "from_id": 145,
      "to_id": 921
    },
    {
      "id": 923,
      "type_id": 827,
      "from_id": 922,
      "to_id": 912
    },
    {
      "id": 924,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 469,
        "value": "async ({ deep, data, Go, require }) => {\n  const React = require('react');\n  const { FaNodeJs } = require(\"react-icons/fa\");\n  const c = require('@chakra-ui/react');\n  const _ = require('lodash');\n\n  const dpl = '@deep-foundation/perception-links';\n  const dc = '@deep-foundation/core';\n\n  return ({\n    go,\n    handlerId,\n\n    isActive,\n  }, ref) => {\n    const View = React.useCallback(({ event }) => {\n      let value = event.mode;\n  \n      const q = JSON.stringify(event.query, null, 2);\n      const r = JSON.stringify(event.plainLinks).slice(1,30);\n      const v = JSON.stringify(event.value || {}, null, 2);\n\n      const _o = { ...event.options };\n      if (_o.table === 'links') delete _o.table;\n\n      const o = _.isEmpty(_o) ? '' : JSON.stringify(_o, null, 2);\n      const oo = o ? `, ${o}` : '';\n      \n      if (event.mode === 'useQuery' || event.mode === 'useSubscription' || event.mode === 'select' || event.mode === 'subscribe') {\n        value = `// request to links on remote server\n\n// load links once\nawait deep.select(${q}${o});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// load and subscribe to changes\ndeep.subscribe(${q}${o})\n.subscribe({ next: (links) => {}, error: (error) => {} });\n// links // ${r}...\n\n// hint: feel free to use deep variable in browser console!\n\n${!!_o.table && `// minilinks awailable only for { table: 'links' }`}\n${!_o.table && `// request to links in local memory (minilinks)\n\n// find once\ndeep.ml.select(${q}${o});\n// Link[]...\n\n// subscribe to changes locally\ndeep.ml.subscribe(${q}${o})\n.subscribe({ next: (links) => {}, error: (error) => {} });\n// links // Link[]...\n\n// loaded with deep.select and deep.subscribe plain links\nconst Contain = deep.idLocal('@deep-foundation/core', 'Contain');\nconst results = await deep.select({\n  in: { type: Contain, from: deep.linkId, },\n  return: { contain: { in: { type: Contain } } } // get related links too\n}),\n// can be added to minilinks with:\ndeep.minilinks.apply(\n  results,\n  'name', // STRICTLY UNIQUE\n);\n// you can update links stage in minilinks, by some select/subscription flow manually\n// in react hooks deep.useSubscription and deep.useQuery apply always automatically\n// then you can simply travel by it\nconst user = deep.get(deep.linkId);\nuser.travel().out({ type: Contain }).select();\n`}`;\n      }\n  \n      if (event.mode === 'insert') {\n        value = `// request to links on remote server\nawait deep.insert(${q}${oo});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// possible to insert multiple links at request\nawait deep.insert({\n  from: deep.idLocal('@deep-foundation/core', 'clientSupportsJs'),\n  type: deep.idLocal('@deep-foundation/core', 'Handler'),\n  to: {\n    // from/to/type as single relations can be\n    // Id of existed link or link to insert:\n    type_id: deep.idLocal('@deep-foundation/core', 'TSX'),\n    string: \\`({ deep, require }) => { var React = require('react'); return () => <div>my new component</div>; }\\`,\n  },\n  // short cut for create Contain links:\n  containerId: deep.linkId, // current user\n  name: 'my new component',\n});\n\n// hint: feel free to use deep variable in browser console!\n\n// by default only remote request\n// you can set option once\nawait deep.insert({ ... }, { local: true, ... });\n// or globally\ndeep.local = true;\n// and link will be inserted in local deep.minilinks\n// before transaction to server\n// links inserted on client side first is virtual with -123 negative id\n`;\n      }\n  \n      if (event.mode === 'update') {\n        value = `// request to links on remote server\nawait deep.update(${q}, ${v}${oo});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// hint: feel free to use deep variable in browser console!\n\n// by default only remote request\n// you can set option once\nawait deep.update({ ... }, { ... }, { local: true, ... });\n// or globally\ndeep.local = true;\n// and link will be updated in local deep.minilinks\n// before transaction to server\n`;\n      }\n  \n      if (event.mode === 'delete') {\n        value = `// request to links on remote server\nawait deep.delete(${q}${oo});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// hint: feel free to use deep variable in browser console!\n\n// by default only remote request\n// you can set option once\nawait deep.delete({ ... }, { ... }, { local: true, ... });\n// or globally\ndeep.local = true;\n// and link will be deleted in local deep.minilinks\n// before transaction to server\n`;\n      }\n  \n      return <Go.Editor editable={false} value={value} fillSize/>;\n    }, []);\n\n    return <go.On do={{\n      exec: (g,v,o) => go.do('view', { id: go.linkId, Component: View })),\n    }}>\n      <c.Button\n        w='3em' h='3em'\n        variant={isActive ? 'active' : undefined}\n        ref={ref}\n        onClick={() => go.do('exec')}\n      >\n        <FaNodeJs/>\n      </c.Button>\n    </go.On>;\n  };\n}",
        "link_id": 924
      }
    },
    {
      "id": 1438,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 471,
        "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { FaNodeJs } = require(\"react-icons/fa\");\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, handlerId, isActive, }, ref) => {\n        const View = React.useCallback(({ event }) => {\n            let value = event.mode;\n            const q = JSON.stringify(event.query, null, 2);\n            const r = JSON.stringify(event.plainLinks).slice(1, 30);\n            const v = JSON.stringify(event.value || {}, null, 2);\n            const _o = { ...event.options };\n            if (_o.table === 'links')\n                delete _o.table;\n            const o = _.isEmpty(_o) ? '' : JSON.stringify(_o, null, 2);\n            const oo = o ? `, ${o}` : '';\n            if (event.mode === 'useQuery' || event.mode === 'useSubscription' || event.mode === 'select' || event.mode === 'subscribe') {\n                value = `// request to links on remote server\n\n// load links once\nawait deep.select(${q}${o});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// load and subscribe to changes\ndeep.subscribe(${q}${o})\n.subscribe({ next: (links) => {}, error: (error) => {} });\n// links // ${r}...\n\n// hint: feel free to use deep variable in browser console!\n\n${!!_o.table && `// minilinks awailable only for { table: 'links' }`}\n${!_o.table && `// request to links in local memory (minilinks)\n\n// find once\ndeep.ml.select(${q}${o});\n// Link[]...\n\n// subscribe to changes locally\ndeep.ml.subscribe(${q}${o})\n.subscribe({ next: (links) => {}, error: (error) => {} });\n// links // Link[]...\n\n// loaded with deep.select and deep.subscribe plain links\nconst Contain = deep.idLocal('@deep-foundation/core', 'Contain');\nconst results = await deep.select({\n  in: { type: Contain, from: deep.linkId, },\n  return: { contain: { in: { type: Contain } } } // get related links too\n}),\n// can be added to minilinks with:\ndeep.minilinks.apply(\n  results,\n  'name', // STRICTLY UNIQUE\n);\n// you can update links stage in minilinks, by some select/subscription flow manually\n// in react hooks deep.useSubscription and deep.useQuery apply always automatically\n// then you can simply travel by it\nconst user = deep.get(deep.linkId);\nuser.travel().out({ type: Contain }).select();\n`}`;\n            }\n            if (event.mode === 'insert') {\n                value = `// request to links on remote server\nawait deep.insert(${q}${oo});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// possible to insert multiple links at request\nawait deep.insert({\n  from: deep.idLocal('@deep-foundation/core', 'clientSupportsJs'),\n  type: deep.idLocal('@deep-foundation/core', 'Handler'),\n  to: {\n    // from/to/type as single relations can be\n    // Id of existed link or link to insert:\n    type_id: deep.idLocal('@deep-foundation/core', 'TSX'),\n    string: \\`({ deep, require }) => { var React = require('react'); return () => <div>my new component</div>; }\\`,\n  },\n  // short cut for create Contain links:\n  containerId: deep.linkId, // current user\n  name: 'my new component',\n});\n\n// hint: feel free to use deep variable in browser console!\n\n// by default only remote request\n// you can set option once\nawait deep.insert({ ... }, { local: true, ... });\n// or globally\ndeep.local = true;\n// and link will be inserted in local deep.minilinks\n// before transaction to server\n// links inserted on client side first is virtual with -123 negative id\n`;\n            }\n            if (event.mode === 'update') {\n                value = `// request to links on remote server\nawait deep.update(${q}, ${v}${oo});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// hint: feel free to use deep variable in browser console!\n\n// by default only remote request\n// you can set option once\nawait deep.update({ ... }, { ... }, { local: true, ... });\n// or globally\ndeep.local = true;\n// and link will be updated in local deep.minilinks\n// before transaction to server\n`;\n            }\n            if (event.mode === 'delete') {\n                value = `// request to links on remote server\nawait deep.delete(${q}${oo});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// hint: feel free to use deep variable in browser console!\n\n// by default only remote request\n// you can set option once\nawait deep.delete({ ... }, { ... }, { local: true, ... });\n// or globally\ndeep.local = true;\n// and link will be deleted in local deep.minilinks\n// before transaction to server\n`;\n            }\n            return React.createElement(Go.Editor, { editable: false, value: value, fillSize: true });\n        }, []);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.do('view', { id: go.linkId, Component: View })\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(FaNodeJs, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDL0MsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsUUFBUSxHQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO1lBQzNDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFFdkIsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMvQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZELE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRXJE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TSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQzthQUNuRTtZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxHQUFHLEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFFNUIsb0JBQUMsUUFBUSxPQUFFLENBQ0YsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgR28sIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgRmFOb2RlSnMgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9mYVwiKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGhhbmRsZXJJZCxcblxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBWaWV3ID0gUmVhY3QudXNlQ2FsbGJhY2soKHsgZXZlbnQgfSkgPT4ge1xuICAgICAgbGV0IHZhbHVlID0gZXZlbnQubW9kZTtcbiAgXG4gICAgICBjb25zdCBxID0gSlNPTi5zdHJpbmdpZnkoZXZlbnQucXVlcnksIG51bGwsIDIpO1xuICAgICAgY29uc3QgciA9IEpTT04uc3RyaW5naWZ5KGV2ZW50LnBsYWluTGlua3MpLnNsaWNlKDEsMzApO1xuICAgICAgY29uc3QgdiA9IEpTT04uc3RyaW5naWZ5KGV2ZW50LnZhbHVlIHx8IHt9LCBudWxsLCAyKTtcblxuICAgICAgY29uc3QgX28gPSB7IC4uLmV2ZW50Lm9wdGlvbnMgfTtcbiAgICAgIGlmIChfby50YWJsZSA9PT0gJ2xpbmtzJykgZGVsZXRlIF9vLnRhYmxlO1xuXG4gICAgICBjb25zdCBvID0gXy5pc0VtcHR5KF9vKSA/ICcnIDogSlNPTi5zdHJpbmdpZnkoX28sIG51bGwsIDIpO1xuICAgICAgY29uc3Qgb28gPSBvID8gYCwgJHtvfWAgOiAnJztcbiAgICAgIFxuICAgICAgaWYgKGV2ZW50Lm1vZGUgPT09ICd1c2VRdWVyeScgfHwgZXZlbnQubW9kZSA9PT0gJ3VzZVN1YnNjcmlwdGlvbicgfHwgZXZlbnQubW9kZSA9PT0gJ3NlbGVjdCcgfHwgZXZlbnQubW9kZSA9PT0gJ3N1YnNjcmliZScpIHtcbiAgICAgICAgdmFsdWUgPSBgLy8gcmVxdWVzdCB0byBsaW5rcyBvbiByZW1vdGUgc2VydmVyXG5cbi8vIGxvYWQgbGlua3Mgb25jZVxuYXdhaXQgZGVlcC5zZWxlY3QoJHtxfSR7b30pO1xuLy8geyBlcnJvcjogJHtldmVudC5lcnJvciA/IGRlZXAuc3RyaW5naWZ5KGV2ZW50LmVycm9yKSA6ICdudWxsJ30sIGRhdGE6IHsgJHtyfS4uLiB9IH1cblxuLy8gbG9hZCBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXNcbmRlZXAuc3Vic2NyaWJlKCR7cX0ke299KVxuLnN1YnNjcmliZSh7IG5leHQ6IChsaW5rcykgPT4ge30sIGVycm9yOiAoZXJyb3IpID0+IHt9IH0pO1xuLy8gbGlua3MgLy8gJHtyfS4uLlxuXG4vLyBoaW50OiBmZWVsIGZyZWUgdG8gdXNlIGRlZXAgdmFyaWFibGUgaW4gYnJvd3NlciBjb25zb2xlIVxuXG4keyEhX28udGFibGUgJiYgYC8vIG1pbmlsaW5rcyBhd2FpbGFibGUgb25seSBmb3IgeyB0YWJsZTogJ2xpbmtzJyB9YH1cbiR7IV9vLnRhYmxlICYmIGAvLyByZXF1ZXN0IHRvIGxpbmtzIGluIGxvY2FsIG1lbW9yeSAobWluaWxpbmtzKVxuXG4vLyBmaW5kIG9uY2VcbmRlZXAubWwuc2VsZWN0KCR7cX0ke299KTtcbi8vIExpbmtbXS4uLlxuXG4vLyBzdWJzY3JpYmUgdG8gY2hhbmdlcyBsb2NhbGx5XG5kZWVwLm1sLnN1YnNjcmliZSgke3F9JHtvfSlcbi5zdWJzY3JpYmUoeyBuZXh0OiAobGlua3MpID0+IHt9LCBlcnJvcjogKGVycm9yKSA9PiB7fSB9KTtcbi8vIGxpbmtzIC8vIExpbmtbXS4uLlxuXG4vLyBsb2FkZWQgd2l0aCBkZWVwLnNlbGVjdCBhbmQgZGVlcC5zdWJzY3JpYmUgcGxhaW4gbGlua3NcbmNvbnN0IENvbnRhaW4gPSBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdDb250YWluJyk7XG5jb25zdCByZXN1bHRzID0gYXdhaXQgZGVlcC5zZWxlY3Qoe1xuICBpbjogeyB0eXBlOiBDb250YWluLCBmcm9tOiBkZWVwLmxpbmtJZCwgfSxcbiAgcmV0dXJuOiB7IGNvbnRhaW46IHsgaW46IHsgdHlwZTogQ29udGFpbiB9IH0gfSAvLyBnZXQgcmVsYXRlZCBsaW5rcyB0b29cbn0pLFxuLy8gY2FuIGJlIGFkZGVkIHRvIG1pbmlsaW5rcyB3aXRoOlxuZGVlcC5taW5pbGlua3MuYXBwbHkoXG4gIHJlc3VsdHMsXG4gICduYW1lJywgLy8gU1RSSUNUTFkgVU5JUVVFXG4pO1xuLy8geW91IGNhbiB1cGRhdGUgbGlua3Mgc3RhZ2UgaW4gbWluaWxpbmtzLCBieSBzb21lIHNlbGVjdC9zdWJzY3JpcHRpb24gZmxvdyBtYW51YWxseVxuLy8gaW4gcmVhY3QgaG9va3MgZGVlcC51c2VTdWJzY3JpcHRpb24gYW5kIGRlZXAudXNlUXVlcnkgYXBwbHkgYWx3YXlzIGF1dG9tYXRpY2FsbHlcbi8vIHRoZW4geW91IGNhbiBzaW1wbHkgdHJhdmVsIGJ5IGl0XG5jb25zdCB1c2VyID0gZGVlcC5nZXQoZGVlcC5saW5rSWQpO1xudXNlci50cmF2ZWwoKS5vdXQoeyB0eXBlOiBDb250YWluIH0pLnNlbGVjdCgpO1xuYH1gO1xuICAgICAgfVxuICBcbiAgICAgIGlmIChldmVudC5tb2RlID09PSAnaW5zZXJ0Jykge1xuICAgICAgICB2YWx1ZSA9IGAvLyByZXF1ZXN0IHRvIGxpbmtzIG9uIHJlbW90ZSBzZXJ2ZXJcbmF3YWl0IGRlZXAuaW5zZXJ0KCR7cX0ke29vfSk7XG4vLyB7IGVycm9yOiAke2V2ZW50LmVycm9yID8gZGVlcC5zdHJpbmdpZnkoZXZlbnQuZXJyb3IpIDogJ251bGwnfSwgZGF0YTogeyAke3J9Li4uIH0gfVxuXG4vLyBwb3NzaWJsZSB0byBpbnNlcnQgbXVsdGlwbGUgbGlua3MgYXQgcmVxdWVzdFxuYXdhaXQgZGVlcC5pbnNlcnQoe1xuICBmcm9tOiBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdjbGllbnRTdXBwb3J0c0pzJyksXG4gIHR5cGU6IGRlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ0hhbmRsZXInKSxcbiAgdG86IHtcbiAgICAvLyBmcm9tL3RvL3R5cGUgYXMgc2luZ2xlIHJlbGF0aW9ucyBjYW4gYmVcbiAgICAvLyBJZCBvZiBleGlzdGVkIGxpbmsgb3IgbGluayB0byBpbnNlcnQ6XG4gICAgdHlwZV9pZDogZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnVFNYJyksXG4gICAgc3RyaW5nOiBcXGAoeyBkZWVwLCByZXF1aXJlIH0pID0+IHsgdmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTsgcmV0dXJuICgpID0+IDxkaXY+bXkgbmV3IGNvbXBvbmVudDwvZGl2PjsgfVxcYCxcbiAgfSxcbiAgLy8gc2hvcnQgY3V0IGZvciBjcmVhdGUgQ29udGFpbiBsaW5rczpcbiAgY29udGFpbmVySWQ6IGRlZXAubGlua0lkLCAvLyBjdXJyZW50IHVzZXJcbiAgbmFtZTogJ215IG5ldyBjb21wb25lbnQnLFxufSk7XG5cbi8vIGhpbnQ6IGZlZWwgZnJlZSB0byB1c2UgZGVlcCB2YXJpYWJsZSBpbiBicm93c2VyIGNvbnNvbGUhXG5cbi8vIGJ5IGRlZmF1bHQgb25seSByZW1vdGUgcmVxdWVzdFxuLy8geW91IGNhbiBzZXQgb3B0aW9uIG9uY2VcbmF3YWl0IGRlZXAuaW5zZXJ0KHsgLi4uIH0sIHsgbG9jYWw6IHRydWUsIC4uLiB9KTtcbi8vIG9yIGdsb2JhbGx5XG5kZWVwLmxvY2FsID0gdHJ1ZTtcbi8vIGFuZCBsaW5rIHdpbGwgYmUgaW5zZXJ0ZWQgaW4gbG9jYWwgZGVlcC5taW5pbGlua3Ncbi8vIGJlZm9yZSB0cmFuc2FjdGlvbiB0byBzZXJ2ZXJcbi8vIGxpbmtzIGluc2VydGVkIG9uIGNsaWVudCBzaWRlIGZpcnN0IGlzIHZpcnR1YWwgd2l0aCAtMTIzIG5lZ2F0aXZlIGlkXG5gO1xuICAgICAgfVxuICBcbiAgICAgIGlmIChldmVudC5tb2RlID09PSAndXBkYXRlJykge1xuICAgICAgICB2YWx1ZSA9IGAvLyByZXF1ZXN0IHRvIGxpbmtzIG9uIHJlbW90ZSBzZXJ2ZXJcbmF3YWl0IGRlZXAudXBkYXRlKCR7cX0sICR7dn0ke29vfSk7XG4vLyB7IGVycm9yOiAke2V2ZW50LmVycm9yID8gZGVlcC5zdHJpbmdpZnkoZXZlbnQuZXJyb3IpIDogJ251bGwnfSwgZGF0YTogeyAke3J9Li4uIH0gfVxuXG4vLyBoaW50OiBmZWVsIGZyZWUgdG8gdXNlIGRlZXAgdmFyaWFibGUgaW4gYnJvd3NlciBjb25zb2xlIVxuXG4vLyBieSBkZWZhdWx0IG9ubHkgcmVtb3RlIHJlcXVlc3Rcbi8vIHlvdSBjYW4gc2V0IG9wdGlvbiBvbmNlXG5hd2FpdCBkZWVwLnVwZGF0ZSh7IC4uLiB9LCB7IC4uLiB9LCB7IGxvY2FsOiB0cnVlLCAuLi4gfSk7XG4vLyBvciBnbG9iYWxseVxuZGVlcC5sb2NhbCA9IHRydWU7XG4vLyBhbmQgbGluayB3aWxsIGJlIHVwZGF0ZWQgaW4gbG9jYWwgZGVlcC5taW5pbGlua3Ncbi8vIGJlZm9yZSB0cmFuc2FjdGlvbiB0byBzZXJ2ZXJcbmA7XG4gICAgICB9XG4gIFxuICAgICAgaWYgKGV2ZW50Lm1vZGUgPT09ICdkZWxldGUnKSB7XG4gICAgICAgIHZhbHVlID0gYC8vIHJlcXVlc3QgdG8gbGlua3Mgb24gcmVtb3RlIHNlcnZlclxuYXdhaXQgZGVlcC5kZWxldGUoJHtxfSR7b299KTtcbi8vIHsgZXJyb3I6ICR7ZXZlbnQuZXJyb3IgPyBkZWVwLnN0cmluZ2lmeShldmVudC5lcnJvcikgOiAnbnVsbCd9LCBkYXRhOiB7ICR7cn0uLi4gfSB9XG5cbi8vIGhpbnQ6IGZlZWwgZnJlZSB0byB1c2UgZGVlcCB2YXJpYWJsZSBpbiBicm93c2VyIGNvbnNvbGUhXG5cbi8vIGJ5IGRlZmF1bHQgb25seSByZW1vdGUgcmVxdWVzdFxuLy8geW91IGNhbiBzZXQgb3B0aW9uIG9uY2VcbmF3YWl0IGRlZXAuZGVsZXRlKHsgLi4uIH0sIHsgLi4uIH0sIHsgbG9jYWw6IHRydWUsIC4uLiB9KTtcbi8vIG9yIGdsb2JhbGx5XG5kZWVwLmxvY2FsID0gdHJ1ZTtcbi8vIGFuZCBsaW5rIHdpbGwgYmUgZGVsZXRlZCBpbiBsb2NhbCBkZWVwLm1pbmlsaW5rc1xuLy8gYmVmb3JlIHRyYW5zYWN0aW9uIHRvIHNlcnZlclxuYDtcbiAgICAgIH1cbiAgXG4gICAgICByZXR1cm4gPEdvLkVkaXRvciBlZGl0YWJsZT17ZmFsc2V9IHZhbHVlPXt2YWx1ZX0gZmlsbFNpemUvPjtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBleGVjOiAoZyx2LG8pID0+IGdvLmRvKCd2aWV3JywgeyBpZDogZ28ubGlua0lkLCBDb21wb25lbnQ6IFZpZXcgfSkpLFxuICAgIH19PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIHc9JzNlbScgaD0nM2VtJ1xuICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZG8oJ2V4ZWMnKX1cbiAgICAgID5cbiAgICAgICAgPEZhTm9kZUpzLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 1438
      }
    },
    {
      "id": 1439,
      "type_id": 3,
      "from_id": 924,
      "to_id": 1438,
      "value": {
        "id": 470,
        "value": "generated",
        "link_id": 1439
      }
    },
    {
      "id": 1440,
      "type_id": 143,
      "from_id": 1438,
      "to_id": 924
    },
    {
      "id": 1441,
      "type_id": 3,
      "from_id": 924,
      "to_id": 1440
    },
    {
      "id": 925,
      "type_id": 35,
      "from_id": 145,
      "to_id": 924
    },
    {
      "id": 926,
      "type_id": 827,
      "from_id": 925,
      "to_id": 912
    },
    {
      "id": 927,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 472,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n  const _ = require('lodash');\n  const moment = require('moment');\n  const { useDebounceCallback } = require('@react-hook/debounce');\n\n  var dpl = '@deep-foundation/perception-links';\n  var dc = '@deep-foundation/core';\n\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const Queries = deep.idLocal(dpl, 'Queries');\n  const Compatable = deep.idLocal(dpl, 'Compatable');\n  const Handler = deep.idLocal(dc, 'Handler');\n  const QueriesClient = deep.idLocal(dpl, 'QueriesClient');\n\n  return ({\n    go,\n\n    event,\n\n    children,\n  }, ref) => {\n    const { data: views } = deep.useQuery({\n      type_id: Handler,\n      out: {\n        type_id: Compatable,\n        to_id: Queries,\n      },\n    });\n  \n    const ViewItem = React.useMemo(() => React.memo(({ link: handler, isActive }) => {\n      return <Go.Handler handlerId={handler.id} event={event} isActive={isActive}/>;\n    }), []);\n\n    const [o, setO] = React.useState();\n    React.useEffect(() => {\n      go.set(Stack);\n    }, []);\n\n    return <go.On\n      do={{\n        view: (g,v,o) => setO(o),\n      }}\n    >\n      <c.Flex ref={ref} direction='column' h='100%'>\n        <c.Box h='3em'><go.Provider linkId={Stack}>\n          <go.Component path={[dpl, 'Stack']} direction='horizontal' links={views} Item={ViewItem}/>\n        </go.Provider></c.Box>\n        {typeof(o?.Component) === 'function' && [<go.Provider key={o.id} linkId={o.id}>\n          <c.Box flex='1' position='relative'>\n            <o.Component event={event}/>\n          </c.Box>\n        </go.Provider>]}\n      </c.Flex>\n    </go.On>;\n  };\n}",
        "link_id": 927
      }
    },
    {
      "id": 1447,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 474,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const moment = require('moment');\n    const { useDebounceCallback } = require('@react-hook/debounce');\n    var dpl = '@deep-foundation/perception-links';\n    var dc = '@deep-foundation/core';\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const Queries = deep.idLocal(dpl, 'Queries');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const QueriesClient = deep.idLocal(dpl, 'QueriesClient');\n    return ({ go, event, children, }, ref) => {\n        const { data: views } = deep.useQuery({\n            type_id: Handler,\n            out: {\n                type_id: Compatable,\n                to_id: Queries,\n            },\n        });\n        const ViewItem = React.useMemo(() => React.memo(({ link: handler, isActive }) => {\n            return React.createElement(Go.Handler, { handlerId: handler.id, event: event, isActive: isActive });\n        }), []);\n        const [o, setO] = React.useState();\n        React.useEffect(() => {\n            go.set(Stack);\n        }, []);\n        return React.createElement(go.On, { do: {\n                view: (g, v, o) => setO(o),\n            } },\n            React.createElement(c.Flex, { ref: ref, direction: 'column', h: '100%' },\n                React.createElement(c.Box, { h: '3em' },\n                    React.createElement(go.Provider, { linkId: Stack },\n                        React.createElement(go.Component, { path: [dpl, 'Stack'], direction: 'horizontal', links: views, Item: ViewItem }))),\n                typeof (o?.Component) === 'function' && [React.createElement(go.Provider, { key: o.id, linkId: o.id },\n                        React.createElement(c.Box, { flex: '1', position: 'relative' },\n                            React.createElement(o.Component, { event: event })))]));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNqQyxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUVoRSxJQUFJLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUM5QyxJQUFJLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVqQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNuRCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsQ0FBQztJQUV6RCxPQUFPLENBQUMsRUFDTixFQUFFLEVBRUYsS0FBSyxFQUVMLFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3BDLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLEdBQUcsRUFBRTtnQkFDSCxPQUFPLEVBQUUsVUFBVTtnQkFDbkIsS0FBSyxFQUFFLE9BQU87YUFDZjtTQUNGLENBQUMsQ0FBQztRQUVILE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFO1lBQzlFLE9BQU8sb0JBQUMsRUFBRSxDQUFDLE9BQU8sSUFBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxRQUFRLEdBQUcsQ0FBQztRQUNoRixDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVSLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ25DLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO1lBQ25CLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRVAsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUNYLEVBQUUsRUFBRTtnQkFDRixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzthQUN6QjtZQUVELG9CQUFDLENBQUMsQ0FBQyxJQUFJLElBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxNQUFNO2dCQUMzQyxvQkFBQyxDQUFDLENBQUMsR0FBRyxJQUFDLENBQUMsRUFBQyxLQUFLO29CQUFDLG9CQUFDLEVBQUUsQ0FBQyxRQUFRLElBQUMsTUFBTSxFQUFFLEtBQUs7d0JBQ3ZDLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxFQUFFLFNBQVMsRUFBQyxZQUFZLEVBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxHQUFHLENBQzlFLENBQVE7Z0JBQ3JCLE9BQU0sQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLEtBQUssVUFBVSxJQUFJLENBQUMsb0JBQUMsRUFBRSxDQUFDLFFBQVEsSUFBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUU7d0JBQzNFLG9CQUFDLENBQUMsQ0FBQyxHQUFHLElBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsVUFBVTs0QkFDakMsb0JBQUMsQ0FBQyxDQUFDLFNBQVMsSUFBQyxLQUFLLEVBQUUsS0FBSyxHQUFHLENBQ3RCLENBQ0ksQ0FBQyxDQUNSLENBQ0gsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuICBjb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbiAgY29uc3QgeyB1c2VEZWJvdW5jZUNhbGxiYWNrIH0gPSByZXF1aXJlKCdAcmVhY3QtaG9vay9kZWJvdW5jZScpO1xuXG4gIHZhciBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgdmFyIGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgU3RhY2sgPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2snKTtcbiAgY29uc3QgUXVlcmllcyA9IGRlZXAuaWRMb2NhbChkcGwsICdRdWVyaWVzJyk7XG4gIGNvbnN0IENvbXBhdGFibGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQ29tcGF0YWJsZScpO1xuICBjb25zdCBIYW5kbGVyID0gZGVlcC5pZExvY2FsKGRjLCAnSGFuZGxlcicpO1xuICBjb25zdCBRdWVyaWVzQ2xpZW50ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1F1ZXJpZXNDbGllbnQnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGV2ZW50LFxuXG4gICAgY2hpbGRyZW4sXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IHsgZGF0YTogdmlld3MgfSA9IGRlZXAudXNlUXVlcnkoe1xuICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgIG91dDoge1xuICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICB0b19pZDogUXVlcmllcyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIFxuICAgIGNvbnN0IFZpZXdJdGVtID0gUmVhY3QudXNlTWVtbygoKSA9PiBSZWFjdC5tZW1vKCh7IGxpbms6IGhhbmRsZXIsIGlzQWN0aXZlIH0pID0+IHtcbiAgICAgIHJldHVybiA8R28uSGFuZGxlciBoYW5kbGVySWQ9e2hhbmRsZXIuaWR9IGV2ZW50PXtldmVudH0gaXNBY3RpdmU9e2lzQWN0aXZlfS8+O1xuICAgIH0pLCBbXSk7XG5cbiAgICBjb25zdCBbbywgc2V0T10gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBnby5zZXQoU3RhY2spO1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICAgIHZpZXc6IChnLHYsbykgPT4gc2V0TyhvKSxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGMuRmxleCByZWY9e3JlZn0gZGlyZWN0aW9uPSdjb2x1bW4nIGg9JzEwMCUnPlxuICAgICAgICA8Yy5Cb3ggaD0nM2VtJz48Z28uUHJvdmlkZXIgbGlua0lkPXtTdGFja30+XG4gICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnU3RhY2snXX0gZGlyZWN0aW9uPSdob3Jpem9udGFsJyBsaW5rcz17dmlld3N9IEl0ZW09e1ZpZXdJdGVtfS8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+PC9jLkJveD5cbiAgICAgICAge3R5cGVvZihvPy5Db21wb25lbnQpID09PSAnZnVuY3Rpb24nICYmIFs8Z28uUHJvdmlkZXIga2V5PXtvLmlkfSBsaW5rSWQ9e28uaWR9PlxuICAgICAgICAgIDxjLkJveCBmbGV4PScxJyBwb3NpdGlvbj0ncmVsYXRpdmUnPlxuICAgICAgICAgICAgPG8uQ29tcG9uZW50IGV2ZW50PXtldmVudH0vPlxuICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+XX1cbiAgICAgIDwvYy5GbGV4PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 1447
      }
    },
    {
      "id": 1448,
      "type_id": 3,
      "from_id": 927,
      "to_id": 1447,
      "value": {
        "id": 473,
        "value": "generated",
        "link_id": 1448
      }
    },
    {
      "id": 1449,
      "type_id": 143,
      "from_id": 1447,
      "to_id": 927
    },
    {
      "id": 1450,
      "type_id": 3,
      "from_id": 927,
      "to_id": 1449
    },
    {
      "id": 928,
      "type_id": 35,
      "from_id": 145,
      "to_id": 927
    },
    {
      "id": 929,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 475,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n\n  const dpl = '@deep-foundation/perception-links';\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n\n    insertProps = {},\n\n    ...props\n  }, ref) => {\n    const disclosure = c.useDisclosure();\n\n    return <go.On\n      do={{\n        'exec': () => disclosure.onOpen(),\n      }}\n    >\n      <c.Button\n        ref={ref} h='3em' w='3em'\n        variant={isActive ? 'active' : undefined}\n        onClick={() => go.do('exec')}\n        {...props}\n      >{children}</c.Button>\n      <go.Component path={[dpl, 'LinkInsertModal']} disclosure={disclosure}\n        {...insertProps}\n      />\n    </go.On>;\n  };\n}",
        "link_id": 929
      }
    },
    {
      "id": 965,
      "type_id": 3,
      "from_id": 948,
      "to_id": 838,
      "value": {
        "id": 512,
        "value": "TreeQuery",
        "link_id": 965
      }
    },
    {
      "id": 966,
      "type_id": 3,
      "from_id": 948,
      "to_id": 837,
      "value": {
        "id": 513,
        "value": "TreeQueryComponent",
        "link_id": 966
      }
    },
    {
      "id": 967,
      "type_id": 3,
      "from_id": 948,
      "to_id": 859,
      "value": {
        "id": 514,
        "value": "compatableLayerGraph",
        "link_id": 967
      }
    },
    {
      "id": 968,
      "type_id": 3,
      "from_id": 948,
      "to_id": 840,
      "value": {
        "id": 515,
        "value": "Graph",
        "link_id": 968
      }
    },
    {
      "id": 969,
      "type_id": 3,
      "from_id": 948,
      "to_id": 839,
      "value": {
        "id": 516,
        "value": "GraphComponent",
        "link_id": 969
      }
    },
    {
      "id": 970,
      "type_id": 3,
      "from_id": 948,
      "to_id": 842,
      "value": {
        "id": 517,
        "value": "TreeLinkButton",
        "link_id": 970
      }
    },
    {
      "id": 971,
      "type_id": 3,
      "from_id": 948,
      "to_id": 841,
      "value": {
        "id": 518,
        "value": "TreeLinkButtonComponent",
        "link_id": 971
      }
    },
    {
      "id": 972,
      "type_id": 3,
      "from_id": 948,
      "to_id": 844,
      "value": {
        "id": 519,
        "value": "TreeLinkDelete",
        "link_id": 972
      }
    },
    {
      "id": 973,
      "type_id": 3,
      "from_id": 948,
      "to_id": 843,
      "value": {
        "id": 520,
        "value": "TreeLinkDeleteComponent",
        "link_id": 973
      }
    },
    {
      "id": 974,
      "type_id": 3,
      "from_id": 948,
      "to_id": 846,
      "value": {
        "id": 521,
        "value": "TreeLinkInsert",
        "link_id": 974
      }
    },
    {
      "id": 975,
      "type_id": 3,
      "from_id": 948,
      "to_id": 845,
      "value": {
        "id": 522,
        "value": "TreeLinkInsertComponent",
        "link_id": 975
      }
    },
    {
      "id": 976,
      "type_id": 3,
      "from_id": 948,
      "to_id": 848,
      "value": {
        "id": 523,
        "value": "TreeLinkTo",
        "link_id": 976
      }
    },
    {
      "id": 977,
      "type_id": 3,
      "from_id": 948,
      "to_id": 847,
      "value": {
        "id": 524,
        "value": "TreeLinkToComponent",
        "link_id": 977
      }
    },
    {
      "id": 978,
      "type_id": 3,
      "from_id": 948,
      "to_id": 850,
      "value": {
        "id": 525,
        "value": "TreeLinkFrom",
        "link_id": 978
      }
    },
    {
      "id": 979,
      "type_id": 3,
      "from_id": 948,
      "to_id": 849,
      "value": {
        "id": 526,
        "value": "TreeLinkFromComponent",
        "link_id": 979
      }
    },
    {
      "id": 1014,
      "type_id": 3,
      "from_id": 948,
      "to_id": 870,
      "value": {
        "id": 561,
        "value": "MenuGraphComponent",
        "link_id": 1014
      }
    },
    {
      "id": 1554,
      "type_id": 17,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1555,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 1556,
      "type_id": 4,
      "from_id": 1555,
      "to_id": 5
    },
    {
      "id": 1557,
      "type_id": 1,
      "from_id": 1555,
      "to_id": 8
    },
    {
      "id": 1558,
      "type_id": 1,
      "from_id": 1555,
      "to_id": 1555
    },
    {
      "id": 1559,
      "type_id": 4,
      "from_id": 1558,
      "to_id": 5
    },
    {
      "id": 1599,
      "type_id": 3,
      "from_id": 1570,
      "to_id": 1566,
      "value": {
        "id": 659,
        "value": "ruleActionSelector",
        "link_id": 1599
      }
    },
    {
      "id": 1638,
      "type_id": 1,
      "from_id": 22,
      "to_id": 22
    },
    {
      "id": 1639,
      "type_id": 1,
      "from_id": 22,
      "to_id": 22
    },
    {
      "id": 1641,
      "type_id": 35,
      "from_id": 83,
      "to_id": 1640
    },
    {
      "id": 1642,
      "type_id": 49,
      "from_id": 1639,
      "to_id": 1641
    },
    {
      "id": 1643,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 663,
        "value": "async ({deep, require, data: {\n  newLink: { \n    id: actionLoginId, \n    from_id: youUserId, \n    to_id: loginedUserId,  \n  } \n  }}) => {\n    const insertRule = async (options) => {\n      const { data: [{ id: ruleId }] } = await deep.insert({\n        type_id: await deep.id('@deep-foundation/core', 'Rule'),\n        out: { data: [\n          {\n            type_id: await deep.id('@deep-foundation/core', 'RuleSubject'),\n            to: { data: {\n              type_id: await deep.id('@deep-foundation/core', 'Selector'),\n              out: { data: options.subject },\n            } }\n          },\n          {\n            type_id: await deep.id('@deep-foundation/core', 'RuleObject'),\n            to: { data: {\n              type_id: await deep.id('@deep-foundation/core', 'Selector'),\n              out: { data: options.object },\n            } }\n          },\n          {\n            type_id: await deep.id('@deep-foundation/core', 'RuleAction'),\n            to: { data: {\n              type_id: await deep.id('@deep-foundation/core', 'Selector'),\n              out: { data: options.action },\n            } }\n          },\n        ] },\n    });\n    };\n\n    await insertRule({\n      subject: {\n        type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\n        to_id: youUserId,\n        out: { data: {\n          type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\n          to_id: await deep.id('@deep-foundation/core', 'joinTree'),\n        } },\n      },\n      object: [\n        {\n          type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\n          to_id: loginedUserId,\n          out: { data: {\n            type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\n            to_id: await deep.id('@deep-foundation/core', 'containTree'),\n          } },\n        }\n      ],\n      action: [\n        {\n          type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\n          to_id: await deep.id('@deep-foundation/core', 'AllowLogin'),\n          out: { data: {\n            type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\n            to_id: await deep.id('@deep-foundation/core', 'containTree'),\n          } },\n        },\n      ],\n    });\n}",
        "link_id": 1643
      }
    },
    {
      "id": 1644,
      "type_id": 35,
      "from_id": 83,
      "to_id": 1643
    },
    {
      "id": 1645,
      "type_id": 49,
      "from_id": 1638,
      "to_id": 1644
    },
    {
      "id": 1670,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1671,
      "type_id": 4,
      "from_id": 1670,
      "to_id": 5
    },
    {
      "id": 1672,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 1673,
      "type_id": 4,
      "from_id": 1672,
      "to_id": 5
    },
    {
      "id": 1674,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 676,
        "value": "async (req, res, next, { deep, require, gql }) => {\r\n  console.log(\"test\")\r\n  res.header('Access-Control-Allow-Origin', '*');\r\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, Authorization');\r\n  res.header('Access-Control-Allow-Methods', 'GET, POST, PUT, PATCH, DELETE, OPTIONS');\r\n\r\n  if(req.method === 'OPTIONS') {\r\n    res.send();\r\n    return;\r\n  }\r\n\r\n  if(!req.body.username){\r\n    res.send({\r\n      \"error\": \"Username is empty\"\r\n    });\r\n    return;\r\n  }\r\n  if(!req.body.password){\r\n    res.send({\r\n      \"error\": \"Password is empty\"\r\n    });\r\n    return;\r\n  }\r\n  var path = require('path');\r\n  var express = require('express');\r\n  var passport = require('passport');\r\n  var LocalStrategy = require('passport-local');\r\n  var session = require('express-session');\r\n  var crypto = require('crypto');\r\n\r\n  \r\n\r\n  const getJWT = async (linkId) => {\r\n    const result = await deep.apolloClient.query({\r\n      query: gql`query GET_JWT($linkId: Int) { \r\n        jwt(input: {linkId: $linkId}) {\r\n\t\t      linkId,\r\n          token\r\n        } \r\n      }`,\r\n      variables: { linkId },\r\n    });\r\n    console.log(result);\r\n    return result;\r\n  }\r\n\r\n  const insertRule = async (options) => {\r\n    const { data: [{ id: ruleId }] } = await deep.insert({\r\n      type_id: await deep.id('@deep-foundation/core', 'Rule'),\r\n      out: { data: [\r\n        {\r\n          type_id: await deep.id('@deep-foundation/core', 'RuleSubject'),\r\n          to: { data: {\r\n            type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n            out: { data: options.subject },\r\n          } }\r\n        },\r\n        {\r\n          type_id: await deep.id('@deep-foundation/core', 'RuleObject'),\r\n          to: { data: {\r\n            type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n            out: { data: options.object },\r\n          } }\r\n        },\r\n        {\r\n          type_id: await deep.id('@deep-foundation/core', 'RuleAction'),\r\n          to: { data: {\r\n            type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n            out: { data: options.action },\r\n          } }\r\n        },\r\n      ] },\r\n    });\r\n  };\r\n\r\n\r\n  const currentLinkId = req.body.linkId;\r\n\r\n  let globalUserId = null;\r\n\r\n  const router = express.Router();\r\n  router.use(session({\r\n    secret: 'keyboard cat',\r\n    resave: false,\r\n    saveUninitialized: false,\r\n  }));\r\n  router.use(passport.initialize());\r\n  router.use(passport.session());\r\n  router.use(passport.authenticate('session'));\r\n\r\n  passport.serializeUser(function(user, cb) {\r\n    process.nextTick(function() {\r\n      console.log('serializeUser', user);\r\n      cb(null, { id: user.id });\r\n    });\r\n  });\r\n  passport.deserializeUser(function(user, cb) {\r\n    process.nextTick(function() {\r\n      console.log('deserializeUser', user);\r\n      return cb(null, user);\r\n    });\r\n  });\r\n\r\n  passport.use(new LocalStrategy(async function verify(username, password, cb) {\r\n    crypto.pbkdf2(password, 'salt', 310000, 32, 'sha256', async function(err, hashedPassword) {\r\n      if (err) {\r\n        // if error, return error\r\n        console.log(err);\r\n        cb(err, null);\r\n        return;\r\n      }\r\n      // try to found exists username      \r\n      const { data: usernames } = await deep.select({\r\n        type_id: await deep.id('@timax/passport-authorization', 'Username'),\r\n        string: { value: { _eq: username } },\r\n      });\r\n      console.log(usernames.length)\r\n      if (usernames.length) {\r\n        // if username found\r\n        const usernameId = usernames[0].id;\r\n        const { data: passwords } = await deep.select({\r\n          type_id: await deep.id('@timax/passport-authorization', 'Password'),\r\n          from_id: usernameId,\r\n        });\r\n\r\n        if (!passwords.length) {\r\n          // if password not found\r\n          cb(\"Password not found\", null);\r\n          return;\r\n        }\r\n        const foundedPassword = passwords?.[0]?.value?.value;\r\n        console.log(passwords,foundedPassword )\r\n        console.log(hashedPassword.toString() )\r\n        if (foundedPassword != hashedPassword.toString()) {\r\n          // if password incorrect\r\n          cb('Incorrect password', null);\r\n          return;\r\n        }\r\n        // if password correct\r\n        const { data: [{id: userId}] } = await deep.select({\r\n          type_id: await deep.id('@deep-foundation/core', 'User'),\r\n          in: {\r\n            id: passwords[0].id\r\n          },\r\n        });\r\n\r\n        \r\n        globalUserId = userId;\r\n        cb(null, usernameId);\r\n      } else {\r\n        // if username not found, create new username\r\n        cb('Пользователь не найден');\r\n\r\n      }\r\n\r\n      const hasAllowLogin = await deep.can(\r\n        currentLinkId,\r\n        globalUserId,\r\n        await deep.id('@deep-foundation/core', 'AllowLogin')\r\n      )\r\n      if(!hasAllowLogin) {\r\n        const r = await deep.insert({\r\n          type_id: await deep.id('@l4legenda/auth-core', 'ActionLoginUser'),\r\n          from_id: currentLinkId,\r\n          to_id: globalUserId,\r\n        })\r\n        console.log(r);\r\n      }\r\n      \r\n\r\n    return;\r\n\r\n\r\n    });\r\n  }));\r\n  router.use('*', passport.authenticate('local', {}));\r\n\r\n  router.handle(req, res, async (err) => {\r\n    if(err) {\r\n      res.send({ \"error\": err });\r\n    } else {\r\n      const {data: {jwt: {linkId, token}}} = await getJWT(globalUserId);\r\n      res.send({ linkId, token });\r\n    }\r\n\r\n  });\r\n}",
        "link_id": 1674
      }
    },
    {
      "id": 1675,
      "type_id": 35,
      "from_id": 83,
      "to_id": 1674
    },
    {
      "id": 1676,
      "type_id": 77,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1677,
      "type_id": 105,
      "from_id": 1676,
      "to_id": 1637
    },
    {
      "id": 1678,
      "type_id": 104,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1679,
      "type_id": 108,
      "from_id": 1678,
      "to_id": 1675
    },
    {
      "id": 1680,
      "type_id": 106,
      "from_id": 1678,
      "to_id": 1676,
      "value": {
        "id": 677,
        "value": "/passport",
        "link_id": 1680
      }
    },
    {
      "id": 1681,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 678,
        "value": "@timax/passport-authorization",
        "link_id": 1681
      }
    },
    {
      "id": 1687,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1671,
      "value": {
        "id": 680,
        "value": "ValueUsername",
        "link_id": 1687
      }
    },
    {
      "id": 1688,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1670,
      "value": {
        "id": 681,
        "value": "Username",
        "link_id": 1688
      }
    },
    {
      "id": 1689,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1673,
      "value": {
        "id": 682,
        "value": "ValuePassword",
        "link_id": 1689
      }
    },
    {
      "id": 1690,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1672,
      "value": {
        "id": 683,
        "value": "Password",
        "link_id": 1690
      }
    },
    {
      "id": 1691,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1679,
      "value": {
        "id": 684,
        "value": "handleRoute",
        "link_id": 1691
      }
    },
    {
      "id": 1692,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1675,
      "value": {
        "id": 685,
        "value": "handler",
        "link_id": 1692
      }
    },
    {
      "id": 1693,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1674,
      "value": {
        "id": 686,
        "value": "syncTextFile",
        "link_id": 1693
      }
    },
    {
      "id": 1694,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1677,
      "value": {
        "id": 687,
        "value": "RouterListening",
        "link_id": 1694
      }
    },
    {
      "id": 1695,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1680,
      "value": {
        "id": 688,
        "value": "routerStringUse",
        "link_id": 1695
      }
    },
    {
      "id": 1696,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1676,
      "value": {
        "id": 689,
        "value": "router",
        "link_id": 1696
      }
    },
    {
      "id": 1697,
      "type_id": 3,
      "from_id": 1681,
      "to_id": 1678,
      "value": {
        "id": 690,
        "value": "route",
        "link_id": 1697
      }
    },
    {
      "id": 1717,
      "type_id": 77,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1718,
      "type_id": 105,
      "from_id": 1717,
      "to_id": 798
    },
    {
      "id": 1719,
      "type_id": 104,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1720,
      "type_id": 106,
      "from_id": 1719,
      "to_id": 1717,
      "value": {
        "id": 692,
        "value": "/deep-foundation/passport-username-password",
        "link_id": 1720
      }
    },
    {
      "id": 1721,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 693,
        "value": "async (req, res, next, { deep, require, gql }) => {\n  // res.send({ error: '!!!!' });\n  // return {};\n  // ?username=<username>&password=<password>&try=<tryId>\n  const q = req?.query;\n  if (!q?.username) return res.send({ error: '!username must be ?username=<username>&password=<password>&try=<tryId>' });\n  if (!q?.password) return res.send({ error: '!password must be ?username=<username>&password=<password>&try=<tryId>' });\n  if (!q?.try) return res.send({ error: '!try must be ?username=<username>&password=<password>&try=<tryId>' });\n\n  var path = require('path');\n  var express = require('express');\n  var passport = require('passport');\n  var LocalStrategy = require('passport-local');\n  var session = require('express-session');\n  var crypto = require('crypto');\n\n  const authorization = async (op, input) => {\n    const type = op === 'try' ? 'AuthorizationTryInput' : op === 'get' ? 'AuthorizationGetInput' : op === 'set' ? 'AuthorizationSetInput' : undefined;\n    const result = op === 'try' ? 'id error' : op === 'get' ? 'id' : op === 'set' ? 'error' : undefined;\n    const response = await deep.apolloClient.query({\n      query: deep.gql`query Authorization($input: ${type}) { authorization { ${op}(input: $input) { ${result} } } }`,\n      variables: { input },\n    });\n    return response?.data?.authorization?.[op];\n  };\n\n  // const setError = async (error) => {\n  //   console.log('setError', error);\n  //   await deep.apolloClient.query({\n  //     query: gql`query SET($id: String!, $error: String) { authorization { set(input: { id: $id, error: $error }) { error } } }`,\n  //     variables: { id, error },\n  //   });\n  // };\n\n  const router = express.Router();\n  router.use(session({\n    secret: 'keyboard cat',\n    resave: false,\n    saveUninitialized: false,\n  }));\n  router.use(passport.initialize());\n  router.use(passport.session());\n  router.use(passport.authenticate('session'));\n  passport.serializeUser(function(user, cb) {\n    process.nextTick(function() {\n      console.log('serializeUser', user);\n      cb(null, user);\n    });\n  });\n  passport.deserializeUser(function(user, cb) {\n    process.nextTick(function() {\n      console.log('deserializeUser', user);\n      return cb(null, user);\n    });\n  });\n  passport.use(new LocalStrategy(async function verify(username, password, cb) {\n    crypto.pbkdf2(password, 'salt', 310000, 32, 'sha256', async function(err, hashedPassword) {\n      if (err) {\n        // if error, return error\n        await authorization('set', { id: q.try, error: String(err) });\n        cb(err, null);\n        return;\n      }\n      // try to found exists username\n      const { data: usernames } = await deep.select({\n        type_id: await deep.id('@deep-foundation/passport-username-password', 'Username'),\n        string: { value: { _eq: username } },\n      });\n      if (usernames.length) {\n        // if username found\n        const usernameId = usernames[0].id;\n        const { data: passwords } = await deep.select({\n          type_id: await deep.id('@deep-foundation/passport-username-password', 'Password'),\n          from_id: usernameId,\n        });\n        if (!passwords.length) {\n          // if password not found\n          await authorization('set', { id: q.try, error: '!password' });\n          cb('!password', null);\n          return;\n        }\n        const foundedPassword = passwords[0]?.value?.value;\n        if (foundedPassword != hashedPassword.toString()) {\n          // if password incorrect\n          await authorization('set', { id: q.try, error: 'incorrect' });\n          cb('incorrect', null);\n          return;\n        }\n        // if password correct\n        const jwt = await authorization('set', { id: q.try, authId: usernameId });\n        cb(null, jwt);\n        return;\n      } else {\n        // if username not found, create new username\n        const { data: [{ id: usernameId }] } = await deep.insert({\n          type_id: await deep.id('@deep-foundation/passport-username-password', 'Username'),\n          string: { data: { value: username } },\n        });\n        // and create new password\n        const { data: [{ id: passwordId }] } = await deep.insert({\n          type_id: await deep.id('@deep-foundation/passport-username-password', 'Password'),\n          string: { data: { value: hashedPassword.toString() } },\n          from_id: usernameId,\n          to_id: usernameId,\n        });\n        // and set authorization\n        const jwt = await authorization('set', { id: q.try, authId: usernameId });\n        cb(null, jwt);\n        return;\n      }\n    });\n  }));\n  router.use('*', passport.authenticate('local', {}));\n  router.handle(req, res, () => {\n    res.send(JSON.stringify(req.user));\n  });\n}",
        "link_id": 1721
      }
    },
    {
      "id": 1722,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1723,
      "type_id": 16,
      "from_id": 1564,
      "to_id": 1722
    },
    {
      "id": 1724,
      "type_id": 70,
      "from_id": 1723,
      "to_id": 183
    },
    {
      "id": 1725,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 1726,
      "type_id": 35,
      "from_id": 83,
      "to_id": 1721
    },
    {
      "id": 1727,
      "type_id": 108,
      "from_id": 1719,
      "to_id": 1726
    },
    {
      "id": 1728,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 694,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  const { useDebounce } = require('@react-hook/debounce');\n  const axios = require('axios');\n  \n  const dc = '@deep-foundation/core';\n  const dpl = '@deep-foundation/perception-links';\n  const da = '@deep-foundation/authorization';\n  const dup = '@deep-foundation/passport-username-password';\n  const c = require('@chakra-ui/react');\n\n  const Authorization = deep.idLocal(dc, 'Authorization');\n  const Username = deep.idLocal(dup, 'Username');\n\n  const authorization = async (op: string, input: any) => {\n    console.log('authorization input', op, input);\n    const type = op === 'try' ? 'AuthorizationTryInput' : op === 'get' ? 'AuthorizationGetInput' : op === 'set' ? 'AuthorizationSetInput' : undefined;\n    const result = op === 'try' ? 'id error' : op === 'get' ? 'linkId token error' : op === 'set' ? 'error' : undefined;\n    const response = await deep.apolloClient.query({\n      query: deep.gql`query Authorization($input: ${type}) { authorization { ${op}(input: $input) { ${result} } } }`,\n      variables: { input },\n    });\n    console.log('authorization output', op, input, response?.data?.authorization?.[op]);\n    return response?.data?.authorization?.[op];\n  };\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n\n    onRequest, // (operation: 'login' | 'register', username) =>\n    onResponse, // (operation: 'login' | 'register', username, jwt: { linkId, token, error }, prevent: () => void) =>\n\n    ...props\n  }, ref) => {\n    const [username, setUsername] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [password1, setPassword1] = React.useState('');\n    const [password2, setPassword2] = React.useState('');\n    const { data: [u] } = deep.useQuery({\n      type_id: Username,\n      string: username,\n    }, { skip: !username, debounce: 1000 });\n\n    const [tryId, setTryId] = React.useState();\n    const [error, setError] = React.useState();\n    React.useEffect(() => {\n      if (!tryId) clearInterval(intervalRef.current);\n    }, [tryId]);\n    const intervalRef = React.useRef();\n    const login = React.useCallback(async (username, password, operation) => {\n      onRequest && onRequest(operation, username);\n      const { id: tryId } = await authorization('try', { linkId: deep.linkId });\n      setTryId(tryId);\n      axios.get(`${deep.url('deeplinks')}/deep-foundation/passport-username-password?username=${username}&password=${password}&try=${tryId}`);\n      const nextTimeout = () => {\n        intervalRef.current = setInterval(() => {\n          authorization('get', { id: tryId }).then(({ linkId, token, error }) => {\n            let prevented = false;\n            if (token || (!!error && error !== '!allow')) clearInterval(intervalRef.current);\n            if (!!error && error !== '!allow') {\n              onResponse && onResponse(operation, username, { linkId, token, error }, () => prevented = true);\n              setError(error);\n            }\n            if (token) {\n              onResponse && onResponse(operation, username, { linkId, token, error }, () => prevented = true);\n              console.log('deep.login', { linkId, token });\n              if (!prevented) deep.login({ linkId, token });\n            } else {\n              nextTimeout();\n            }\n          });\n        }, 3000);\n      };\n      nextTimeout();\n    }, []);\n\n    return <go.On\n      do={{\n      }}\n    >\n      <go.On do={{\n        exec: async (g,v,o) => go.go.do('right', { ...o, id: await deep.id(dpl, 'NameOfComponent') }),\n        click: (g,v,o) => go.do('exec', o),\n        right: (g,v,o) => go.do('exec', o),\n      }}>\n        <c.Box p='1em'>\n          {!username && <c.Box>Login or Register</c.Box>}\n          <c.Input placeholder='username' value={username} onChange={e => setUsername(e.target.value)}/>\n          {!!username && <>{!!u ? <>\n            <c.Input placeholder='password' value={password} type='password' onChange={e => setPassword(e.target.value)}/>\n            {!!password && <c.Flex>\n              {!!tryId && <c.Button onClick={() => setTryId()}>x</c.Button>}\n              <c.Button flex='1' isLoading={tryId} onClick={() => login(username, password, 'login')}>Login</c.Button>\n              {!!error && <>\n                <c.Alert status='error'>\n                  <c.AlertIcon />\n                  {error}\n                </c.Alert>\n              </>}\n            </c.Flex>}\n          </> : <>\n            <c.Input placeholder='password' value={password1} type='password' onChange={e => setPassword1(e.target.value)}/>\n            <c.Input placeholder='password' value={password2} type='password' onChange={e => setPassword2(e.target.value)}/>\n            {!!password1 && (password1 != password2 ? <>\n              <c.Alert status='error'>\n                <c.AlertIcon />\n                Passwords must be equal\n              </c.Alert>\n            </> : <>\n              <c.Alert status='success'>\n                <c.AlertIcon />\n                Passwords valid\n              </c.Alert>\n              <c.Flex>\n                {!!tryId && <c.Button onClick={() => setTryId()}>x</c.Button>}\n                <c.Button flex='1' isLoading={tryId} isDisabled={!password1 || (password1 !== password2} onClick={() => login(username, password1, 'register')}>Register</c.Button>\n              </c.Flex>\n            </>)}\n          </>}</>}\n        </c.Box>\n        {/*<go.Component path={[dpl, 'NameOfComponent']}/>*/}\n      </go.On>\n    </go.On>;\n  };\n}",
        "link_id": 1728
      }
    },
    {
      "id": 1729,
      "type_id": 35,
      "from_id": 145,
      "to_id": 1728
    },
    {
      "id": 1730,
      "type_id": 827,
      "from_id": 1729,
      "to_id": 946
    },
    {
      "id": 1731,
      "type_id": 4,
      "from_id": 1722,
      "to_id": 5
    },
    {
      "id": 1734,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 697,
        "value": "@deep-foundation/passport-username-password",
        "link_id": 1734
      }
    },
    {
      "id": 1740,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1718,
      "value": {
        "id": 699,
        "value": "routerListening",
        "link_id": 1740
      }
    },
    {
      "id": 1741,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1720,
      "value": {
        "id": 700,
        "value": "routerStringUse",
        "link_id": 1741
      }
    },
    {
      "id": 1742,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1717,
      "value": {
        "id": 701,
        "value": "router",
        "link_id": 1742
      }
    },
    {
      "id": 1743,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1727,
      "value": {
        "id": 702,
        "value": "handleRoute",
        "link_id": 1743
      }
    },
    {
      "id": 1744,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1719,
      "value": {
        "id": 703,
        "value": "route",
        "link_id": 1744
      }
    },
    {
      "id": 1745,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1726,
      "value": {
        "id": 704,
        "value": "handler",
        "link_id": 1745
      }
    },
    {
      "id": 1746,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1721,
      "value": {
        "id": 705,
        "value": "code",
        "link_id": 1746
      }
    },
    {
      "id": 1747,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1731,
      "value": {
        "id": 706,
        "value": "usernameValue",
        "link_id": 1747
      }
    },
    {
      "id": 1748,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1724,
      "value": {
        "id": 707,
        "value": "selectorIncludeTree",
        "link_id": 1748
      }
    },
    {
      "id": 1749,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1723,
      "value": {
        "id": 708,
        "value": "selectorInclude",
        "link_id": 1749
      }
    },
    {
      "id": 1750,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1722,
      "value": {
        "id": 709,
        "value": "Username",
        "link_id": 1750
      }
    },
    {
      "id": 1751,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1725,
      "value": {
        "id": 710,
        "value": "Password",
        "link_id": 1751
      }
    },
    {
      "id": 1752,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1730,
      "value": {
        "id": 711,
        "value": "UsernamePasswordCompatableMenuAuth",
        "link_id": 1752
      }
    },
    {
      "id": 1753,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1729,
      "value": {
        "id": 712,
        "value": "UsernamePassword",
        "link_id": 1753
      }
    },
    {
      "id": 1754,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1728,
      "value": {
        "id": 713,
        "value": "UsernamePasswordComponent",
        "link_id": 1754
      }
    },
    {
      "id": 1755,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1732,
      "value": {
        "id": 714,
        "value": "passwordValue",
        "link_id": 1755
      }
    },
    {
      "id": 1756,
      "type_id": 3,
      "from_id": 1734,
      "to_id": 1733,
      "value": {
        "id": 715,
        "value": "port",
        "link_id": 1756
      }
    },
    {
      "id": 1850,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 718,
        "value": "mklsi-links",
        "link_id": 1850
      }
    },
    {
      "id": 1861,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1862,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1861,
      "value": {
        "id": 720,
        "value": "FirstName",
        "link_id": 1862
      }
    },
    {
      "id": 1863,
      "type_id": 4,
      "from_id": 1861,
      "to_id": 5
    },
    {
      "id": 1864,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1863,
      "value": {
        "id": 721,
        "value": "FirstNameValue",
        "link_id": 1864
      }
    },
    {
      "id": 1865,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1866,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1865,
      "value": {
        "id": 722,
        "value": "LastName",
        "link_id": 1866
      }
    },
    {
      "id": 1867,
      "type_id": 4,
      "from_id": 1865,
      "to_id": 5
    },
    {
      "id": 1868,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1867,
      "value": {
        "id": 723,
        "value": "LastNameValue",
        "link_id": 1868
      }
    },
    {
      "id": 1869,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 1870,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1869,
      "value": {
        "id": 724,
        "value": "FatherName",
        "link_id": 1870
      }
    },
    {
      "id": 1871,
      "type_id": 4,
      "from_id": 1869,
      "to_id": 5
    },
    {
      "id": 1872,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1871,
      "value": {
        "id": 725,
        "value": "FatherNameValue",
        "link_id": 1872
      }
    },
    {
      "id": 1885,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 1886,
      "type_id": 4,
      "from_id": 1885,
      "to_id": 7
    },
    {
      "id": 1887,
      "type_id": 146,
      "from_id": 1885,
      "to_id": 1885,
      "value": {
        "id": 729,
        "value": "✏️",
        "link_id": 1887
      }
    },
    {
      "id": 1888,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 1889,
      "type_id": 146,
      "from_id": 1888,
      "to_id": 1888,
      "value": {
        "id": 730,
        "value": "❗️",
        "link_id": 1889
      }
    },
    {
      "id": 1890,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 1891,
      "type_id": 4,
      "from_id": 1890,
      "to_id": 5
    },
    {
      "id": 1892,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 731,
        "value": "({ deep, data: { oldLink, newLink }, require }) => {\n  const jsonschema = require('jsonschema');\n  const Property = deep.id('@deep-foundation/jsonschema', 'Property');\n  const { data: schemas } = deep.select({ type_id: Property, to_id: newLink.type_id });\n  for (let s = 0; s < schemas.length; s++) {\n    const schema = schemas[s];\n    if (schema?.value?.value) {\n      const result = jsonschema.validate(newLink?.value?.value, schema?.value?.value);\n      if (!result.valid) {\n        throw new Error(result.errors);\n      }\n    }\n  }\n}",
        "link_id": 1892
      }
    },
    {
      "id": 1893,
      "type_id": 35,
      "from_id": 141,
      "to_id": 1892
    },
    {
      "id": 1894,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 732,
        "value": "@deep-foundation/jsonschema",
        "link_id": 1894
      }
    },
    {
      "id": 1900,
      "type_id": 3,
      "from_id": 1894,
      "to_id": 1893,
      "value": {
        "id": 734,
        "value": "onChangeHandler",
        "link_id": 1900
      }
    },
    {
      "id": 1901,
      "type_id": 3,
      "from_id": 1894,
      "to_id": 1886,
      "value": {
        "id": 735,
        "value": "ProperyValue",
        "link_id": 1901
      }
    },
    {
      "id": 1902,
      "type_id": 3,
      "from_id": 1894,
      "to_id": 1887,
      "value": {
        "id": 736,
        "value": "SymbolSymbol",
        "link_id": 1902
      }
    },
    {
      "id": 1903,
      "type_id": 3,
      "from_id": 1894,
      "to_id": 1885,
      "value": {
        "id": 737,
        "value": "Property",
        "link_id": 1903
      }
    },
    {
      "id": 1904,
      "type_id": 3,
      "from_id": 1894,
      "to_id": 1889,
      "value": {
        "id": 738,
        "value": "RequiredSymbol",
        "link_id": 1904
      }
    },
    {
      "id": 1905,
      "type_id": 3,
      "from_id": 1894,
      "to_id": 1888,
      "value": {
        "id": 739,
        "value": "Required",
        "link_id": 1905
      }
    },
    {
      "id": 1906,
      "type_id": 3,
      "from_id": 1894,
      "to_id": 1891,
      "value": {
        "id": 740,
        "value": "PossibleValue",
        "link_id": 1906
      }
    },
    {
      "id": 1907,
      "type_id": 3,
      "from_id": 1894,
      "to_id": 1890,
      "value": {
        "id": 741,
        "value": "Possible",
        "link_id": 1907
      }
    },
    {
      "id": 1908,
      "type_id": 3,
      "from_id": 1894,
      "to_id": 1892,
      "value": {
        "id": 742,
        "value": "onChange",
        "link_id": 1908
      }
    },
    {
      "id": 1933,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1932,
      "value": {
        "id": 744,
        "value": "firstNameProperty",
        "link_id": 1933
      }
    },
    {
      "id": 1935,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1934,
      "value": {
        "id": 745,
        "value": "lastNameProperty",
        "link_id": 1935
      }
    },
    {
      "id": 1937,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1936,
      "value": {
        "id": 746,
        "value": "fatherNameProperty",
        "link_id": 1937
      }
    },
    {
      "id": 1938,
      "type_id": 1888,
      "from_id": 22,
      "to_id": 1861
    },
    {
      "id": 1939,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1938,
      "value": {
        "id": 747,
        "value": "firstNameRequired",
        "link_id": 1939
      }
    },
    {
      "id": 1940,
      "type_id": 1888,
      "from_id": 22,
      "to_id": 1865
    },
    {
      "id": 1941,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1940,
      "value": {
        "id": 748,
        "value": "lastNameRequired",
        "link_id": 1941
      }
    },
    {
      "id": 1942,
      "type_id": 1888,
      "from_id": 22,
      "to_id": 1869
    },
    {
      "id": 1943,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 1942,
      "value": {
        "id": 749,
        "value": "fatherNameRequired",
        "link_id": 1943
      }
    },
    {
      "id": 1934,
      "type_id": 1885,
      "from_id": 1865,
      "to_id": 1865,
      "value": {
        "id": 61,
        "value": {
          "type": "string"
        },
        "link_id": 1934
      }
    },
    {
      "id": 1932,
      "type_id": 1885,
      "from_id": 1861,
      "to_id": 1861,
      "value": {
        "id": 60,
        "value": {
          "type": "string"
        },
        "link_id": 1932
      }
    },
    {
      "id": 2137,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 2138,
      "type_id": 4,
      "from_id": 2137,
      "to_id": 7
    },
    {
      "id": 2139,
      "type_id": 146,
      "from_id": 2137,
      "to_id": 2137,
      "value": {
        "id": 788,
        "value": "✒️",
        "link_id": 2139
      }
    },
    {
      "id": 2140,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 789,
        "value": "({ deep, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const { useState, useEffect, useCallback, useRef } = React;\n    const { withTheme } = require('@rjsf/core');\n    const { Theme: ChakraUITheme } = require('@rjsf/chakra-ui');\n    const { default: validator } = require('@rjsf/validator-ajv8');\n    const Form = withTheme(ChakraUITheme);\n\n    return ({\n      go,\n      goHandler,\n  \n      handlerId,\n      Component,\n  \n      linkId,\n      link,\n  \n      children,\n  \n      isActive,\n  \n      ...props\n    }) => {\n      const schemaId = link.type_id;\n      const { data: ids } = deep.useDeepSubscription({\n        down: {\n          tree_id: { _eq: deep.idLocal('@deep-foundation/core', 'containTree') },\n          _or: [{\n            link_id: { _id: ['@deep-foundation/jsonschema', 'Property'] },\n          }, {\n            link_id: { _id: ['@deep-foundation/jsonschema', 'Required'] },\n          }, {\n            link_id: { _id: ['@deep-foundation/jsonschema-form', 'UIProperty'] },\n          }]\n        }\n      });\n      const formDown = deep.useDeepSubscription({\n        up: {\n          tree_id: deep.idLocal('@deep-foundation/core', 'containTree'),\n          parent_id: schemaId,\n        },\n\n      });\n      const schemaLink = deep.minilinks?.byId?.[schemaId];\n      const propertyLinks: any = {};\n      const properties: any = {};\n      const uipropertyLinks: any = {};\n      const uiproperties: any = {};\n      const schema = {\n        type: 'object',\n        properties,\n        required: [],\n      };\n      if (ids.length) schemaLink?.outByType[deep.idLocal('@deep-foundation/core', 'Contain')]?.forEach((contain) => {\n        const item = contain?.to;\n        const propery = item?.outByType[deep.idLocal('@deep-foundation/jsonschema', 'Property')]?.[0];\n        const uipropery = item?.outByType[deep.idLocal('@deep-foundation/jsonschema-form', 'UIProperty')]?.[0];\n        const required = propery?.inByType?.[deep.idLocal('@deep-foundation/jsonschema', 'Required')]?.find(r => r.from_id === schemaId);\n        const name = contain?.value?.value || contain?.id;\n        if (propery) {\n          if (required) schema.required.push(name);\n          propertyLinks[name] = propery;\n          properties[name] = propery?.value?.value;\n        }\n        if (uipropery) {\n          uipropertyLinks[name] = uipropery;\n          uiproperties[name] = uipropery?.value?.value;\n        }\n      });\n      const propertyLinksRef = go.useRefValue(propertyLinks);\n      // console.log('schema', schema, propertyLinks);\n      return  <c.Box>\n        <Form\n          schema={schema}\n          validator={validator}\n          uiSchema={uiproperties}\n          noHtml5Validate={false}\n          liveValidate\n          // onChange={useCallback(({}) => {\n          // }, [])}\n          onSubmit={useCallback(async ({\n            errors, formData\n          }) => {\n            const insert = [];\n            for (let key in formData) {\n              const type = typeof(formData[key]);\n              insert.push({\n                type_id: propertyLinksRef.current[key]?.to?.id,\n                [type]: { data: { value: formData[key] } },\n                in: { data: {\n                  type_id: deep.idLocal('@deep-foundation/core', 'Contain'),\n                  from_id: link.id,\n                } },\n              });\n            }\n            await deep.insert(insert);\n          }, [])}\n          // onError={log('errors')}\n        >\n          <c.Box>\n            <c.Button type=\"submit\" w=\"100%\">Insert</c.Button>\n          </c.Box>\n        </Form>\n      </c.Box>;\n    }\n  }\n",
        "link_id": 2140
      }
    },
    {
      "id": 2167,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 791,
        "value": "({ deep, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const { useState, useEffect, useCallback, useRef } = React;\n    const { withTheme } = require('@rjsf/core');\n    const { Theme: ChakraUITheme } = require('@rjsf/chakra-ui');\n    const { default: validator } = require('@rjsf/validator-ajv8');\n    const Form = withTheme(ChakraUITheme);\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }) => {\n        const schemaId = link.type_id;\n        const { data: ids } = deep.useDeepSubscription({\n            down: {\n                tree_id: { _eq: deep.idLocal('@deep-foundation/core', 'containTree') },\n                _or: [{\n                        link_id: { _id: ['@deep-foundation/jsonschema', 'Property'] },\n                    }, {\n                        link_id: { _id: ['@deep-foundation/jsonschema', 'Required'] },\n                    }, {\n                        link_id: { _id: ['@deep-foundation/jsonschema-form', 'UIProperty'] },\n                    }]\n            }\n        });\n        const formDown = deep.useDeepSubscription({\n            up: {\n                tree_id: deep.idLocal('@deep-foundation/core', 'containTree'),\n                parent_id: schemaId,\n            },\n        });\n        const schemaLink = deep.minilinks?.byId?.[schemaId];\n        const propertyLinks = {};\n        const properties = {};\n        const uipropertyLinks = {};\n        const uiproperties = {};\n        const schema = {\n            type: 'object',\n            properties,\n            required: [],\n        };\n        if (ids.length)\n            schemaLink?.outByType[deep.idLocal('@deep-foundation/core', 'Contain')]?.forEach((contain) => {\n                const item = contain?.to;\n                const propery = item?.outByType[deep.idLocal('@deep-foundation/jsonschema', 'Property')]?.[0];\n                const uipropery = item?.outByType[deep.idLocal('@deep-foundation/jsonschema-form', 'UIProperty')]?.[0];\n                const required = propery?.inByType?.[deep.idLocal('@deep-foundation/jsonschema', 'Required')]?.find(r => r.from_id === schemaId);\n                const name = contain?.value?.value || contain?.id;\n                if (propery) {\n                    if (required)\n                        schema.required.push(name);\n                    propertyLinks[name] = propery;\n                    properties[name] = propery?.value?.value;\n                }\n                if (uipropery) {\n                    uipropertyLinks[name] = uipropery;\n                    uiproperties[name] = uipropery?.value?.value;\n                }\n            });\n        const propertyLinksRef = go.useRefValue(propertyLinks);\n        return React.createElement(c.Box, null,\n            React.createElement(Form, { schema: schema, validator: validator, uiSchema: uiproperties, noHtml5Validate: false, liveValidate: true, onSubmit: useCallback(async ({ errors, formData }) => {\n                    const insert = [];\n                    for (let key in formData) {\n                        const type = typeof (formData[key]);\n                        insert.push({\n                            type_id: propertyLinksRef.current[key]?.to?.id,\n                            [type]: { data: { value: formData[key] } },\n                            in: { data: {\n                                    type_id: deep.idLocal('@deep-foundation/core', 'Contain'),\n                                    from_id: link.id,\n                                } },\n                        });\n                    }\n                    await deep.insert(insert);\n                }, []) },\n                React.createElement(c.Box, null,\n                    React.createElement(c.Button, { type: \"submit\", w: \"100%\" }, \"Insert\"))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDbEIsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDM0QsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM1QyxNQUFNLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzVELE1BQU0sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDL0QsTUFBTSxJQUFJLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBRXRDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsU0FBUyxFQUNULFNBQVMsRUFFVCxNQUFNLEVBQ04sSUFBSSxFQUVKLFFBQVEsRUFFUixRQUFRLEVBRVIsR0FBRyxLQUFLLEVBQ1QsRUFBRSxFQUFFO1FBQ0gsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUM5QixNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztZQUM3QyxJQUFJLEVBQUU7Z0JBQ0osT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsdUJBQXVCLEVBQUUsYUFBYSxDQUFDLEVBQUU7Z0JBQ3RFLEdBQUcsRUFBRSxDQUFDO3dCQUNKLE9BQU8s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b25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gICAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgICBjb25zdCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSA9IFJlYWN0O1xuICAgIGNvbnN0IHsgd2l0aFRoZW1lIH0gPSByZXF1aXJlKCdAcmpzZi9jb3JlJyk7XG4gICAgY29uc3QgeyBUaGVtZTogQ2hha3JhVUlUaGVtZSB9ID0gcmVxdWlyZSgnQHJqc2YvY2hha3JhLXVpJyk7XG4gICAgY29uc3QgeyBkZWZhdWx0OiB2YWxpZGF0b3IgfSA9IHJlcXVpcmUoJ0ByanNmL3ZhbGlkYXRvci1hanY4Jyk7XG4gICAgY29uc3QgRm9ybSA9IHdpdGhUaGVtZShDaGFrcmFVSVRoZW1lKTtcblxuICAgIHJldHVybiAoe1xuICAgICAgZ28sXG4gICAgICBnb0hhbmRsZXIsXG4gIFxuICAgICAgaGFuZGxlcklkLFxuICAgICAgQ29tcG9uZW50LFxuICBcbiAgICAgIGxpbmtJZCxcbiAgICAgIGxpbmssXG4gIFxuICAgICAgY2hpbGRyZW4sXG4gIFxuICAgICAgaXNBY3RpdmUsXG4gIFxuICAgICAgLi4ucHJvcHNcbiAgICB9KSA9PiB7XG4gICAgICBjb25zdCBzY2hlbWFJZCA9IGxpbmsudHlwZV9pZDtcbiAgICAgIGNvbnN0IHsgZGF0YTogaWRzIH0gPSBkZWVwLnVzZURlZXBTdWJzY3JpcHRpb24oe1xuICAgICAgICBkb3duOiB7XG4gICAgICAgICAgdHJlZV9pZDogeyBfZXE6IGRlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ2NvbnRhaW5UcmVlJykgfSxcbiAgICAgICAgICBfb3I6IFt7XG4gICAgICAgICAgICBsaW5rX2lkOiB7IF9pZDogWydAZGVlcC1mb3VuZGF0aW9uL2pzb25zY2hlbWEnLCAnUHJvcGVydHknXSB9LFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGxpbmtfaWQ6IHsgX2lkOiBbJ0BkZWVwLWZvdW5kYXRpb24vanNvbnNjaGVtYScsICdSZXF1aXJlZCddIH0sXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbGlua19pZDogeyBfaWQ6IFsnQGRlZXAtZm91bmRhdGlvbi9qc29uc2NoZW1hLWZvcm0nLCAnVUlQcm9wZXJ0eSddIH0sXG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBmb3JtRG93biA9IGRlZXAudXNlRGVlcFN1YnNjcmlwdGlvbih7XG4gICAgICAgIHVwOiB7XG4gICAgICAgICAgdHJlZV9pZDogZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnY29udGFpblRyZWUnKSxcbiAgICAgICAgICBwYXJlbnRfaWQ6IHNjaGVtYUlkLFxuICAgICAgICB9LFxuXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHNjaGVtYUxpbmsgPSBkZWVwLm1pbmlsaW5rcz8uYnlJZD8uW3NjaGVtYUlkXTtcbiAgICAgIGNvbnN0IHByb3BlcnR5TGlua3M6IGFueSA9IHt9O1xuICAgICAgY29uc3QgcHJvcGVydGllczogYW55ID0ge307XG4gICAgICBjb25zdCB1aXByb3BlcnR5TGlua3M6IGFueSA9IHt9O1xuICAgICAgY29uc3QgdWlwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcbiAgICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIHJlcXVpcmVkOiBbXSxcbiAgICAgIH07XG4gICAgICBpZiAoaWRzLmxlbmd0aCkgc2NoZW1hTGluaz8ub3V0QnlUeXBlW2RlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ0NvbnRhaW4nKV0/LmZvckVhY2goKGNvbnRhaW4pID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbnRhaW4/LnRvO1xuICAgICAgICBjb25zdCBwcm9wZXJ5ID0gaXRlbT8ub3V0QnlUeXBlW2RlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9qc29uc2NoZW1hJywgJ1Byb3BlcnR5JyldPy5bMF07XG4gICAgICAgIGNvbnN0IHVpcHJvcGVyeSA9IGl0ZW0/Lm91dEJ5VHlwZVtkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vanNvbnNjaGVtYS1mb3JtJywgJ1VJUHJvcGVydHknKV0/LlswXTtcbiAgICAgICAgY29uc3QgcmVxdWlyZWQgPSBwcm9wZXJ5Py5pbkJ5VHlwZT8uW2RlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9qc29uc2NoZW1hJywgJ1JlcXVpcmVkJyldPy5maW5kKHIgPT4gci5mcm9tX2lkID09PSBzY2hlbWFJZCk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBjb250YWluPy52YWx1ZT8udmFsdWUgfHwgY29udGFpbj8uaWQ7XG4gICAgICAgIGlmIChwcm9wZXJ5KSB7XG4gICAgICAgICAgaWYgKHJlcXVpcmVkKSBzY2hlbWEucmVxdWlyZWQucHVzaChuYW1lKTtcbiAgICAgICAgICBwcm9wZXJ0eUxpbmtzW25hbWVdID0gcHJvcGVyeTtcbiAgICAgICAgICBwcm9wZXJ0aWVzW25hbWVdID0gcHJvcGVyeT8udmFsdWU/LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1aXByb3BlcnkpIHtcbiAgICAgICAgICB1aXByb3BlcnR5TGlua3NbbmFtZV0gPSB1aXByb3Blcnk7XG4gICAgICAgICAgdWlwcm9wZXJ0aWVzW25hbWVdID0gdWlwcm9wZXJ5Py52YWx1ZT8udmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgcHJvcGVydHlMaW5rc1JlZiA9IGdvLnVzZVJlZlZhbHVlKHByb3BlcnR5TGlua3MpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ3NjaGVtYScsIHNjaGVtYSwgcHJvcGVydHlMaW5rcyk7XG4gICAgICByZXR1cm4gIDxjLkJveD5cbiAgICAgICAgPEZvcm1cbiAgICAgICAgICBzY2hlbWE9e3NjaGVtYX1cbiAgICAgICAgICB2YWxpZGF0b3I9e3ZhbGlkYXRvcn1cbiAgICAgICAgICB1aVNjaGVtYT17dWlwcm9wZXJ0aWVzfVxuICAgICAgICAgIG5vSHRtbDVWYWxpZGF0ZT17ZmFsc2V9XG4gICAgICAgICAgbGl2ZVZhbGlkYXRlXG4gICAgICAgICAgLy8gb25DaGFuZ2U9e3VzZUNhbGxiYWNrKCh7fSkgPT4ge1xuICAgICAgICAgIC8vIH0sIFtdKX1cbiAgICAgICAgICBvblN1Ym1pdD17dXNlQ2FsbGJhY2soYXN5bmMgKHtcbiAgICAgICAgICAgIGVycm9ycywgZm9ybURhdGFcbiAgICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnNlcnQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBmb3JtRGF0YSkge1xuICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mKGZvcm1EYXRhW2tleV0pO1xuICAgICAgICAgICAgICBpbnNlcnQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZV9pZDogcHJvcGVydHlMaW5rc1JlZi5jdXJyZW50W2tleV0/LnRvPy5pZCxcbiAgICAgICAgICAgICAgICBbdHlwZV06IHsgZGF0YTogeyB2YWx1ZTogZm9ybURhdGFba2V5XSB9IH0sXG4gICAgICAgICAgICAgICAgaW46IHsgZGF0YToge1xuICAgICAgICAgICAgICAgICAgdHlwZV9pZDogZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnQ29udGFpbicpLFxuICAgICAgICAgICAgICAgICAgZnJvbV9pZDogbGluay5pZCxcbiAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgZGVlcC5pbnNlcnQoaW5zZXJ0KTtcbiAgICAgICAgICB9LCBbXSl9XG4gICAgICAgICAgLy8gb25FcnJvcj17bG9nKCdlcnJvcnMnKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLkJveD5cbiAgICAgICAgICAgIDxjLkJ1dHRvbiB0eXBlPVwic3VibWl0XCIgdz1cIjEwMCVcIj5JbnNlcnQ8L2MuQnV0dG9uPlxuICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgIDwvRm9ybT5cbiAgICAgIDwvYy5Cb3g+O1xuICAgIH1cbiAgfVxuIl19",
        "link_id": 2167
      }
    },
    {
      "id": 2168,
      "type_id": 3,
      "from_id": 2140,
      "to_id": 2167,
      "value": {
        "id": 790,
        "value": "generated",
        "link_id": 2168
      }
    },
    {
      "id": 2169,
      "type_id": 143,
      "from_id": 2167,
      "to_id": 2140
    },
    {
      "id": 2170,
      "type_id": 3,
      "from_id": 2140,
      "to_id": 2169
    },
    {
      "id": 2141,
      "type_id": 35,
      "from_id": 145,
      "to_id": 2140
    },
    {
      "id": 2142,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 792,
        "value": "async ({ deep, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const { useState, useEffect, useCallback, useRef } = React;\n    const { withTheme } = require('@rjsf/core');\n    const { Theme: ChakraUITheme } = require('@rjsf/chakra-ui');\n    const { default: validator } = require('@rjsf/validator-ajv8');\n    const { Button, ButtonGroup } = require('@chakra-ui/react');\n    const Form = withTheme(ChakraUITheme);\n\n    const dc = '@deep-foundation/core';\n    const dj = '@deep-foundation/jsonschema';\n    const djf = '@deep-foundation/jsonschema-form';\n\n    const Contain = await deep.id(dc, 'Contain');\n    const Possible = await deep.id(dj, 'Possible');\n    const Property = await deep.id(dj, 'Property');\n    const Required = await deep.id(dj, 'Required');\n    const UIProperty = await deep.id(djf, 'UIProperty');\n\n    return ({\n      go,\n      goHandler,\n  \n      handlerId,\n      Component,\n  \n      linkId,\n      link,\n  \n      children,\n  \n      isActive,\n\n      buttonProps = {},\n\n      onSubmit: _onSubmit,\n\n      // https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/form-props\n      // https://rjsf-team.github.io/react-jsonschema-form/docs/advanced-customization/custom-templates\n      ...props\n    }) => {\n      const typeId = link.type_id;\n\n      const { data: schemaData, loading: schemaLoading } = deep.useSubscription({\n        type_id: { _in: [Possible, Required] },\n        from_id: typeId,\n        return: {\n          _type: { relation: 'type' },\n          _properties: {\n            relation: 'to',\n            return: {\n              _property: {\n                relation: 'in',\n                type_id: { _in: [Property, UIProperty] },\n              },\n            },\n          },\n        },\n      });\n\n      const possibles = deep.useLocalQuery({ type_id: Possible, from_id: typeId });\n\n      const { data, loading: dataLoading } = deep.useSubscription(schemaLoading ? {} : {\n        type_id: Contain,\n        from_id: linkId,\n        string: { value: { _in: possibles.map(p => p?.value?.value) } },\n        to: {\n          type_id: { _in: possibles.map(p => p.to_id) },\n        },\n        return: {\n          _to: { relation: 'to' },\n        },\n      }, { skip: !!schemaLoading });\n\n      const { schema, uiproperties, formData } = React.useMemo(() => {\n        if (!!schemaLoading || !!dataLoading) return {};\n\n        const schema = {\n          type: 'object',\n          properties: {},\n          required: [],\n        };\n\n        const formData = {};\n\n        const uiproperties = {};\n\n        const type = deep.get(typeId);\n\n        possibles.forEach(p => {\n          const [required] = deep.ml.select({ type_id: Required, from_id: typeId, to_id: p.to_id });\n          const [property] = deep.ml.select({ type_id: Property, to_id: p.to_id });\n          const [uiproperty] = deep.ml.select({ type_id: UIProperty, to_id: p.to_id });\n          schema.properties[p?.value?.value] = property?.value?.value;\n          if (uiproperty?.value?.value) uiproperties[p?.value?.value] = uiproperty?.value?.value;\n          if (required) schema.required.push(p?.value?.value);\n          const [field] = deep.ml.select({ type_id: Contain, from_id: linkId, string: p?.value?.value });\n          if (field) formData[p?.value?.value] = field?.to?.value?.value;\n        });\n\n        return { schema, uiproperties, formData };\n      }, [schemaData]);\n\n      const memRef = React.useRef({});\n      const define = React.useCallback(async (name, value) => {\n        const [possible] = deep.ml.select({ type_id: Possible, from_id: typeId });\n        const [exists] = deep.ml.select({ type_id: Contain, from_id: linkId, string: name });\n        if (memRef.current[name] || exists) await deep.value(exists.to_id, value);\n        else if (possible) {\n          await deep.insert({\n            type_id: possible.to_id, [typeof(value)]: value,\n            containerId: linkId, name,\n          });\n        } else throw new Error(`!possible for name ${name} value ${value}`);\n      }, []);\n\n      const onSubmit = useCallback(async (input) => {\n        for (let key in formData) { define(key, formData[key]); }\n        _onSubmit && _onSubmit(input);\n      }, [])\n\n      console.log({ schema, validator, formData, uiproperties, schemaData, data });\n\n      return  <c.Box color='deepColor'>\n        {!!schema ? <>\n          <Form\n            schema={schema}\n            validator={validator}\n            formData={formData}\n            uiSchema={uiproperties}\n            noHtml5Validate={false}\n            liveValidate\n            // onChange={useCallback(({}) => {\n            // }, [])}\n            {...props}\n            onSubmit={onSubmit}\n            // onError={log('errors')}\n          >\n            <c.Box>\n              <Button type=\"submit\" w='100%' children={<>Update</>} {...buttonProps}/>\n            </c.Box>\n          </Form>\n        </> : <c.Button isLoading/>}\n      </c.Box>;\n    }\n  }\n",
        "link_id": 2142
      }
    },
    {
      "id": 2176,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 794,
        "value": "async ({ deep, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const { useState, useEffect, useCallback, useRef } = React;\n    const { withTheme } = require('@rjsf/core');\n    const { Theme: ChakraUITheme } = require('@rjsf/chakra-ui');\n    const { default: validator } = require('@rjsf/validator-ajv8');\n    const { Button, ButtonGroup } = require('@chakra-ui/react');\n    const Form = withTheme(ChakraUITheme);\n    const dc = '@deep-foundation/core';\n    const dj = '@deep-foundation/jsonschema';\n    const djf = '@deep-foundation/jsonschema-form';\n    const Contain = await deep.id(dc, 'Contain');\n    const Possible = await deep.id(dj, 'Possible');\n    const Property = await deep.id(dj, 'Property');\n    const Required = await deep.id(dj, 'Required');\n    const UIProperty = await deep.id(djf, 'UIProperty');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, buttonProps = {}, onSubmit: _onSubmit, ...props }) => {\n        const typeId = link.type_id;\n        const { data: schemaData, loading: schemaLoading } = deep.useSubscription({\n            type_id: { _in: [Possible, Required] },\n            from_id: typeId,\n            return: {\n                _type: { relation: 'type' },\n                _properties: {\n                    relation: 'to',\n                    return: {\n                        _property: {\n                            relation: 'in',\n                            type_id: { _in: [Property, UIProperty] },\n                        },\n                    },\n                },\n            },\n        });\n        const possibles = deep.useLocalQuery({ type_id: Possible, from_id: typeId });\n        const { data, loading: dataLoading } = deep.useSubscription(schemaLoading ? {} : {\n            type_id: Contain,\n            from_id: linkId,\n            string: { value: { _in: possibles.map(p => p?.value?.value) } },\n            to: {\n                type_id: { _in: possibles.map(p => p.to_id) },\n            },\n            return: {\n                _to: { relation: 'to' },\n            },\n        }, { skip: !!schemaLoading });\n        const { schema, uiproperties, formData } = React.useMemo(() => {\n            if (!!schemaLoading || !!dataLoading)\n                return {};\n            const schema = {\n                type: 'object',\n                properties: {},\n                required: [],\n            };\n            const formData = {};\n            const uiproperties = {};\n            const type = deep.get(typeId);\n            possibles.forEach(p => {\n                const [required] = deep.ml.select({ type_id: Required, from_id: typeId, to_id: p.to_id });\n                const [property] = deep.ml.select({ type_id: Property, to_id: p.to_id });\n                const [uiproperty] = deep.ml.select({ type_id: UIProperty, to_id: p.to_id });\n                schema.properties[p?.value?.value] = property?.value?.value;\n                if (uiproperty?.value?.value)\n                    uiproperties[p?.value?.value] = uiproperty?.value?.value;\n                if (required)\n                    schema.required.push(p?.value?.value);\n                const [field] = deep.ml.select({ type_id: Contain, from_id: linkId, string: p?.value?.value });\n                if (field)\n                    formData[p?.value?.value] = field?.to?.value?.value;\n            });\n            return { schema, uiproperties, formData };\n        }, [schemaData]);\n        const memRef = React.useRef({});\n        const define = React.useCallback(async (name, value) => {\n            const [possible] = deep.ml.select({ type_id: Possible, from_id: typeId });\n            const [exists] = deep.ml.select({ type_id: Contain, from_id: linkId, string: name });\n            if (memRef.current[name] || exists)\n                await deep.value(exists.to_id, value);\n            else if (possible) {\n                await deep.insert({\n                    type_id: possible.to_id, [typeof (value)]: value,\n                    containerId: linkId, name,\n                });\n            }\n            else\n                throw new Error(`!possible for name ${name} value ${value}`);\n        }, []);\n        const onSubmit = useCallback(async (input) => {\n            for (let key in formData) {\n                define(key, formData[key]);\n            }\n            _onSubmit && _onSubmit(input);\n        }, []);\n        console.log({ schema, validator, formData, uiproperties, schemaData, data });\n        return React.createElement(c.Box, { color: 'deepColor' }, !!schema ? React.createElement(React.Fragment, null,\n            React.createElement(Form, { schema: schema, validator: validator, formData: formData, uiSchema: uiproperties, noHtml5Validate: false, liveValidate: true, ...props, onSubmit: onSubmit },\n                React.createElement(c.Box, null,\n                    React.createElement(Button, { type: \"submit\", w: '100%', children: React.createElement(React.Fragment, null, \"Update\"), ...buttonProps })))) : React.createElement(c.Button, { isLoading: true }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7SUFDNUIsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDM0QsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM1QyxNQUFNLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzVELE1BQU0sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDL0QsTUFBTSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUM1RCxNQUFNLElBQUksR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUM7SUFFdEMsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxFQUFFLEdBQUcsNkJBQTZCLENBQUM7SUFDekMsTUFBTSxHQUFHLEdBQUcsa0NBQWtDLENBQUM7SUFFL0MsTUFBTSxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBSSxD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dCI6WyJhc3luYyAoeyBkZWVwLCByZXF1aXJlLCBHbyB9KSA9PiB7XG4gICAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICAgIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG4gICAgY29uc3QgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gPSBSZWFjdDtcbiAgICBjb25zdCB7IHdpdGhUaGVtZSB9ID0gcmVxdWlyZSgnQHJqc2YvY29yZScpO1xuICAgIGNvbnN0IHsgVGhlbWU6IENoYWtyYVVJVGhlbWUgfSA9IHJlcXVpcmUoJ0ByanNmL2NoYWtyYS11aScpO1xuICAgIGNvbnN0IHsgZGVmYXVsdDogdmFsaWRhdG9yIH0gPSByZXF1aXJlKCdAcmpzZi92YWxpZGF0b3ItYWp2OCcpO1xuICAgIGNvbnN0IHsgQnV0dG9uLCBCdXR0b25Hcm91cCB9ID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICAgIGNvbnN0IEZvcm0gPSB3aXRoVGhlbWUoQ2hha3JhVUlUaGVtZSk7XG5cbiAgICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICAgIGNvbnN0IGRqID0gJ0BkZWVwLWZvdW5kYXRpb24vanNvbnNjaGVtYSc7XG4gICAgY29uc3QgZGpmID0gJ0BkZWVwLWZvdW5kYXRpb24vanNvbnNjaGVtYS1mb3JtJztcblxuICAgIGNvbnN0IENvbnRhaW4gPSBhd2FpdCBkZWVwLmlkKGRjLCAnQ29udGFpbicpO1xuICAgIGNvbnN0IFBvc3NpYmxlID0gYXdhaXQgZGVlcC5pZChkaiwgJ1Bvc3NpYmxlJyk7XG4gICAgY29uc3QgUHJvcGVydHkgPSBhd2FpdCBkZWVwLmlkKGRqLCAnUHJvcGVydHknKTtcbiAgICBjb25zdCBSZXF1aXJlZCA9IGF3YWl0IGRlZXAuaWQoZGosICdSZXF1aXJlZCcpO1xuICAgIGNvbnN0IFVJUHJvcGVydHkgPSBhd2FpdCBkZWVwLmlkKGRqZiwgJ1VJUHJvcGVydHknKTtcblxuICAgIHJldHVybiAoe1xuICAgICAgZ28sXG4gICAgICBnb0hhbmRsZXIsXG4gIFxuICAgICAgaGFuZGxlcklkLFxuICAgICAgQ29tcG9uZW50LFxuICBcbiAgICAgIGxpbmtJZCxcbiAgICAgIGxpbmssXG4gIFxuICAgICAgY2hpbGRyZW4sXG4gIFxuICAgICAgaXNBY3RpdmUsXG5cbiAgICAgIGJ1dHRvblByb3BzID0ge30sXG5cbiAgICAgIG9uU3VibWl0OiBfb25TdWJtaXQsXG5cbiAgICAgIC8vIGh0dHBzOi8vcmpzZi10ZWFtLmdpdGh1Yi5pby9yZWFjdC1qc29uc2NoZW1hLWZvcm0vZG9jcy9hcGktcmVmZXJlbmNlL2Zvcm0tcHJvcHNcbiAgICAgIC8vIGh0dHBzOi8vcmpzZi10ZWFtLmdpdGh1Yi5pby9yZWFjdC1qc29uc2NoZW1hLWZvcm0vZG9jcy9hZHZhbmNlZC1jdXN0b21pemF0aW9uL2N1c3RvbS10ZW1wbGF0ZXNcbiAgICAgIC4uLnByb3BzXG4gICAgfSkgPT4ge1xuICAgICAgY29uc3QgdHlwZUlkID0gbGluay50eXBlX2lkO1xuXG4gICAgICBjb25zdCB7IGRhdGE6IHNjaGVtYURhdGEsIGxvYWRpbmc6IHNjaGVtYUxvYWRpbmcgfSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAgICAgdHlwZV9pZDogeyBfaW46IFtQb3NzaWJsZSwgUmVxdWlyZWRdIH0sXG4gICAgICAgIGZyb21faWQ6IHR5cGVJZCxcbiAgICAgICAgcmV0dXJuOiB7XG4gICAgICAgICAgX3R5cGU6IHsgcmVsYXRpb246ICd0eXBlJyB9LFxuICAgICAgICAgIF9wcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICByZWxhdGlvbjogJ3RvJyxcbiAgICAgICAgICAgIHJldHVybjoge1xuICAgICAgICAgICAgICBfcHJvcGVydHk6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogJ2luJyxcbiAgICAgICAgICAgICAgICB0eXBlX2lkOiB7IF9pbjogW1Byb3BlcnR5LCBVSVByb3BlcnR5XSB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHBvc3NpYmxlcyA9IGRlZXAudXNlTG9jYWxRdWVyeSh7IHR5cGVfaWQ6IFBvc3NpYmxlLCBmcm9tX2lkOiB0eXBlSWQgfSk7XG5cbiAgICAgIGNvbnN0IHsgZGF0YSwgbG9hZGluZzogZGF0YUxvYWRpbmcgfSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKHNjaGVtYUxvYWRpbmcgPyB7fSA6IHtcbiAgICAgICAgdHlwZV9pZDogQ29udGFpbixcbiAgICAgICAgZnJvbV9pZDogbGlua0lkLFxuICAgICAgICBzdHJpbmc6IHsgdmFsdWU6IHsgX2luOiBwb3NzaWJsZXMubWFwKHAgPT4gcD8udmFsdWU/LnZhbHVlKSB9IH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgdHlwZV9pZDogeyBfaW46IHBvc3NpYmxlcy5tYXAocCA9PiBwLnRvX2lkKSB9LFxuICAgICAgICB9LFxuICAgICAgICByZXR1cm46IHtcbiAgICAgICAgICBfdG86IHsgcmVsYXRpb246ICd0bycgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sIHsgc2tpcDogISFzY2hlbWFMb2FkaW5nIH0pO1xuXG4gICAgICBjb25zdCB7IHNjaGVtYSwgdWlwcm9wZXJ0aWVzLCBmb3JtRGF0YSB9ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmICghIXNjaGVtYUxvYWRpbmcgfHwgISFkYXRhTG9hZGluZykgcmV0dXJuIHt9O1xuXG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgICByZXF1aXJlZDogW10sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSB7fTtcblxuICAgICAgICBjb25zdCB1aXByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICBjb25zdCB0eXBlID0gZGVlcC5nZXQodHlwZUlkKTtcblxuICAgICAgICBwb3NzaWJsZXMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICBjb25zdCBbcmVxdWlyZWRdID0gZGVlcC5tbC5zZWxlY3QoeyB0eXBlX2lkOiBSZXF1aXJlZCwgZnJvbV9pZDogdHlwZUlkLCB0b19pZDogcC50b19pZCB9KTtcbiAgICAgICAgICBjb25zdCBbcHJvcGVydHldID0gZGVlcC5tbC5zZWxlY3QoeyB0eXBlX2lkOiBQcm9wZXJ0eSwgdG9faWQ6IHAudG9faWQgfSk7XG4gICAgICAgICAgY29uc3QgW3VpcHJvcGVydHldID0gZGVlcC5tbC5zZWxlY3QoeyB0eXBlX2lkOiBVSVByb3BlcnR5LCB0b19pZDogcC50b19pZCB9KTtcbiAgICAgICAgICBzY2hlbWEucHJvcGVydGllc1twPy52YWx1ZT8udmFsdWVdID0gcHJvcGVydHk/LnZhbHVlPy52YWx1ZTtcbiAgICAgICAgICBpZiAodWlwcm9wZXJ0eT8udmFsdWU/LnZhbHVlKSB1aXByb3BlcnRpZXNbcD8udmFsdWU/LnZhbHVlXSA9IHVpcHJvcGVydHk/LnZhbHVlPy52YWx1ZTtcbiAgICAgICAgICBpZiAocmVxdWlyZWQpIHNjaGVtYS5yZXF1aXJlZC5wdXNoKHA/LnZhbHVlPy52YWx1ZSk7XG4gICAgICAgICAgY29uc3QgW2ZpZWxkXSA9IGRlZXAubWwuc2VsZWN0KHsgdHlwZV9pZDogQ29udGFpbiwgZnJvbV9pZDogbGlua0lkLCBzdHJpbmc6IHA/LnZhbHVlPy52YWx1ZSB9KTtcbiAgICAgICAgICBpZiAoZmllbGQpIGZvcm1EYXRhW3A/LnZhbHVlPy52YWx1ZV0gPSBmaWVsZD8udG8/LnZhbHVlPy52YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHsgc2NoZW1hLCB1aXByb3BlcnRpZXMsIGZvcm1EYXRhIH07XG4gICAgICB9LCBbc2NoZW1hRGF0YV0pO1xuXG4gICAgICBjb25zdCBtZW1SZWYgPSBSZWFjdC51c2VSZWYoe30pO1xuICAgICAgY29uc3QgZGVmaW5lID0gUmVhY3QudXNlQ2FsbGJhY2soYXN5bmMgKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IFtwb3NzaWJsZV0gPSBkZWVwLm1sLnNlbGVjdCh7IHR5cGVfaWQ6IFBvc3NpYmxlLCBmcm9tX2lkOiB0eXBlSWQgfSk7XG4gICAgICAgIGNvbnN0IFtleGlzdHNdID0gZGVlcC5tbC5zZWxlY3QoeyB0eXBlX2lkOiBDb250YWluLCBmcm9tX2lkOiBsaW5rSWQsIHN0cmluZzogbmFtZSB9KTtcbiAgICAgICAgaWYgKG1lbVJlZi5jdXJyZW50W25hbWVdIHx8IGV4aXN0cykgYXdhaXQgZGVlcC52YWx1ZShleGlzdHMudG9faWQsIHZhbHVlKTtcbiAgICAgICAgZWxzZSBpZiAocG9zc2libGUpIHtcbiAgICAgICAgICBhd2FpdCBkZWVwLmluc2VydCh7XG4gICAgICAgICAgICB0eXBlX2lkOiBwb3NzaWJsZS50b19pZCwgW3R5cGVvZih2YWx1ZSldOiB2YWx1ZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcklkOiBsaW5rSWQsIG5hbWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYCFwb3NzaWJsZSBmb3IgbmFtZSAke25hbWV9IHZhbHVlICR7dmFsdWV9YCk7XG4gICAgICB9LCBbXSk7XG5cbiAgICAgIGNvbnN0IG9uU3VibWl0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlucHV0KSA9PiB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBmb3JtRGF0YSkgeyBkZWZpbmUoa2V5LCBmb3JtRGF0YVtrZXldKTsgfVxuICAgICAgICBfb25TdWJtaXQgJiYgX29uU3VibWl0KGlucHV0KTtcbiAgICAgIH0sIFtdKVxuXG4gICAgICBjb25zb2xlLmxvZyh7IHNjaGVtYSwgdmFsaWRhdG9yLCBmb3JtRGF0YSwgdWlwcm9wZXJ0aWVzLCBzY2hlbWFEYXRhLCBkYXRhIH0pO1xuXG4gICAgICByZXR1cm4gIDxjLkJveCBjb2xvcj0nZGVlcENvbG9yJz5cbiAgICAgICAgeyEhc2NoZW1hID8gPD5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgc2NoZW1hPXtzY2hlbWF9XG4gICAgICAgICAgICB2YWxpZGF0b3I9e3ZhbGlkYXRvcn1cbiAgICAgICAgICAgIGZvcm1EYXRhPXtmb3JtRGF0YX1cbiAgICAgICAgICAgIHVpU2NoZW1hPXt1aXByb3BlcnRpZXN9XG4gICAgICAgICAgICBub0h0bWw1VmFsaWRhdGU9e2ZhbHNlfVxuICAgICAgICAgICAgbGl2ZVZhbGlkYXRlXG4gICAgICAgICAgICAvLyBvbkNoYW5nZT17dXNlQ2FsbGJhY2soKHt9KSA9PiB7XG4gICAgICAgICAgICAvLyB9LCBbXSl9XG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICBvblN1Ym1pdD17b25TdWJtaXR9XG4gICAgICAgICAgICAvLyBvbkVycm9yPXtsb2coJ2Vycm9ycycpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxjLkJveD5cbiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwic3VibWl0XCIgdz0nMTAwJScgY2hpbGRyZW49ezw+VXBkYXRlPC8+fSB7Li4uYnV0dG9uUHJvcHN9Lz5cbiAgICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgICAgPC9Gb3JtPlxuICAgICAgICA8Lz4gOiA8Yy5CdXR0b24gaXNMb2FkaW5nLz59XG4gICAgICA8L2MuQm94PjtcbiAgICB9XG4gIH1cbiJdfQ==",
        "link_id": 2176
      }
    },
    {
      "id": 2177,
      "type_id": 3,
      "from_id": 2142,
      "to_id": 2176,
      "value": {
        "id": 793,
        "value": "generated",
        "link_id": 2177
      }
    },
    {
      "id": 2178,
      "type_id": 143,
      "from_id": 2176,
      "to_id": 2142
    },
    {
      "id": 2179,
      "type_id": 3,
      "from_id": 2142,
      "to_id": 2178
    },
    {
      "id": 2143,
      "type_id": 35,
      "from_id": 145,
      "to_id": 2142
    },
    {
      "id": 2144,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 795,
        "value": "@deep-foundation/jsonschema-form",
        "link_id": 2144
      }
    },
    {
      "id": 2150,
      "type_id": 3,
      "from_id": 2144,
      "to_id": 2141,
      "value": {
        "id": 797,
        "value": "Inserting",
        "link_id": 2150
      }
    },
    {
      "id": 2151,
      "type_id": 3,
      "from_id": 2144,
      "to_id": 2140,
      "value": {
        "id": 798,
        "value": "insertingComponent",
        "link_id": 2151
      }
    },
    {
      "id": 2152,
      "type_id": 3,
      "from_id": 2144,
      "to_id": 2143,
      "value": {
        "id": 799,
        "value": "Updating",
        "link_id": 2152
      }
    },
    {
      "id": 2153,
      "type_id": 3,
      "from_id": 2144,
      "to_id": 2138,
      "value": {
        "id": 800,
        "value": "UIPropertyValue",
        "link_id": 2153
      }
    },
    {
      "id": 2154,
      "type_id": 3,
      "from_id": 2144,
      "to_id": 2139,
      "value": {
        "id": 801,
        "value": "UIPropertySymbol",
        "link_id": 2154
      }
    },
    {
      "id": 2155,
      "type_id": 3,
      "from_id": 2144,
      "to_id": 2137,
      "value": {
        "id": 802,
        "value": "UIProperty",
        "link_id": 2155
      }
    },
    {
      "id": 2156,
      "type_id": 3,
      "from_id": 2144,
      "to_id": 2142,
      "value": {
        "id": 803,
        "value": "updatingComponent",
        "link_id": 2156
      }
    },
    {
      "id": 2197,
      "type_id": 1890,
      "from_id": 22,
      "to_id": 1861,
      "value": {
        "id": 814,
        "value": "firstName",
        "link_id": 2197
      }
    },
    {
      "id": 2198,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 2197,
      "value": {
        "id": 806,
        "value": "FirstNamePossibleUser",
        "link_id": 2198
      }
    },
    {
      "id": 2199,
      "type_id": 1890,
      "from_id": 22,
      "to_id": 1865,
      "value": {
        "id": 815,
        "value": "lastName",
        "link_id": 2199
      }
    },
    {
      "id": 2200,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 2199,
      "value": {
        "id": 807,
        "value": "LastNamePossibleUser",
        "link_id": 2200
      }
    },
    {
      "id": 2201,
      "type_id": 1890,
      "from_id": 22,
      "to_id": 1869,
      "value": {
        "id": 816,
        "value": "fatherName",
        "link_id": 2201
      }
    },
    {
      "id": 2202,
      "type_id": 3,
      "from_id": 1850,
      "to_id": 2201,
      "value": {
        "id": 808,
        "value": "FatherNamePossibleUser",
        "link_id": 2202
      }
    },
    {
      "id": 1936,
      "type_id": 1885,
      "from_id": 1869,
      "to_id": 1869,
      "value": {
        "id": 62,
        "value": {
          "type": "string"
        },
        "link_id": 1936
      }
    },
    {
      "id": 1732,
      "type_id": 4,
      "from_id": 1725,
      "to_id": 5
    },
    {
      "id": 2574,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 866,
        "value": "({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const c = require('@chakra-ui/react');\n  const { IoFingerPrintOutline } = require(\"react-icons/io5\");\n  const { LuPackageSearch } = require(\"react-icons/lu\");\n  const { BsCheck2 } = require(\"react-icons/bs\");\n  const { MdOutlineVerticalAlignBottom, MdOutlineVerticalAlignTop } = require(\"react-icons/md\");\n\n  const { useDebounce } = require('@react-hook/debounce');\n  \n  const { makeUseAxios } = require(\"axios-hooks\");\n  const axios = require('axios');\n  const useAxios = makeUseAxios({ axios: axios.create() });\n\n  var dtsx = '@deep-foundation/tsx';\n  var dpl = '@deep-foundation/perception-links';\n  var dc = '@deep-foundation/core';\n  var dnpm = '@deep-foundation/npm-packager';\n\n  const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n  const Package = deep.idLocal(dc, 'Package');\n  const promiseTree = deep.idLocal(dc, 'promiseTree');\n  const Resolved = deep.idLocal(dc, 'Resolved');\n  const Rejected = deep.idLocal(dc, 'Rejected');\n  const PackageVersion = deep.idLocal(dc, 'PackageVersion');\n  const Handler = deep.idLocal(dc, 'Handler');\n  const TSX = deep.idLocal(dtsx, 'TSX');\n  const MenuAuth = deep.idLocal(dpl, 'MenuAuth');\n  const Stack = deep.idLocal(dpl, 'Stack');\n  const TreeLink = deep.idLocal(dpl, 'TreeLink');\n  const After = deep.idLocal(dpl, 'After');\n  const Compatable = deep.idLocal(dpl, 'Compatable');\n  const StackInsertButton = deep.idLocal(dpl, 'StackInsertButton');\n  const Install = deep.idLocal(dnpm, 'Install');\n  const PackageQuery = deep.idLocal(dc, 'PackageQuery');\n\n  const makeNpmPackagesUrl = (query) => {\n    const deepPackageKeyword = 'deep-package';\n    const textParameter = encodeURIComponent(`${query} keywords:${deepPackageKeyword}`);\n    return `https://registry.npmjs.com/-/v1/search?text=${textParameter}&size=250`;\n  };\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n  }, ref) => {\n    const containerRef = React.useMemo(() => go.root().ref, []);\n    const [opened, setOpened] = React.useState();\n\n    const disclosure = c.useDisclosure();\n    const [packageId, setPackageId] = React.useState();\n    React.useEffect(() => {\n      !disclosure.isOpen && setPackageId()\n    }, [disclosure.isOpen]);\n    React.useEffect(() => {\n      !!packageId && disclosure.onOpen();\n    }, [packageId]);\n\n    const Item = React.useCallback(({ link, isActive }) => {\n      const go = Go.useGo();\n      const [pckg] = deep.useLocalSubscription({ type_id: Package, string: link.name });\n      const version = pckg?.inByType?.[PackageVersion]?.[0];\n\n      const [install, setInstall] = React.useState(null);\n      const { data: [rejected] } = deep.useSubscription({\n        type_id: Rejected,\n        up: {\n          tree_id: promiseTree,\n          parent_id: install,\n        },\n      }, { skip: typeof(install) !== 'number' });\n  \n      return <c.Flex bg={isActive ? 'deepBgActive' : undefined} onClick={() => go.go.set(link.id)}>\n        <c.Box flex='1' p='0.25em' pl='1em' pr='1em' alignContent='center' minH='3em' fontSize='sm'>\n          <c.Box>{link.name} <c.Text fontSize='xs' opacity={0.5}>last version: {link.version}</c.Text></c.Box>\n          {!!pckg && <c.Box pt='0.25em'>\n            <c.Button rightIcon={<c.Circle size='1em' ml='0.25em' bg='deepBgActive'>🪬</c.Circle>}\n              size={'xs'} borderRadius='full' variant='solid' bg='deepBgDark'\n              onClick={() => setPackageId(pckg.id)}\n            >\n              {version?.value?.value}\n            </c.Button>\n          </c.Box>}\n        </c.Box>\n        <c.Box w='3em' p='0.5em 0.25em 0'>\n          <c.Progress size='xs' mb='0.2em' value={(link?.score?.detail?.popularity || 0) * 100} colorScheme='cyan' bg='transparent'/>\n          <c.Progress size='xs' mb='0.2em' value={(link?.score?.detail?.quality || 0) * 100} colorScheme='purple' bg='transparent'/>\n          <c.Progress size='xs' mb='0.2em' value={(link?.score?.detail?.maintenance || 0) * 100} colorScheme='red' bg='transparent'/>\n        </c.Box>\n        {pckg ? (<c.Button w='3em' h='100%' minH='3em' isDisabled color='deepColorActive'>\n          <BsCheck2/>\n        </c.Button>) : rejected ? (<c.Button w='3em' h='100%' minH='3em' onClick={() => go.do('open', { id: rejected.id })}>\n          🔴\n        </c.Button>) : (<c.Button w='3em' h='100%' minH='3em' isLoading={!!install} onClick={async () => {\n          setInstall(true);\n          const { data: [{ id }] } = await deep.insert({\n            type_id: Install,\n            from_id: deep.linkId,\n            to: {\n              type_id: PackageQuery,\n              string: link.name,\n            },\n            containerId: deep.linkId,\n          });\n          setInstall(id);\n        }}>\n          <MdOutlineVerticalAlignBottom/>\n        </c.Button>)}\n      </c.Flex>\n    }, []);\n\n    const [search, __setSearch] = React.useState('@deep-foundation/');\n    const [_search, _setSearch] = useDebounce('@deep-foundation/');\n    const setSearch = React.useCallback((value) => {\n      __setSearch(value);\n      _setSearch(value);\n    });\n\n    const [{ data, loading, error }, refetch] = useAxios(makeNpmPackagesUrl(_search), { manual: true });\n    React.useEffect(() => {\n      try { refetch(); } catch(e) {}\n    }, [_search]);\n\n    deep.useSubscription({\n      type_id: Package,\n      return: {\n        _version: { relation: 'in', type_id: PackageVersion },\n      },\n    });\n\n    const [mode, setMode] = React.useState('all');\n\n    const links = React.useMemo(() => {\n      const p = data?.objects?.[0];\n      if (!p) return [];\n      const links = data.objects.map(p => ({\n        id: `${p.package.name}@${p.package.version}`,\n        name: p.package.name,\n        version: p.package.version,\n        ...p,\n      }));\n      return mode === 'all' ? links : deep.ml.select({ type_id: Package }).map(l => ({\n        id: l?.id,\n        name: l?.value?.value,\n        version: l?.inByType?.[PackageVersion]?.[0]?.value?.value,\n      }));\n    }, [data, mode]);\n\n    return <go.On\n      do={{\n        focus: (g,v,id,o) => {\n          console.log('FOCUS', v, o, go.value);\n          if (!o.id && !go.value) go.set(Stack);\n        },\n        right: (g,v,o) => {\n          // mode[1](go.next(modes.map(m => ({ id: m })), mode[0]));\n        },\n        left: (g,v,o) => {\n          // modes[0] === mode[0]  ? go.set() : mode[1](go.prev(modes.map(m => ({ id: m })), mode[0]));\n        },\n        open: (g,v,o) => {\n          disclosure.onClose();\n          o?.id && go.go.do('open', o);\n        },\n      }}\n    >\n      {disclosure.isOpen && <go.Component provide path={[dpl, 'Finder']}\n        disclosure={disclosure} initialId={packageId} initialHandlerId={TreeLink}\n        onSubmit={((id) => go.do('open', { id }))}\n      />}\n      <c.Popover placement='right-end' closeOnBlur={false}\n        isOpen={!!go.value} onClose={() => go.set()}\n        onOpen={() => refetch()}\n      >\n        <c.PopoverTrigger>\n          <c.Button\n            ref={ref} w='3em' h='3em' variant={!!go.value || isActive ? 'active' : undefined}\n            onClick={() => go.value ? go.set() : go.set('current')}\n          >\n            <LuPackageSearch/>\n          </c.Button>\n        </c.PopoverTrigger>\n        <c.Portal containerRef={containerRef}>\n          <c.PopoverContent w='30em' maxH='30em' minH='30em' position='relative'>\n            <c.Flex direction='column' h='100%' maxH='100%' w='100%' position='absolute' left='0' top='0'>\n              <c.Flex>\n                <c.Input flex='1' w='100%' value={search} onChange={e => setSearch(e.target.value)}/>\n                <c.Button variant={mode === 'all' ? 'active' : undefined} onClick={() => setMode('all')}>all</c.Button>\n                <c.Button variant={mode === 'installed' ? 'active' : undefined} onClick={() => setMode('installed')}>installed</c.Button>\n              </c.Flex>\n              {search != _search || loading ? (\n                <c.Progress size='xs' isIndeterminate />\n              ) : (\n                <c.Box flex='1' css={go.noScrollBar} overflowY='scroll'>\n                  <go.Handler provide handlerId={Stack} links={links} Item={Item}/>\n                </c.Box>\n              )}\n            </c.Flex>\n          </c.PopoverContent>\n        </c.Portal>\n      </c.Popover>\n    </go.On>;\n  };\n}",
        "link_id": 2574
      }
    },
    {
      "id": 2575,
      "type_id": 3,
      "from_id": 948,
      "to_id": 2574,
      "value": {
        "id": 865,
        "value": "PackagerComponent",
        "link_id": 2575
      }
    },
    {
      "id": 2578,
      "type_id": 35,
      "from_id": 145,
      "to_id": 2574
    },
    {
      "id": 2579,
      "type_id": 3,
      "from_id": 948,
      "to_id": 2578,
      "value": {
        "id": 867,
        "value": "Packager",
        "link_id": 2579
      }
    },
    {
      "id": 2580,
      "type_id": 827,
      "from_id": 2578,
      "to_id": 852
    },
    {
      "id": 2581,
      "type_id": 3,
      "from_id": 948,
      "to_id": 2580,
      "value": {
        "id": 868,
        "value": "PackagerCompatableMenu",
        "link_id": 2581
      }
    },
    {
      "id": 2582,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 870,
        "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const { IoFingerPrintOutline } = require(\"react-icons/io5\");\n    const { LuPackageSearch } = require(\"react-icons/lu\");\n    const { BsCheck2 } = require(\"react-icons/bs\");\n    const { MdOutlineVerticalAlignBottom, MdOutlineVerticalAlignTop } = require(\"react-icons/md\");\n    const { useDebounce } = require('@react-hook/debounce');\n    const { makeUseAxios } = require(\"axios-hooks\");\n    const axios = require('axios');\n    const useAxios = makeUseAxios({ axios: axios.create() });\n    var dtsx = '@deep-foundation/tsx';\n    var dpl = '@deep-foundation/perception-links';\n    var dc = '@deep-foundation/core';\n    var dnpm = '@deep-foundation/npm-packager';\n    const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n    const Package = deep.idLocal(dc, 'Package');\n    const promiseTree = deep.idLocal(dc, 'promiseTree');\n    const Resolved = deep.idLocal(dc, 'Resolved');\n    const Rejected = deep.idLocal(dc, 'Rejected');\n    const PackageVersion = deep.idLocal(dc, 'PackageVersion');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const TSX = deep.idLocal(dtsx, 'TSX');\n    const MenuAuth = deep.idLocal(dpl, 'MenuAuth');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const After = deep.idLocal(dpl, 'After');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const StackInsertButton = deep.idLocal(dpl, 'StackInsertButton');\n    const Install = deep.idLocal(dnpm, 'Install');\n    const PackageQuery = deep.idLocal(dc, 'PackageQuery');\n    const makeNpmPackagesUrl = (query) => {\n        const deepPackageKeyword = 'deep-package';\n        const textParameter = encodeURIComponent(`${query} keywords:${deepPackageKeyword}`);\n        return `https://registry.npmjs.com/-/v1/search?text=${textParameter}&size=250`;\n    };\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, }, ref) => {\n        const containerRef = React.useMemo(() => go.root().ref, []);\n        const [opened, setOpened] = React.useState();\n        const disclosure = c.useDisclosure();\n        const [packageId, setPackageId] = React.useState();\n        React.useEffect(() => {\n            !disclosure.isOpen && setPackageId();\n        }, [disclosure.isOpen]);\n        React.useEffect(() => {\n            !!packageId && disclosure.onOpen();\n        }, [packageId]);\n        const Item = React.useCallback(({ link, isActive }) => {\n            const go = Go.useGo();\n            const [pckg] = deep.useLocalSubscription({ type_id: Package, string: link.name });\n            const version = pckg?.inByType?.[PackageVersion]?.[0];\n            const [install, setInstall] = React.useState(null);\n            const { data: [rejected] } = deep.useSubscription({\n                type_id: Rejected,\n                up: {\n                    tree_id: promiseTree,\n                    parent_id: install,\n                },\n            }, { skip: typeof (install) !== 'number' });\n            return React.createElement(c.Flex, { bg: isActive ? 'deepBgActive' : undefined, onClick: () => go.go.set(link.id) },\n                React.createElement(c.Box, { flex: '1', p: '0.25em', pl: '1em', pr: '1em', alignContent: 'center', minH: '3em', fontSize: 'sm' },\n                    React.createElement(c.Box, null,\n                        link.name,\n                        \" \",\n                        React.createElement(c.Text, { fontSize: 'xs', opacity: 0.5 },\n                            \"last version: \",\n                            link.version)),\n                    !!pckg && React.createElement(c.Box, { pt: '0.25em' },\n                        React.createElement(c.Button, { rightIcon: React.createElement(c.Circle, { size: '1em', ml: '0.25em', bg: 'deepBgActive' }, \"\\uD83E\\uDEAC\"), size: 'xs', borderRadius: 'full', variant: 'solid', bg: 'deepBgDark', onClick: () => setPackageId(pckg.id) }, version?.value?.value))),\n                React.createElement(c.Box, { w: '3em', p: '0.5em 0.25em 0' },\n                    React.createElement(c.Progress, { size: 'xs', mb: '0.2em', value: (link?.score?.detail?.popularity || 0) * 100, colorScheme: 'cyan', bg: 'transparent' }),\n                    React.createElement(c.Progress, { size: 'xs', mb: '0.2em', value: (link?.score?.detail?.quality || 0) * 100, colorScheme: 'purple', bg: 'transparent' }),\n                    React.createElement(c.Progress, { size: 'xs', mb: '0.2em', value: (link?.score?.detail?.maintenance || 0) * 100, colorScheme: 'red', bg: 'transparent' })),\n                pckg ? (React.createElement(c.Button, { w: '3em', h: '100%', minH: '3em', isDisabled: true, color: 'deepColorActive' },\n                    React.createElement(BsCheck2, null))) : rejected ? (React.createElement(c.Button, { w: '3em', h: '100%', minH: '3em', onClick: () => go.do('open', { id: rejected.id }) }, \"\\uD83D\\uDD34\")) : (React.createElement(c.Button, { w: '3em', h: '100%', minH: '3em', isLoading: !!install, onClick: async () => {\n                        setInstall(true);\n                        const { data: [{ id }] } = await deep.insert({\n                            type_id: Install,\n                            from_id: deep.linkId,\n                            to: {\n                                type_id: PackageQuery,\n                                string: link.name,\n                            },\n                            containerId: deep.linkId,\n                        });\n                        setInstall(id);\n                    } },\n                    React.createElement(MdOutlineVerticalAlignBottom, null))));\n        }, []);\n        const [search, __setSearch] = React.useState('@deep-foundation/');\n        const [_search, _setSearch] = useDebounce('@deep-foundation/');\n        const setSearch = React.useCallback((value) => {\n            __setSearch(value);\n            _setSearch(value);\n        });\n        const [{ data, loading, error }, refetch] = useAxios(makeNpmPackagesUrl(_search), { manual: true });\n        React.useEffect(() => {\n            try {\n                refetch();\n            }\n            catch (e) { }\n        }, [_search]);\n        deep.useSubscription({\n            type_id: Package,\n            return: {\n                _version: { relation: 'in', type_id: PackageVersion },\n            },\n        });\n        const [mode, setMode] = React.useState('all');\n        const links = React.useMemo(() => {\n            const p = data?.objects?.[0];\n            if (!p)\n                return [];\n            const links = data.objects.map(p => ({\n                id: `${p.package.name}@${p.package.version}`,\n                name: p.package.name,\n                version: p.package.version,\n                ...p,\n            }));\n            return mode === 'all' ? links : deep.ml.select({ type_id: Package }).map(l => ({\n                id: l?.id,\n                name: l?.value?.value,\n                version: l?.inByType?.[PackageVersion]?.[0]?.value?.value,\n            }));\n        }, [data, mode]);\n        return React.createElement(go.On, { do: {\n                focus: (g, v, id, o) => {\n                    console.log('FOCUS', v, o, go.value);\n                    if (!o.id && !go.value)\n                        go.set(Stack);\n                },\n                right: (g, v, o) => {\n                },\n                left: (g, v, o) => {\n                },\n                open: (g, v, o) => {\n                    disclosure.onClose();\n                    o?.id && go.go.do('open', o);\n                },\n            } },\n            disclosure.isOpen && React.createElement(go.Component, { provide: true, path: [dpl, 'Finder'], disclosure: disclosure, initialId: packageId, initialHandlerId: TreeLink, onSubmit: ((id) => go.do('open', { id })) }),\n            React.createElement(c.Popover, { placement: 'right-end', closeOnBlur: false, isOpen: !!go.value, onClose: () => go.set(), onOpen: () => refetch() },\n                React.createElement(c.PopoverTrigger, null,\n                    React.createElement(c.Button, { ref: ref, w: '3em', h: '3em', variant: !!go.value || isActive ? 'active' : undefined, onClick: () => go.value ? go.set() : go.set('current') },\n                        React.createElement(LuPackageSearch, null))),\n                React.createElement(c.Portal, { containerRef: containerRef },\n                    React.createElement(c.PopoverContent, { w: '30em', maxH: '30em', minH: '30em', position: 'relative' },\n                        React.createElement(c.Flex, { direction: 'column', h: '100%', maxH: '100%', w: '100%', position: 'absolute', left: '0', top: '0' },\n                            React.createElement(c.Flex, null,\n                                React.createElement(c.Input, { flex: '1', w: '100%', value: search, onChange: e => setSearch(e.target.value) }),\n                                React.createElement(c.Button, { variant: mode === 'all' ? 'active' : undefined, onClick: () => setMode('all') }, \"all\"),\n                                React.createElement(c.Button, { variant: mode === 'installed' ? 'active' : undefined, onClick: () => setMode('installed') }, \"installed\")),\n                            search != _search || loading ? (React.createElement(c.Progress, { size: 'xs', isIndeterminate: true })) : (React.createElement(c.Box, { flex: '1', css: go.noScrollBar, overflowY: 'scroll' },\n                                React.createElement(go.Handler, { provide: true, handlerId: Stack, links: links, Item: Item }))))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDNUQsTUFBTSxFQUFFLGVBQWUsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3RELE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUMvQyxNQUFNLEVBQUUsNEJBQTRCLEVBQUUseUJBQXlCLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUU5RixNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFFeEQsTUFBTSxFQUFFLFlBQVksRUFBRSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNoRCxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxRQUFRLEdBQUcsWUFBWSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFekQsSUFBSSxJQUFJLEdBQUcsc0JBQXNCLENBQUM7SUFDbEMsSUFBSSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDOUMsSUFBSSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDakMsSUFBSSxJQUFJLEdBQUcsK0JBQStCLENBQUM7SUFFM0MsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0lBQzlELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3BELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQzlDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQzlDLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDMUQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEMsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDL0MsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDekMsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDL0MsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDekMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDbkQsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0lBQ2pFLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzlDLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBRXRELE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUNuQyxNQUFNLGtCQUFrQixHQUFHLGNBQWMsQ0FBQztRQUMxQyxNQUFNLGFBQWEsR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLEtBQUssYUFBYSxrQkFBa0IsRUFBRSxDQUFDLENBQUM7UUFDcEYsT0FBTywrQ0FBK0MsYUFBYSxXQUFXLENBQUM7SUFDakYsQ0FBQyxDQUFDO0lBRUYsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUNGLFNBQVMsRUFFVCxTQUFTLEVBQ1QsU0FBUyxFQUVULE1BQU0sRUFDTixJQUFJLEVBRUosUUFBUSxFQUVSLFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzVELE1BQU0sQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBRTdDLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNyQyxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNuRCxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtZQUNuQixDQUFDLFVBQVUsQ0FBQyxNQUFNLElBQUksWUFBWSxFQUFFLENBQUE7UUFDdEMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDeEIsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7WUFDbkIsQ0FBQyxDQUFDLFNBQVMsSUFBSSxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDckMsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUVoQixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRTtZQUNwRCxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1lBQ2xGLE1BQU0sT0FBTyxHQUFHLElBQUksRUFBRSxRQUFRLEVBQUUsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXRELE1BQU0sQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuRCxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO2dCQUNoRCxPQUFPLEVBQUUsUUFBUTtnQkFDakIsRUFBRSxFQUFFO29CQUNGLE9BQU8sRUFBRSxXQUFXO29CQUNwQixTQUFTLEVBQUUsT0FBTztpQkFDbkI7YUFDRixFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBRTNDLE9BQU8sb0JBQUMsQ0FBQyxDQUFDLElBQUksSUFBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztnQkFDekYsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsS0FBSyxFQUFDLFlBQVksRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxRQUFRLEVBQUMsSUFBSTtvQkFDekYsb0JBQUMsQ0FBQyxDQUFDLEdBQUc7d0JBQUUsSUFBSSxDQUFDLElBQUk7O3dCQUFFLG9CQUFDLENBQUMsQ0FBQyxJQUFJLElBQUMsUUFBUSxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUUsR0FBRzs7NEJBQWlCLElBQUksQ0FBQyxPQUFPLENBQVUsQ0FBUTtvQkFDbkcsQ0FBQyxDQUFDLElBQUksSUFBSSxvQkFBQyxDQUFDLENBQUMsR0FBRyxJQUFDLEVBQUUsRUFBQyxRQUFRO3dCQUMzQixvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLFNBQVMsRUFBRSxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsY0FBYyxtQkFBYyxFQUNuRixJQUFJLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsWUFBWSxFQUMvRCxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFFbkMsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQ2IsQ0FDTCxDQUNGO2dCQUNSLG9CQUFDLENBQUMsQ0FBQyxHQUFHLElBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsZ0JBQWdCO29CQUMvQixvQkFBQyxDQUFDLENBQUMsUUFBUSxJQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxVQUFVLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLFdBQVcsRUFBQyxNQUFNLEVBQUMsRUFBRSxFQUFDLGFBQWEsR0FBRTtvQkFDM0gsb0JBQUMsQ0FBQyxDQUFDLFFBQVEsSUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsT0FBTyxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxXQUFXLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxhQUFhLEdBQUU7b0JBQzFILG9CQUFDLENBQUMsQ0FBQyxRQUFRLElBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLEtBQUssRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFdBQVcsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsV0FBVyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsYUFBYSxHQUFFLENBQ3JIO2dCQUNQLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLFVBQVUsUUFBQyxLQUFLLEVBQUMsaUJBQWlCO29CQUMvRSxvQkFBQyxRQUFRLE9BQUUsQ0FDRixDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUMsbUJBRXZHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLElBQUksRUFBRTt3QkFDOUYsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUNqQixNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDOzRCQUMzQyxPQUFPLEVBQUUsT0FBTzs0QkFDaEIsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNOzRCQUNwQixFQUFFLEVBQUU7Z0NBQ0YsT0FBTyxFQUFFLFlBQVk7Z0NBQ3JCLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSTs2QkFDbEI7NEJBQ0QsV0FBVyxFQUFFLElBQUksQ0FBQyxNQUFNO3lCQUN6QixDQUFDLENBQUM7d0JBQ0gsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUNqQixDQUFDO29CQUNDLG9CQUFDLDRCQUE0QixPQUFFLENBQ3RCLENBQUMsQ0FDTCxDQUFBO1FBQ1gsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRVAsTUFBTSxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDbEUsTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsR0FBRyxXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUMvRCxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDNUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25CLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwQixDQUFDLENBQUMsQ0FBQztRQUVILE1BQU0sQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEVBQUUsT0FBTyxDQUFDLEdBQUcsUUFBUSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7UUFDcEcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7WUFDbkIsSUFBSSxDQUFDO2dCQUFDLE9BQU8sRUFBRSxDQUFDO1lBQUMsQ0FBQztZQUFDLE9BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQSxDQUFDO1FBQ2hDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFFZCxJQUFJLENBQUMsZUFBZSxDQUFDO1lBQ25CLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLE1BQU0sRUFBRTtnQkFDTixRQUFRLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUU7YUFDdEQ7U0FDRixDQUFDLENBQUM7UUFFSCxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFOUMsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7WUFDL0IsTUFBTSxDQUFDLEdBQUcsSUFBSSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdCLElBQUksQ0FBQyxDQUFDO2dCQUFFLE9BQU8sRUFBRSxDQUFDO1lBQ2xCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDbkMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQzVDLElBQUksRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUk7Z0JBQ3BCLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU87Z0JBQzFCLEdBQUcsQ0FBQzthQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ0osT0FBTyxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDN0UsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNULElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUs7Z0JBQ3JCLE9BQU8sRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSzthQUMxRCxDQUFDLENBQUMsQ0FBQztRQUNOLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRWpCLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFDWCxFQUFFLEVBQUU7Z0JBQ0YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNyQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLO3dCQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3hDLENBQUM7Z0JBQ0QsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRTtnQkFFakIsQ0FBQztnQkFDRCxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFO2dCQUVoQixDQUFDO2dCQUNELElBQUksRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ2QsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO29CQUNyQixDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDL0IsQ0FBQzthQUNGO1lBRUEsVUFBVSxDQUFDLE1BQU0sSUFBSSxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQy9ELFVBQVUsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQ3hFLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FDekM7WUFDRixvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLFNBQVMsRUFBQyxXQUFXLEVBQUMsV0FBVyxFQUFFLEtBQUssRUFDakQsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQzNDLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUU7Z0JBRXZCLG9CQUFDLENBQUMsQ0FBQyxjQUFjO29CQUNmLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQ2hGLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDO3dCQUV0RCxvQkFBQyxlQUFlLE9BQUUsQ0FDVCxDQUNNO2dCQUNuQixvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLFlBQVksRUFBRSxZQUFZO29CQUNsQyxvQkFBQyxDQUFDLENBQUMsY0FBYyxJQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsSUFBSSxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxVQUFVO3dCQUNwRSxvQkFBQyxDQUFDLENBQUMsSUFBSSxJQUFDLFNBQVMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHOzRCQUMzRixvQkFBQyxDQUFDLENBQUMsSUFBSTtnQ0FDTCxvQkFBQyxDQUFDLENBQUMsS0FBSyxJQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHO2dDQUNyRixvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLE9BQU8sRUFBRSxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFnQjtnQ0FDdkcsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUUsSUFBSSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsZ0JBQXNCLENBQ2xIOzRCQUNSLE1BQU0sSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUM5QixvQkFBQyxDQUFDLENBQUMsUUFBUSxJQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsZUFBZSxTQUFHLENBQ3pDLENBQUMsQ0FBQyxDQUFDLENBQ0Ysb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsV0FBVyxFQUFFLFNBQVMsRUFBQyxRQUFRO2dDQUNyRCxvQkFBQyxFQUFFLENBQUMsT0FBTyxJQUFDLE9BQU8sUUFBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksR0FBRyxDQUMzRCxDQUNULENBQ00sQ0FDUSxDQUNWLENBQ0QsQ0FDTixDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCB7IElvRmluZ2VyUHJpbnRPdXRsaW5lIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvaW81XCIpO1xuICBjb25zdCB7IEx1UGFja2FnZVNlYXJjaCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2x1XCIpO1xuICBjb25zdCB7IEJzQ2hlY2syIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvYnNcIik7XG4gIGNvbnN0IHsgTWRPdXRsaW5lVmVydGljYWxBbGlnbkJvdHRvbSwgTWRPdXRsaW5lVmVydGljYWxBbGlnblRvcCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL21kXCIpO1xuXG4gIGNvbnN0IHsgdXNlRGVib3VuY2UgfSA9IHJlcXVpcmUoJ0ByZWFjdC1ob29rL2RlYm91bmNlJyk7XG4gIFxuICBjb25zdCB7IG1ha2VVc2VBeGlvcyB9ID0gcmVxdWlyZShcImF4aW9zLWhvb2tzXCIpO1xuICBjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XG4gIGNvbnN0IHVzZUF4aW9zID0gbWFrZVVzZUF4aW9zKHsgYXhpb3M6IGF4aW9zLmNyZWF0ZSgpIH0pO1xuXG4gIHZhciBkdHN4ID0gJ0BkZWVwLWZvdW5kYXRpb24vdHN4JztcbiAgdmFyIGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICB2YXIgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgdmFyIGRucG0gPSAnQGRlZXAtZm91bmRhdGlvbi9ucG0tcGFja2FnZXInO1xuXG4gIGNvbnN0IGNsaWVudFN1cHBvcnRzSnMgPSBkZWVwLmlkTG9jYWwoZGMsICdjbGllbnRTdXBwb3J0c0pzJyk7XG4gIGNvbnN0IFBhY2thZ2UgPSBkZWVwLmlkTG9jYWwoZGMsICdQYWNrYWdlJyk7XG4gIGNvbnN0IHByb21pc2VUcmVlID0gZGVlcC5pZExvY2FsKGRjLCAncHJvbWlzZVRyZWUnKTtcbiAgY29uc3QgUmVzb2x2ZWQgPSBkZWVwLmlkTG9jYWwoZGMsICdSZXNvbHZlZCcpO1xuICBjb25zdCBSZWplY3RlZCA9IGRlZXAuaWRMb2NhbChkYywgJ1JlamVjdGVkJyk7XG4gIGNvbnN0IFBhY2thZ2VWZXJzaW9uID0gZGVlcC5pZExvY2FsKGRjLCAnUGFja2FnZVZlcnNpb24nKTtcbiAgY29uc3QgSGFuZGxlciA9IGRlZXAuaWRMb2NhbChkYywgJ0hhbmRsZXInKTtcbiAgY29uc3QgVFNYID0gZGVlcC5pZExvY2FsKGR0c3gsICdUU1gnKTtcbiAgY29uc3QgTWVudUF1dGggPSBkZWVwLmlkTG9jYWwoZHBsLCAnTWVudUF1dGgnKTtcbiAgY29uc3QgU3RhY2sgPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2snKTtcbiAgY29uc3QgVHJlZUxpbmsgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmsnKTtcbiAgY29uc3QgQWZ0ZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQWZ0ZXInKTtcbiAgY29uc3QgQ29tcGF0YWJsZSA9IGRlZXAuaWRMb2NhbChkcGwsICdDb21wYXRhYmxlJyk7XG4gIGNvbnN0IFN0YWNrSW5zZXJ0QnV0dG9uID0gZGVlcC5pZExvY2FsKGRwbCwgJ1N0YWNrSW5zZXJ0QnV0dG9uJyk7XG4gIGNvbnN0IEluc3RhbGwgPSBkZWVwLmlkTG9jYWwoZG5wbSwgJ0luc3RhbGwnKTtcbiAgY29uc3QgUGFja2FnZVF1ZXJ5ID0gZGVlcC5pZExvY2FsKGRjLCAnUGFja2FnZVF1ZXJ5Jyk7XG5cbiAgY29uc3QgbWFrZU5wbVBhY2thZ2VzVXJsID0gKHF1ZXJ5KSA9PiB7XG4gICAgY29uc3QgZGVlcFBhY2thZ2VLZXl3b3JkID0gJ2RlZXAtcGFja2FnZSc7XG4gICAgY29uc3QgdGV4dFBhcmFtZXRlciA9IGVuY29kZVVSSUNvbXBvbmVudChgJHtxdWVyeX0ga2V5d29yZHM6JHtkZWVwUGFja2FnZUtleXdvcmR9YCk7XG4gICAgcmV0dXJuIGBodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLmNvbS8tL3YxL3NlYXJjaD90ZXh0PSR7dGV4dFBhcmFtZXRlcn0mc2l6ZT0yNTBgO1xuICB9O1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gZ28ucm9vdCgpLnJlZiwgW10pO1xuICAgIGNvbnN0IFtvcGVuZWQsIHNldE9wZW5lZF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuXG4gICAgY29uc3QgZGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IFtwYWNrYWdlSWQsIHNldFBhY2thZ2VJZF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAhZGlzY2xvc3VyZS5pc09wZW4gJiYgc2V0UGFja2FnZUlkKClcbiAgICB9LCBbZGlzY2xvc3VyZS5pc09wZW5dKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgISFwYWNrYWdlSWQgJiYgZGlzY2xvc3VyZS5vbk9wZW4oKTtcbiAgICB9LCBbcGFja2FnZUlkXSk7XG5cbiAgICBjb25zdCBJdGVtID0gUmVhY3QudXNlQ2FsbGJhY2soKHsgbGluaywgaXNBY3RpdmUgfSkgPT4ge1xuICAgICAgY29uc3QgZ28gPSBHby51c2VHbygpO1xuICAgICAgY29uc3QgW3Bja2ddID0gZGVlcC51c2VMb2NhbFN1YnNjcmlwdGlvbih7IHR5cGVfaWQ6IFBhY2thZ2UsIHN0cmluZzogbGluay5uYW1lIH0pO1xuICAgICAgY29uc3QgdmVyc2lvbiA9IHBja2c/LmluQnlUeXBlPy5bUGFja2FnZVZlcnNpb25dPy5bMF07XG5cbiAgICAgIGNvbnN0IFtpbnN0YWxsLCBzZXRJbnN0YWxsXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICAgICAgY29uc3QgeyBkYXRhOiBbcmVqZWN0ZWRdIH0gPSBkZWVwLnVzZVN1YnNjcmlwdGlvbih7XG4gICAgICAgIHR5cGVfaWQ6IFJlamVjdGVkLFxuICAgICAgICB1cDoge1xuICAgICAgICAgIHRyZWVfaWQ6IHByb21pc2VUcmVlLFxuICAgICAgICAgIHBhcmVudF9pZDogaW5zdGFsbCxcbiAgICAgICAgfSxcbiAgICAgIH0sIHsgc2tpcDogdHlwZW9mKGluc3RhbGwpICE9PSAnbnVtYmVyJyB9KTtcbiAgXG4gICAgICByZXR1cm4gPGMuRmxleCBiZz17aXNBY3RpdmUgPyAnZGVlcEJnQWN0aXZlJyA6IHVuZGVmaW5lZH0gb25DbGljaz17KCkgPT4gZ28uZ28uc2V0KGxpbmsuaWQpfT5cbiAgICAgICAgPGMuQm94IGZsZXg9JzEnIHA9JzAuMjVlbScgcGw9JzFlbScgcHI9JzFlbScgYWxpZ25Db250ZW50PSdjZW50ZXInIG1pbkg9JzNlbScgZm9udFNpemU9J3NtJz5cbiAgICAgICAgICA8Yy5Cb3g+e2xpbmsubmFtZX0gPGMuVGV4dCBmb250U2l6ZT0neHMnIG9wYWNpdHk9ezAuNX0+bGFzdCB2ZXJzaW9uOiB7bGluay52ZXJzaW9ufTwvYy5UZXh0PjwvYy5Cb3g+XG4gICAgICAgICAgeyEhcGNrZyAmJiA8Yy5Cb3ggcHQ9JzAuMjVlbSc+XG4gICAgICAgICAgICA8Yy5CdXR0b24gcmlnaHRJY29uPXs8Yy5DaXJjbGUgc2l6ZT0nMWVtJyBtbD0nMC4yNWVtJyBiZz0nZGVlcEJnQWN0aXZlJz7wn6qsPC9jLkNpcmNsZT59XG4gICAgICAgICAgICAgIHNpemU9eyd4cyd9IGJvcmRlclJhZGl1cz0nZnVsbCcgdmFyaWFudD0nc29saWQnIGJnPSdkZWVwQmdEYXJrJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRQYWNrYWdlSWQocGNrZy5pZCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt2ZXJzaW9uPy52YWx1ZT8udmFsdWV9XG4gICAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICAgIDwvYy5Cb3g+fVxuICAgICAgICA8L2MuQm94PlxuICAgICAgICA8Yy5Cb3ggdz0nM2VtJyBwPScwLjVlbSAwLjI1ZW0gMCc+XG4gICAgICAgICAgPGMuUHJvZ3Jlc3Mgc2l6ZT0neHMnIG1iPScwLjJlbScgdmFsdWU9eyhsaW5rPy5zY29yZT8uZGV0YWlsPy5wb3B1bGFyaXR5IHx8IDApICogMTAwfSBjb2xvclNjaGVtZT0nY3lhbicgYmc9J3RyYW5zcGFyZW50Jy8+XG4gICAgICAgICAgPGMuUHJvZ3Jlc3Mgc2l6ZT0neHMnIG1iPScwLjJlbScgdmFsdWU9eyhsaW5rPy5zY29yZT8uZGV0YWlsPy5xdWFsaXR5IHx8IDApICogMTAwfSBjb2xvclNjaGVtZT0ncHVycGxlJyBiZz0ndHJhbnNwYXJlbnQnLz5cbiAgICAgICAgICA8Yy5Qcm9ncmVzcyBzaXplPSd4cycgbWI9JzAuMmVtJyB2YWx1ZT17KGxpbms/LnNjb3JlPy5kZXRhaWw/Lm1haW50ZW5hbmNlIHx8IDApICogMTAwfSBjb2xvclNjaGVtZT0ncmVkJyBiZz0ndHJhbnNwYXJlbnQnLz5cbiAgICAgICAgPC9jLkJveD5cbiAgICAgICAge3Bja2cgPyAoPGMuQnV0dG9uIHc9JzNlbScgaD0nMTAwJScgbWluSD0nM2VtJyBpc0Rpc2FibGVkIGNvbG9yPSdkZWVwQ29sb3JBY3RpdmUnPlxuICAgICAgICAgIDxCc0NoZWNrMi8+XG4gICAgICAgIDwvYy5CdXR0b24+KSA6IHJlamVjdGVkID8gKDxjLkJ1dHRvbiB3PSczZW0nIGg9JzEwMCUnIG1pbkg9JzNlbScgb25DbGljaz17KCkgPT4gZ28uZG8oJ29wZW4nLCB7IGlkOiByZWplY3RlZC5pZCB9KX0+XG4gICAgICAgICAg8J+UtFxuICAgICAgICA8L2MuQnV0dG9uPikgOiAoPGMuQnV0dG9uIHc9JzNlbScgaD0nMTAwJScgbWluSD0nM2VtJyBpc0xvYWRpbmc9eyEhaW5zdGFsbH0gb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHNldEluc3RhbGwodHJ1ZSk7XG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBbeyBpZCB9XSB9ID0gYXdhaXQgZGVlcC5pbnNlcnQoe1xuICAgICAgICAgICAgdHlwZV9pZDogSW5zdGFsbCxcbiAgICAgICAgICAgIGZyb21faWQ6IGRlZXAubGlua0lkLFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgdHlwZV9pZDogUGFja2FnZVF1ZXJ5LFxuICAgICAgICAgICAgICBzdHJpbmc6IGxpbmsubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250YWluZXJJZDogZGVlcC5saW5rSWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0SW5zdGFsbChpZCk7XG4gICAgICAgIH19PlxuICAgICAgICAgIDxNZE91dGxpbmVWZXJ0aWNhbEFsaWduQm90dG9tLz5cbiAgICAgICAgPC9jLkJ1dHRvbj4pfVxuICAgICAgPC9jLkZsZXg+XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgW3NlYXJjaCwgX19zZXRTZWFyY2hdID0gUmVhY3QudXNlU3RhdGUoJ0BkZWVwLWZvdW5kYXRpb24vJyk7XG4gICAgY29uc3QgW19zZWFyY2gsIF9zZXRTZWFyY2hdID0gdXNlRGVib3VuY2UoJ0BkZWVwLWZvdW5kYXRpb24vJyk7XG4gICAgY29uc3Qgc2V0U2VhcmNoID0gUmVhY3QudXNlQ2FsbGJhY2soKHZhbHVlKSA9PiB7XG4gICAgICBfX3NldFNlYXJjaCh2YWx1ZSk7XG4gICAgICBfc2V0U2VhcmNoKHZhbHVlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IFt7IGRhdGEsIGxvYWRpbmcsIGVycm9yIH0sIHJlZmV0Y2hdID0gdXNlQXhpb3MobWFrZU5wbVBhY2thZ2VzVXJsKF9zZWFyY2gpLCB7IG1hbnVhbDogdHJ1ZSB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgdHJ5IHsgcmVmZXRjaCgpOyB9IGNhdGNoKGUpIHt9XG4gICAgfSwgW19zZWFyY2hdKTtcblxuICAgIGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IFBhY2thZ2UsXG4gICAgICByZXR1cm46IHtcbiAgICAgICAgX3ZlcnNpb246IHsgcmVsYXRpb246ICdpbicsIHR5cGVfaWQ6IFBhY2thZ2VWZXJzaW9uIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgW21vZGUsIHNldE1vZGVdID0gUmVhY3QudXNlU3RhdGUoJ2FsbCcpO1xuXG4gICAgY29uc3QgbGlua3MgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGNvbnN0IHAgPSBkYXRhPy5vYmplY3RzPy5bMF07XG4gICAgICBpZiAoIXApIHJldHVybiBbXTtcbiAgICAgIGNvbnN0IGxpbmtzID0gZGF0YS5vYmplY3RzLm1hcChwID0+ICh7XG4gICAgICAgIGlkOiBgJHtwLnBhY2thZ2UubmFtZX1AJHtwLnBhY2thZ2UudmVyc2lvbn1gLFxuICAgICAgICBuYW1lOiBwLnBhY2thZ2UubmFtZSxcbiAgICAgICAgdmVyc2lvbjogcC5wYWNrYWdlLnZlcnNpb24sXG4gICAgICAgIC4uLnAsXG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gbW9kZSA9PT0gJ2FsbCcgPyBsaW5rcyA6IGRlZXAubWwuc2VsZWN0KHsgdHlwZV9pZDogUGFja2FnZSB9KS5tYXAobCA9PiAoe1xuICAgICAgICBpZDogbD8uaWQsXG4gICAgICAgIG5hbWU6IGw/LnZhbHVlPy52YWx1ZSxcbiAgICAgICAgdmVyc2lvbjogbD8uaW5CeVR5cGU/LltQYWNrYWdlVmVyc2lvbl0/LlswXT8udmFsdWU/LnZhbHVlLFxuICAgICAgfSkpO1xuICAgIH0sIFtkYXRhLCBtb2RlXSk7XG5cbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgICBmb2N1czogKGcsdixpZCxvKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0ZPQ1VTJywgdiwgbywgZ28udmFsdWUpO1xuICAgICAgICAgIGlmICghby5pZCAmJiAhZ28udmFsdWUpIGdvLnNldChTdGFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IHtcbiAgICAgICAgICAvLyBtb2RlWzFdKGdvLm5leHQobW9kZXMubWFwKG0gPT4gKHsgaWQ6IG0gfSkpLCBtb2RlWzBdKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGxlZnQ6IChnLHYsbykgPT4ge1xuICAgICAgICAgIC8vIG1vZGVzWzBdID09PSBtb2RlWzBdICA/IGdvLnNldCgpIDogbW9kZVsxXShnby5wcmV2KG1vZGVzLm1hcChtID0+ICh7IGlkOiBtIH0pKSwgbW9kZVswXSkpO1xuICAgICAgICB9LFxuICAgICAgICBvcGVuOiAoZyx2LG8pID0+IHtcbiAgICAgICAgICBkaXNjbG9zdXJlLm9uQ2xvc2UoKTtcbiAgICAgICAgICBvPy5pZCAmJiBnby5nby5kbygnb3BlbicsIG8pO1xuICAgICAgICB9LFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7ZGlzY2xvc3VyZS5pc09wZW4gJiYgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcGwsICdGaW5kZXInXX1cbiAgICAgICAgZGlzY2xvc3VyZT17ZGlzY2xvc3VyZX0gaW5pdGlhbElkPXtwYWNrYWdlSWR9IGluaXRpYWxIYW5kbGVySWQ9e1RyZWVMaW5rfVxuICAgICAgICBvblN1Ym1pdD17KChpZCkgPT4gZ28uZG8oJ29wZW4nLCB7IGlkIH0pKX1cbiAgICAgIC8+fVxuICAgICAgPGMuUG9wb3ZlciBwbGFjZW1lbnQ9J3JpZ2h0LWVuZCcgY2xvc2VPbkJsdXI9e2ZhbHNlfVxuICAgICAgICBpc09wZW49eyEhZ28udmFsdWV9IG9uQ2xvc2U9eygpID0+IGdvLnNldCgpfVxuICAgICAgICBvbk9wZW49eygpID0+IHJlZmV0Y2goKX1cbiAgICAgID5cbiAgICAgICAgPGMuUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICByZWY9e3JlZn0gdz0nM2VtJyBoPSczZW0nIHZhcmlhbnQ9eyEhZ28udmFsdWUgfHwgaXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLnZhbHVlID8gZ28uc2V0KCkgOiBnby5zZXQoJ2N1cnJlbnQnKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8THVQYWNrYWdlU2VhcmNoLz5cbiAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICA8L2MuUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgIDxjLlBvcnRhbCBjb250YWluZXJSZWY9e2NvbnRhaW5lclJlZn0+XG4gICAgICAgICAgPGMuUG9wb3ZlckNvbnRlbnQgdz0nMzBlbScgbWF4SD0nMzBlbScgbWluSD0nMzBlbScgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICAgIDxjLkZsZXggZGlyZWN0aW9uPSdjb2x1bW4nIGg9JzEwMCUnIG1heEg9JzEwMCUnIHc9JzEwMCUnIHBvc2l0aW9uPSdhYnNvbHV0ZScgbGVmdD0nMCcgdG9wPScwJz5cbiAgICAgICAgICAgICAgPGMuRmxleD5cbiAgICAgICAgICAgICAgICA8Yy5JbnB1dCBmbGV4PScxJyB3PScxMDAlJyB2YWx1ZT17c2VhcmNofSBvbkNoYW5nZT17ZSA9PiBzZXRTZWFyY2goZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICAgICAgPGMuQnV0dG9uIHZhcmlhbnQ9e21vZGUgPT09ICdhbGwnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IHNldE1vZGUoJ2FsbCcpfT5hbGw8L2MuQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxjLkJ1dHRvbiB2YXJpYW50PXttb2RlID09PSAnaW5zdGFsbGVkJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBvbkNsaWNrPXsoKSA9PiBzZXRNb2RlKCdpbnN0YWxsZWQnKX0+aW5zdGFsbGVkPC9jLkJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9jLkZsZXg+XG4gICAgICAgICAgICAgIHtzZWFyY2ggIT0gX3NlYXJjaCB8fCBsb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgIDxjLlByb2dyZXNzIHNpemU9J3hzJyBpc0luZGV0ZXJtaW5hdGUgLz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8Yy5Cb3ggZmxleD0nMScgY3NzPXtnby5ub1Njcm9sbEJhcn0gb3ZlcmZsb3dZPSdzY3JvbGwnPlxuICAgICAgICAgICAgICAgICAgPGdvLkhhbmRsZXIgcHJvdmlkZSBoYW5kbGVySWQ9e1N0YWNrfSBsaW5rcz17bGlua3N9IEl0ZW09e0l0ZW19Lz5cbiAgICAgICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9jLkZsZXg+XG4gICAgICAgICAgPC9jLlBvcG92ZXJDb250ZW50PlxuICAgICAgICA8L2MuUG9ydGFsPlxuICAgICAgPC9jLlBvcG92ZXI+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
        "link_id": 2582
      }
    },
    {
      "id": 2583,
      "type_id": 3,
      "from_id": 2574,
      "to_id": 2582,
      "value": {
        "id": 869,
        "value": "generated",
        "link_id": 2583
      }
    },
    {
      "id": 2584,
      "type_id": 143,
      "from_id": 2582,
      "to_id": 2574
    },
    {
      "id": 2585,
      "type_id": 3,
      "from_id": 2574,
      "to_id": 2584
    },
    {
      "id": 3100,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 877,
        "value": "({ deep, require }) => {\n    const React = require('react');\n    const { useState } = React;\n    const { useColorModeValue } = require('@chakra-ui/react');\n    const { Resize, DeepWysiwyg, useStringSaver } = require('@deep-foundation/deepcase');\n     \n    // Only objects editor.\n    return ({ fillSize, link, ml, ...props }) => {\n      const [viewSize, setViewSize] = useState({width: 300, height: 300});\n\n      const { value, setValue, onFocusChanged } = useStringSaver(link);\n\n      const bgColor = useColorModeValue('white', '#111720');\n      const borderColor = useColorModeValue('#d2cece', '#718096');\n    \n      const body = <DeepWysiwyg\n        fillSize={fillSize}\n        backgroundColorEditor={bgColor}\n        borderColorEditor={borderColor}\n        value={value}\n        onFocusChanged={onFocusChanged}\n        onChange={({ value }) => {\n          setValue(value);\n        }}\n        {...props}\n      />; \n\n      return (<>\n        {fillSize \n        ? body \n        : <Resize\n            onChangeSize={(viewSize) => setViewSize(viewSize)} \n            style={{\n            borderRadius: 5,\n            border: 'none', \n          }}\n        >{body}</Resize>}\n      </>);\n    }\n  }\n\n",
        "link_id": 3100
      }
    },
    {
      "id": 3119,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 879,
        "value": "({ deep, require }) => {\n    const React = require('react');\n    const { useState } = React;\n    const { useColorModeValue } = require('@chakra-ui/react');\n    const { Resize, DeepWysiwyg, useStringSaver } = require('@deep-foundation/deepcase');\n    return ({ fillSize, link, ml, ...props }) => {\n        const [viewSize, setViewSize] = useState({ width: 300, height: 300 });\n        const { value, setValue, onFocusChanged } = useStringSaver(link);\n        const bgColor = useColorModeValue('white', '#111720');\n        const borderColor = useColorModeValue('#d2cece', '#718096');\n        const body = React.createElement(DeepWysiwyg, { fillSize: fillSize, backgroundColorEditor: bgColor, borderColorEditor: borderColor, value: value, onFocusChanged: onFocusChanged, onChange: ({ value }) => {\n                setValue(value);\n            }, ...props });\n        return (React.createElement(React.Fragment, null, fillSize\n            ? body\n            : React.createElement(Resize, { onChangeSize: (viewSize) => setViewSize(viewSize), style: {\n                    borderRadius: 5,\n                    border: 'none',\n                } }, body)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDbEIsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDM0IsTUFBTSxFQUFFLGlCQUFpQixFQUFFLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDMUQsTUFBTSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUM7SUFHckYsT0FBTyxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFBRSxFQUFFO1FBQzFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLEdBQUcsUUFBUSxDQUFDLEVBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFDLENBQUMsQ0FBQztRQUVwRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxjQUFjLEVBQUUsR0FBRyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFakUsTUFBTSxPQUFPLEdBQUcsaUJBQWlCLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sV0FBVyxHQUFHLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUU1RCxNQUFNLElBQUksR0FBRyxvQkFBQyxXQUFXLElBQ3ZCLFFBQVEsRUFBRSxRQUFRLEVBQ2xCLHFCQUFxQixFQUFFLE9BQU8sRUFDOUIsaUJBQWlCLEVBQUUsV0FBVyxFQUM5QixLQUFLLEVBQUUsS0FBSyxFQUNaLGNBQWMsRUFBRSxjQUFjLEVBQzlCLFFBQVEsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtnQkFDdEIsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2xCLENBQUMsS0FDRyxLQUFLLEdBQ1QsQ0FBQztRQUVILE9BQU8sQ0FBQywwQ0FDTCxRQUFRO1lBQ1QsQ0FBQyxDQUFDLElBQUk7WUFDTixDQUFDLENBQUMsb0JBQUMsTUFBTSxJQUNMLFlBQVksRUFBRSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxFQUNqRCxLQUFLLEVBQUU7b0JBQ1AsWUFBWSxFQUFFLENBQUM7b0JBQ2YsTUFBTSxFQUFFLE1BQU07aUJBQ2YsSUFDRCxJQUFJLENBQVUsQ0FDZixDQUFDLENBQUM7SUFDUCxDQUFDLENBQUE7QUFDSCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCByZXF1aXJlIH0pID0+IHtcbiAgICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gICAgY29uc3QgeyB1c2VTdGF0ZSB9ID0gUmVhY3Q7XG4gICAgY29uc3QgeyB1c2VDb2xvck1vZGVWYWx1ZSB9ID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICAgIGNvbnN0IHsgUmVzaXplLCBEZWVwV3lzaXd5ZywgdXNlU3RyaW5nU2F2ZXIgfSA9IHJlcXVpcmUoJ0BkZWVwLWZvdW5kYXRpb24vZGVlcGNhc2UnKTtcbiAgICAgXG4gICAgLy8gT25seSBvYmplY3RzIGVkaXRvci5cbiAgICByZXR1cm4gKHsgZmlsbFNpemUsIGxpbmssIG1sLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgICBjb25zdCBbdmlld1NpemUsIHNldFZpZXdTaXplXSA9IHVzZVN0YXRlKHt3aWR0aDogMzAwLCBoZWlnaHQ6IDMwMH0pO1xuXG4gICAgICBjb25zdCB7IHZhbHVlLCBzZXRWYWx1ZSwgb25Gb2N1c0NoYW5nZWQgfSA9IHVzZVN0cmluZ1NhdmVyKGxpbmspO1xuXG4gICAgICBjb25zdCBiZ0NvbG9yID0gdXNlQ29sb3JNb2RlVmFsdWUoJ3doaXRlJywgJyMxMTE3MjAnKTtcbiAgICAgIGNvbnN0IGJvcmRlckNvbG9yID0gdXNlQ29sb3JNb2RlVmFsdWUoJyNkMmNlY2UnLCAnIzcxODA5NicpO1xuICAgIFxuICAgICAgY29uc3QgYm9keSA9IDxEZWVwV3lzaXd5Z1xuICAgICAgICBmaWxsU2l6ZT17ZmlsbFNpemV9XG4gICAgICAgIGJhY2tncm91bmRDb2xvckVkaXRvcj17YmdDb2xvcn1cbiAgICAgICAgYm9yZGVyQ29sb3JFZGl0b3I9e2JvcmRlckNvbG9yfVxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIG9uRm9jdXNDaGFuZ2VkPXtvbkZvY3VzQ2hhbmdlZH1cbiAgICAgICAgb25DaGFuZ2U9eyh7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgICBzZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH19XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+OyBcblxuICAgICAgcmV0dXJuICg8PlxuICAgICAgICB7ZmlsbFNpemUgXG4gICAgICAgID8gYm9keSBcbiAgICAgICAgOiA8UmVzaXplXG4gICAgICAgICAgICBvbkNoYW5nZVNpemU9eyh2aWV3U2l6ZSkgPT4gc2V0Vmlld1NpemUodmlld1NpemUpfSBcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDUsXG4gICAgICAgICAgICBib3JkZXI6ICdub25lJywgXG4gICAgICAgICAgfX1cbiAgICAgICAgPntib2R5fTwvUmVzaXplPn1cbiAgICAgIDwvPik7XG4gICAgfVxuICB9XG5cbiJdfQ==",
        "link_id": 3119
      }
    },
    {
      "id": 3120,
      "type_id": 3,
      "from_id": 3100,
      "to_id": 3119,
      "value": {
        "id": 878,
        "value": "generated",
        "link_id": 3120
      }
    },
    {
      "id": 3121,
      "type_id": 143,
      "from_id": 3119,
      "to_id": 3100
    },
    {
      "id": 3122,
      "type_id": 3,
      "from_id": 3100,
      "to_id": 3121
    },
    {
      "id": 3101,
      "type_id": 35,
      "from_id": 145,
      "to_id": 3100
    },
    {
      "id": 3102,
      "type_id": 156,
      "from_id": 30,
      "to_id": 3101
    },
    {
      "id": 3103,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 880,
        "value": "@deep-foundation/wysiwyg",
        "link_id": 3103
      }
    },
    {
      "id": 3109,
      "type_id": 3,
      "from_id": 3103,
      "to_id": 3102,
      "value": {
        "id": 882,
        "value": "wysiwygHandleClient",
        "link_id": 3109
      }
    },
    {
      "id": 3110,
      "type_id": 3,
      "from_id": 3103,
      "to_id": 3101,
      "value": {
        "id": 883,
        "value": "wysiwygHandler",
        "link_id": 3110
      }
    },
    {
      "id": 3111,
      "type_id": 3,
      "from_id": 3103,
      "to_id": 3100,
      "value": {
        "id": 884,
        "value": "wysiwygClientHandler",
        "link_id": 3111
      }
    },
    {
      "id": 3128,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 886,
        "value": "async ({ deep, require }) => {\n    const React = require('react');\n    const { useRef, useState } = require('react');\n    const { pick } = require('lodash');\n    const { Button, Box, Flex, Grid, GridItem, useColorModeValue } = require('@chakra-ui/react');\n    const { ClientHandler, CytoGraph } = require('@deep-foundation/deepcase');\n    const Readme = await deep.id('@deep-foundation/readme', 'Readme');\n    const ReadmeClientHandler = await deep.id('@deep-foundation/readme', 'ReadmeClientHandler');\n    const containTree = deep.idLocal('@deep-foundation/core', 'containTree');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n    const typesTree = deep.idLocal('@deep-foundation/core', 'typesTree');\n    const wysiwygHandler = await deep.id('@deep-foundation/wysiwyg', 'wysiwygHandler');\n    const NoReadme = ({ link, containerId }) => {\n        return <div>\n            <div>readme not founded</div>\n            <Button onClick={async () => {\n                await deep.insert({\n                    type_id: Readme,\n                    from_id: link.id,\n                    to_id: link.id,\n                    string: { data: {\n                        value: ''\n                    } },\n                    in: { data: {\n                        type_id: Contain,\n                        from_id: containerId,\n                    } },\n                });\n            }}>insert in package</Button>\n        </div>;\n    };\n\n    const Wysiwyg = ({ linkId }) => {\n        const [disabled, setDisabled] = useState(true);\n        return <Flex>\n            <ClientHandler topmenu={!disabled} disabled={disabled} linkId={linkId} handlerId={wysiwygHandler} onClick={() => setDisabled(false)}/>\n            <Flex direction=\"column\">\n                {!disabled && <Button size=\"sm\" variant=\"outline\" onClick={async () => {\n                    setDisabled(true);\n                }}>\n                    v\n                </Button>}\n                <Button size=\"sm\" colorScheme='red' variant=\"outline\" onClick={async () => {\n                    await deep.delete({\n                        _or: [\n                            { type_id: Contain, to_id: linkId },\n                            { id: linkId },\n                        ],\n                    });\n                }}>\n                    x\n                </Button>\n            </Flex>\n        </Flex>;\n    };\n\n    return ({ link, style }) => {\n        const { data: _parents } = deep.useDeepSubscription({\n            down: {\n                tree_id: { _in: [containTree, typesTree] },\n                link_id: link?.id || 0,\n            },\n        });\n        const parents = _parents.filter(l => l.type_id != Contain);\n        const { data: readmes } = deep.useDeepSubscription({\n            type_id: Readme,\n            to_id: { _in: parents.map(l => l?.id) },\n        });\n        const currentL = link;\n        const currentReadmeL = currentL?.inByType?.[Readme]?.[0];\n        const typeL = link?.type;\n        const typeReadmeL = typeL?.inByType?.[Readme]?.[0];\n        const containedL = link?.inByType?.[Contain]?.[0]?.from;\n        const containedReadmeL = containedL?.inByType?.[Readme]?.[0];\n        const cyRef = useRef();\n\n        return <Box\n            style={{ ...style }}\n            bg={'bgColor'}\n            color={'text'}\n            borderColor={'borderColor'}\n            borderWidth='thin'\n            borderWidth='1px' borderRadius='lg'\n            p={1}\n        >\n            <div>current {deep.stringify(pick(currentL, ['id', 'type_id', 'from_id', 'to_id']))}</div>\n            <Grid templateColumns='repeat(4, 1fr)' gap={6}>\n                <GridItem><Button w=\"100%\" variant=\"disabled\" disabled>id<br/>{link?.id}</Button></GridItem>\n                <GridItem><Button w=\"100%\" variant=\"outline\">type<br/>{link?.type_id}</Button></GridItem>\n                <GridItem><Button w=\"100%\" variant=\"outline\">from<br/>{link?.from_id}</Button></GridItem>\n                <GridItem><Button w=\"100%\" variant=\"outline\">to<br/>{link?.to_id}</Button></GridItem>\n            </Grid>\n            {!!currentReadmeL ? <Wysiwyg linkId={currentReadmeL?.id}/> : <NoReadme link={currentL} containerId={containedL?.id}/>}\n            <div><Button variant=\"outline\">type<br/>{link?.type_id}</Button> {deep.stringify(pick(typeL, ['id', 'type_id', 'from_id', 'to_id']))}</div>\n            {!!typeReadmeL ? <Wysiwyg linkId={typeReadmeL?.id}/> : <NoReadme link={typeL} containerId={containedL?.id}/>}\n            <div><Button variant=\"outline\">container<br/>{containedL?.id}</Button> {deep.stringify(pick(containedL, ['id', 'type_id', 'from_id', 'to_id']))}</div>\n            {!!containedReadmeL ? <Wysiwyg linkId={containedReadmeL?.id}/> : <NoReadme link={containedL} containerId={containedL?.id}/>}\n            <Box borderWidth='1px' borderRadius='lg' position=\"relative\" height={300}>\n                <CytoGraph\n                    useSpaceId={() => [0, () => {}]}\n                    links={[\n                        ..._parents,\n                        ...readmes\n                    ]}\n                    cyRef={cyRef}\n                />\n            </Box>\n        </Box>;\n    };\n};",
        "link_id": 3128
      }
    },
    {
      "id": 3198,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 888,
        "value": "async ({ deep, require }) => {\n    const React = require('react');\n    const { useRef, useState } = require('react');\n    const { pick } = require('lodash');\n    const { Button, Box, Flex, Grid, GridItem, useColorModeValue } = require('@chakra-ui/react');\n    const { ClientHandler, CytoGraph } = require('@deep-foundation/deepcase');\n    const Readme = await deep.id('@deep-foundation/readme', 'Readme');\n    const ReadmeClientHandler = await deep.id('@deep-foundation/readme', 'ReadmeClientHandler');\n    const containTree = deep.idLocal('@deep-foundation/core', 'containTree');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n    const typesTree = deep.idLocal('@deep-foundation/core', 'typesTree');\n    const wysiwygHandler = await deep.id('@deep-foundation/wysiwyg', 'wysiwygHandler');\n    const NoReadme = ({ link, containerId }) => {\n        return React.createElement(\"div\", null,\n            React.createElement(\"div\", null, \"readme not founded\"),\n            React.createElement(Button, { onClick: async () => {\n                    await deep.insert({\n                        type_id: Readme,\n                        from_id: link.id,\n                        to_id: link.id,\n                        string: { data: {\n                                value: ''\n                            } },\n                        in: { data: {\n                                type_id: Contain,\n                                from_id: containerId,\n                            } },\n                    });\n                } }, \"insert in package\"));\n    };\n    const Wysiwyg = ({ linkId }) => {\n        const [disabled, setDisabled] = useState(true);\n        return React.createElement(Flex, null,\n            React.createElement(ClientHandler, { topmenu: !disabled, disabled: disabled, linkId: linkId, handlerId: wysiwygHandler, onClick: () => setDisabled(false) }),\n            React.createElement(Flex, { direction: \"column\" },\n                !disabled && React.createElement(Button, { size: \"sm\", variant: \"outline\", onClick: async () => {\n                        setDisabled(true);\n                    } }, \"v\"),\n                React.createElement(Button, { size: \"sm\", colorScheme: 'red', variant: \"outline\", onClick: async () => {\n                        await deep.delete({\n                            _or: [\n                                { type_id: Contain, to_id: linkId },\n                                { id: linkId },\n                            ],\n                        });\n                    } }, \"x\")));\n    };\n    return ({ link, style }) => {\n        const { data: _parents } = deep.useDeepSubscription({\n            down: {\n                tree_id: { _in: [containTree, typesTree] },\n                link_id: link?.id || 0,\n            },\n        });\n        const parents = _parents.filter(l => l.type_id != Contain);\n        const { data: readmes } = deep.useDeepSubscription({\n            type_id: Readme,\n            to_id: { _in: parents.map(l => l?.id) },\n        });\n        const currentL = link;\n        const currentReadmeL = currentL?.inByType?.[Readme]?.[0];\n        const typeL = link?.type;\n        const typeReadmeL = typeL?.inByType?.[Readme]?.[0];\n        const containedL = link?.inByType?.[Contain]?.[0]?.from;\n        const containedReadmeL = containedL?.inByType?.[Readme]?.[0];\n        const cyRef = useRef();\n        return React.createElement(Box, { style: { ...style }, bg: 'bgColor', color: 'text', borderColor: 'borderColor', borderWidth: 'thin', borderWidth: '1px', borderRadius: 'lg', p: 1 },\n            React.createElement(\"div\", null,\n                \"current \",\n                deep.stringify(pick(currentL, ['id', 'type_id', 'from_id', 'to_id']))),\n            React.createElement(Grid, { templateColumns: 'repeat(4, 1fr)', gap: 6 },\n                React.createElement(GridItem, null,\n                    React.createElement(Button, { w: \"100%\", variant: \"disabled\", disabled: true },\n                        \"id\",\n                        React.createElement(\"br\", null),\n                        link?.id)),\n                React.createElement(GridItem, null,\n                    React.createElement(Button, { w: \"100%\", variant: \"outline\" },\n                        \"type\",\n                        React.createElement(\"br\", null),\n                        link?.type_id)),\n                React.createElement(GridItem, null,\n                    React.createElement(Button, { w: \"100%\", variant: \"outline\" },\n                        \"from\",\n                        React.createElement(\"br\", null),\n                        link?.from_id)),\n                React.createElement(GridItem, null,\n                    React.createElement(Button, { w: \"100%\", variant: \"outline\" },\n                        \"to\",\n                        React.createElement(\"br\", null),\n                        link?.to_id))),\n            !!currentReadmeL ? React.createElement(Wysiwyg, { linkId: currentReadmeL?.id }) : React.createElement(NoReadme, { link: currentL, containerId: containedL?.id }),\n            React.createElement(\"div\", null,\n                React.createElement(Button, { variant: \"outline\" },\n                    \"type\",\n                    React.createElement(\"br\", null),\n                    link?.type_id),\n                \" \",\n                deep.stringify(pick(typeL, ['id', 'type_id', 'from_id', 'to_id']))),\n            !!typeReadmeL ? React.createElement(Wysiwyg, { linkId: typeReadmeL?.id }) : React.createElement(NoReadme, { link: typeL, containerId: containedL?.id }),\n            React.createElement(\"div\", null,\n                React.createElement(Button, { variant: \"outline\" },\n                    \"container\",\n                    React.createElement(\"br\", null),\n                    containedL?.id),\n                \" \",\n                deep.stringify(pick(containedL, ['id', 'type_id', 'from_id', 'to_id']))),\n            !!containedReadmeL ? React.createElement(Wysiwyg, { linkId: containedReadmeL?.id }) : React.createElement(NoReadme, { link: containedL, containerId: containedL?.id }),\n            React.createElement(Box, { borderWidth: '1px', borderRadius: 'lg', position: \"relative\", height: 300 },\n                React.createElement(CytoGraph, { useSpaceId: () => [0, () => { }], links: [\n                        ..._parents,\n                        ...readmes\n                    ], cyRef: cyRef })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtJQUN4QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDOUMsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNuQyxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxpQkFBaUIsRUFBRSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQzdGLE1BQU0sRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUM7SUFDMUUsTUFBTSxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLHlCQUF5QixFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ2xFLE1BQU0sbUJBQW1CLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLHlCQUF5QixFQUFFLHFCQUFxQixDQUFDLENBQUM7SUFDNUYsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUN6RSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLHVCQUF1QixFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ2pFLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsdUJBQXVCLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDckUsTUFBTSxjQUFjLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLDBCQUEwQixF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LFdBQVcsRUFBRSxVQUFVLEVBQUUsRUFBRSxHQUFHO1lBQzVHO2dCQUFLLG9CQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUMsU0FBUzs7b0JBQVUsK0JBQUs7b0JBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBVTs7Z0JBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFPO1lBQ3JKLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsb0JBQUMsT0FBTyxJQUFDLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsb0JBQUMsUUFBUSxJQUFDLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBRSxFQUFFLEdBQUc7WUFDM0gsb0JBQUMsR0FBRyxJQUFDLFdBQVcsRUFBQyxLQUFLLEVBQUMsWUFBWSxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBRSxHQUFHO2dCQUNwRSxvQkFBQyxTQUFTLElBQ04sVUFBVSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFFLENBQUMsQ0FBQyxFQUMvQixLQUFLLEVBQUU7d0JBQ0gsR0FBRyxRQUFRO3dCQUNYLEdBQUcsT0FBTztxQkFDYixFQUNELEtBQUssRUFBRSxLQUFLLEdBQ2QsQ0FDQSxDQUNKLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDTixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCByZXF1aXJlIH0pID0+IHtcbiAgICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gICAgY29uc3QgeyB1c2VSZWYsIHVzZVN0YXRlIH0gPSByZXF1aXJlKCdyZWFjdCcpO1xuICAgIGNvbnN0IHsgcGljayB9ID0gcmVxdWlyZSgnbG9kYXNoJyk7XG4gICAgY29uc3QgeyBCdXR0b24sIEJveCwgRmxleCwgR3JpZCwgR3JpZEl0ZW0sIHVzZUNvbG9yTW9kZVZhbHVlIH0gPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG4gICAgY29uc3QgeyBDbGllbnRIYW5kbGVyLCBDeXRvR3JhcGggfSA9IHJlcXVpcmUoJ0BkZWVwLWZvdW5kYXRpb24vZGVlcGNhc2UnKTtcbiAgICBjb25zdCBSZWFkbWUgPSBhd2FpdCBkZWVwLmlkKCdAZGVlcC1mb3VuZGF0aW9uL3JlYWRtZScsICdSZWFkbWUnKTtcbiAgICBjb25zdCBSZWFkbWVDbGllbnRIYW5kbGVyID0gYXdhaXQgZGVlcC5pZCgnQGRlZXAtZm91bmRhdGlvbi9yZWFkbWUnLCAnUmVhZG1lQ2xpZW50SGFuZGxlcicpO1xuICAgIGNvbnN0IGNvbnRhaW5UcmVlID0gZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnY29udGFpblRyZWUnKTtcbiAgICBjb25zdCBDb250YWluID0gZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnQ29udGFpbicpO1xuICAgIGNvbnN0IHR5cGVzVHJlZSA9IGRlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ3R5cGVzVHJlZScpO1xuICAgIGNvbnN0IHd5c2l3eWdIYW5kbGVyID0gYXdhaXQgZGVlcC5pZCgnQGRlZXAtZm91bmRhdGlvbi93eXNpd3lnJywgJ3d5c2l3eWdIYW5kbGVyJyk7XG4gICAgY29uc3QgTm9SZWFkbWUgPSAoeyBsaW5rLCBjb250YWluZXJJZCB9KSA9PiB7XG4gICAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICAgICAgPGRpdj5yZWFkbWUgbm90IGZvdW5kZWQ8L2Rpdj5cbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IGRlZXAuaW5zZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZV9pZDogUmVhZG1lLFxuICAgICAgICAgICAgICAgICAgICBmcm9tX2lkOiBsaW5rLmlkLFxuICAgICAgICAgICAgICAgICAgICB0b19pZDogbGluay5pZCxcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nOiB7IGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgIGluOiB7IGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfaWQ6IENvbnRhaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tX2lkOiBjb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfX0+aW5zZXJ0IGluIHBhY2thZ2U8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+O1xuICAgIH07XG5cbiAgICBjb25zdCBXeXNpd3lnID0gKHsgbGlua0lkIH0pID0+IHtcbiAgICAgICAgY29uc3QgW2Rpc2FibGVkLCBzZXREaXNhYmxlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIDxGbGV4PlxuICAgICAgICAgICAgPENsaWVudEhhbmRsZXIgdG9wbWVudT17IWRpc2FibGVkfSBkaXNhYmxlZD17ZGlzYWJsZWR9IGxpbmtJZD17bGlua0lkfSBoYW5kbGVySWQ9e3d5c2l3eWdIYW5kbGVyfSBvbkNsaWNrPXsoKSA9PiBzZXREaXNhYmxlZChmYWxzZSl9Lz5cbiAgICAgICAgICAgIDxGbGV4IGRpcmVjdGlvbj1cImNvbHVtblwiPlxuICAgICAgICAgICAgICAgIHshZGlzYWJsZWQgJiYgPEJ1dHRvbiBzaXplPVwic21cIiB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RGlzYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHZcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj59XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPVwic21cIiBjb2xvclNjaGVtZT0ncmVkJyB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGVlcC5kZWxldGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgX29yOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0eXBlX2lkOiBDb250YWluLCB0b19pZDogbGlua0lkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogbGlua0lkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICA8L0ZsZXg+O1xuICAgIH07XG5cbiAgICByZXR1cm4gKHsgbGluaywgc3R5bGUgfSkgPT4ge1xuICAgICAgICBjb25zdCB7IGRhdGE6IF9wYXJlbnRzIH0gPSBkZWVwLnVzZURlZXBTdWJzY3JpcHRpb24oe1xuICAgICAgICAgICAgZG93bjoge1xuICAgICAgICAgICAgICAgIHRyZWVfaWQ6IHsgX2luOiBbY29udGFpblRyZWUsIHR5cGVzVHJlZV0gfSxcbiAgICAgICAgICAgICAgICBsaW5rX2lkOiBsaW5rPy5pZCB8fCAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSBfcGFyZW50cy5maWx0ZXIobCA9PiBsLnR5cGVfaWQgIT0gQ29udGFpbik7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcmVhZG1lcyB9ID0gZGVlcC51c2VEZWVwU3Vic2NyaXB0aW9uKHtcbiAgICAgICAgICAgIHR5cGVfaWQ6IFJlYWRtZSxcbiAgICAgICAgICAgIHRvX2lkOiB7IF9pbjogcGFyZW50cy5tYXAobCA9PiBsPy5pZCkgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMID0gbGluaztcbiAgICAgICAgY29uc3QgY3VycmVudFJlYWRtZUwgPSBjdXJyZW50TD8uaW5CeVR5cGU/LltSZWFkbWVdPy5bMF07XG4gICAgICAgIGNvbnN0IHR5cGVMID0gbGluaz8udHlwZTtcbiAgICAgICAgY29uc3QgdHlwZVJlYWRtZUwgPSB0eXBlTD8uaW5CeVR5cGU/LltSZWFkbWVdPy5bMF07XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lZEwgPSBsaW5rPy5pbkJ5VHlwZT8uW0NvbnRhaW5dPy5bMF0/LmZyb207XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lZFJlYWRtZUwgPSBjb250YWluZWRMPy5pbkJ5VHlwZT8uW1JlYWRtZV0/LlswXTtcbiAgICAgICAgY29uc3QgY3lSZWYgPSB1c2VSZWYoKTtcblxuICAgICAgICByZXR1cm4gPEJveFxuICAgICAgICAgICAgc3R5bGU9e3sgLi4uc3R5bGUgfX1cbiAgICAgICAgICAgIGJnPXsnYmdDb2xvcid9XG4gICAgICAgICAgICBjb2xvcj17J3RleHQnfVxuICAgICAgICAgICAgYm9yZGVyQ29sb3I9eydib3JkZXJDb2xvcid9XG4gICAgICAgICAgICBib3JkZXJXaWR0aD0ndGhpbidcbiAgICAgICAgICAgIGJvcmRlcldpZHRoPScxcHgnIGJvcmRlclJhZGl1cz0nbGcnXG4gICAgICAgICAgICBwPXsxfVxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2PmN1cnJlbnQge2RlZXAuc3RyaW5naWZ5KHBpY2soY3VycmVudEwsIFsnaWQnLCAndHlwZV9pZCcsICdmcm9tX2lkJywgJ3RvX2lkJ10pKX08L2Rpdj5cbiAgICAgICAgICAgIDxHcmlkIHRlbXBsYXRlQ29sdW1ucz0ncmVwZWF0KDQsIDFmciknIGdhcD17Nn0+XG4gICAgICAgICAgICAgICAgPEdyaWRJdGVtPjxCdXR0b24gdz1cIjEwMCVcIiB2YXJpYW50PVwiZGlzYWJsZWRcIiBkaXNhYmxlZD5pZDxici8+e2xpbms/LmlkfTwvQnV0dG9uPjwvR3JpZEl0ZW0+XG4gICAgICAgICAgICAgICAgPEdyaWRJdGVtPjxCdXR0b24gdz1cIjEwMCVcIiB2YXJpYW50PVwib3V0bGluZVwiPnR5cGU8YnIvPntsaW5rPy50eXBlX2lkfTwvQnV0dG9uPjwvR3JpZEl0ZW0+XG4gICAgICAgICAgICAgICAgPEdyaWRJdGVtPjxCdXR0b24gdz1cIjEwMCVcIiB2YXJpYW50PVwib3V0bGluZVwiPmZyb208YnIvPntsaW5rPy5mcm9tX2lkfTwvQnV0dG9uPjwvR3JpZEl0ZW0+XG4gICAgICAgICAgICAgICAgPEdyaWRJdGVtPjxCdXR0b24gdz1cIjEwMCVcIiB2YXJpYW50PVwib3V0bGluZVwiPnRvPGJyLz57bGluaz8udG9faWR9PC9CdXR0b24+PC9HcmlkSXRlbT5cbiAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgIHshIWN1cnJlbnRSZWFkbWVMID8gPFd5c2l3eWcgbGlua0lkPXtjdXJyZW50UmVhZG1lTD8uaWR9Lz4gOiA8Tm9SZWFkbWUgbGluaz17Y3VycmVudEx9IGNvbnRhaW5lcklkPXtjb250YWluZWRMPy5pZH0vPn1cbiAgICAgICAgICAgIDxkaXY+PEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZVwiPnR5cGU8YnIvPntsaW5rPy50eXBlX2lkfTwvQnV0dG9uPiB7ZGVlcC5zdHJpbmdpZnkocGljayh0eXBlTCwgWydpZCcsICd0eXBlX2lkJywgJ2Zyb21faWQnLCAndG9faWQnXSkpfTwvZGl2PlxuICAgICAgICAgICAgeyEhdHlwZVJlYWRtZUwgPyA8V3lzaXd5ZyBsaW5rSWQ9e3R5cGVSZWFkbWVMPy5pZH0vPiA6IDxOb1JlYWRtZSBsaW5rPXt0eXBlTH0gY29udGFpbmVySWQ9e2NvbnRhaW5lZEw/LmlkfS8+fVxuICAgICAgICAgICAgPGRpdj48QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCI+Y29udGFpbmVyPGJyLz57Y29udGFpbmVkTD8uaWR9PC9CdXR0b24+IHtkZWVwLnN0cmluZ2lmeShwaWNrKGNvbnRhaW5lZEwsIFsnaWQnLCAndHlwZV9pZCcsICdmcm9tX2lkJywgJ3RvX2lkJ10pKX08L2Rpdj5cbiAgICAgICAgICAgIHshIWNvbnRhaW5lZFJlYWRtZUwgPyA8V3lzaXd5ZyBsaW5rSWQ9e2NvbnRhaW5lZFJlYWRtZUw/LmlkfS8+IDogPE5vUmVhZG1lIGxpbms9e2NvbnRhaW5lZEx9IGNvbnRhaW5lcklkPXtjb250YWluZWRMPy5pZH0vPn1cbiAgICAgICAgICAgIDxCb3ggYm9yZGVyV2lkdGg9JzFweCcgYm9yZGVyUmFkaXVzPSdsZycgcG9zaXRpb249XCJyZWxhdGl2ZVwiIGhlaWdodD17MzAwfT5cbiAgICAgICAgICAgICAgICA8Q3l0b0dyYXBoXG4gICAgICAgICAgICAgICAgICAgIHVzZVNwYWNlSWQ9eygpID0+IFswLCAoKSA9PiB7fV19XG4gICAgICAgICAgICAgICAgICAgIGxpbmtzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5fcGFyZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlYWRtZXNcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgY3lSZWY9e2N5UmVmfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0JveD5cbiAgICAgICAgPC9Cb3g+O1xuICAgIH07XG59OyJdfQ==",
        "link_id": 3198
      }
    },
    {
      "id": 3199,
      "type_id": 3,
      "from_id": 3128,
      "to_id": 3198,
      "value": {
        "id": 887,
        "value": "generated",
        "link_id": 3199
      }
    },
    {
      "id": 3200,
      "type_id": 143,
      "from_id": 3198,
      "to_id": 3128
    },
    {
      "id": 3201,
      "type_id": 3,
      "from_id": 3128,
      "to_id": 3200
    },
    {
      "id": 3129,
      "type_id": 35,
      "from_id": 145,
      "to_id": 3128
    },
    {
      "id": 3130,
      "type_id": 723,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 889,
        "value": "async ({ deep, data, require, Go }) => {\n  const React = require('react');\n  \n  const dc = '@deep-foundation/core';\n  const dr = '@deep-foundation/readme';\n  const dpl = '@deep-foundation/perception-links';\n  const c = require('@chakra-ui/react');\n\n  const Contain = deep.idLocal(dc, 'Contain');\n  const Input = await deep.id(dr, 'Input');\n  const Output = await deep.id(dr, 'Output');\n  const Inherit = await deep.id(dr, 'Inherit');\n\n  return ({\n    go,\n    goHandler,\n\n    handlerId,\n    Component,\n\n    linkId,\n    link,\n\n    children,\n\n    isActive,\n\n    ...props\n  }, ref) => {\n    const { loading } = deep.useSubscription({\n      type_id: { _in: [Input, Output, Inherit] },\n      to_id: link.to_id,\n    });\n    const [input] = deep.useLocalSubscription({\n      type_id: Input, to_id: link.to_id,\n    });\n    const [output] = deep.useLocalSubscription({\n      type_id: Output, to_id: link.to_id,\n    });\n    const [inherit] = deep.useLocalSubscription({\n      type_id: Inherit, to_id: link.to_id,\n    });\n    const [parent] = deep.useLocalQuery({ out: { type_id: Contain, to_id: link.to_id } });\n    const parentId = parent?.id;\n    return <go.On\n      do={{\n      }}\n    >\n      <c.Box ref={ref} h='3em'>\n        <c.Flex>\n          {!!loading || !link?.to ? <>\n            <c.Button flex='1' isLoading/>\n          </> : <>\n            <c.Button flex='1' variant={!!input ? 'active' : undefined} onClick={() => {\n              if (input) deep.delete({ _or: [{ id: input.id }, { type_id: Contain, to_id: input.id }] });\n              else deep.insert({ type_id: Input, from_id: link.to_id, to_id: link.to_id, containerId: parentId, name: `${link.to.name}Input` });\n            }}>input</c.Button>\n            <c.Button flex='1' variant={!!output ? 'active' : undefined} onClick={() => {\n              if (output) deep.delete({ _or: [{ id: output.id }, { type_id: Contain, to_id: output.id }] });\n              else deep.insert({ type_id: Output, from_id: link.to_id, to_id: link.to_id, containerId: parentId, name: `${link.to.name}Output` });\n            }}>output</c.Button>\n            <c.Button flex='1' variant={!!inherit ? 'active' : undefined} onClick={() => {\n              if (inherit) deep.delete({ _or: [{ id: inherit.id }, { type_id: Contain, to_id: inherit.id }] });\n              else deep.insert({ type_id: Inherit, from_id: link.to_id, to_id: link.to_id, containerId: parentId, name: `${link.to.name}Inherit` });\n            }}>inherit</c.Button>\n          </>}\n        </c.Flex>\n        {/* <go.Wysiwyg value={link?.value?.value}/> */}\n        <go.Wysiwyg linkId={link?.id}/>\n      </c.Box>\n    </go.On>;\n  };\n}",
        "link_id": 3130
      }
    },
    {
      "id": 3207,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 891,
        "value": "async ({ deep, data, require, Go }) => {\n    const React = require('react');\n    const dc = '@deep-foundation/core';\n    const dr = '@deep-foundation/readme';\n    const dpl = '@deep-foundation/perception-links';\n    const c = require('@chakra-ui/react');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const Input = await deep.id(dr, 'Input');\n    const Output = await deep.id(dr, 'Output');\n    const Inherit = await deep.id(dr, 'Inherit');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        const { loading } = deep.useSubscription({\n            type_id: { _in: [Input, Output, Inherit] },\n            to_id: link.to_id,\n        });\n        const [input] = deep.useLocalSubscription({\n            type_id: Input, to_id: link.to_id,\n        });\n        const [output] = deep.useLocalSubscription({\n            type_id: Output, to_id: link.to_id,\n        });\n        const [inherit] = deep.useLocalSubscription({\n            type_id: Inherit, to_id: link.to_id,\n        });\n        const [parent] = deep.useLocalQuery({ out: { type_id: Contain, to_id: link.to_id } });\n        const parentId = parent?.id;\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.Box, { ref: ref, h: '3em' },\n                React.createElement(c.Flex, null, !!loading || !link?.to ? React.createElement(React.Fragment, null,\n                    React.createElement(c.Button, { flex: '1', isLoading: true })) : React.createElement(React.Fragment, null,\n                    React.createElement(c.Button, { flex: '1', variant: !!input ? 'active' : undefined, onClick: () => {\n                            if (input)\n                                deep.delete({ _or: [{ id: input.id }, { type_id: Contain, to_id: input.id }] });\n                            else\n                                deep.insert({ type_id: Input, from_id: link.to_id, to_id: link.to_id, containerId: parentId, name: `${link.to.name}Input` });\n                        } }, \"input\"),\n                    React.createElement(c.Button, { flex: '1', variant: !!output ? 'active' : undefined, onClick: () => {\n                            if (output)\n                                deep.delete({ _or: [{ id: output.id }, { type_id: Contain, to_id: output.id }] });\n                            else\n                                deep.insert({ type_id: Output, from_id: link.to_id, to_id: link.to_id, containerId: parentId, name: `${link.to.name}Output` });\n                        } }, \"output\"),\n                    React.createElement(c.Button, { flex: '1', variant: !!inherit ? 'active' : undefined, onClick: () => {\n                            if (inherit)\n                                deep.delete({ _or: [{ id: inherit.id }, { type_id: Contain, to_id: inherit.id }] });\n                            else\n                                deep.insert({ type_id: Inherit, from_id: link.to_id, to_id: link.to_id, containerId: parentId, name: `${link.to.name}Inherit` });\n                        } }, \"inherit\"))),\n                React.createElement(go.Wysiwyg, { linkId: link?.id })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUUvQixNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEVBQUUsR0FBRyx5QkFBeUIsQ0FBQztJQUNyQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLEtBQUssR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDM0MsTUFBTSxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUU3QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFNBQVMsRUFDVCxTQUFTLEVBRVQsTUFBTSxFQUNOLElBQUksRUFFSixRQUFRLEVBRVIsUUFBUSxFQUVSLEdBQUcsS0FBSyxFQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUN2QyxPQUFPLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQyxFQUFFO1lBQzFD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S0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksUUFBUSxFQUFFLENBQUMsQ0FBQzt3QkFDdEksQ0FBQyxhQUFtQjtvQkFDcEIsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFOzRCQUMxRSxJQUFJLE9BQU87Z0NBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzs7Z0NBQzVGLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLFNBQVMsRUFBRSxDQUFDLENBQUM7d0JBQ3hJLENBQUMsY0FBb0IsQ0FDcEIsQ0FDSTtnQkFFVCxvQkFBQyxFQUFFLENBQUMsT0FBTyxJQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRSxHQUFHLENBQ3pCLENBQ0YsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHIgPSAnQGRlZXAtZm91bmRhdGlvbi9yZWFkbWUnO1xuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBDb250YWluID0gZGVlcC5pZExvY2FsKGRjLCAnQ29udGFpbicpO1xuICBjb25zdCBJbnB1dCA9IGF3YWl0IGRlZXAuaWQoZHIsICdJbnB1dCcpO1xuICBjb25zdCBPdXRwdXQgPSBhd2FpdCBkZWVwLmlkKGRyLCAnT3V0cHV0Jyk7XG4gIGNvbnN0IEluaGVyaXQgPSBhd2FpdCBkZWVwLmlkKGRyLCAnSW5oZXJpdCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG5cbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCB7IGxvYWRpbmcgfSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IHsgX2luOiBbSW5wdXQsIE91dHB1dCwgSW5oZXJpdF0gfSxcbiAgICAgIHRvX2lkOiBsaW5rLnRvX2lkLFxuICAgIH0pO1xuICAgIGNvbnN0IFtpbnB1dF0gPSBkZWVwLnVzZUxvY2FsU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IElucHV0LCB0b19pZDogbGluay50b19pZCxcbiAgICB9KTtcbiAgICBjb25zdCBbb3V0cHV0XSA9IGRlZXAudXNlTG9jYWxTdWJzY3JpcHRpb24oe1xuICAgICAgdHlwZV9pZDogT3V0cHV0LCB0b19pZDogbGluay50b19pZCxcbiAgICB9KTtcbiAgICBjb25zdCBbaW5oZXJpdF0gPSBkZWVwLnVzZUxvY2FsU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IEluaGVyaXQsIHRvX2lkOiBsaW5rLnRvX2lkLFxuICAgIH0pO1xuICAgIGNvbnN0IFtwYXJlbnRdID0gZGVlcC51c2VMb2NhbFF1ZXJ5KHsgb3V0OiB7IHR5cGVfaWQ6IENvbnRhaW4sIHRvX2lkOiBsaW5rLnRvX2lkIH0gfSk7XG4gICAgY29uc3QgcGFyZW50SWQgPSBwYXJlbnQ/LmlkO1xuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLkJveCByZWY9e3JlZn0gaD0nM2VtJz5cbiAgICAgICAgPGMuRmxleD5cbiAgICAgICAgICB7ISFsb2FkaW5nIHx8ICFsaW5rPy50byA/IDw+XG4gICAgICAgICAgICA8Yy5CdXR0b24gZmxleD0nMScgaXNMb2FkaW5nLz5cbiAgICAgICAgICA8Lz4gOiA8PlxuICAgICAgICAgICAgPGMuQnV0dG9uIGZsZXg9JzEnIHZhcmlhbnQ9eyEhaW5wdXQgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0gb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQpIGRlZXAuZGVsZXRlKHsgX29yOiBbeyBpZDogaW5wdXQuaWQgfSwgeyB0eXBlX2lkOiBDb250YWluLCB0b19pZDogaW5wdXQuaWQgfV0gfSk7XG4gICAgICAgICAgICAgIGVsc2UgZGVlcC5pbnNlcnQoeyB0eXBlX2lkOiBJbnB1dCwgZnJvbV9pZDogbGluay50b19pZCwgdG9faWQ6IGxpbmsudG9faWQsIGNvbnRhaW5lcklkOiBwYXJlbnRJZCwgbmFtZTogYCR7bGluay50by5uYW1lfUlucHV0YCB9KTtcbiAgICAgICAgICAgIH19PmlucHV0PC9jLkJ1dHRvbj5cbiAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyB2YXJpYW50PXshIW91dHB1dCA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChvdXRwdXQpIGRlZXAuZGVsZXRlKHsgX29yOiBbeyBpZDogb3V0cHV0LmlkIH0sIHsgdHlwZV9pZDogQ29udGFpbiwgdG9faWQ6IG91dHB1dC5pZCB9XSB9KTtcbiAgICAgICAgICAgICAgZWxzZSBkZWVwLmluc2VydCh7IHR5cGVfaWQ6IE91dHB1dCwgZnJvbV9pZDogbGluay50b19pZCwgdG9faWQ6IGxpbmsudG9faWQsIGNvbnRhaW5lcklkOiBwYXJlbnRJZCwgbmFtZTogYCR7bGluay50by5uYW1lfU91dHB1dGAgfSk7XG4gICAgICAgICAgICB9fT5vdXRwdXQ8L2MuQnV0dG9uPlxuICAgICAgICAgICAgPGMuQnV0dG9uIGZsZXg9JzEnIHZhcmlhbnQ9eyEhaW5oZXJpdCA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpbmhlcml0KSBkZWVwLmRlbGV0ZSh7IF9vcjogW3sgaWQ6IGluaGVyaXQuaWQgfSwgeyB0eXBlX2lkOiBDb250YWluLCB0b19pZDogaW5oZXJpdC5pZCB9XSB9KTtcbiAgICAgICAgICAgICAgZWxzZSBkZWVwLmluc2VydCh7IHR5cGVfaWQ6IEluaGVyaXQsIGZyb21faWQ6IGxpbmsudG9faWQsIHRvX2lkOiBsaW5rLnRvX2lkLCBjb250YWluZXJJZDogcGFyZW50SWQsIG5hbWU6IGAke2xpbmsudG8ubmFtZX1Jbmhlcml0YCB9KTtcbiAgICAgICAgICAgIH19PmluaGVyaXQ8L2MuQnV0dG9uPlxuICAgICAgICAgIDwvPn1cbiAgICAgICAgPC9jLkZsZXg+XG4gICAgICAgIHsvKiA8Z28uV3lzaXd5ZyB2YWx1ZT17bGluaz8udmFsdWU/LnZhbHVlfS8+ICovfVxuICAgICAgICA8Z28uV3lzaXd5ZyBsaW5rSWQ9e2xpbms/LmlkfS8+XG4gICAgICA8L2MuQm94PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
        "link_id": 3207
      }
    },
    {
      "id": 3208,
      "type_id": 3,
      "from_id": 3130,
      "to_id": 3207,
      "value": {
        "id": 890,
        "value": "generated",
        "link_id": 3208
      }
    },
    {
      "id": 3209,
      "type_id": 143,
      "from_id": 3207,
      "to_id": 3130
    },
    {
      "id": 3210,
      "type_id": 3,
      "from_id": 3130,
      "to_id": 3209
    },
    {
      "id": 3131,
      "type_id": 35,
      "from_id": 145,
      "to_id": 3130
    },
    {
      "id": 3132,
      "type_id": 827,
      "from_id": 3131,
      "to_id": 836
    },
    {
      "id": 3133,
      "type_id": 146,
      "from_id": 3129,
      "to_id": 3129,
      "value": {
        "id": 892,
        "value": "❔",
        "link_id": 3133
      }
    },
    {
      "id": 3134,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 3135,
      "type_id": 146,
      "from_id": 3134,
      "to_id": 3134,
      "value": {
        "id": 893,
        "value": "🟣",
        "link_id": 3135
      }
    },
    {
      "id": 3136,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 3137,
      "type_id": 3136,
      "from_id": 3134,
      "to_id": 3134
    },
    {
      "id": 3138,
      "type_id": 146,
      "from_id": 3136,
      "to_id": 3136,
      "value": {
        "id": 894,
        "value": "🟡",
        "link_id": 3138
      }
    },
    {
      "id": 3139,
      "type_id": 3136,
      "from_id": 3136,
      "to_id": 3136
    },
    {
      "id": 3140,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 3141,
      "type_id": 3140,
      "from_id": 3134,
      "to_id": 3134,
      "value": {
        "id": 895,
        "value": "<p>Describes .from link as input can be cause for .to inserting to link.</p>",
        "link_id": 3141
      }
    },
    {
      "id": 3142,
      "type_id": 3140,
      "from_id": 3136,
      "to_id": 3136,
      "value": {
        "id": 896,
        "value": "<p>Describe .to link can be used as input.</p>",
        "link_id": 3142
      }
    },
    {
      "id": 3143,
      "type_id": 146,
      "from_id": 3140,
      "to_id": 3140,
      "value": {
        "id": 897,
        "value": "❓",
        "link_id": 3143
      }
    },
    {
      "id": 3144,
      "type_id": 827,
      "from_id": 3131,
      "to_id": 3140
    },
    {
      "id": 3145,
      "type_id": 4,
      "from_id": 3140,
      "to_id": 5
    },
    {
      "id": 3146,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 3147,
      "type_id": 3136,
      "from_id": 3146,
      "to_id": 3146
    },
    {
      "id": 3148,
      "type_id": 3140,
      "from_id": 3146,
      "to_id": 3146,
      "value": {
        "id": 898,
        "value": "<p>Describe .to link must be used as type for inheritance.</p>",
        "link_id": 3148
      }
    },
    {
      "id": 3149,
      "type_id": 146,
      "from_id": 3146,
      "to_id": 3146,
      "value": {
        "id": 899,
        "value": "⚫",
        "link_id": 3149
      }
    },
    {
      "id": 3150,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 3151,
      "type_id": 146,
      "from_id": 3150,
      "to_id": 3150,
      "value": {
        "id": 900,
        "value": "🔵",
        "link_id": 3151
      }
    },
    {
      "id": 3152,
      "type_id": 3136,
      "from_id": 3150,
      "to_id": 3150
    },
    {
      "id": 3153,
      "type_id": 3140,
      "from_id": 3150,
      "to_id": 3150,
      "value": {
        "id": 901,
        "value": "<p>Describe .to link will be inserted as output.</p>",
        "link_id": 3153
      }
    },
    {
      "id": 3154,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 902,
        "value": "@deep-foundation/readme",
        "link_id": 3154
      }
    },
    {
      "id": 3160,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3151,
      "value": {
        "id": 904,
        "value": "outputSymbol",
        "link_id": 3160
      }
    },
    {
      "id": 3161,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3135,
      "value": {
        "id": 905,
        "value": "causeSymbol",
        "link_id": 3161
      }
    },
    {
      "id": 3162,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3141,
      "value": {
        "id": 906,
        "value": "causeReadme",
        "link_id": 3162
      }
    },
    {
      "id": 3163,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3137,
      "value": {
        "id": 907,
        "value": "CauseInput",
        "link_id": 3163
      }
    },
    {
      "id": 3164,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3134,
      "value": {
        "id": 908,
        "value": "Cause",
        "link_id": 3164
      }
    },
    {
      "id": 3165,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3138,
      "value": {
        "id": 909,
        "value": "inputSymbol",
        "link_id": 3165
      }
    },
    {
      "id": 3166,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3142,
      "value": {
        "id": 910,
        "value": "inputReadme",
        "link_id": 3166
      }
    },
    {
      "id": 3167,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3139,
      "value": {
        "id": 911,
        "value": "InputInput",
        "link_id": 3167
      }
    },
    {
      "id": 3168,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3152,
      "value": {
        "id": 912,
        "value": "OutputInput",
        "link_id": 3168
      }
    },
    {
      "id": 3169,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3147,
      "value": {
        "id": 913,
        "value": "InheritInput",
        "link_id": 3169
      }
    },
    {
      "id": 3170,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3136,
      "value": {
        "id": 914,
        "value": "Input",
        "link_id": 3170
      }
    },
    {
      "id": 3171,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3153,
      "value": {
        "id": 915,
        "value": "outputReadme",
        "link_id": 3171
      }
    },
    {
      "id": 3172,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3143,
      "value": {
        "id": 916,
        "value": "readmeSymbol",
        "link_id": 3172
      }
    },
    {
      "id": 3173,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3144,
      "value": {
        "id": 917,
        "value": "readmeCompatableReadme",
        "link_id": 3173
      }
    },
    {
      "id": 3174,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3148,
      "value": {
        "id": 918,
        "value": "InheritReadme",
        "link_id": 3174
      }
    },
    {
      "id": 3175,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3145,
      "value": {
        "id": 919,
        "value": "readmeValue",
        "link_id": 3175
      }
    },
    {
      "id": 3176,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3140,
      "value": {
        "id": 920,
        "value": "Readme",
        "link_id": 3176
      }
    },
    {
      "id": 3177,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3133,
      "value": {
        "id": 921,
        "value": "ReadmeSymbol",
        "link_id": 3177
      }
    },
    {
      "id": 3178,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3129,
      "value": {
        "id": 922,
        "value": "ReadmeHandler",
        "link_id": 3178
      }
    },
    {
      "id": 3179,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3128,
      "value": {
        "id": 923,
        "value": "ReadmeClientHandler",
        "link_id": 3179
      }
    },
    {
      "id": 3180,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3132,
      "value": {
        "id": 924,
        "value": "readmeCompatableTreeLink",
        "link_id": 3180
      }
    },
    {
      "id": 3181,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3131,
      "value": {
        "id": 925,
        "value": "TreeReadme",
        "link_id": 3181
      }
    },
    {
      "id": 3182,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3130,
      "value": {
        "id": 926,
        "value": "TreeReadmeComponent",
        "link_id": 3182
      }
    },
    {
      "id": 3183,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3149,
      "value": {
        "id": 927,
        "value": "InheritSymbol",
        "link_id": 3183
      }
    },
    {
      "id": 3184,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3146,
      "value": {
        "id": 928,
        "value": "Inherit",
        "link_id": 3184
      }
    },
    {
      "id": 3185,
      "type_id": 3,
      "from_id": 3154,
      "to_id": 3150,
      "value": {
        "id": 929,
        "value": "Output",
        "link_id": 3185
      }
    },
    {
      "id": 3328,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3329,
      "type_id": 4,
      "from_id": 3328,
      "to_id": 5
    },
    {
      "id": 3330,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 3331,
      "type_id": 1,
      "from_id": 8,
      "to_id": 8
    },
    {
      "id": 3332,
      "type_id": 36,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3333,
      "type_id": 39,
      "from_id": 3332,
      "to_id": 8
    },
    {
      "id": 3334,
      "type_id": 38,
      "from_id": 3332,
      "to_id": 3330
    },
    {
      "id": 3335,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 933,
        "value": "@deep-foundation/messaging",
        "link_id": 3335
      }
    },
    {
      "id": 3341,
      "type_id": 3,
      "from_id": 3335,
      "to_id": 3333,
      "value": {
        "id": 935,
        "value": "messagingTreeAny",
        "link_id": 3341
      }
    },
    {
      "id": 3342,
      "type_id": 3,
      "from_id": 3335,
      "to_id": 3329,
      "value": {
        "id": 936,
        "value": "messageValue",
        "link_id": 3342
      }
    },
    {
      "id": 3343,
      "type_id": 3,
      "from_id": 3335,
      "to_id": 3328,
      "value": {
        "id": 937,
        "value": "Message",
        "link_id": 3343
      }
    },
    {
      "id": 3344,
      "type_id": 3,
      "from_id": 3335,
      "to_id": 3334,
      "value": {
        "id": 938,
        "value": "messagingTreeReply",
        "link_id": 3344
      }
    },
    {
      "id": 3345,
      "type_id": 3,
      "from_id": 3335,
      "to_id": 3330,
      "value": {
        "id": 939,
        "value": "Reply",
        "link_id": 3345
      }
    },
    {
      "id": 3346,
      "type_id": 3,
      "from_id": 3335,
      "to_id": 3331,
      "value": {
        "id": 940,
        "value": "Author",
        "link_id": 3346
      }
    },
    {
      "id": 3347,
      "type_id": 3,
      "from_id": 3335,
      "to_id": 3332,
      "value": {
        "id": 941,
        "value": "messagingTree",
        "link_id": 3347
      }
    },
    {
      "id": 3357,
      "type_id": 17,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3358,
      "type_id": 15,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3359,
      "type_id": 15,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3360,
      "type_id": 18,
      "from_id": 3357,
      "to_id": 3359
    },
    {
      "id": 3361,
      "type_id": 15,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3362,
      "type_id": 19,
      "from_id": 3357,
      "to_id": 3361
    },
    {
      "id": 3363,
      "type_id": 16,
      "from_id": 3361,
      "to_id": 3328
    },
    {
      "id": 3364,
      "type_id": 70,
      "from_id": 3363,
      "to_id": 40
    },
    {
      "id": 3365,
      "type_id": 16,
      "from_id": 3361,
      "to_id": 3330
    },
    {
      "id": 3366,
      "type_id": 70,
      "from_id": 3365,
      "to_id": 40
    },
    {
      "id": 3367,
      "type_id": 16,
      "from_id": 3361,
      "to_id": 3
    },
    {
      "id": 3368,
      "type_id": 70,
      "from_id": 3367,
      "to_id": 40
    },
    {
      "id": 3369,
      "type_id": 15,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3370,
      "type_id": 20,
      "from_id": 3357,
      "to_id": 3369
    },
    {
      "id": 3371,
      "type_id": 16,
      "from_id": 3369,
      "to_id": 125
    },
    {
      "id": 3372,
      "type_id": 70,
      "from_id": 3371,
      "to_id": 40
    },
    {
      "id": 3373,
      "type_id": 77,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3374,
      "type_id": 105,
      "from_id": 3373,
      "to_id": 798
    },
    {
      "id": 3375,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 943,
        "value": "async ({ deep, data: { oldLink }, require }) => {\n    const axios = require('axios');\n    const router = await deep.id('@deep-foundation/telegram-bot', 'router');\n    const onTelegramInHandler = await deep.id('@deep-foundation/telegram-bot', 'onTelegramInHandler');\n\n    const containTree = deep.idLocal('@deep-foundation/core', 'containTree');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n\n    const { data: deletedLinks } = await deep.delete({\n        up: {\n            tree_id: containTree,\n            parent: {\n                type_id: Contain,\n                string: { value: { _in: [\n                    'route'+oldLink.from_id,\n                    'handle'+oldLink.from_id,\n                    'use'+oldLink.from_id,\n                    'include'+oldLink.from_id,\n                    'tree'+oldLink.from_id,\n                    'ruleInclude'+oldLink.from_id,\n                    'ruleTree'+oldLink.from_id,\n                ] } },\n            },\n        },\n    });\n\n    const { data: deletedWebhook } = await axios.get(`https://api.telegram.org/bot${token?.value?.value}/deleteWebhook`);\n\n    return {\n        deletedLinks,\n        deletedWebhook\n    };\n}",
        "link_id": 3375
      }
    },
    {
      "id": 3376,
      "type_id": 35,
      "from_id": 83,
      "to_id": 3375
    },
    {
      "id": 3377,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 944,
        "value": "async ({ deep, data: { newLink, triggeredByLinkId }, require }) => {\n    const { Telegraf } = require('telegraf');\n    const Markup = require('telegraf/markup');\n\n    const Bot = await deep.id('@deep-foundation/telegram-bot', 'Bot');\n    const Token = await deep.id('@deep-foundation/telegram-bot', 'Token');\n    const Active = await deep.id('@deep-foundation/telegram-bot', 'Active');\n    const Conversation = await deep.id('@deep-foundation/telegram-bot', 'Conversation');\n    const HandleTelegramBotOut = await deep.id('@deep-foundation/telegram-bot', 'HandleTelegramBotOut');\n    const messagingTree = await deep.id('@deep-foundation/messaging', 'messagingTree');\n    const containTree = deep.idLocal('@deep-foundation/core', 'containTree');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n\n    function splitStringIntoChunks(str, chunkSize = 4096) {\n        const chunks = [];\n        for (let i = 0, len = str.length; i < len; i += chunkSize) {\n            chunks.push(str.substring(i, i + chunkSize));\n        }\n        return chunks;\n    }\n\n    const botId = (await deep.select({\n        type_id: Bot,\n        down: {\n            tree_id: containTree,\n            link_id: triggeredByLinkId\n        },\n    }))?.data?.[0]?.id;\n    if (!botId) {\n        const botId = (await deep.select({\n            type_id: Bot,\n            down: {\n                tree_id: messagingTree,\n                link_id: newLink.id,\n            },\n        }))?.data?.[0]?.id;\n        const token = (await deep.select({\n            type_id: Token,\n            in: {\n                type_id: Active,\n                from: {\n                    down: {\n                        tree_id: messagingTree,\n                        link_id: newLink.id,\n                    },\n                },\n            },\n        }))?.data?.[0];\n        const conversationId = (await deep.select({\n            type_id: Conversation,\n            down: {\n                tree_id: messagingTree,\n                link_id: newLink.id,\n            },\n        }))?.data?.[0]?.id;\n        const replyToId = newLink.to_id;\n\n        const message = (await deep.select(newLink.from_id))?.data?.[0];\n\n        const bot = new Telegraf(token?.value?.value);\n\n        const { data: handles } = await deep.select({\n            type_id: HandleTelegramBotOut,\n            from_id: botId,\n            order_by: { id: 'asc' },\n        });\n\n        const state = {\n            defaultHandling: true,\n        };\n        const handled = {};\n        for (let h in handles) {\n            const packageId = (await deep.select({\n                out: { type_id: Contain, to_id: handles[h].to_id },\n            }))?.data?.[0]?.id;\n            if (!packageId) {\n                handled[handles[h].to_id] = { error: `!packageId by handler(${handles[h].to_id}).in(Contain).from` };\n                continue;\n            }\n            const hdeep = new deep.DeepClient({\n                deep, ...(await deep.jwt({ linkId: packageId }))\n            })\n            handled[handles[h].to_id] = await hdeep.eval({\n                linkId: botId,\n                handlerId: handles[h].to_id,\n                input: {\n                    data: {\n                        state,\n                        bot,\n                        botId,\n                        userId: triggeredByLinkId,\n                        conversationId,\n                        handlerId: handles[h].to_id,\n                        reply: newLink,\n                        message,\n                    },\n                },\n            });\n        }\n\n        if (state.defaultHandling) {\n            const chanks = splitStringIntoChunks(message?.value?.value);\n            for (let c in chanks) {\n                bot.telegram.sendMessage(\n                    await deep.name(conversationId),\n                    chanks[c],\n                );\n            }\n        }\n\n        return {\n            botId,\n            conversationId,\n            replyToId,\n            message,\n            token,\n        };\n    } else {\n        return { botId };\n    }\n}",
        "link_id": 3377
      }
    },
    {
      "id": 3378,
      "type_id": 35,
      "from_id": 83,
      "to_id": 3377
    },
    {
      "id": 3379,
      "type_id": 49,
      "from_id": 3358,
      "to_id": 3378
    },
    {
      "id": 3380,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 945,
        "value": "async (req, res, next, { deep, require, data: { baseUrl, originalUrl, path } }) => {\n    const { DeepClient } = await import('@deep-foundation/deeplinks/imports/client.js');\n\n    const User = deep.idLocal('@deep-foundation/core', 'User');\n    const Join = deep.idLocal('@deep-foundation/core', 'Join');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n    const Message = await deep.id('@deep-foundation/messaging', 'Message');\n    const Reply = await deep.id('@deep-foundation/messaging', 'Reply');\n    const Conversation = await deep.id('@deep-foundation/telegram-bot', 'Conversation');\n\n    const HandleTelegramBotIn = await deep.id('@deep-foundation/telegram-bot', 'HandleTelegramBotIn');\n\n    const m = req?.body?.message || req?.body?.callback_query?.message;\n    const _message_id = m?.message_id;\n    const _date = m?.date;\n    const _message = m?.text;\n    const _voice = m?.voice;\n    const _audio = m?.audio;\n    const _userId = m?.from?.id;\n    const _is_bot = m?.from?.is_bot;\n    const _username = m?.from?.username;\n    const _conversationId = m?.chat?.id;\n    const _replyId = m?.reply_to_message?.message_id;\n\n    const botId = +baseUrl.split('/').slice(-1)[0];\n    \n    // found or insert user based on telegram nick\n    let userId;\n    userId = (await deep.select({\n        type_id: User,\n        in: {\n            type_id: Contain, from_id: botId,\n            string: { value: `${_userId}` },\n        },\n    }))?.data?.[0]?.id;\n    if (!userId) {\n        userId = (await deep.insert({\n            type_id: User,\n            out: { data: [\n                {\n                    type_id: Join,\n                    to_id: await deep.id('deep', 'users'),\n                },\n                {\n                    type_id: Join,\n                    to_id: botId,\n                },\n            ] },\n            in: { data: {\n                type_id: Contain, from_id: botId,\n                string: { data: { value: `${_userId}` } }, // telegram nick\n            } },\n        }))?.data?.[0]?.id;\n    }\n\n    const udeep = new DeepClient({ deep, ...(await deep.jwt({ linkId: userId })) });\n\n    // found or insert user based on telegram nick\n    let conversationId;\n    conversationId = (await deep.select({\n        type_id: Conversation,\n        in: {\n            type_id: Contain, from_id: userId,\n            string: { value: `${_conversationId}` },\n        },\n    }))?.data?.[0]?.id;\n    if (!conversationId) {\n        conversationId = (await deep.insert({\n            type_id: Conversation,\n            in: { data: {\n                type_id: Contain, from_id: userId,\n                string: { data: { value: `${_conversationId}` } }, // telegram conversation id\n            } },\n            out: { data: {\n                type_id: Reply,\n                to_id: botId,\n                in: { data: {\n                    type_id: Contain, from_id: userId,\n                } },\n            } },\n        }))?.data?.[0]?.id;\n    }\n\n    const { data: handles } = await deep.select({\n        type_id: HandleTelegramBotIn,\n        from_id: botId,\n        order_by: { id: 'asc' },\n    });\n\n    const state = {\n        defaultHandling: true,\n    };\n    const handled = {};\n    for (let h in handles) {\n        const packageId = (await deep.select({\n            out: { type_id: Contain, to_id: handles[h].to_id },\n        }))?.data?.[0]?.id;\n        if (!packageId) {\n            handled[handles[h].to_id] = { error: `!packageId by handler(${handles[h].to_id}).in(Contain).from` };\n            continue;\n        }\n        const hdeep = new deep.DeepClient({\n            deep, ...(await deep.jwt({ linkId: packageId }))\n        });\n        handled[handles[h].to_id] = await hdeep.eval({\n            linkId: botId,\n            handlerId: handles[h].to_id,\n            input: {\n                data: {\n                    state,\n                    req, res,\n                    botId,\n                    userId,\n                    conversationId,\n                    handlerId: handles[h].to_id,\n                    udeep,\n                },\n            },\n        });\n    }\n\n    if (state.defaultHandling) {\n        // found or insert user based on telegram nick\n        let replyId = conversationId; // if not exists, then convers\n        if (_replyId) replyId = (await deep.select({ \n            type_id: Contain,\n            string: { value: `${_replyId}` },\n        }))?.data?.[0]?.to_id;\n        const messageInserted = await udeep.insert({\n            type_id: Message,\n            string: { data: { value: _message } },\n            in: { data: {\n                type_id: Contain, from_id: userId,\n                string: { data: { value: `${_message_id}` } },\n            } },\n            out: { data: {\n                type_id: Reply,\n                to_id: replyId,\n                in: { data: {\n                    type_id: Contain, from_id: userId,\n                } },\n            } },\n        });\n        const { data: messageId } = messageInserted;\n        res.send(JSON.stringify({\n            userId,\n            conversationId,\n            messageId,\n        }));\n    }\n}",
        "link_id": 3380
      }
    },
    {
      "id": 3381,
      "type_id": 35,
      "from_id": 83,
      "to_id": 3380
    },
    {
      "id": 3382,
      "type_id": 30,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 946,
        "value": "async ({ deep, data: { newLink, deeplinksUrl }, require }) => {\n    const axios = require('axios');\n    const router = await deep.id('@deep-foundation/telegram-bot', 'router');\n    const onTelegramInHandler = await deep.id('@deep-foundation/telegram-bot', 'onTelegramInHandler');\n    const selector = await deep.id('@deep-foundation/telegram-bot', 'botSelector');\n    const tuaimRuleSubjectSelector = await deep.id('@deep-foundation/telegram-bot', 'tuaimRuleSubjectSelector');\n    const messagingTree = await deep.id('@deep-foundation/messaging', 'messagingTree');\n    const joinTree = await deep.id('@deep-foundation/core', 'joinTree');\n\n    let { data: [token] } = await deep.select({ id: newLink.to_id });\n\n    const Route = deep.idLocal('@deep-foundation/core', 'Route');\n    const RouterStringUse = deep.idLocal('@deep-foundation/core', 'RouterStringUse');\n    const HandleRoute = deep.idLocal('@deep-foundation/core', 'HandleRoute');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n    const SelectorTree = deep.idLocal('@deep-foundation/core', 'SelectorTree');\n    const SelectorInclude = deep.idLocal('@deep-foundation/core', 'SelectorInclude');\n\n    const contain = (value, from_id) => ({\n        in: { data: {\n            type_id: Contain,\n            from_id: from_id,\n            string: { data: { value } },\n        } },\n    });\n\n    const { data: insertedLinks } = await deep.insert([\n        {\n            type_id: SelectorInclude,\n            from_id: tuaimRuleSubjectSelector,\n            to_id: newLink.from_id,\n            ...contain('ruleInclude'+newLink.from_id, tuaimRuleSubjectSelector),\n            out: { data: {\n                type_id: SelectorTree,\n                to_id: joinTree,\n                ...contain('ruleTree'+newLink.from_id, tuaimRuleSubjectSelector),\n            } },\n        },\n        {\n            type_id: SelectorInclude,\n            from_id: selector,\n            to_id: newLink.from_id,\n            ...contain('include'+newLink.from_id, selector),\n            out: { data: {\n                type_id: SelectorTree,\n                to_id: messagingTree,\n                ...contain('tree'+newLink.from_id, selector),\n            } },\n        },\n        {\n            type_id: Route,\n            ...contain('route'+newLink.from_id, router),\n            out: { data: [\n                {\n                    type_id: HandleRoute,\n                    to_id: onTelegramInHandler,\n                    ...contain('handle'+newLink.from_id, router),\n                },\n                {\n                    type_id: RouterStringUse,\n                    to_id: router,\n                    string: { data: { value: '/packages/deep-foundation/telegram-bot/'+newLink.from_id } },\n                    ...contain('use'+newLink.from_id, router),\n                },\n            ] },\n        },\n    ]);\n\n    const { data: insertedWebhook } = await axios.get(`https://api.telegram.org/bot${token?.value?.value}/setWebhook?url=${deeplinksUrl}/packages/deep-foundation/telegram-bot/${newLink.from_id}`);\n\n    return {\n        insertedLinks,\n        insertedWebhook,\n    };\n}",
        "link_id": 3382
      }
    },
    {
      "id": 3383,
      "type_id": 35,
      "from_id": 83,
      "to_id": 3382
    },
    {
      "id": 3384,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3385,
      "type_id": 146,
      "from_id": 3384,
      "to_id": 3384,
      "value": {
        "id": 947,
        "value": "🔑",
        "link_id": 3385
      }
    },
    {
      "id": 3386,
      "type_id": 4,
      "from_id": 3384,
      "to_id": 5
    },
    {
      "id": 3387,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3388,
      "type_id": 39,
      "from_id": 3332,
      "to_id": 3387
    },
    {
      "id": 3389,
      "type_id": 1,
      "from_id": 0,
      "to_id": 0
    },
    {
      "id": 3390,
      "type_id": 146,
      "from_id": 3389,
      "to_id": 3389,
      "value": {
        "id": 948,
        "value": "🤖",
        "link_id": 3390
      }
    },
    {
      "id": 3391,
      "type_id": 39,
      "from_id": 3332,
      "to_id": 3389
    },
    {
      "id": 3392,
      "type_id": 48,
      "from_id": 3389,
      "to_id": 35
    },
    {
      "id": 3393,
      "type_id": 164,
      "from_id": 83,
      "to_id": 3392
    },
    {
      "id": 3394,
      "type_id": 48,
      "from_id": 3389,
      "to_id": 35
    },
    {
      "id": 3395,
      "type_id": 164,
      "from_id": 83,
      "to_id": 3394
    },
    {
      "id": 3396,
      "type_id": 1,
      "from_id": 3389,
      "to_id": 3384
    },
    {
      "id": 3397,
      "type_id": 146,
      "from_id": 3396,
      "to_id": 3396,
      "value": {
        "id": 949,
        "value": "💥",
        "link_id": 3397
      }
    },
    {
      "id": 3398,
      "type_id": 51,
      "from_id": 3396,
      "to_id": 3376
    },
    {
      "id": 3399,
      "type_id": 49,
      "from_id": 3396,
      "to_id": 3383
    },
    {
      "id": 3400,
      "type_id": 2,
      "from_id": 0,
      "to_id": 0,
      "value": {
        "id": 950,
        "value": "@deep-foundation/telegram-bot",
        "link_id": 3400
      }
    },
    {
      "id": 3406,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3390,
      "value": {
        "id": 952,
        "value": "botSymbol",
        "link_id": 3406
      }
    },
    {
      "id": 3407,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3391,
      "value": {
        "id": 953,
        "value": "messagingTreeIncludeBot",
        "link_id": 3407
      }
    },
    {
      "id": 3408,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3393,
      "value": {
        "id": 954,
        "value": "HandleTelegramBotOutSupportsCompatable",
        "link_id": 3408
      }
    },
    {
      "id": 3409,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3392,
      "value": {
        "id": 955,
        "value": "HandleTelegramBotOut",
        "link_id": 3409
      }
    },
    {
      "id": 3410,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3395,
      "value": {
        "id": 956,
        "value": "HandleTelegramBotInSupportsCompatable",
        "link_id": 3410
      }
    },
    {
      "id": 3411,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3394,
      "value": {
        "id": 957,
        "value": "HandleTelegramBotIn",
        "link_id": 3411
      }
    },
    {
      "id": 3412,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3397,
      "value": {
        "id": 958,
        "value": "activeSymbol",
        "link_id": 3412
      }
    },
    {
      "id": 3413,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3398,
      "value": {
        "id": 959,
        "value": "onActiveDeleteHandle",
        "link_id": 3413
      }
    },
    {
      "id": 3414,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3399,
      "value": {
        "id": 960,
        "value": "onActiveInsertHandle",
        "link_id": 3414
      }
    },
    {
      "id": 3415,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3396,
      "value": {
        "id": 961,
        "value": "Active",
        "link_id": 3415
      }
    },
    {
      "id": 3416,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3385,
      "value": {
        "id": 962,
        "value": "tokenSymbol",
        "link_id": 3416
      }
    },
    {
      "id": 3417,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3386,
      "value": {
        "id": 963,
        "value": "tokenValue",
        "link_id": 3417
      }
    },
    {
      "id": 3418,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3384,
      "value": {
        "id": 964,
        "value": "Token",
        "link_id": 3418
      }
    },
    {
      "id": 3419,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3388,
      "value": {
        "id": 965,
        "value": "messagingTreeIncludeConversation",
        "link_id": 3419
      }
    },
    {
      "id": 3420,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3387,
      "value": {
        "id": 966,
        "value": "Conversation",
        "link_id": 3420
      }
    },
    {
      "id": 3421,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3360,
      "value": {
        "id": 967,
        "value": "tuaimRuleSubject",
        "link_id": 3421
      }
    },
    {
      "id": 3422,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3362,
      "value": {
        "id": 968,
        "value": "tuaimRuleObject",
        "link_id": 3422
      }
    },
    {
      "id": 3423,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3370,
      "value": {
        "id": 969,
        "value": "tuaimRuleAction",
        "link_id": 3423
      }
    },
    {
      "id": 3424,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3357,
      "value": {
        "id": 970,
        "value": "telegramUsersAllowInsertMessaging",
        "link_id": 3424
      }
    },
    {
      "id": 3425,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3379,
      "value": {
        "id": 971,
        "value": "onReplyInsertHandle",
        "link_id": 3425
      }
    },
    {
      "id": 3426,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3358,
      "value": {
        "id": 972,
        "value": "botSelector",
        "link_id": 3426
      }
    },
    {
      "id": 3427,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3359,
      "value": {
        "id": 973,
        "value": "tuaimRuleSubjectSelector",
        "link_id": 3427
      }
    },
    {
      "id": 3428,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3364,
      "value": {
        "id": 974,
        "value": "tuaimRuleObjectMessageTree",
        "link_id": 3428
      }
    },
    {
      "id": 3429,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3363,
      "value": {
        "id": 975,
        "value": "tuaimRuleObjectMessage",
        "link_id": 3429
      }
    },
    {
      "id": 3430,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3366,
      "value": {
        "id": 976,
        "value": "tuaimRuleObjectReplyTree",
        "link_id": 3430
      }
    },
    {
      "id": 3431,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3365,
      "value": {
        "id": 977,
        "value": "tuaimRuleObjectReply",
        "link_id": 3431
      }
    },
    {
      "id": 3432,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3368,
      "value": {
        "id": 978,
        "value": "tuaimRuleObjectContainTree",
        "link_id": 3432
      }
    },
    {
      "id": 3433,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3367,
      "value": {
        "id": 979,
        "value": "tuaimRuleObjectContain",
        "link_id": 3433
      }
    },
    {
      "id": 3434,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3361,
      "value": {
        "id": 980,
        "value": "tuaimRuleObjectSelector",
        "link_id": 3434
      }
    },
    {
      "id": 3435,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3372,
      "value": {
        "id": 981,
        "value": "tuaimRuleActionTree",
        "link_id": 3435
      }
    },
    {
      "id": 3436,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3371,
      "value": {
        "id": 982,
        "value": "tuaimRuleActionSelectorInclude",
        "link_id": 3436
      }
    },
    {
      "id": 3437,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3369,
      "value": {
        "id": 983,
        "value": "tuaimRuleActionSelector",
        "link_id": 3437
      }
    },
    {
      "id": 3438,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3374,
      "value": {
        "id": 984,
        "value": "routerListening",
        "link_id": 3438
      }
    },
    {
      "id": 3439,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3373,
      "value": {
        "id": 985,
        "value": "router",
        "link_id": 3439
      }
    },
    {
      "id": 3440,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3376,
      "value": {
        "id": 986,
        "value": "onActiveDeleteHandler",
        "link_id": 3440
      }
    },
    {
      "id": 3441,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3375,
      "value": {
        "id": 987,
        "value": "onActiveDelete",
        "link_id": 3441
      }
    },
    {
      "id": 3442,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3378,
      "value": {
        "id": 988,
        "value": "onReplyInsertHandler",
        "link_id": 3442
      }
    },
    {
      "id": 3443,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3377,
      "value": {
        "id": 989,
        "value": "onReplyInsert",
        "link_id": 3443
      }
    },
    {
      "id": 3444,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3381,
      "value": {
        "id": 990,
        "value": "onTelegramInHandler",
        "link_id": 3444
      }
    },
    {
      "id": 3445,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3380,
      "value": {
        "id": 991,
        "value": "onTelegramIn",
        "link_id": 3445
      }
    },
    {
      "id": 3446,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3383,
      "value": {
        "id": 992,
        "value": "onActiveInsertHandler",
        "link_id": 3446
      }
    },
    {
      "id": 3447,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3382,
      "value": {
        "id": 993,
        "value": "onActiveInsert",
        "link_id": 3447
      }
    },
    {
      "id": 3448,
      "type_id": 3,
      "from_id": 3400,
      "to_id": 3389,
      "value": {
        "id": 994,
        "value": "Bot",
        "link_id": 3448
      }
    }
  ],
  "handlers": [
    {
      "dist_id": 86,
      "src_id": 86,
      "handler_id": 87,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 86,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 3,
          "value": "\nasync ({ deep, require, gql, data: { newLink } }) => {\n  const { data: [pq] } = await deep.select({ id: newLink.to_id });\n  const { data: { packager_install: imported }, error } = await deep.apolloClient.query({\n    query: gql`query PACKAGE_INSTALL($address: String!) {\n      packager_install(input: { address: $address }) {\n        ids\n        packageId\n        errors\n      }\n    }`,\n    variables: {\n      address: pq?.value?.value,\n    },\n  });\n  if (error) throw error;\n  if (imported?.errors?.length) throw imported.errors;\n  await deep.insert({\n    type_id: deep.idLocal('@deep-foundation/core', 'Contain'),\n    from_id: newLink.from_id,\n    to_id: imported.packageId,\n  });\n  return imported;\n}\n    ",
          "link_id": 86
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 89,
      "src_id": 89,
      "handler_id": 90,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 89,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 4,
          "value": "\nasync ({ deep, require, gql, data: { newLink } }) => {\n  const { data: [pq] } = await deep.select({ id: newLink.to_id });\n  const { data: { packager_publish: exported }, error } = await deep.apolloClient.query({\n    query: gql`query PACKAGE_PUBLISH($address: String!, $id: Int) {\n      packager_publish(input: { address: $address, id: $id }) {\n        address\n        errors\n      }\n    }`,\n    variables: {\n      address: pq?.value?.value,\n      id: newLink.from_id,\n    },\n  });\n  if (error) throw error;\n  if (exported?.errors?.length) throw exported.errors;\n  return exported;\n}\n    ",
          "link_id": 89
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 721,
      "src_id": 721,
      "handler_id": 722,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 721,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 314,
          "value": "\nasync ({ deep, require, gql, data: { newLink } }) => {\n    const ts = require('typescript');\n  const { data: [generatedFrom] } = await deep.select({\n      type_id: await deep.id('@deep-foundation/core', 'GeneratedFrom'),\n    to_id: newLink.id, \n  });\n  const value = newLink?.value?.value;\n  let compiledString = '';\n  if (value) {\n    const result = ts.transpileModule(value, {\n      \"compilerOptions\": {\n        \"allowSyntheticDefaultImports\": true,\n        \"experimentalDecorators\": true,\n        \"inlineSourceMap\": true,\n        inlineSources: true,\n        \"noImplicitAny\": false,\n        \"removeComments\": true,\n        \"jsx\": \"react\",\n        \"module\": \"ESNext\",\n        \"moduleResolution\": \"node\",\n        \"target\": \"ESNext\",\n        \"skipLibCheck\": true,\n        \"resolveJsonModule\": true,\n        \"esModuleInterop\": true,\n        \"isolatedModules\": true\n      }\n    });\n    if (!result.outputText) {\n      throw result;\n    }\n    compiledString = result.outputText || '';\n  }\n  if (!generatedFrom) {\n      await deep.insert({\n        type_id: await deep.id('@deep-foundation/core', 'GeneratedFrom'),\n      to_id: newLink.id,\n      in: { data: {\n          type_id: await deep.id('@deep-foundation/core', 'Contain'),\n        from_id: newLink.id,\n      } },\n      from: { data: {\n          type_id: await deep.id('@deep-foundation/core', 'SyncTextFile'),\n        string: { data: { value: compiledString } },\n        in: { data: {\n            type_id: await deep.id('@deep-foundation/core', 'Contain'),\n          from_id: newLink.id,\n          string: { data: { value: 'generated' } },\n        } },\n      } },\n    });\n  } else {\n      await deep.update({\n        link_id: { _eq: generatedFrom.from_id },\n    }, {\n        value: compiledString,\n    }, { table: 'strings' });\n  }\n}\n",
          "link_id": 721
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 750,
      "src_id": 750,
      "handler_id": 751,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 750,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 326,
          "value": "async ({ deep, require, gql, data: { triggeredByLinkId, newLink } }) => {\n  const fs = await deep.import('fs');\n  const encoding = 'utf8';\n  const deepPackageKeyWord = 'deep-package';\n  \n  const makeTempDirectory = async () => {\n    const os = await deep.import('os');\n    const { v4: uuid } = await deep.import('uuid');\n    \n    const baseTempDirectory = os.tmpdir();\n    const randomId = uuid();\n    const tempDirectory = [baseTempDirectory,randomId].join('/');\n    fs.mkdirSync(tempDirectory);\n    console.log(tempDirectory);\n    return tempDirectory;\n  };\n  const npmInstall = async (packageName, installationPath, setTildaPrefix) => {\n    const execSync = (await deep.import('child_process')).execSync;\n\n    if (setTildaPrefix === true) {\n      const savePrefixCommand = `npm --prefix \"${installationPath}\" config set save-prefix=\"~\"`;\n      try {\n        const output = execSync(savePrefixCommand, { \n          encoding: 'utf-8',\n          cwd: installationPath\n        }).toString();\n        console.log(`${savePrefixCommand}\\n`, output);\n      } catch(error) {\n        return {\n          rejected: error\n        };\n      }\n    }\n  \n    let result;\n    const command = `npm --prefix \"${installationPath}\" i ${packageName}`;\n    try {\n      const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: installationPath\n      }).toString();\n      console.log(`${command}\\n`, output);\n      result = {\n        resolved: {\n          status: 0,\n          stdout: output\n        }\n      };\n    } catch(error) {\n      return {\n        rejected: error\n      };\n    }\n\n    if (setTildaPrefix === true) {\n      const deletePrefixCommand = `npm --prefix \"${installationPath}\" config delete save-prefix`;\n      try {\n        const output = execSync(deletePrefixCommand, { \n          encoding: 'utf-8',\n          cwd: installationPath\n        }).toString();\n        console.log(`${deletePrefixCommand}\\n`, output);\n      } catch(error) {\n        return {\n          rejected: error\n        };\n      }\n    }\n\n    return result;\n  };\n  const npmLogin = async (token, tempDirectory) => {\n    const execSync = (await deep.import('child_process')).execSync;\n  \n    const command = `npm set \"//registry.npmjs.org/:_authToken\" ${token}`;\n    const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: tempDirectory\n    });\n    console.log(`${command}\\n`, output);\n    return output;\n  };\n  const npmPublish = async (tempDirectory) => {\n    const execSync = (await deep.import('child_process')).execSync;\n  \n    const command = `npm publish --access public`;\n    const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: tempDirectory\n    });\n    console.log(`${command}\\n`, output);\n    return output;\n  };\n  const makeDeepPackagePath = (tempDirectory, packageName) => [tempDirectory, 'node_modules', packageName].join('/');\n  const makeDeepJsonPath = (packagePath) => [packagePath, 'deep.json'].join('/');\n  const makePackageJsonPath = (packagePath) => [packagePath, 'package.json'].join('/');\n  const deepExport = async (packageId) => {\n    const packager = new (await deep.import('@deep-foundation/deeplinks/imports/packager.js')).Packager(deep);\n    const exported = await packager.export({ packageLinkId: packageId });\n    console.log(exported);\n    if (exported?.errors?.length) throw exported;\n    return exported;\n  };\n  const loadNpmToken = async () => {\n    const containTreeId = await deep.id('@deep-foundation/core', 'containTree');\n    const tokenTypeId = await deep.id('@deep-foundation/npm-packager', 'Token');\n    const { data: [{ value: { value: npmToken = undefined } = {}} = {}] = []} = await deep.select({\n      up: {\n        tree_id: { _eq: containTreeId },\n        parent: { id: { _eq: triggeredByLinkId } },\n        link: { type_id: { _eq: tokenTypeId } }\n      }\n    });\n    return npmToken;\n  };\n  const loadFromJson = (path) => {\n    if (!fs.existsSync(path)) {\n      throw new Error(`${path} is not found.`);\n    }\n    const json = fs.readFileSync(path, { encoding });\n    if (!json) {\n      throw new Error(`${path} is empty or was not read properly.`);\n    }\n    console.log(`Parsing ${path} ...`);\n    const data = JSON.parse(json);\n    console.log(`Parsing ${path} finished.`);\n    return data;\n  }\n  const saveAsJson = (path, data) => {\n    fs.writeFileSync(path, JSON.stringify(data, null, 2), { encoding });\n  }\n  const updateVersion = async (deepJsonPath, packageJsonPath, localVersion) => {\n    const semver = await deep.import('semver');\n\n    const deepPackage = loadFromJson(deepJsonPath);\n    const npmPackage = loadFromJson(packageJsonPath);\n\n    const oldNpmVersion = npmPackage?.version || '0.0.0';\n\n    const nextVersion = semver.gt(localVersion, oldNpmVersion) ? localVersion : semver.inc(oldNpmVersion, 'patch');\n\n    npmPackage.version = nextVersion;\n    if (!deepPackage.package) {\n      deepPackage.package = {};\n    }\n    deepPackage.package.version = nextVersion;  \n\n    saveAsJson(deepJsonPath, deepPackage);\n    saveAsJson(packageJsonPath, npmPackage);\n\n    return nextVersion;\n  };\n  const addKeyword = (packageJsonPath, keyword) => {\n    const npmPackage = loadFromJson(packageJsonPath);\n    if (npmPackage?.keywords?.length > 0) {\n      if (!npmPackage.keywords.includes(keyword)) {\n        npmPackage.keywords.push(keyword); \n      }\n    } else {\n      npmPackage.keywords = [ keyword ];\n    }\n    saveAsJson(packageJsonPath, npmPackage);\n  };\n  const installDependencies = async (packagePath, dependencies) => {\n    for (const dependency of dependencies) {\n      const dependencyPackageName = `${dependency.name}@${dependency.version}`;\n      const installationResult = await npmInstall(dependencyPackageName, packagePath, true);\n      if (installationResult?.rejected) {\n        console.log(`Unable to install ${dependencyPackageName} dependency.`)\n        throw installationResult.rejected;\n      } else if (!installationResult?.resolved) {\n        throw new Error(`Unsupported NPM dependency installation result for ${dependencyPackageName} dependency package.`);\n      }\n    }\n  }\n\n  if (!triggeredByLinkId) {\n    throw new Error('Publish link should be inserted using JWT token (role link), it cannot be inserted using hasura secret (role admin).');\n  }\n\n  const { data: [packageQuery] } = await deep.select({ id: newLink.to_id });\n  const packageName = packageQuery?.value?.value;\n  if (!packageName) {\n    throw new Error('Package query value is empty.');\n  }\n  const packageVersionTypeId = await deep.id('@deep-foundation/core', 'PackageVersion');\n  const { data: [{ versions: [{ version: { value: localVersion = undefined } = {}} = {}] = []} = {}] = []} = await deep.select({ id: newLink.from_id }, { returning: `id versions: in(where: { type_id: { _eq: ${packageVersionTypeId} } }) { id type_id version: value }` });\n  if (!localVersion) {\n    throw new Error('Package must have a version.');\n  }\n\n  const packageId = newLink.from_id;\n  const { data: [{ value: actualPackageName }]} = await deep.select(\n    { link_id: { _eq: packageId } },\n    {\n      table: 'strings',\n      returning: 'value'\n    }\n  );\n  if (packageName !== actualPackageName) {\n    throw new Error('Package query value should be equal to actual package name.');\n  }\n  const tempDirectory = await makeTempDirectory();\n  try {\n    const npmToken = await loadNpmToken();\n    if (!npmToken) {\n      throw new Error('NPM token is required to publish package. NPM token should be contained by user that does insert publish link.');\n    }\n    await npmLogin(npmToken, tempDirectory);\n    const installationResult = await npmInstall(packageName, tempDirectory, false);\n    let deepPackagePath; \n    let packageJsonPath;\n    if (installationResult?.resolved) {\n      deepPackagePath = makeDeepPackagePath(tempDirectory, packageName);\n      packageJsonPath = makePackageJsonPath(deepPackagePath);\n    } else if(installationResult?.rejected) {\n      deepPackagePath = tempDirectory;\n      packageJsonPath = makePackageJsonPath(deepPackagePath);\n      const packageJson = {\n        name: packageName\n      };\n      saveAsJson(packageJsonPath, packageJson);\n    } else {\n      throw new Error(`Unsupported NPM installation result for ${packageName} package.`);\n    }\n    console.log('deepPackagePath', deepPackagePath);\n    console.log('packageJsonPath', packageJsonPath);\n    \n    const pkg = await deepExport(packageId);\n    console.log(pkg);\n    await installDependencies(deepPackagePath, pkg.dependencies);\n    const deepJsonPath = makeDeepJsonPath(deepPackagePath);\n    saveAsJson(deepJsonPath, pkg);\n    const nextVersion = await updateVersion(deepJsonPath, packageJsonPath, localVersion);\n    addKeyword(packageJsonPath, deepPackageKeyWord);\n    await npmPublish(deepPackagePath);\n    if (nextVersion !== localVersion) {\n      await deep.update({\n        link: {\n          type_id: { _eq: await deep.id('@deep-foundation/core', 'PackageVersion') },\n          to_id: { _eq: packageId },\n        },\n      }, { value: nextVersion }, { table: 'strings' });\n    }\n  } finally {\n    fs.rmSync(tempDirectory, { recursive: true, force: true });\n  }\n}",
          "link_id": 750
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 752,
      "src_id": 752,
      "handler_id": 753,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 752,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 327,
          "value": "async ({ deep, gql, data: { triggeredByLinkId, newLink } }) => {\n  const deepFileName = 'deep.json';\n  const fs = await deep.import('fs');\n\n  const makeTempDirectory = async () => {\n    const os = await deep.import('os');\n    const { v4: uuid } = await deep.import('uuid');\n    \n    const baseTempDirectory = os.tmpdir();\n    const randomId = uuid();\n    const tempDirectory = [baseTempDirectory,randomId].join('/');\n    fs.mkdirSync(tempDirectory);\n    console.log(tempDirectory);\n    return tempDirectory;\n  };\n  const npmInstall = async (packageName, tempDirectory) => {\n    const execSync = (await deep.import('child_process')).execSync;\n\n    const command = `npm --prefix \"${tempDirectory}\" i ${packageName}`;\n    const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: tempDirectory\n    });\n    console.log(`${command}\\n`, output);\n    return output;\n  };\n  const npmLogin = async (token, tempDirectory) => {\n    const execSync = (await deep.import('child_process')).execSync;\n  \n    const command = `npm set \"//registry.npmjs.org/:_authToken\" ${token}`;\n    const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: tempDirectory\n    });\n    console.log(`${command}\\n`, output);\n    return output;\n  };\n  const makePackagePath = (tempDirectory, packageName) => [tempDirectory, 'node_modules', packageName].join('/');\n  const makeDeepJsonPath = (packagePath) => [packagePath, deepFileName].join('/');\n  const makePackageJsonPath = (packagePath) => [packagePath, 'package.json'].join('/');\n  const loadNpmToken = async () => {\n    const containTreeId = await deep.id('@deep-foundation/core', 'containTree');\n    const tokenTypeId = await deep.id('@deep-foundation/npm-packager', 'Token');\n    const { data: [{ value: { value: npmToken = undefined } = {}} = {}] = []} = await deep.select({\n      up: {\n        tree_id: { _eq: containTreeId },\n        parent: { id: { _eq: triggeredByLinkId } },\n        link: { type_id: { _eq: tokenTypeId } }\n      }\n    });\n    return npmToken;\n  };\n  const deepImport = async (deepJson, packageJson) => {\n    if (deepJson.package.name !== packageJson.name) {\n      throw new Error(`Package name is not synchronized between ${deepFileName} and package.json files.\n  ${deepFileName} package name: ${deepJson.package.name}.\n  package.json package name: ${packageJson.name}.`);\n    }\n    if (deepJson.package.version !== packageJson.version) {\n      throw new Error(`Package version is not synchronized between ${deepFileName} and package.json files.\n  ${deepFileName} package version: ${deepJson.package.version}.\n  package.json package version: ${packageJson.version}.`);\n    }\n    const packager = new (await deep.import('@deep-foundation/deeplinks/imports/packager.js')).Packager(deep);\n    const imported = await packager.import(deepJson);\n    console.log(imported);\n    if (imported?.errors?.length) throw imported;\n    return imported;\n  };\n  const getDeepPackagesList = async (rootPath) => {\n    const execSync = (await deep.import('child_process')).execSync;\n\n    const deepFileName = 'deep.json';\n    const deepFileNameLength = deepFileName.length;\n\n    const command = `find . -name ${deepFileName}`;\n    const output = execSync(command, { \n        encoding: 'utf-8',\n        cwd: rootPath\n    });\n    console.log('', `${command}\\n`, output);\n\n    const packages = output\n      .split(/\\r?\\n/)\n      .filter(line => line.trim())\n      .map(line => line.slice(2).slice(0, -deepFileNameLength - 1))\n      .map(line => line.split('/node_modules/'));\n    return packages;\n  };\n  const getDeepPackagesDependencies = async (rootPath, packages, packageName) => {\n    const dictionary = {};\n    for (const pkg of packages) {\n      const packagePath = [rootPath, pkg.join('/node_modules/')].join('/');\n      console.log('packagePath', packagePath);\n      const packageJsonPath = makePackageJsonPath(packagePath);\n      console.log('packageJsonPath', packageJsonPath);\n      if (!fs.existsSync(packageJsonPath)) {\n        throw new Error(`package.json for dependency ${pkg} is not found at ${packageJsonPath}. Looks like ${packageName} does not contain ${pkg} dependency in package.json.`);\n      }\n      const packageJson = await deep.import(packageJsonPath);\n      console.log('packageJson', packageJson);\n      const deepJsonPath = makeDeepJsonPath(packagePath);\n      console.log('deepJsonPath', deepJsonPath);\n      if (!fs.existsSync(deepJsonPath)) {\n        throw new Error(`deep.json for dependency ${pkg} is not found at ${deepJsonPath}. Looks like ${pkg} installed, but it does not contain deep.json. Make sure ${pkg} is a deep package.`);\n      }\n      const deepJson = await deep.import(deepJsonPath);\n      console.log('deepJson', deepJson);\n      const dependencies = packageJson.dependencies ?? {};\n      console.log('dependencies', dependencies);\n      const dependencyPackageName = pkg.at(-1);\n      console.log('dependencyPackageName', dependencyPackageName);\n      if (dictionary[dependencyPackageName]) {\n        if (packageJson.version === dictionary[dependencyPackageName].packageJson.version) {\n          console.log(`${dependencyPackageName}@${packageJson.version} was already added to a list of dependencies, no need to add it again.`)\n          continue;\n        } else {\n          throw new Error(`Multiple versions of the same package are not supported yet.\n${dependencyPackageName}@${dictionary[dependencyPackageName].packageJson.version} was already added to a list of dependencies from ${dictionary[dependencyPackageName].packagePath}.\nBut ${packageName} also contains ${dependencyPackageName}@${packageJson.version} dependency at ${packagePath}.`);\n        }\n      }\n      dictionary[dependencyPackageName] = { deepJson, packageJson, dependencies, packagePath };\n    }\n    for (const pkg in dictionary) {\n      const sourceDependencies = dictionary[pkg].dependencies;\n      const targetDependencies = [];\n      for (const dependency in sourceDependencies)\n      {\n        if (dictionary[dependency]) {\n          targetDependencies.push(dependency);\n        }\n      }\n      dictionary[pkg].dependencies = targetDependencies;\n    }\n    return dictionary;\n  }\n  const buildInstallationQueueCore = (deepPackagesDependencies, queue, set, packageName) => {\n    const dependencies = deepPackagesDependencies[packageName].dependencies;\n    for (const dependency of dependencies) {\n      if (!set[dependency]) {\n        buildInstallationQueueCore(deepPackagesDependencies, queue, set, dependency);\n      }\n    }\n    if(!set[packageName]) {\n      const deepJson = deepPackagesDependencies[packageName].deepJson;\n      const packageJson = deepPackagesDependencies[packageName].packageJson;\n      queue.push({ name: packageName, deepJson, packageJson });\n      set[packageName] = true;\n    }\n  }\n  const buildInstallationQueue = (deepPackagesDependencies, queue, set) => {\n    for (const packageName in deepPackagesDependencies) {\n      buildInstallationQueueCore(deepPackagesDependencies, queue, set, packageName);\n    }\n  }\n  const getExistingPackages = async (packageNames) => {\n    const packageTypeId = await deep.id('@deep-foundation/core', 'Package');\n    const packageVersionTypeId = await deep.id('@deep-foundation/core', 'PackageVersion');\n    const { data: packages } = await deep.select({\n      type_id: { _eq: packageTypeId },\n      string: { value: { _in: packageNames } }\n    }, {\n      name: 'GET_EXISTING_PACKAGES_WITH_VERSIONS',\n      returning: `\n        id\n        name: value\n        versions: in(where: {type_id: {_eq: ${packageVersionTypeId}}, string: {value: {_is_null: false}}}) {\n          id\n          version: value\n        }\n      `\n    })\n    console.log('packages', packages);\n    const existingPackages = packages.reduce(\n      (accumulator, currentValue) => {\n        const packageId = currentValue?.id;\n        const packageName = currentValue?.name?.value;\n        if (currentValue?.versions.length !== 1) {\n          throw new Error(`'${packageName}' package must have exactly one version. Now it has ${currentValue?.versions.length} versions.`);\n        }\n        if (accumulator[packageName]) {\n          throw new Error(`Multiple packages with name '${packageName}' exist.`)\n        }\n        const packageVersion = currentValue?.versions?.[0]?.version?.value;\n        accumulator[packageName] = { id: packageId, version: packageVersion };\n        return accumulator;\n      },\n      {}\n    );\n    console.log('existingPackages', existingPackages);\n    return existingPackages;\n  };\n\n  if (!triggeredByLinkId) {\n    throw new Error('Install link should be inserted using JWT token (role link), it cannot be inserted using hasura secret (role admin).');\n  }\n\n  const { data: [{ value: { value: packageQuery } }] } = await deep.select({ id: newLink.to_id });\n  const packageQueryParts = packageQuery.split('@');\n  if (packageQueryParts.length === 3) {\n    const packageVersion = packageQueryParts.pop();\n  }\n  const packageName = packageQueryParts.join('@');\n  if (!packageName) {\n    throw new Error('Package query value is empty.');\n  }\n  const tempDirectory = await makeTempDirectory();\n  let deepJson;\n  let packageJson;\n  const installationQueue = [];\n  const installationSet = {};\n  try {\n    const npmToken = await loadNpmToken();\n    if (npmToken) {\n      await npmLogin(npmToken, tempDirectory);\n    }\n    const nodeModulesPath = [tempDirectory, 'node_modules'].join('/');\n    await npmInstall(packageQuery, tempDirectory);\n    const packagePath = makePackagePath(tempDirectory, packageName);\n    const deepJsonPath = makeDeepJsonPath(packagePath);\n    const packageJsonPath = makePackageJsonPath(packagePath);\n    deepJson = await deep.import(deepJsonPath);\n    packageJson = await deep.import(packageJsonPath);\n\n    const packages = await getDeepPackagesList(nodeModulesPath);\n    console.log('packages', packages);\n    \n    const deepPackagesDependencies = await getDeepPackagesDependencies(nodeModulesPath, packages, packageName);\n    delete deepPackagesDependencies[packageName];\n    console.log('deepPackagesDependencies', deepPackagesDependencies);\n    \n    buildInstallationQueue(deepPackagesDependencies, installationQueue, installationSet);\n    \n    console.log('installationQueue', installationQueue);\n    console.log('installationSet', installationSet);\n  } finally {\n    fs.rmSync(tempDirectory, { recursive: true, force: true });\n  }\n  \n  const existingPackages = await getExistingPackages(installationQueue.map(e => e.name));\n  console.log('existingPackages', existingPackages);\n\n  for (const dependencyPackage of installationQueue) {\n    const dependencyPackageName = dependencyPackage.name;\n    const existingPackage = existingPackages[dependencyPackageName];\n    if (existingPackage) {\n      await deep.insert({\n        type_id: await deep.id('@deep-foundation/npm-packager', 'Used'),\n        from_id: newLink.id,\n        to_id: existingPackage.id,\n      });\n    } else {\n      const importedDependency = await deepImport(dependencyPackage.deepJson, dependencyPackage.packageJson);\n      if (importedDependency?.errors?.length > 0 || !importedDependency?.packageId) {\n        console.log(`Unable to install dependency ${dependencyPackageName}.`, importedDependency);\n        throw new Error(`Unable to install dependency ${dependencyPackageName}.`);\n      }\n      await deep.insert({\n        type_id: await deep.id('@deep-foundation/npm-packager', 'Installed'),\n        from_id: newLink.id,\n        to_id: importedDependency.packageId,\n      });\n      // TODO: Should it be inserted?\n      // await deep.insert({\n      //   type_id: await deep.id('@deep-foundation/core', 'Contain'),\n      //   from_id: newLink.from_id,\n      //   to_id: importedDependency.packageId,\n      // });\n    }\n  }\n\n  const imported = await deepImport(deepJson, packageJson);\n  await deep.insert({\n    type_id: await deep.id('@deep-foundation/core', 'Contain'),\n    from_id: newLink.from_id,\n    to_id: imported.packageId,\n  });\n  await deep.insert({\n    type_id: await deep.id('@deep-foundation/npm-packager', 'Installed'),\n    from_id: newLink.id,\n    to_id: imported.packageId,\n  });\n  return imported;\n}",
          "link_id": 752
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 847,
      "src_id": 847,
      "handler_id": 848,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 847,
        "type_id": 723,
        "from_id": 0,
        "to_id": 0,
        "value": null,
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 849,
      "src_id": 849,
      "handler_id": 850,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 849,
        "type_id": 723,
        "from_id": 0,
        "to_id": 0,
        "value": null,
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 864,
      "src_id": 864,
      "handler_id": 865,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 864,
        "type_id": 723,
        "from_id": 0,
        "to_id": 0,
        "value": null,
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 868,
      "src_id": 868,
      "handler_id": 869,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 868,
        "type_id": 723,
        "from_id": 0,
        "to_id": 0,
        "value": null,
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1096,
      "src_id": 833,
      "handler_id": 834,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1096,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 357,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const Any = deep.idLocal(dc, 'Any');\n    const Query = deep.idLocal(dc, 'Query');\n    const Package = deep.idLocal(dc, 'Package');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreePackage = await deep.id(dpl, 'TreePackage');\n    const Menu = deep.idLocal(dpl, 'Menu');\n    const Layer = deep.idLocal(dpl, 'Layer');\n    const Header = deep.idLocal(dpl, 'Header');\n    const History = deep.idLocal(dpl, 'History');\n    const HistoryHandler = deep.idLocal(dpl, 'HistoryHandler');\n    const handlers = {\n        [Any]: TreeLink,\n        [Query]: TreeList,\n        [Package]: TreePackage,\n    };\n    const getHandlerId = (linkId) => {\n        const l = deep.get(linkId);\n        return handlers[l?.type_id] || handlers[Any];\n    };\n    function useStore(queryField, defaultValue) {\n        return React.useState(defaultValue);\n    }\n    return ({ go, using = false, queryField = '', saveHistory = false, fullWidth = null, initialId = deep.linkId, initialHandlerId, startProps = {}, operations = false, }, ref) => {\n        const initialColumns = React.useMemo(() => {\n            if (!initialId)\n                return [];\n            return [[initialId, initialHandlerId || getHandlerId(initialId)]];\n        }, []);\n        const [columns, setColumns] = useStore(queryField, initialColumns);\n        const Item = React.useCallback(({ link, isActive, ...props }) => {\n            const go = Go.useGo();\n            return React.createElement(React.Fragment, null,\n                !!saveHistory && !!isActive && React.createElement(go.Save, { handlerId: link.handlerId }),\n                React.createElement(go.Handler, { linkId: link.id, handlerId: link.handlerId, isActive: isActive, fullWidth: fullWidth, saveHistory: saveHistory, operations: operations, ...props }));\n        }, [saveHistory, fullWidth, operations]);\n        const { data: list, ids } = React.useMemo(() => {\n            const ids = [];\n            const data = columns.map(c => {\n                ids.push(c[0]);\n                return { id: c[0], handlerId: c[1] };\n            });\n            return { data, ids };\n        }, [columns]);\n        const [concentrate, setConcentrate] = React.useState();\n        const { ids: concentrated } = deep.useSearch(concentrate, {\n            db: false, sort: false,\n            query: { id: { _in: ids } },\n            skip: !concentrate,\n        });\n        return React.createElement(go.On, { do: {\n                focus: (g, v, linkId, o) => {\n                    !go.value && go.focus(Stack);\n                    o?.id && go.do('open', o);\n                },\n                use: (g, v, o) => go(Stack).do('use', o),\n                open: (g, v, { id, prevId, handlerId, focus } = {}) => {\n                    if (!id)\n                        throw new Error(`open options must contains id ({ id, prevId?, handlerId? })`);\n                    const founded = columns.find(c => c[0] === id);\n                    const _prevId = prevId || columns[columns.length - 1][0];\n                    if (founded)\n                        go.do('use', { id });\n                    else {\n                        const prevI = columns.findIndex(c => c[0] === _prevId);\n                        setColumns([\n                            ...(!!~prevI ? columns.slice(0, prevI + 1) : []),\n                            [id, handlerId || getHandlerId(id)],\n                            ...(!!~prevI ? columns.slice(prevI + 1) : []),\n                        ]);\n                    }\n                    if (focus)\n                        go(Stack).awaitRef(id).then(g => go(Stack).focus(id).go(id).scroll());\n                },\n                close: (g, v, o) => {\n                    if (!o.id)\n                        throw new Error(`close options must contains id ({ id })`);\n                    setColumns(columns.filter(c => c[0] !== o.id));\n                },\n                concentrate: (g, v, o) => {\n                    setConcentrate(o?.value);\n                },\n            } },\n            React.createElement(go.Provider, { linkId: Stack },\n                React.createElement(go.Component, { path: [dpl, 'Stack'], concentrated: !!concentrate && concentrated, links: list, direction: 'horizontal', Item: Item, using: using, saveHistory: saveHistory, startProps: startProps, pr: '30em' })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNwQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMvQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMvQyxNQUFNLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3RELE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzdDLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFRM0QsTUFBTSxRQUFRLEdBQUc7UUFDZixDQUFDLEdBQUcsQ0FBQyxFQUFFLFFBQVE7UUFDZixDQUFDLEtBQUssQ0FBQyxFQUFFLFFBQVE7UUFDakIsQ0FBQyxPQUFPLENBQUMsRUFBRSxXQUFXO0tBQ3ZCLENBQUM7SUFFRixNQUFNLFlBQVksR0FBRyxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQzlCLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0IsT0FBTyxRQUFRLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUE7SUFFRCxTQUFTLFFBQVEsQ0FBQyxVQUFVLEVBQUUsWUFBWTtRQUV4QyxPQUFPLEtBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFFRixLQUFLLEdBQUcsS0FBSyxFQUNiLFVBQVUsR0FBRyxFQUFFLEVBQ2YsV0FBVyxHQUFHLEtBQUssRUFDbkIsU0FBUyxHQUFHLElBQUksRUFDaEIsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQ3ZCLGdCQUFnQixFQUNoQixVQUFVLEdBQUcsRUFBRSxFQUNmLFVBQVUsR0FBRyxLQUFLLEdBQ25CLEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLGNBQWMsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRTtZQUN4QyxJQUFJLENBQUMsU0FBUztnQkFBRSxPQUFPLEVBQUUsQ0FBQztZQUMxQixPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUUsZ0JBQWdCLElBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNuRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDUCxNQUFNLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxVQUFVLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFHbkUsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxHQUFHLEtBQUssRUFBRSxFQUFFLEVBQUU7WUFDOUQsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ3RCLE9BQU87Z0JBQ0osQ0FBQyxDQUFDLFdBQVcsSUFBSSxDQUFDLENBQUMsUUFBUSxJQUFJLG9CQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTLEdBQUc7Z0JBQ3JFLG9CQUFDLEVBQUUsQ0FBQyxPQUFPLElBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQ3BELFFBQVEsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUNsRSxVQUFVLEVBQUUsVUFBVSxLQUNsQixLQUFLLEdBQ1QsQ0FDRCxDQUFDO1FBQ04sQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBRXpDLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO1lBQzdDLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztZQUNmLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQzNCLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2YsT0FBTyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ3ZDLENBQUMsQ0FBQyxDQUFDO1lBQ0gsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUN2QixDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBRWQsTUFBTSxDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDdkQsTUFBTSxFQUFFLEdBQUcsRUFBRSxZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRTtZQUN4RCxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLO1lBQ3RCLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRTtZQUMzQixJQUFJLEVBQUUsQ0FBQyxXQUFXO1NBQ25CLENBQUMsQ0FBQztRQUVILE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUU7Z0JBQ2hCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUFFO29CQUN0QixDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDN0IsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDNUIsQ0FBQztnQkFDRCxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUMsQ0FBQyxDQUFDO2dCQUNyQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUU7b0JBQ2xELElBQUksQ0FBQyxFQUFFO3dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsNkRBQTZELENBQUMsQ0FBQztvQkFDeEYsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztvQkFDL0MsTUFBTSxPQUFPLEdBQUcsTUFBTSxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN6RCxJQUFJLE9BQU87d0JBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO3lCQUM1QixDQUFDO3dCQUNKLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssT0FBTyxDQUFDLENBQUM7d0JBQ3ZELFVBQVUsQ0FBQzs0QkFDVCxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQzs0QkFDOUMsQ0FBQyxFQUFFLEVBQUUsU0FBUyxJQUFJLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQzs0QkFDbkMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQzt5QkFDNUMsQ0FBQyxDQUFDO29CQUNMLENBQUM7b0JBQ0QsSUFBSSxLQUFLO3dCQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztnQkFDbkYsQ0FBQztnQkFDRCxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFO29CQUNmLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRTt3QkFBRSxNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7b0JBQ3RFLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqRCxDQUFDO2dCQUNELFdBQVcsRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ3JCLGNBQWMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQzNCLENBQUM7YUFDRjtZQUNDLG9CQUFDLEVBQUUsQ0FBQyxRQUFRLElBQUMsTUFBTSxFQUFFLEtBQUs7Z0JBQ3hCLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxFQUNoQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLFdBQVcsSUFBSSxZQUFZLEVBQUUsS0FBSyxFQUFFLElBQUksRUFDeEQsU0FBUyxFQUFDLFlBQVksRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQy9DLFdBQVcsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFDaEQsRUFBRSxFQUFDLE1BQU0sR0FDVCxDQUNVLENBQ1IsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIEdvLCByZXF1aXJlIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIGNvbnN0IFN0YWNrID0gZGVlcC5pZExvY2FsKGRwbCwgJ1N0YWNrJyk7XG4gIGNvbnN0IEFueSA9IGRlZXAuaWRMb2NhbChkYywgJ0FueScpO1xuICBjb25zdCBRdWVyeSA9IGRlZXAuaWRMb2NhbChkYywgJ1F1ZXJ5Jyk7XG4gIGNvbnN0IFBhY2thZ2UgPSBkZWVwLmlkTG9jYWwoZGMsICdQYWNrYWdlJyk7XG4gIGNvbnN0IFRyZWVMaXN0ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaXN0Jyk7XG4gIGNvbnN0IFRyZWVMaW5rID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rJyk7XG4gIGNvbnN0IFRyZWVQYWNrYWdlID0gYXdhaXQgZGVlcC5pZChkcGwsICdUcmVlUGFja2FnZScpO1xuICBjb25zdCBNZW51ID0gZGVlcC5pZExvY2FsKGRwbCwgJ01lbnUnKTtcbiAgY29uc3QgTGF5ZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnTGF5ZXInKTtcbiAgY29uc3QgSGVhZGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hlYWRlcicpO1xuICBjb25zdCBIaXN0b3J5ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hpc3RvcnknKTtcbiAgY29uc3QgSGlzdG9yeUhhbmRsZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnSGlzdG9yeUhhbmRsZXInKTtcblxuICBpbnRlcmZhY2UgQ29sdW1uSSB7XG4gICAgaWQ6IGFueTtcbiAgICBoYW5kbGVySWQ6IGFueTtcbiAgICBmb2N1cz86IGJvb2xlYW47XG4gIH1cblxuICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICBbQW55XTogVHJlZUxpbmssXG4gICAgW1F1ZXJ5XTogVHJlZUxpc3QsXG4gICAgW1BhY2thZ2VdOiBUcmVlUGFja2FnZSxcbiAgfTtcblxuICBjb25zdCBnZXRIYW5kbGVySWQgPSAobGlua0lkKSA9PiB7XG4gICAgY29uc3QgbCA9IGRlZXAuZ2V0KGxpbmtJZCk7XG4gICAgcmV0dXJuIGhhbmRsZXJzW2w/LnR5cGVfaWRdIHx8IGhhbmRsZXJzW0FueV07XG4gIH1cblxuICBmdW5jdGlvbiB1c2VTdG9yZShxdWVyeUZpZWxkLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyByZXR1cm4gKHF1ZXJ5RmllbGQgPyBHby51c2VRdWVyeVN0b3JlKHF1ZXJ5RmllbGQsIGRlZmF1bHRWYWx1ZSkgOiBSZWFjdC51c2VTdGF0ZShkZWZhdWx0VmFsdWUpKTtcbiAgICByZXR1cm4gUmVhY3QudXNlU3RhdGUoZGVmYXVsdFZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgdXNpbmcgPSBmYWxzZSxcbiAgICBxdWVyeUZpZWxkID0gJycsXG4gICAgc2F2ZUhpc3RvcnkgPSBmYWxzZSxcbiAgICBmdWxsV2lkdGggPSBudWxsLFxuICAgIGluaXRpYWxJZCA9IGRlZXAubGlua0lkLFxuICAgIGluaXRpYWxIYW5kbGVySWQsXG4gICAgc3RhcnRQcm9wcyA9IHt9LFxuICAgIG9wZXJhdGlvbnMgPSBmYWxzZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbENvbHVtbnMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGlmICghaW5pdGlhbElkKSByZXR1cm4gW107XG4gICAgICByZXR1cm4gW1tpbml0aWFsSWQsIGluaXRpYWxIYW5kbGVySWQgfHwgZ2V0SGFuZGxlcklkKGluaXRpYWxJZCldXVxuICAgIH0sIFtdKTtcbiAgICBjb25zdCBbY29sdW1ucywgc2V0Q29sdW1uc10gPSB1c2VTdG9yZShxdWVyeUZpZWxkLCBpbml0aWFsQ29sdW1ucyk7XG4gICAgLy8gY29uc3QgW3Rlc3QsIHNldFRlc3RdID0gZ28udXNlUXVlcnlTdG9yZSgndGVzdCcsIDApO1xuICAgIFxuICAgIGNvbnN0IEl0ZW0gPSBSZWFjdC51c2VDYWxsYmFjaygoeyBsaW5rLCBpc0FjdGl2ZSwgLi4ucHJvcHMgfSkgPT4ge1xuICAgICAgY29uc3QgZ28gPSBHby51c2VHbygpO1xuICAgICAgcmV0dXJuIDw+XG4gICAgICAgIHshIXNhdmVIaXN0b3J5ICYmICEhaXNBY3RpdmUgJiYgPGdvLlNhdmUgaGFuZGxlcklkPXtsaW5rLmhhbmRsZXJJZH0vPn1cbiAgICAgICAgPGdvLkhhbmRsZXIgbGlua0lkPXtsaW5rLmlkfSBoYW5kbGVySWQ9e2xpbmsuaGFuZGxlcklkfVxuICAgICAgICAgIGlzQWN0aXZlPXtpc0FjdGl2ZX0gZnVsbFdpZHRoPXtmdWxsV2lkdGh9IHNhdmVIaXN0b3J5PXtzYXZlSGlzdG9yeX1cbiAgICAgICAgICBvcGVyYXRpb25zPXtvcGVyYXRpb25zfVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgIDwvPjtcbiAgICB9LCBbc2F2ZUhpc3RvcnksIGZ1bGxXaWR0aCwgb3BlcmF0aW9uc10pO1xuXG4gICAgY29uc3QgeyBkYXRhOiBsaXN0LCBpZHMgfSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgY29uc3QgaWRzID0gW107XG4gICAgICBjb25zdCBkYXRhID0gY29sdW1ucy5tYXAoYyA9PiB7XG4gICAgICAgIGlkcy5wdXNoKGNbMF0pO1xuICAgICAgICByZXR1cm4geyBpZDogY1swXSwgaGFuZGxlcklkOiBjWzFdIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IGRhdGEsIGlkcyB9O1xuICAgIH0sIFtjb2x1bW5zXSk7XG5cbiAgICBjb25zdCBbY29uY2VudHJhdGUsIHNldENvbmNlbnRyYXRlXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgY29uc3QgeyBpZHM6IGNvbmNlbnRyYXRlZCB9ID0gZGVlcC51c2VTZWFyY2goY29uY2VudHJhdGUsIHtcbiAgICAgIGRiOiBmYWxzZSwgc29ydDogZmFsc2UsXG4gICAgICBxdWVyeTogeyBpZDogeyBfaW46IGlkcyB9IH0sXG4gICAgICBza2lwOiAhY29uY2VudHJhdGUsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBmb2N1czogKGcsdixsaW5rSWQsbykgPT4ge1xuICAgICAgICAhZ28udmFsdWUgJiYgZ28uZm9jdXMoU3RhY2spO1xuICAgICAgICBvPy5pZCAmJiBnby5kbygnb3BlbicsIG8pO1xuICAgICAgfSxcbiAgICAgIHVzZTogKGcsdixvKSA9PiBnbyhTdGFjaykuZG8oJ3VzZScsbyksXG4gICAgICBvcGVuOiAoZyx2LHsgaWQsIHByZXZJZCwgaGFuZGxlcklkLCBmb2N1cyB9ID0ge30pID0+IHtcbiAgICAgICAgaWYgKCFpZCkgdGhyb3cgbmV3IEVycm9yKGBvcGVuIG9wdGlvbnMgbXVzdCBjb250YWlucyBpZCAoeyBpZCwgcHJldklkPywgaGFuZGxlcklkPyB9KWApO1xuICAgICAgICBjb25zdCBmb3VuZGVkID0gY29sdW1ucy5maW5kKGMgPT4gY1swXSA9PT0gaWQpO1xuICAgICAgICBjb25zdCBfcHJldklkID0gcHJldklkIHx8IGNvbHVtbnNbY29sdW1ucy5sZW5ndGggLSAxXVswXTtcbiAgICAgICAgaWYgKGZvdW5kZWQpIGdvLmRvKCd1c2UnLHsgaWQgfSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHByZXZJID0gY29sdW1ucy5maW5kSW5kZXgoYyA9PiBjWzBdID09PSBfcHJldklkKTtcbiAgICAgICAgICBzZXRDb2x1bW5zKFtcbiAgICAgICAgICAgIC4uLighIX5wcmV2SSA/IGNvbHVtbnMuc2xpY2UoMCwgcHJldkkrMSkgOiBbXSksXG4gICAgICAgICAgICBbaWQsIGhhbmRsZXJJZCB8fCBnZXRIYW5kbGVySWQoaWQpXSxcbiAgICAgICAgICAgIC4uLighIX5wcmV2SSA/IGNvbHVtbnMuc2xpY2UocHJldkkrMSkgOiBbXSksXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvY3VzKSBnbyhTdGFjaykuYXdhaXRSZWYoaWQpLnRoZW4oZyA9PiBnbyhTdGFjaykuZm9jdXMoaWQpLmdvKGlkKS5zY3JvbGwoKSk7XG4gICAgICB9LFxuICAgICAgY2xvc2U6IChnLHYsbykgPT4ge1xuICAgICAgICBpZiAoIW8uaWQpIHRocm93IG5ldyBFcnJvcihgY2xvc2Ugb3B0aW9ucyBtdXN0IGNvbnRhaW5zIGlkICh7IGlkIH0pYCk7XG4gICAgICAgIHNldENvbHVtbnMoY29sdW1ucy5maWx0ZXIoYyA9PiBjWzBdICE9PSBvLmlkKSk7XG4gICAgICB9LFxuICAgICAgY29uY2VudHJhdGU6IChnLHYsbykgPT4ge1xuICAgICAgICBzZXRDb25jZW50cmF0ZShvPy52YWx1ZSk7XG4gICAgICB9LFxuICAgIH19PlxuICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17U3RhY2t9PlxuICAgICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdTdGFjayddfVxuICAgICAgICAgIGNvbmNlbnRyYXRlZD17ISFjb25jZW50cmF0ZSAmJiBjb25jZW50cmF0ZWR9IGxpbmtzPXtsaXN0fVxuICAgICAgICAgIGRpcmVjdGlvbj0naG9yaXpvbnRhbCcgSXRlbT17SXRlbX0gdXNpbmc9e3VzaW5nfVxuICAgICAgICAgIHNhdmVIaXN0b3J5PXtzYXZlSGlzdG9yeX0gc3RhcnRQcm9wcz17c3RhcnRQcm9wc31cbiAgICAgICAgICBwcj0nMzBlbSdcbiAgICAgICAgLz5cbiAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1096
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1105,
      "src_id": 835,
      "handler_id": 836,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1105,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 360,
          "value": "({ deep, data, require, Go }) => {\n    const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n    const React = require('react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const _dpl = deep.idLocal(dpl);\n    const dtsx = '@deep-foundation/tsx';\n    const dc = '@deep-foundation/core';\n    const dr = '@deep-foundation/readme';\n    const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n    const TSX = deep.idLocal(dtsx, 'TSX');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const Selector = deep.idLocal(dc, 'Selector');\n    const Promise = deep.idLocal(dc, 'Promise');\n    const Rejected = deep.idLocal(dc, 'Rejected');\n    const promiseTree = deep.idLocal(dc, 'promiseTree');\n    const Value = deep.idLocal(dc, 'Value');\n    const String = deep.idLocal(dc, 'String');\n    const Number = deep.idLocal(dc, 'Number');\n    const Object = deep.idLocal(dc, 'Object');\n    const File = deep.idLocal(dc, 'File');\n    const User = deep.idLocal(dc, 'User');\n    const Package = deep.idLocal(dc, 'Package');\n    const Query = deep.idLocal(dc, 'Query');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const History = deep.idLocal(dpl, 'History');\n    const Header = deep.idLocal(dpl, 'Header');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const TreeEditor = deep.idLocal(dpl, 'TreeEditor');\n    const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n    const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n    const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const Item = React.memo(({ link, ...props }) => {\n        const go = Go.useGo();\n        return React.createElement(React.Fragment, null,\n            React.createElement(go.Handler, { linkId: link.id, handlerId: TreeLinkButton, relations: false, ...props }));\n    });\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, fullWidth, operations, isConcentrated, }, ref) => {\n        const valueType = React.useMemo(() => go.link?.type?.outByType[Value]?.[0]?.to_id, [go]);\n        const fromDisclosure = c.useDisclosure();\n        const toDisclosure = c.useDisclosure();\n        const handlerDisclosure = c.useDisclosure();\n        const queries = React.useMemo(() => ({\n            'parents': ({ out: { type_id: Contain, to_id: go.linkId }, order_by: { id: 'desc' } }),\n            'contains': ({ in: { type_id: Contain, from_id: go.linkId }, order_by: { id: 'desc' } }),\n            'out': ({ from_id: go.linkId, order_by: { id: 'desc' } }),\n            'typed': ({ type_id: go.linkId, order_by: { id: 'desc' } }),\n            'in': ({ to_id: go.linkId, order_by: { id: 'desc' } }),\n            'selectors': ({ type_id: Selector, selected: { item_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n            'selected': ({ selected: { selector_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n            'promises': ({ type_id: Promise, up: { tree_id: { _eq: promiseTree }, parent_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n            'rejects': ({ type_id: Rejected, up: { tree_id: { _eq: promiseTree }, parent_id: { _eq: go.linkId } }, order_by: { id: 'desc' } }),\n        }), []);\n        const [query, setQuery] = React.useState(null);\n        const q = { ...(query || {}), return: {\n                contain: { relation: 'in', type_id: Contain, limit: 1, from: { type_id: { _in: [User, Package] } } },\n                tos: { relation: 'to' },\n                froms: { relation: 'from' },\n            } };\n        const { data: links } = deep.useQuery(q, { skip: !query });\n        React.useEffect(() => {\n            !!query && setHandlers(false);\n        }, [query]);\n        const { data: compatables, refetch } = deep.useQuery(go?.link?.type_id ? {\n            type_id: Handler,\n            from_id: clientSupportsJs,\n            _and: [\n                { out: {\n                        type_id: Compatable,\n                        to_id: handlerId,\n                    } },\n                { out: {\n                        type_id: Compatable,\n                        to_id: { _in: [link.id, link.type_id] },\n                    } },\n            ],\n        } : {}, { skip: !go?.link?.type_id });\n        const valueButton = !valueType ? React.createElement(React.Fragment, null,\n            React.createElement(c.Button, { flex: '1', variant: go.value === 'value' ? 'active' : undefined, bg: go.value === TreeEditor ? 'deepBgDark' : null, justifyContent: 'center', disabled: true }, \"type can't have Value\")) : valueType === String ? React.createElement(React.Fragment, null,\n            React.createElement(c.Button, { flex: '1', variant: go.value === 'value' ? 'active' : undefined, bg: go.value === TreeEditor ? 'deepBgDark' : null, justifyContent: 'center', onClick: () => go.focus('value').go.do('value') },\n                React.createElement(c.Text, { pr: 1 },\n                    \"\\\"\\\".length === \",\n                    go.link?.value?.value?.length || 0),\n                \" string\")) : valueType === Number ? React.createElement(React.Fragment, null,\n            React.createElement(c.Button, { flex: '1', variant: go.value === 'value' ? 'active' : undefined, bg: go.value === TreeEditor ? 'deepBgDark' : null, justifyContent: 'center', onClick: () => go.focus('value').go.do('value') },\n                React.createElement(c.Text, { pr: 1 }, +go.link?.value?.value),\n                \" number\")) : valueType === Object ? React.createElement(React.Fragment, null,\n            React.createElement(c.Button, { flex: '1', variant: go.value === 'value' ? 'active' : undefined, bg: go.value === TreeEditor ? 'deepBgDark' : null, justifyContent: 'center', onClick: () => go.focus('value').go.do('value') },\n                React.createElement(c.Text, { pr: 1 }, `{...}`),\n                \" object\")) : undefined;\n        const [handlers, setHandlers] = React.useState(true);\n        const column = React.createElement(c.VStack, { position: 'relative', minW: fullWidth || '30em', maxW: fullWidth || '30em', h: '100%', spacing: 1, bg: isActive ? 'deepBgDark' : null },\n            React.createElement(c.Flex, { w: '100%' },\n                React.createElement(go.Handler, { handlerId: TreeLinkButton, linkId: go.linkId, flex: '1', onClick: () => go.focus('current').go.do('exec'), needParent: false, isActive: go.value === 'current', editableSymbol: true }),\n                React.createElement(c.Button, { minW: '3e,', w: '3em', h: '100%', minH: '3em', p: '0', onClick: () => go.focus('close').go.do('close'), variant: go.value === 'close' ? 'active' : null }, \"x\")),\n            React.createElement(c.SimpleGrid, { spacing: 1, w: '100%', columns: 2 + (operations ? 2 : 0) },\n                React.createElement(c.Button, { variant: go.value === 'parents' ? 'active' : null, justifyContent: 'center', onClick: () => go.focus('parents').go.do('parents') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83D\\uDDC2\\uFE0F\"),\n                    \" parents\"),\n                React.createElement(c.Button, { variant: go.value === 'contains' ? 'active' : null, justifyContent: 'center', onClick: () => go.focus('contains').go.do('contains') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83D\\uDDC2\\uFE0F\"),\n                    \" contains\"),\n                operations && React.createElement(React.Fragment, null,\n                    React.createElement(go.Provider, { linkId: TreeLinkInsert },\n                        React.createElement(go.Handler, { isActive: go.value === 'insert' ? go.ref : null, handlerId: TreeLinkInsert, defaultContainerId: go.linkId, defaultTypeId: 1 })),\n                    React.createElement(go.Provider, { linkId: TreeLinkDelete },\n                        React.createElement(go.Handler, { isActive: go.value === 'delete' ? go.ref : null, handlerId: TreeLinkDelete, linkId: go.linkId })))),\n            (go?.link?.type_id === 1 || !!go?.link?.from_id) && React.createElement(go.Component, { path: [dpl, 'Finder'], disclosure: fromDisclosure, initialId: go?.link?.from_id || go?.link?.id, initialHandlerId: TreeList, onSubmit: (id) => {\n                    deep.update(go.linkId, { from_id: id });\n                    fromDisclosure.onClose();\n                } }),\n            (go?.link?.type_id === 1 || !!go?.link?.to_id) && React.createElement(go.Component, { path: [dpl, 'Finder'], disclosure: toDisclosure, initialId: go?.link?.to_id || go?.link?.id, initialHandlerId: TreeList, onSubmit: (id) => {\n                    deep.update(go.linkId, { to_id: id });\n                    toDisclosure.onClose();\n                } }),\n            [React.createElement(go.Query, { key: `${fromDisclosure.isOpen}${toDisclosure.isOpen}`, query: { id: go.linkId } })],\n            React.createElement(c.SimpleGrid, { spacing: 1, w: '100%', columns: 3 },\n                React.createElement(c.Flex, null,\n                    React.createElement(c.Button, { variant: go.value === 'edit-from' ? 'active' : undefined, justifyContent: 'right', textAlign: 'right', h: '3em', disabled: !go.link?.from_id, onClick: () => go.focus('edit-from').go.do('edit-from') },\n                        React.createElement(c.Box, null,\n                            React.createElement(MdEdit, null))),\n                    React.createElement(c.Button, { variant: go.value === 'from' ? 'active' : undefined, justifyContent: 'right', textAlign: 'right', flex: '1', h: '3em', onClick: () => go.focus('from').go.do('from'), rightIcon: React.createElement(FromIcon, null), overflow: 'hidden' },\n                        React.createElement(c.Box, null,\n                            React.createElement(c.Text, null, \"from\"),\n                            React.createElement(c.Box, null,\n                                React.createElement(c.Text, { fontSize: 'xs' },\n                                    go.link?.from?.symbol,\n                                    \" \",\n                                    !!go.link?.from && go?.link?.from.name,\n                                    \" \",\n                                    go.link?.from_id))))),\n                React.createElement(c.Button, { variant: go.value === 'type' ? 'active' : undefined, disabled: !go.link?.type_id, leftIcon: React.createElement(TypeIcon, null), onClick: () => go.focus('type').go.do('type'), h: '3em', overflow: 'hidden' },\n                    React.createElement(c.Box, null,\n                        React.createElement(c.Text, null, \"type\"),\n                        React.createElement(c.Box, null,\n                            React.createElement(c.Text, { fontSize: 'xs' },\n                                go.link?.type?.symbol,\n                                \" \",\n                                !!go.link?.type && go?.link?.type.name,\n                                \" \",\n                                go.link?.type_id)))),\n                React.createElement(c.Flex, null,\n                    React.createElement(c.Button, { variant: go.value === 'to' ? 'active' : undefined, justifyContent: 'left', textAlign: 'left', flex: '1', h: '3em', rightIcon: React.createElement(ToIcon, null), onClick: () => go.focus('to').go.do('to'), overflow: 'hidden' },\n                        React.createElement(c.Box, null,\n                            React.createElement(c.Text, null, \"to\"),\n                            React.createElement(c.Box, null,\n                                React.createElement(c.Text, { fontSize: 'xs' },\n                                    go.link?.to?.symbol,\n                                    \" \",\n                                    !!go.link?.to && go?.link?.to.name,\n                                    \" \",\n                                    go.link?.to_id)))),\n                    React.createElement(c.Button, { variant: go.value === 'edit-to' ? 'active' : undefined, justifyContent: 'right', textAlign: 'right', h: '3em', disabled: !go.link?.to_id, onClick: () => go.focus('edit-to').go.do('edit-to') },\n                        React.createElement(c.Box, null,\n                            React.createElement(MdEdit, null))))),\n            React.createElement(c.SimpleGrid, { spacing: 1, w: '100%', columns: 5 },\n                React.createElement(c.Button, { variant: go.value === 'up-tree' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('up-tree').go.do('up-tree'), leftIcon: React.createElement(UpIcon, null) },\n                    React.createElement(c.Text, null, \"up\")),\n                React.createElement(c.Button, { variant: go.value === 'out' ? 'active' : undefined, justifyContent: 'left', textAlign: 'left', onClick: () => go.focus('out').go.do('out'), leftIcon: React.createElement(OutIcon, null) },\n                    React.createElement(c.Text, null, \"out\")),\n                React.createElement(c.Button, { variant: go.value === 'typed' ? 'active' : undefined, onClick: () => go.focus('typed').go.do('typed'), leftIcon: React.createElement(TypedIcon, null) },\n                    React.createElement(c.Text, null, \"typed\")),\n                React.createElement(c.Button, { variant: go.value === 'in' ? 'active' : undefined, justifyContent: 'right', textAlign: 'right', onClick: () => go.focus('in').go.do('in'), rightIcon: React.createElement(InIcon, null) },\n                    React.createElement(c.Text, null, \"in\")),\n                React.createElement(c.Button, { variant: go.value === 'down-tree' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('down-tree').go.do('down-tree'), leftIcon: React.createElement(DownIcon, null) },\n                    React.createElement(c.Text, null, \"down\"))),\n            React.createElement(c.SimpleGrid, { spacing: 1, w: '100%', columns: 4 },\n                React.createElement(c.Button, { variant: go.value === 'selectors' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('selectors').go.do('selectors') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83E\\uDEA1\"),\n                    \" selectors\"),\n                React.createElement(c.Button, { variant: go.value === 'selected' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('selected').go.do('selected') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83E\\uDEA1\"),\n                    \" selected\"),\n                React.createElement(c.Button, { variant: go.value === 'promises' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('promises').go.do('promises') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83E\\uDD1E\"),\n                    \" promises\"),\n                React.createElement(c.Button, { variant: go.value === 'rejects' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('rejects').go.do('rejects') },\n                    React.createElement(c.Text, { pr: 1 }, \"\\uD83D\\uDD34\"),\n                    \" rejects\")),\n            React.createElement(c.Flex, { w: '100%', spacing: 1 },\n                valueButton,\n                React.createElement(c.Button, { variant: handlers && compatables?.length ? 'deepDark' : go.value === 'handlers' ? 'active' : undefined, justifyContent: 'center', onClick: () => go.focus('handlers').go.do('handlers'), position: 'relative' },\n                    \"\\uD83D\\uDC41\\uFE0F\",\n                    !compatables?.length && React.createElement(c.Box, { position: 'absolute', right: '0.5em', top: '0.1em', color: go.value === 'handlers' ? 'deepColorActive' : 'deepColor' }, \"+\"))),\n            React.createElement(go.Component, { path: [dpl, 'LinkInsertModal'], disclosure: handlerDisclosure, onInsert: (inserted) => {\n                    refetch();\n                }, ...({ customInsert: ({ name } = { name: '' }) => ({\n                        containerId: _dpl,\n                        type_id: Handler,\n                        from_id: clientSupportsJs,\n                        to: {\n                            type_id: TSX,\n                            string: go.componentTemplate({ children: `<>Handler of ${go.link}</>` }),\n                            name: `${name}Component`,\n                        },\n                        out: [\n                            {\n                                type_id: Compatable,\n                                to_id: go.linkId,\n                                name: `${name}Compatable${go.link.name}`,\n                            },\n                            {\n                                type_id: Compatable,\n                                to_id: TreeLink,\n                                name: `${name}CompatableTreeLink`,\n                            },\n                        ],\n                    }) }) }),\n            !links.length && (!!handlers && compatables?.length ? (compatables.map(compatable => (React.createElement(React.Fragment, null,\n                React.createElement(c.Box, { minW: fullWidth || '30em', maxW: fullWidth || '30em', flex: '1', position: 'relative' },\n                    React.createElement(go.Provider, { linkId: compatable?.id },\n                        React.createElement(go.Handler, { handlerId: compatable?.id, linkId: go.linkId, link: go.link, fillSize: true, autoFocus: true }))))))) : go.value === TreeEditor && !links?.length ? (React.createElement(c.Box, { minW: fullWidth || '30em', maxW: fullWidth || '30em', flex: '1', position: 'relative' },\n                React.createElement(go.Handler, { handlerId: TreeEditor, linkId: go.linkId, fillSize: true, autoFocus: true }))) : null),\n            !!links?.length && React.createElement(go.Provider, { linkId: Stack },\n                React.createElement(go.Component, { path: [dpl, 'Stack'], links: links, Item: Item, direction: 'vertical', flex: '1' })));\n        const nav = go.useNav();\n        nav('current', 'left', 'up', 'close', 'contains');\n        if (isConcentrated !== false) {\n            nav('close', 'current', 'up', 'right', 'contains');\n            nav('parents', 'left', 'current', 'contains', 'type');\n            nav('contains', 'parents', 'current', 'insert', 'type');\n            nav('insert', 'contains', 'current', 'delete', 'type');\n            nav('delete', 'insert', 'close', 'right', 'type');\n            nav('edit-from', 'left', 'contains', 'from', 'up-tree');\n            nav('from', 'edit-from', 'contains', 'to', 'out');\n            nav('type', 'from', 'contains', 'to', 'typed');\n            nav('to', 'type', 'contains', 'edit-to', 'in');\n            nav('edit-to', 'to', 'contains', 'right', 'down-tree');\n            nav('up-tree', 'left', 'edit-from', 'out', 'selectors');\n            nav('out', 'up-tree', 'from', 'typed', 'selected');\n            nav('typed', 'out', 'type', 'in', 'promises');\n            nav('in', 'typed', 'to', 'down-tree', 'promises');\n            nav('down-tree', 'in', 'edit-to', 'right', 'rejects');\n            nav('selectors', 'left', 'up-tree', 'selected', 'value');\n            nav('selected', 'selectors', 'out', 'promises', 'value');\n            nav('promises', 'selected', 'in', 'rejects', 'value');\n            nav('rejects', 'promises', 'down-tree', 'right', 'value');\n            nav('value', 'left', 'promises', 'handlers', Stack);\n            nav('handlers', 'value', 'promises', 'right', Stack);\n            nav(Stack, 'left', 'value', 'right', 'down');\n        }\n        const openLink = async (id) => {\n            !!id && go.go.do('open', { handlerId: TreeLink, id: id, prevId: go.linkId });\n            await go.go.await(id);\n            go.go.focus(id);\n        };\n        const deconcentrated = React.createElement(c.Button, { h: '100%', w: '3em', pt: '1em', variant: isActive ? 'active' : undefined, alignItems: 'flex-start' }, go?.link?.symbol);\n        const content = isConcentrated === false ? deconcentrated : column;\n        return React.createElement(go.On, { do: {\n                focus: (g, v, linkId, o) => !go.value && ((go?.link?.type_id === Package || !go?.link?.value?.value) && go.do('contains')),\n                use: (g, v, o) => o?.id && go.value === Stack ? (go(Stack).do('use', o)) : (go.set('current')),\n                close: (g, v, o) => go.go.do('close', { id: go.linkId }),\n                exec: (g, v, o) => o?.id ? go.go.do('open', { id: o.id, prevId: go.linkId, focus: true }) : go.value && go.do(go.value, o),\n                left: (g, v, o) => go.focus(nav.get(go.value || 'current', 'left'), { prev: go.value }),\n                up: (g, v, o) => go.focus(nav.get(go.value || 'current', 'up'), { prev: go.value }),\n                right: (g, v, o) => go.focus(nav.get(go.value || 'current', 'right'), { prev: go.value }),\n                down: (g, v, o) => go.focus(nav.get(go.value || 'current', 'down'), { prev: go.value }),\n                'current': () => { },\n                'parents': () => go.do('query', { query: { ...queries.parents, limit: 100 } }),\n                'contains': () => go.do('query', { query: { ...queries.contains, limit: 100 } }),\n                'edit-from': () => fromDisclosure.onOpen(),\n                'from': () => openLink(go?.link?.from_id),\n                'type': () => openLink(go?.link?.type_id),\n                'to': () => openLink(go?.link?.to_id),\n                'edit-to': () => toDisclosure.onOpen(),\n                'up-tree': () => { },\n                'out': () => go.do('query', { query: { ...queries.out, limit: 100 } }),\n                'typed': () => go.do('query', { query: { ...queries.typed, limit: 100 } }),\n                'in': () => go.do('query', { query: { ...queries.in, limit: 100 } }),\n                'down-tree': () => { },\n                'selectors': () => go.do('query', { query: { ...queries.selectors, limit: 100 } }),\n                'selected': () => go.do('query', { query: { ...queries.selected, limit: 100 } }),\n                'promises': () => go.do('query', { query: { ...queries.promises, limit: 100 } }),\n                'rejects': () => go.do('query', { query: { ...queries.rejects, limit: 100 } }),\n                'value': () => {\n                    go.do('query', { query: null });\n                    go.focus(go.value === TreeEditor ? 'value' : TreeEditor);\n                },\n                'handlers': () => {\n                    go.do('query', { query: null });\n                    if (!compatables?.length) {\n                        handlerDisclosure.onOpen();\n                    }\n                    else\n                        setHandlers(h => !h);\n                },\n                'query': (g, v, o) => {\n                    if (o.hasOwnProperty('query'))\n                        setQuery(o.query);\n                },\n                [Stack]: (g, v, o) => openLink(o?.id),\n            }, focus: {\n                up: (q, v, o) => go.set().go?.go?.do('up'),\n                down: (q, v, o) => go.set().go?.go?.do('down'),\n                left: (q, v, o) => go.set(o?.left).go?.go?.do('left'),\n                right: (q, v, o) => go.set(o?.right).go?.go?.do('right'),\n            } },\n            React.createElement(c.HStack, { ref: ref, h: '100%', overflow: 'hidden' },\n                React.createElement(deep.Files, { containerId: go.linkId, noClick: true, onInsert: (id, files) => console.log(id, files), Component: c.Box, Props: { h: '100%', w: '100%' } },\n                    content,\n                    children)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUNKLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLEdBQ3pFLEdBQUcsT0FBTyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7SUFFL0MsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQixNQUFNLElBQUksR0FBRyxzQkFBc0IsQ0FBQztJQUNwQyxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEVBQUUsR0FBRyx5QkFBeUIsQ0FBQztJQUVyQyxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLGtCQUFrQixDQUFDLENBQUM7SUFDOUQsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDbkQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDekMsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDOUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDOUMsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsYUFBYSxDQUFDLENBQUM7SUFDcEQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDeEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDMUMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDMUMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDMUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdEMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDeEMsTUFBTSxPQUFPLEdBQUcsSUFB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LEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUN6RCxPQUFPLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxDQUFDO1lBQzNELElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDdEQsV0FBVyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUN6RyxVQUFVLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxFQUFFLFdBQVcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUN6RixVQUFVLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUNsSSxTQUFTLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFB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Q0FBQyxDQUFDO1lBQ2xELEdBQUcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFFdEQsR0FBRyxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUN6RCxHQUFHLENBQUMsVUFBVSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ3pELEdBQUcsQ0FBQyxVQUFVLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDdEQsR0FBRyxDQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUUxRCxHQUFHLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3BELEdBQUcsQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFFckQsR0FBRyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMvQyxDQUFDO1FBRUQsTUFBTSxRQUFRLEdBQUcsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFO1lBQzVCLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQTtZQUM1RSxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3RCLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xCLENBQUMsQ0FBQztRQUVGLE1BQU0sY0FBYyxHQUFHLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQzlCLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsS0FBSyxFQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUNsRSxVQUFVLEVBQUMsWUFBWSxJQUV0QixFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FDUixDQUFBO1FBRVgsTUFBTSxPQUFPLEdBQUcsY0FBYyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFFbkUsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUNYLEVBQUUsRUFBRTtnQkFDRixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEtBQUssT0FBTyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDMUgsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUM5RixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDeEQsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Z0JBRTFILElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssSUFBSSxTQUFTLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUN2RixFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksU0FBUyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDbkYsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsS0FBSyxJQUFJLFNBQVMsRUFBRSxPQUFPLENBQUMsRUFB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c0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCB7IE1kRWRpdCwgTWRQcmV2aWV3LCBNZFNhdmVBbHQgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9tZFwiKTtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG4gIGNvbnN0IHtcbiAgICBUeXBlZEljb24sIERvd25JY29uLCBVcEljb24sIFR5cGVJY29uLCBJbkljb24sIE91dEljb24sIEZyb21JY29uLCBUb0ljb24sXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG5cbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgX2RwbCA9IGRlZXAuaWRMb2NhbChkcGwpO1xuICBjb25zdCBkdHN4ID0gJ0BkZWVwLWZvdW5kYXRpb24vdHN4JztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHIgPSAnQGRlZXAtZm91bmRhdGlvbi9yZWFkbWUnO1xuXG4gIGNvbnN0IGNsaWVudFN1cHBvcnRzSnMgPSBkZWVwLmlkTG9jYWwoZGMsICdjbGllbnRTdXBwb3J0c0pzJyk7XG4gIGNvbnN0IFRTWCA9IGRlZXAuaWRMb2NhbChkdHN4LCAnVFNYJyk7XG4gIGNvbnN0IEhhbmRsZXIgPSBkZWVwLmlkTG9jYWwoZGMsICdIYW5kbGVyJyk7XG4gIGNvbnN0IENvbXBhdGFibGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQ29tcGF0YWJsZScpO1xuICBjb25zdCBTdGFjayA9IGRlZXAuaWRMb2NhbChkcGwsICdTdGFjaycpO1xuICBjb25zdCBTZWxlY3RvciA9IGRlZXAuaWRMb2NhbChkYywgJ1NlbGVjdG9yJyk7XG4gIGNvbnN0IFByb21pc2UgPSBkZWVwLmlkTG9jYWwoZGMsICdQcm9taXNlJyk7XG4gIGNvbnN0IFJlamVjdGVkID0gZGVlcC5pZExvY2FsKGRjLCAnUmVqZWN0ZWQnKTtcbiAgY29uc3QgcHJvbWlzZVRyZWUgPSBkZWVwLmlkTG9jYWwoZGMsICdwcm9taXNlVHJlZScpO1xuICBjb25zdCBWYWx1ZSA9IGRlZXAuaWRMb2NhbChkYywgJ1ZhbHVlJyk7XG4gIGNvbnN0IFN0cmluZyA9IGRlZXAuaWRMb2NhbChkYywgJ1N0cmluZycpO1xuICBjb25zdCBOdW1iZXIgPSBkZWVwLmlkTG9jYWwoZGMsICdOdW1iZXInKTtcbiAgY29uc3QgT2JqZWN0ID0gZGVlcC5pZExvY2FsKGRjLCAnT2JqZWN0Jyk7XG4gIGNvbnN0IEZpbGUgPSBkZWVwLmlkTG9jYWwoZGMsICdGaWxlJyk7XG4gIGNvbnN0IFVzZXIgPSBkZWVwLmlkTG9jYWwoZGMsICdVc2VyJyk7XG4gIGNvbnN0IFBhY2thZ2UgPSBkZWVwLmlkTG9jYWwoZGMsICdQYWNrYWdlJyk7XG4gIGNvbnN0IFF1ZXJ5ID0gZGVlcC5pZExvY2FsKGRjLCAnUXVlcnknKTtcbiAgY29uc3QgQ29udGFpbiA9IGRlZXAuaWRMb2NhbChkYywgJ0NvbnRhaW4nKTtcbiAgY29uc3QgSGlzdG9yeSA9IGRlZXAuaWRMb2NhbChkcGwsICdIaXN0b3J5Jyk7XG4gIGNvbnN0IEhlYWRlciA9IGRlZXAuaWRMb2NhbChkcGwsICdIZWFkZXInKTtcbiAgY29uc3QgVHJlZUxpbmsgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmsnKTtcbiAgY29uc3QgVHJlZUxpc3QgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpc3QnKTtcbiAgY29uc3QgVHJlZUVkaXRvciA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlRWRpdG9yJyk7XG4gIGNvbnN0IFRyZWVRdWVyeSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlUXVlcnknKTtcbiAgY29uc3QgVHJlZUxpbmtJbnNlcnQgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtJbnNlcnQnKTtcbiAgY29uc3QgVHJlZUxpbmtEZWxldGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtEZWxldGUnKTtcbiAgY29uc3QgVHJlZUxpbmtCdXR0b24gPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtCdXR0b24nKTtcblxuICBjb25zdCBJdGVtID0gUmVhY3QubWVtbygoeyBsaW5rLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgY29uc3QgZ28gPSBHby51c2VHbygpO1xuICAgIHJldHVybiA8PlxuICAgICAgPGdvLkhhbmRsZXIgbGlua0lkPXtsaW5rLmlkfSBoYW5kbGVySWQ9e1RyZWVMaW5rQnV0dG9ufSByZWxhdGlvbnM9e2ZhbHNlfSB7Li4ucHJvcHN9Lz5cbiAgICA8Lz47XG4gIH0pO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG5cbiAgICBmdWxsV2lkdGgsXG4gICAgb3BlcmF0aW9ucyxcbiAgICBpc0NvbmNlbnRyYXRlZCxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgdmFsdWVUeXBlID0gUmVhY3QudXNlTWVtbygoKSA9PiBnby5saW5rPy50eXBlPy5vdXRCeVR5cGVbVmFsdWVdPy5bMF0/LnRvX2lkLCBbZ29dKTtcbiAgICBcbiAgICBjb25zdCBmcm9tRGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IHRvRGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IGhhbmRsZXJEaXNjbG9zdXJlID0gYy51c2VEaXNjbG9zdXJlKCk7XG5cbiAgICBjb25zdCBxdWVyaWVzID0gUmVhY3QudXNlTWVtbygoKSA9PiAoe1xuICAgICAgJ3BhcmVudHMnOiAoeyBvdXQ6IHsgdHlwZV9pZDogQ29udGFpbiwgdG9faWQ6IGdvLmxpbmtJZCB9LCBvcmRlcl9ieTogeyBpZDogJ2Rlc2MnIH0gfSksXG4gICAgICAnY29udGFpbnMnOiAoeyBpbjogeyB0eXBlX2lkOiBDb250YWluLCBmcm9tX2lkOiBnby5saW5rSWQgfSwgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9IH0pLFxuICAgICAgJ291dCc6ICh7IGZyb21faWQ6IGdvLmxpbmtJZCwgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9IH0pLFxuICAgICAgJ3R5cGVkJzogKHsgdHlwZV9pZDogZ28ubGlua0lkLCBvcmRlcl9ieTogeyBpZDogJ2Rlc2MnIH0gfSksXG4gICAgICAnaW4nOiAoeyB0b19pZDogZ28ubGlua0lkLCBvcmRlcl9ieTogeyBpZDogJ2Rlc2MnIH0gfSksXG4gICAgICAnc2VsZWN0b3JzJzogKHsgdHlwZV9pZDogU2VsZWN0b3IsIHNlbGVjdGVkOiB7IGl0ZW1faWQ6IHsgX2VxOiBnby5saW5rSWQgfSB9LCBvcmRlcl9ieTogeyBpZDogJ2Rlc2MnIH0gfSksXG4gICAgICAnc2VsZWN0ZWQnOiAoeyBzZWxlY3RlZDogeyBzZWxlY3Rvcl9pZDogeyBfZXE6IGdvLmxpbmtJZCB9IH0sIG9yZGVyX2J5OiB7IGlkOiAnZGVzYycgfSB9KSxcbiAgICAgICdwcm9taXNlcyc6ICh7IHR5cGVfaWQ6IFByb21pc2UsIHVwOiB7IHRyZWVfaWQ6IHsgX2VxOiBwcm9taXNlVHJlZSB9LCBwYXJlbnRfaWQ6IHsgX2VxOiBnby5saW5rSWQgfSB9LCBvcmRlcl9ieTogeyBpZDogJ2Rlc2MnIH0gfSksXG4gICAgICAncmVqZWN0cyc6ICh7IHR5cGVfaWQ6IFJlamVjdGVkLCB1cDogeyB0cmVlX2lkOiB7IF9lcTogcHJvbWlzZVRyZWUgfSwgcGFyZW50X2lkOiB7IF9lcTogZ28ubGlua0lkIH0gfSwgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9IH0pLFxuICAgIH0pLCBbXSk7XG5cbiAgICBjb25zdCBbcXVlcnksIHNldFF1ZXJ5XSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IHEgPSB7IC4uLihxdWVyeSB8fCB7fSksIHJldHVybjoge1xuICAgICAgY29udGFpbjogeyByZWxhdGlvbjogJ2luJywgdHlwZV9pZDogQ29udGFpbiwgbGltaXQ6IDEsIGZyb206IHsgdHlwZV9pZDogeyBfaW46IFtVc2VyLCBQYWNrYWdlXSB9IH0gfSxcbiAgICAgIHRvczogeyByZWxhdGlvbjogJ3RvJyB9LFxuICAgICAgZnJvbXM6IHsgcmVsYXRpb246ICdmcm9tJyB9LFxuICAgIH0gfTtcbiAgICBjb25zdCB7IGRhdGE6IGxpbmtzIH0gPSBkZWVwLnVzZVF1ZXJ5KHEsIHsgc2tpcDogIXF1ZXJ5IH0pO1xuICAgIC8vIGNvbnN0IFtsaW5rcywgc2V0TGlua3NdID0gUmVhY3QudXNlU3RhdGUoW10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAhIXF1ZXJ5ICYmIHNldEhhbmRsZXJzKGZhbHNlKTtcbiAgICB9LCBbcXVlcnldKTtcblxuICAgIGNvbnN0IHsgZGF0YTogY29tcGF0YWJsZXMsIHJlZmV0Y2ggfSA9IGRlZXAudXNlUXVlcnkoZ28/Lmxpbms/LnR5cGVfaWQgPyB7XG4gICAgICB0eXBlX2lkOiBIYW5kbGVyLFxuICAgICAgZnJvbV9pZDogY2xpZW50U3VwcG9ydHNKcyxcbiAgICAgIF9hbmQ6IFtcbiAgICAgICAgeyBvdXQ6IHtcbiAgICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICAgIHRvX2lkOiBoYW5kbGVySWQsXG4gICAgICAgIH0gfSxcbiAgICAgICAgeyBvdXQ6IHtcbiAgICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICAgIHRvX2lkOiB7IF9pbjogW2xpbmsuaWQsIGxpbmsudHlwZV9pZF0gfSxcbiAgICAgICAgfSB9LFxuICAgICAgXSxcbiAgICB9IDoge30sIHsgc2tpcDogIWdvPy5saW5rPy50eXBlX2lkIH0pO1xuXG4gICAgY29uc3QgdmFsdWVCdXR0b24gPSAhdmFsdWVUeXBlID8gPD5cbiAgICAgIDxjLkJ1dHRvblxuICAgICAgICBmbGV4PScxJ1xuICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3ZhbHVlJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBiZz17Z28udmFsdWUgPT09IFRyZWVFZGl0b3IgPyAnZGVlcEJnRGFyaycgOiBudWxsfSBqdXN0aWZ5Q29udGVudD0nY2VudGVyJ1xuICAgICAgICBkaXNhYmxlZFxuICAgICAgPlxuICAgICAgICB0eXBlIGNhbid0IGhhdmUgVmFsdWVcbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC8+IDogdmFsdWVUeXBlID09PSBTdHJpbmcgPyA8PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIGZsZXg9JzEnXG4gICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAndmFsdWUnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IGJnPXtnby52YWx1ZSA9PT0gVHJlZUVkaXRvciA/ICdkZWVwQmdEYXJrJyA6IG51bGx9IGp1c3RpZnlDb250ZW50PSdjZW50ZXInXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCd2YWx1ZScpLmdvLmRvKCd2YWx1ZScpfVxuICAgICAgPlxuICAgICAgICA8Yy5UZXh0IHByPXsxfT5cIlwiLmxlbmd0aCA9PT0ge2dvLmxpbms/LnZhbHVlPy52YWx1ZT8ubGVuZ3RoIHx8IDB9PC9jLlRleHQ+IHN0cmluZ1xuICAgICAgPC9jLkJ1dHRvbj5cbiAgICA8Lz4gOiB2YWx1ZVR5cGUgPT09IE51bWJlciA/IDw+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgZmxleD0nMSdcbiAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICd2YWx1ZScgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0gYmc9e2dvLnZhbHVlID09PSBUcmVlRWRpdG9yID8gJ2RlZXBCZ0RhcmsnIDogbnVsbH0ganVzdGlmeUNvbnRlbnQ9J2NlbnRlcidcbiAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ3ZhbHVlJykuZ28uZG8oJ3ZhbHVlJyl9XG4gICAgICA+XG4gICAgICAgIDxjLlRleHQgcHI9ezF9PnsrZ28ubGluaz8udmFsdWU/LnZhbHVlfTwvYy5UZXh0PiBudW1iZXJcbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC8+IDogdmFsdWVUeXBlID09PSBPYmplY3QgPyA8PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIGZsZXg9JzEnXG4gICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAndmFsdWUnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IGJnPXtnby52YWx1ZSA9PT0gVHJlZUVkaXRvciA/ICdkZWVwQmdEYXJrJyA6IG51bGx9IGp1c3RpZnlDb250ZW50PSdjZW50ZXInXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCd2YWx1ZScpLmdvLmRvKCd2YWx1ZScpfVxuICAgICAgPlxuICAgICAgICA8Yy5UZXh0IHByPXsxfT57YHsuLi59YH08L2MuVGV4dD4gb2JqZWN0XG4gICAgICA8L2MuQnV0dG9uPlxuICAgIDwvPiA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IFtoYW5kbGVycywgc2V0SGFuZGxlcnNdID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG5cbiAgICBjb25zdCBjb2x1bW4gPSA8Yy5WU3RhY2tcbiAgICAgIHBvc2l0aW9uPSdyZWxhdGl2ZScgbWluVz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gbWF4Vz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gaD0nMTAwJScgc3BhY2luZz17MX1cbiAgICAgIGJnPXtpc0FjdGl2ZSA/ICdkZWVwQmdEYXJrJyA6IG51bGx9XG4gICAgPlxuICAgICAgPGMuRmxleCB3PScxMDAlJz5cbiAgICAgICAgPGdvLkhhbmRsZXJcbiAgICAgICAgICBoYW5kbGVySWQ9e1RyZWVMaW5rQnV0dG9ufSBsaW5rSWQ9e2dvLmxpbmtJZH0gZmxleD0nMSdcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnY3VycmVudCcpLmdvLmRvKCdleGVjJyl9XG4gICAgICAgICAgbmVlZFBhcmVudD17ZmFsc2V9IGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gJ2N1cnJlbnQnfVxuICAgICAgICAgIGVkaXRhYmxlU3ltYm9sXG4gICAgICAgIC8+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIG1pblc9JzNlLCcgdz0nM2VtJyBoPScxMDAlJyBtaW5IPSczZW0nIHA9JzAnXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ2Nsb3NlJykuZ28uZG8oJ2Nsb3NlJyl9XG4gICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdjbG9zZScgPyAnYWN0aXZlJyA6IG51bGx9XG4gICAgICAgID54PC9jLkJ1dHRvbj5cbiAgICAgIDwvYy5GbGV4PlxuICAgICAgPGMuU2ltcGxlR3JpZCBzcGFjaW5nPXsxfSB3PScxMDAlJyBjb2x1bW5zPXsyICsgKG9wZXJhdGlvbnMgPyAyIDogMCl9PlxuICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3BhcmVudHMnID8gJ2FjdGl2ZScgOiBudWxsfVxuICAgICAgICAgIGp1c3RpZnlDb250ZW50PSdjZW50ZXInXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ3BhcmVudHMnKS5nby5kbygncGFyZW50cycpfVxuICAgICAgICA+XG4gICAgICAgICAgPGMuVGV4dCBwcj17MX0+8J+Xgu+4jzwvYy5UZXh0PiBwYXJlbnRzXG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAnY29udGFpbnMnID8gJ2FjdGl2ZScgOiBudWxsfVxuICAgICAgICAgIGp1c3RpZnlDb250ZW50PSdjZW50ZXInXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ2NvbnRhaW5zJykuZ28uZG8oJ2NvbnRhaW5zJyl9XG4gICAgICAgID5cbiAgICAgICAgICA8Yy5UZXh0IHByPXsxfT7wn5eC77iPPC9jLlRleHQ+IGNvbnRhaW5zXG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIHtvcGVyYXRpb25zICYmIDw+XG4gICAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17VHJlZUxpbmtJbnNlcnR9PlxuICAgICAgICAgICAgPGdvLkhhbmRsZXJcbiAgICAgICAgICAgICAgaXNBY3RpdmU9e2dvLnZhbHVlID09PSAnaW5zZXJ0JyA/IGdvLnJlZiA6IG51bGx9XG4gICAgICAgICAgICAgIGhhbmRsZXJJZD17VHJlZUxpbmtJbnNlcnR9XG4gICAgICAgICAgICAgIGRlZmF1bHRDb250YWluZXJJZD17Z28ubGlua0lkfSBkZWZhdWx0VHlwZUlkPXsxfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e1RyZWVMaW5rRGVsZXRlfT5cbiAgICAgICAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgICAgICAgIGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gJ2RlbGV0ZScgPyBnby5yZWYgOiBudWxsfVxuICAgICAgICAgICAgICBoYW5kbGVySWQ9e1RyZWVMaW5rRGVsZXRlfVxuICAgICAgICAgICAgICBsaW5rSWQ9e2dvLmxpbmtJZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgPC8+fVxuICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICB7KGdvPy5saW5rPy50eXBlX2lkID09PSAxIHx8ICEhZ28/Lmxpbms/LmZyb21faWQpICYmIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ0ZpbmRlciddfVxuICAgICAgICBkaXNjbG9zdXJlPXtmcm9tRGlzY2xvc3VyZX0gaW5pdGlhbElkPXtnbz8ubGluaz8uZnJvbV9pZCB8fCBnbz8ubGluaz8uaWR9IGluaXRpYWxIYW5kbGVySWQ9e1RyZWVMaXN0fVxuICAgICAgICBvblN1Ym1pdD17KGlkKSA9PiB7XG4gICAgICAgICAgZGVlcC51cGRhdGUoZ28ubGlua0lkLCB7IGZyb21faWQ6IGlkIH0pO1xuICAgICAgICAgIGZyb21EaXNjbG9zdXJlLm9uQ2xvc2UoKTtcbiAgICAgICAgfX1cbiAgICAgIC8+fVxuICAgICAgeyhnbz8ubGluaz8udHlwZV9pZCA9PT0gMSB8fCAhIWdvPy5saW5rPy50b19pZCkgJiYgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVyJ119XG4gICAgICAgIGRpc2Nsb3N1cmU9e3RvRGlzY2xvc3VyZX0gaW5pdGlhbElkPXtnbz8ubGluaz8udG9faWQgfHwgZ28/Lmxpbms/LmlkfSBpbml0aWFsSGFuZGxlcklkPXtUcmVlTGlzdH1cbiAgICAgICAgb25TdWJtaXQ9eyhpZCkgPT4ge1xuICAgICAgICAgIGRlZXAudXBkYXRlKGdvLmxpbmtJZCwgeyB0b19pZDogaWQgfSk7XG4gICAgICAgICAgdG9EaXNjbG9zdXJlLm9uQ2xvc2UoKTtcbiAgICAgICAgfX1cbiAgICAgIC8+fVxuICAgICAge1s8Z28uUXVlcnkga2V5PXtgJHtmcm9tRGlzY2xvc3VyZS5pc09wZW59JHt0b0Rpc2Nsb3N1cmUuaXNPcGVufWB9IHF1ZXJ5PXt7IGlkOiBnby5saW5rSWQgfX0vPl19XG4gICAgICA8Yy5TaW1wbGVHcmlkIHNwYWNpbmc9ezF9IHc9JzEwMCUnIGNvbHVtbnM9ezN9PlxuICAgICAgICA8Yy5GbGV4PlxuICAgICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdlZGl0LWZyb20nID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudD0ncmlnaHQnIHRleHRBbGlnbj0ncmlnaHQnIGg9JzNlbScgZGlzYWJsZWQ9eyFnby5saW5rPy5mcm9tX2lkfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ2VkaXQtZnJvbScpLmdvLmRvKCdlZGl0LWZyb20nKX1cbiAgICAgICAgICA+PGMuQm94PlxuICAgICAgICAgICAgICA8TWRFZGl0IC8+XG4gICAgICAgICAgICA8L2MuQm94PjwvYy5CdXR0b24+XG4gICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ2Zyb20nID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudD0ncmlnaHQnIHRleHRBbGlnbj0ncmlnaHQnXG4gICAgICAgICAgICBmbGV4PScxJyBoPSczZW0nXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnZnJvbScpLmdvLmRvKCdmcm9tJyl9XG4gICAgICAgICAgICByaWdodEljb249ezxGcm9tSWNvbiAvPn1cbiAgICAgICAgICAgIG92ZXJmbG93PSdoaWRkZW4nXG4gICAgICAgICAgPjxjLkJveD5cbiAgICAgICAgICAgICAgPGMuVGV4dD5mcm9tPC9jLlRleHQ+XG4gICAgICAgICAgICAgIDxjLkJveD48Yy5UZXh0IGZvbnRTaXplPSd4cyc+e2dvLmxpbms/LmZyb20/LnN5bWJvbH0geyEhZ28ubGluaz8uZnJvbSAmJiBnbz8ubGluaz8uZnJvbS5uYW1lfSB7Z28ubGluaz8uZnJvbV9pZH08L2MuVGV4dD48L2MuQm94PlxuICAgICAgICAgICAgPC9jLkJveD48L2MuQnV0dG9uPlxuICAgICAgICA8L2MuRmxleD5cbiAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICd0eXBlJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICAgIGRpc2FibGVkPXshZ28ubGluaz8udHlwZV9pZH0gbGVmdEljb249ezxUeXBlSWNvbiAvPn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygndHlwZScpLmdvLmRvKCd0eXBlJyl9XG4gICAgICAgICAgaD0nM2VtJyBvdmVyZmxvdz0naGlkZGVuJ1xuICAgICAgICA+PGMuQm94PlxuICAgICAgICAgICAgPGMuVGV4dD50eXBlPC9jLlRleHQ+XG4gICAgICAgICAgICA8Yy5Cb3g+PGMuVGV4dCBmb250U2l6ZT0neHMnPntnby5saW5rPy50eXBlPy5zeW1ib2x9IHshIWdvLmxpbms/LnR5cGUgJiYgZ28/Lmxpbms/LnR5cGUubmFtZX0ge2dvLmxpbms/LnR5cGVfaWR9PC9jLlRleHQ+PC9jLkJveD5cbiAgICAgICAgICA8L2MuQm94PjwvYy5CdXR0b24+XG4gICAgICAgIDxjLkZsZXg+XG4gICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3RvJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ9J2xlZnQnIHRleHRBbGlnbj0nbGVmdCcgZmxleD0nMScgaD0nM2VtJyByaWdodEljb249ezxUb0ljb24gLz59XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygndG8nKS5nby5kbygndG8nKX1cbiAgICAgICAgICAgIG92ZXJmbG93PSdoaWRkZW4nXG4gICAgICAgICAgPjxjLkJveD5cbiAgICAgICAgICAgICAgPGMuVGV4dD50bzwvYy5UZXh0PlxuICAgICAgICAgICAgICA8Yy5Cb3g+PGMuVGV4dCBmb250U2l6ZT0neHMnPntnby5saW5rPy50bz8uc3ltYm9sfSB7ISFnby5saW5rPy50byAmJiBnbz8ubGluaz8udG8ubmFtZX0ge2dvLmxpbms/LnRvX2lkfTwvYy5UZXh0PjwvYy5Cb3g+XG4gICAgICAgICAgICA8L2MuQm94PjwvYy5CdXR0b24+XG4gICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ2VkaXQtdG8nID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudD0ncmlnaHQnIHRleHRBbGlnbj0ncmlnaHQnIGg9JzNlbScgZGlzYWJsZWQ9eyFnby5saW5rPy50b19pZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCdlZGl0LXRvJykuZ28uZG8oJ2VkaXQtdG8nKX1cbiAgICAgICAgICA+PGMuQm94PlxuICAgICAgICAgICAgICA8TWRFZGl0IC8+XG4gICAgICAgICAgICA8L2MuQm94PjwvYy5CdXR0b24+XG4gICAgICAgIDwvYy5GbGV4PlxuICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICA8Yy5TaW1wbGVHcmlkIHNwYWNpbmc9ezF9IHc9JzEwMCUnIGNvbHVtbnM9ezV9PlxuICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3VwLXRyZWUnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IGp1c3RpZnlDb250ZW50PSdjZW50ZXInXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ3VwLXRyZWUnKS5nby5kbygndXAtdHJlZScpfVxuICAgICAgICAgIGxlZnRJY29uPXs8VXBJY29uIC8+fVxuICAgICAgICA+XG4gICAgICAgICAgPGMuVGV4dD51cDwvYy5UZXh0PlxuICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ291dCcgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0ganVzdGlmeUNvbnRlbnQ9J2xlZnQnIHRleHRBbGlnbj0nbGVmdCdcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnb3V0JykuZ28uZG8oJ291dCcpfVxuICAgICAgICAgIGxlZnRJY29uPXs8T3V0SWNvbiAvPn1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLlRleHQ+b3V0PC9jLlRleHQ+XG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIHsvKiA8SWNvbkJ1dHRvbiBhcmlhLWxhYmVsPSd0eXBlZCcgaWNvbj17PFR5cGVkSWNvbiAvPn0gLz4gKi99XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAndHlwZWQnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZm9jdXMoJ3R5cGVkJykuZ28uZG8oJ3R5cGVkJyl9XG4gICAgICAgICAgbGVmdEljb249ezxUeXBlZEljb24gLz59XG4gICAgICAgID5cbiAgICAgICAgICA8Yy5UZXh0PnR5cGVkPC9jLlRleHQ+XG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAnaW4nID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IGp1c3RpZnlDb250ZW50PSdyaWdodCcgdGV4dEFsaWduPSdyaWdodCdcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnaW4nKS5nby5kbygnaW4nKX1cbiAgICAgICAgICByaWdodEljb249ezxJbkljb24gLz59XG4gICAgICAgID5cbiAgICAgICAgICA8Yy5UZXh0PmluPC9jLlRleHQ+XG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e2dvLnZhbHVlID09PSAnZG93bi10cmVlJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBqdXN0aWZ5Q29udGVudD0nY2VudGVyJ1xuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCdkb3duLXRyZWUnKS5nby5kbygnZG93bi10cmVlJyl9XG4gICAgICAgICAgbGVmdEljb249ezxEb3duSWNvbiAvPn1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLlRleHQ+ZG93bjwvYy5UZXh0PlxuICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICA8Yy5TaW1wbGVHcmlkIHNwYWNpbmc9ezF9IHc9JzEwMCUnIGNvbHVtbnM9ezR9PlxuICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3NlbGVjdG9ycycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0ganVzdGlmeUNvbnRlbnQ9J2NlbnRlcidcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnc2VsZWN0b3JzJykuZ28uZG8oJ3NlbGVjdG9ycycpfVxuICAgICAgICA+XG4gICAgICAgICAgPGMuVGV4dCBwcj17MX0+8J+qoTwvYy5UZXh0PiBzZWxlY3RvcnNcbiAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdzZWxlY3RlZCcgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0ganVzdGlmeUNvbnRlbnQ9J2NlbnRlcidcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnc2VsZWN0ZWQnKS5nby5kbygnc2VsZWN0ZWQnKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLlRleHQgcHI9ezF9PvCfqqE8L2MuVGV4dD4gc2VsZWN0ZWRcbiAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdwcm9taXNlcycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0ganVzdGlmeUNvbnRlbnQ9J2NlbnRlcidcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygncHJvbWlzZXMnKS5nby5kbygncHJvbWlzZXMnKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLlRleHQgcHI9ezF9PvCfpJ48L2MuVGV4dD4gcHJvbWlzZXNcbiAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdyZWplY3RzJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBqdXN0aWZ5Q29udGVudD0nY2VudGVyJ1xuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCdyZWplY3RzJykuZ28uZG8oJ3JlamVjdHMnKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLlRleHQgcHI9ezF9PvCflLQ8L2MuVGV4dD4gcmVqZWN0c1xuICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICA8Yy5GbGV4IHc9JzEwMCUnIHNwYWNpbmc9ezF9PlxuICAgICAgICB7dmFsdWVCdXR0b259XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e2hhbmRsZXJzICYmIGNvbXBhdGFibGVzPy5sZW5ndGggPyAnZGVlcERhcmsnIDogZ28udmFsdWUgPT09ICdoYW5kbGVycycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0ganVzdGlmeUNvbnRlbnQ9J2NlbnRlcidcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnaGFuZGxlcnMnKS5nby5kbygnaGFuZGxlcnMnKX1cbiAgICAgICAgICBwb3NpdGlvbj0ncmVsYXRpdmUnXG4gICAgICAgID5cbiAgICAgICAgICDwn5GB77iPXG4gICAgICAgICAgeyFjb21wYXRhYmxlcz8ubGVuZ3RoICYmIDxjLkJveFxuICAgICAgICAgICAgcG9zaXRpb249J2Fic29sdXRlJyByaWdodD0nMC41ZW0nIHRvcD0nMC4xZW0nIGNvbG9yPXtnby52YWx1ZSA9PT0gJ2hhbmRsZXJzJyA/ICdkZWVwQ29sb3JBY3RpdmUnIDogJ2RlZXBDb2xvcid9XG4gICAgICAgICAgPis8L2MuQm94Pn1cbiAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgIDwvYy5GbGV4PlxuICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnTGlua0luc2VydE1vZGFsJ119IGRpc2Nsb3N1cmU9e2hhbmRsZXJEaXNjbG9zdXJlfVxuICAgICAgICBvbkluc2VydD17KGluc2VydGVkKSA9PiB7XG4gICAgICAgICAgcmVmZXRjaCgpO1xuICAgICAgICB9fVxuICAgICAgICB7Li4uKHsgY3VzdG9tSW5zZXJ0OiAoeyBuYW1lIH0gPSB7IG5hbWU6ICcnIH0pID0+ICh7XG4gICAgICAgICAgY29udGFpbmVySWQ6IF9kcGwsXG4gICAgICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgICAgICBmcm9tX2lkOiBjbGllbnRTdXBwb3J0c0pzLFxuICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICB0eXBlX2lkOiBUU1gsXG4gICAgICAgICAgICBzdHJpbmc6IGdvLmNvbXBvbmVudFRlbXBsYXRlKHsgY2hpbGRyZW46IGA8PkhhbmRsZXIgb2YgJHtnby5saW5rfTwvPmAgfSksXG4gICAgICAgICAgICBuYW1lOiBgJHtuYW1lfUNvbXBvbmVudGAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvdXQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZV9pZDogQ29tcGF0YWJsZSxcbiAgICAgICAgICAgICAgdG9faWQ6IGdvLmxpbmtJZCxcbiAgICAgICAgICAgICAgbmFtZTogYCR7bmFtZX1Db21wYXRhYmxlJHtnby5saW5rLm5hbWV9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGVfaWQ6IENvbXBhdGFibGUsXG4gICAgICAgICAgICAgIHRvX2lkOiBUcmVlTGluayxcbiAgICAgICAgICAgICAgbmFtZTogYCR7bmFtZX1Db21wYXRhYmxlVHJlZUxpbmtgLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KSB9KX1cbiAgICAgIC8+XG4gICAgICB7IWxpbmtzLmxlbmd0aCAmJiAoISFoYW5kbGVycyAmJiBjb21wYXRhYmxlcz8ubGVuZ3RoID8gKGNvbXBhdGFibGVzLm1hcChjb21wYXRhYmxlID0+ICg8PlxuICAgICAgICA8Yy5Cb3ggbWluVz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gbWF4Vz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gZmxleD0nMScgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtjb21wYXRhYmxlPy5pZH0+XG4gICAgICAgICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e2NvbXBhdGFibGU/LmlkfSBsaW5rSWQ9e2dvLmxpbmtJZH0gbGluaz17Z28ubGlua30gZmlsbFNpemUgYXV0b0ZvY3VzIC8+XG4gICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgPC9jLkJveD5cbiAgICAgIDwvPikpKSA6IGdvLnZhbHVlID09PSBUcmVlRWRpdG9yICYmICFsaW5rcz8ubGVuZ3RoID8gKFxuICAgICAgICA8Yy5Cb3ggbWluVz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gbWF4Vz17ZnVsbFdpZHRoIHx8ICczMGVtJ30gZmxleD0nMScgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e1RyZWVFZGl0b3J9IGxpbmtJZD17Z28ubGlua0lkfSBmaWxsU2l6ZSBhdXRvRm9jdXMgLz5cbiAgICAgICAgPC9jLkJveD5cbiAgICAgICkgOiBudWxsKX1cbiAgICAgIHshIWxpbmtzPy5sZW5ndGggJiYgPGdvLlByb3ZpZGVyIGxpbmtJZD17U3RhY2t9PlxuICAgICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdTdGFjayddfSBsaW5rcz17bGlua3N9IEl0ZW09e0l0ZW19IGRpcmVjdGlvbj0ndmVydGljYWwnIGZsZXg9JzEnIC8+XG4gICAgICA8L2dvLlByb3ZpZGVyPn1cbiAgICA8L2MuVlN0YWNrPjtcblxuICAgIGNvbnN0IG5hdiA9IGdvLnVzZU5hdigpO1xuICAgIG5hdignY3VycmVudCcsICdsZWZ0JywgJ3VwJywgJ2Nsb3NlJywgJ2NvbnRhaW5zJyk7XG4gICAgXG4gICAgaWYgKGlzQ29uY2VudHJhdGVkICE9PSBmYWxzZSkge1xuICAgICAgbmF2KCdjbG9zZScsICdjdXJyZW50JywgJ3VwJywgJ3JpZ2h0JywgJ2NvbnRhaW5zJyk7XG4gIFxuICAgICAgbmF2KCdwYXJlbnRzJywgJ2xlZnQnLCAnY3VycmVudCcsICdjb250YWlucycsICd0eXBlJyk7XG4gICAgICBuYXYoJ2NvbnRhaW5zJywgJ3BhcmVudHMnLCAnY3VycmVudCcsICdpbnNlcnQnLCAndHlwZScpO1xuICAgICAgbmF2KCdpbnNlcnQnLCAnY29udGFpbnMnLCAnY3VycmVudCcsICdkZWxldGUnLCAndHlwZScpO1xuICAgICAgbmF2KCdkZWxldGUnLCAnaW5zZXJ0JywgJ2Nsb3NlJywgJ3JpZ2h0JywgJ3R5cGUnKTtcbiAgXG4gICAgICBuYXYoJ2VkaXQtZnJvbScsICdsZWZ0JywgJ2NvbnRhaW5zJywgJ2Zyb20nLCAndXAtdHJlZScpO1xuICAgICAgbmF2KCdmcm9tJywgJ2VkaXQtZnJvbScsICdjb250YWlucycsICd0bycsICdvdXQnKTtcbiAgICAgIG5hdigndHlwZScsICdmcm9tJywgJ2NvbnRhaW5zJywgJ3RvJywgJ3R5cGVkJyk7XG4gICAgICBuYXYoJ3RvJywgJ3R5cGUnLCAnY29udGFpbnMnLCAnZWRpdC10bycsICdpbicpO1xuICAgICAgbmF2KCdlZGl0LXRvJywgJ3RvJywgJ2NvbnRhaW5zJywgJ3JpZ2h0JywgJ2Rvd24tdHJlZScpO1xuICBcbiAgICAgIG5hdigndXAtdHJlZScsICdsZWZ0JywgJ2VkaXQtZnJvbScsICdvdXQnLCAnc2VsZWN0b3JzJyk7XG4gICAgICBuYXYoJ291dCcsICd1cC10cmVlJywgJ2Zyb20nLCAndHlwZWQnLCAnc2VsZWN0ZWQnKTtcbiAgICAgIG5hdigndHlwZWQnLCAnb3V0JywgJ3R5cGUnLCAnaW4nLCAncHJvbWlzZXMnKTtcbiAgICAgIG5hdignaW4nLCAndHlwZWQnLCAndG8nLCAnZG93bi10cmVlJywgJ3Byb21pc2VzJyk7XG4gICAgICBuYXYoJ2Rvd24tdHJlZScsICdpbicsICdlZGl0LXRvJywgJ3JpZ2h0JywgJ3JlamVjdHMnKTtcbiAgXG4gICAgICBuYXYoJ3NlbGVjdG9ycycsICdsZWZ0JywgJ3VwLXRyZWUnLCAnc2VsZWN0ZWQnLCAndmFsdWUnKTtcbiAgICAgIG5hdignc2VsZWN0ZWQnLCAnc2VsZWN0b3JzJywgJ291dCcsICdwcm9taXNlcycsICd2YWx1ZScpO1xuICAgICAgbmF2KCdwcm9taXNlcycsICdzZWxlY3RlZCcsICdpbicsICdyZWplY3RzJywgJ3ZhbHVlJyk7XG4gICAgICBuYXYoJ3JlamVjdHMnLCAncHJvbWlzZXMnLCAnZG93bi10cmVlJywgJ3JpZ2h0JywgJ3ZhbHVlJyk7XG4gIFxuICAgICAgbmF2KCd2YWx1ZScsICdsZWZ0JywgJ3Byb21pc2VzJywgJ2hhbmRsZXJzJywgU3RhY2spO1xuICAgICAgbmF2KCdoYW5kbGVycycsICd2YWx1ZScsICdwcm9taXNlcycsICdyaWdodCcsIFN0YWNrKTtcbiAgXG4gICAgICBuYXYoU3RhY2ssICdsZWZ0JywgJ3ZhbHVlJywgJ3JpZ2h0JywgJ2Rvd24nKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcGVuTGluayA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgISFpZCAmJiBnby5nby5kbygnb3BlbicsIHsgaGFuZGxlcklkOiBUcmVlTGluaywgaWQ6IGlkLCBwcmV2SWQ6IGdvLmxpbmtJZCB9KVxuICAgICAgYXdhaXQgZ28uZ28uYXdhaXQoaWQpO1xuICAgICAgZ28uZ28uZm9jdXMoaWQpO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWNvbmNlbnRyYXRlZCA9IDxjLkJ1dHRvblxuICAgICAgaD0nMTAwJScgdz0nM2VtJyBwdD0nMWVtJyB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgYWxpZ25JdGVtcz0nZmxleC1zdGFydCdcbiAgICA+XG4gICAgICB7Z28/Lmxpbms/LnN5bWJvbH1cbiAgICA8L2MuQnV0dG9uPlxuXG4gICAgY29uc3QgY29udGVudCA9IGlzQ29uY2VudHJhdGVkID09PSBmYWxzZSA/IGRlY29uY2VudHJhdGVkIDogY29sdW1uO1xuXG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgZm9jdXM6IChnLCB2LCBsaW5rSWQsIG8pID0+ICFnby52YWx1ZSAmJiAoKGdvPy5saW5rPy50eXBlX2lkID09PSBQYWNrYWdlIHx8ICFnbz8ubGluaz8udmFsdWU/LnZhbHVlKSAmJiBnby5kbygnY29udGFpbnMnKSksXG4gICAgICAgIHVzZTogKGcsIHYsIG8pID0+IG8/LmlkICYmIGdvLnZhbHVlID09PSBTdGFjayA/IChnbyhTdGFjaykuZG8oJ3VzZScsIG8pKSA6IChnby5zZXQoJ2N1cnJlbnQnKSksXG4gICAgICAgIGNsb3NlOiAoZywgdiwgbykgPT4gZ28uZ28uZG8oJ2Nsb3NlJywgeyBpZDogZ28ubGlua0lkIH0pLFxuICAgICAgICBleGVjOiAoZywgdiwgbykgPT4gbz8uaWQgPyBnby5nby5kbygnb3BlbicsIHsgaWQ6IG8uaWQsIHByZXZJZDogZ28ubGlua0lkLCBmb2N1czogdHJ1ZSB9KSA6IGdvLnZhbHVlICYmIGdvLmRvKGdvLnZhbHVlLCBvKSxcblxuICAgICAgICBsZWZ0OiAoZywgdiwgbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSB8fCAnY3VycmVudCcsICdsZWZ0JyksIHsgcHJldjogZ28udmFsdWUgfSksXG4gICAgICAgIHVwOiAoZywgdiwgbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSB8fCAnY3VycmVudCcsICd1cCcpLCB7IHByZXY6IGdvLnZhbHVlIH0pLFxuICAgICAgICByaWdodDogKGcsIHYsIG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgJ2N1cnJlbnQnLCAncmlnaHQnKSwgeyBwcmV2OiBnby52YWx1ZSB9KSxcbiAgICAgICAgZG93bjogKGcsIHYsIG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgJ2N1cnJlbnQnLCAnZG93bicpLCB7IHByZXY6IGdvLnZhbHVlIH0pLFxuXG4gICAgICAgICdjdXJyZW50JzogKCkgPT4geyB9LFxuICAgICAgICAncGFyZW50cyc6ICgpID0+IGdvLmRvKCdxdWVyeScsIHsgcXVlcnk6IHsgLi4ucXVlcmllcy5wYXJlbnRzLCBsaW1pdDogMTAwIH0gfSksXG4gICAgICAgICdjb250YWlucyc6ICgpID0+IGdvLmRvKCdxdWVyeScsIHsgcXVlcnk6IHsgLi4ucXVlcmllcy5jb250YWlucywgbGltaXQ6IDEwMCB9IH0pLFxuXG4gICAgICAgICdlZGl0LWZyb20nOiAoKSA9PiBmcm9tRGlzY2xvc3VyZS5vbk9wZW4oKSxcbiAgICAgICAgJ2Zyb20nOiAoKSA9PiBvcGVuTGluayhnbz8ubGluaz8uZnJvbV9pZCksXG4gICAgICAgICd0eXBlJzogKCkgPT4gb3BlbkxpbmsoZ28/Lmxpbms/LnR5cGVfaWQpLFxuICAgICAgICAndG8nOiAoKSA9PiBvcGVuTGluayhnbz8ubGluaz8udG9faWQpLFxuICAgICAgICAnZWRpdC10byc6ICgpID0+IHRvRGlzY2xvc3VyZS5vbk9wZW4oKSxcblxuICAgICAgICAndXAtdHJlZSc6ICgpID0+IHsgfSxcbiAgICAgICAgJ291dCc6ICgpID0+IGdvLmRvKCdxdWVyeScsIHsgcXVlcnk6IHsgLi4ucXVlcmllcy5vdXQsIGxpbWl0OiAxMDAgfSB9KSxcbiAgICAgICAgJ3R5cGVkJzogKCkgPT4gZ28uZG8oJ3F1ZXJ5JywgeyBxdWVyeTogeyAuLi5xdWVyaWVzLnR5cGVkLCBsaW1pdDogMTAwIH0gfSksXG4gICAgICAgICdpbic6ICgpID0+IGdvLmRvKCdxdWVyeScsIHsgcXVlcnk6IHsgLi4ucXVlcmllcy5pbiwgbGltaXQ6IDEwMCB9IH0pLFxuICAgICAgICAnZG93bi10cmVlJzogKCkgPT4geyB9LFxuXG4gICAgICAgICdzZWxlY3RvcnMnOiAoKSA9PiBnby5kbygncXVlcnknLCB7IHF1ZXJ5OiB7IC4uLnF1ZXJpZXMuc2VsZWN0b3JzLCBsaW1pdDogMTAwIH0gfSksXG4gICAgICAgICdzZWxlY3RlZCc6ICgpID0+IGdvLmRvKCdxdWVyeScsIHsgcXVlcnk6IHsgLi4ucXVlcmllcy5zZWxlY3RlZCwgbGltaXQ6IDEwMCB9IH0pLFxuICAgICAgICAncHJvbWlzZXMnOiAoKSA9PiBnby5kbygncXVlcnknLCB7IHF1ZXJ5OiB7IC4uLnF1ZXJpZXMucHJvbWlzZXMsIGxpbWl0OiAxMDAgfSB9KSxcbiAgICAgICAgJ3JlamVjdHMnOiAoKSA9PiBnby5kbygncXVlcnknLCB7IHF1ZXJ5OiB7IC4uLnF1ZXJpZXMucmVqZWN0cywgbGltaXQ6IDEwMCB9IH0pLFxuXG4gICAgICAgICd2YWx1ZSc6ICgpID0+IHtcbiAgICAgICAgICBnby5kbygncXVlcnknLCB7IHF1ZXJ5OiBudWxsIH0pO1xuICAgICAgICAgIGdvLmZvY3VzKGdvLnZhbHVlID09PSBUcmVlRWRpdG9yID8gJ3ZhbHVlJyA6IFRyZWVFZGl0b3IpO1xuICAgICAgICB9LFxuXG4gICAgICAgICdoYW5kbGVycyc6ICgpID0+IHtcbiAgICAgICAgICBnby5kbygncXVlcnknLCB7IHF1ZXJ5OiBudWxsIH0pO1xuICAgICAgICAgIGlmICghY29tcGF0YWJsZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlckRpc2Nsb3N1cmUub25PcGVuKCk7XG4gICAgICAgICAgfSBlbHNlIHNldEhhbmRsZXJzKGggPT4gIWgpO1xuICAgICAgICB9LFxuXG4gICAgICAgICdxdWVyeSc6IChnLHYsbykgPT4ge1xuICAgICAgICAgIGlmIChvLmhhc093blByb3BlcnR5KCdxdWVyeScpKSBzZXRRdWVyeShvLnF1ZXJ5KTtcbiAgICAgICAgfSxcblxuICAgICAgICBbU3RhY2tdOiAoZywgdiwgbykgPT4gb3Blbkxpbmsobz8uaWQpLFxuICAgICAgfX1cbiAgICAgIGZvY3VzPXt7XG4gICAgICAgIHVwOiAocSwgdiwgbykgPT4gZ28uc2V0KCkuZ28/LmdvPy5kbygndXAnKSxcbiAgICAgICAgZG93bjogKHEsIHYsIG8pID0+IGdvLnNldCgpLmdvPy5nbz8uZG8oJ2Rvd24nKSxcbiAgICAgICAgbGVmdDogKHEsIHYsIG8pID0+IGdvLnNldChvPy5sZWZ0KS5nbz8uZ28/LmRvKCdsZWZ0JyksXG4gICAgICAgIHJpZ2h0OiAocSwgdiwgbykgPT4gZ28uc2V0KG8/LnJpZ2h0KS5nbz8uZ28/LmRvKCdyaWdodCcpLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5IU3RhY2sgcmVmPXtyZWZ9IGg9JzEwMCUnIG92ZXJmbG93PSdoaWRkZW4nPlxuICAgICAgICA8ZGVlcC5GaWxlcyBjb250YWluZXJJZD17Z28ubGlua0lkfSBub0NsaWNrIG9uSW5zZXJ0PXsoaWQsIGZpbGVzKSA9PiBjb25zb2xlLmxvZyhpZCwgZmlsZXMpfSBDb21wb25lbnQ9e2MuQm94fSBQcm9wcz17eyBoOiAnMTAwJScsIHc6ICcxMDAlJyB9fT5cbiAgICAgICAgICB7Y29udGVudH1cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvZGVlcC5GaWxlcz5cbiAgICAgIDwvYy5IU3RhY2s+XG4gICAgICB7LyogeyEhcXVlcnkgJiYgPGdvLlF1ZXJ5IHF1ZXJ5PXtxdWVyeX0gb25DaGFuZ2U9eyh7IGRhdGEgfSkgPT4gc2V0TGlua3MoZGF0YSl9IC8+fSAqL31cbiAgICA8L2dvLk9uPlxuICB9O1xufVxuIl19",
          "link_id": 1105
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1114,
      "src_id": 837,
      "handler_id": 838,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1114,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 363,
          "value": "({ deep, data, require, Go }) => {\n    const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n    const React = require('react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, useSymbol, } = require('@deep-foundation/perception-app');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const History = deep.idLocal(dpl, 'History');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Search = deep.idLocal(dpl, 'Search');\n    const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n    const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const Item = ({ l, isActive }) => {\n        const go = Go.useGo();\n        return React.createElement(c.Box, { ref: go.ref, w: '100%' },\n            React.createElement(go.Handler, { handlerId: TreeLinkButton, linkId: l.id, onClick: () => go.go.focus(l.id).go.do(l.id), variant: 'full', isActive: isActive, w: '100%' }));\n    };\n    return ({ go, handlerId, isActive, operations = true, saveHistory = false, children, }, ref) => {\n        const [results, setResults] = React.useState([]);\n        const content = React.createElement(c.Flex, { ref: ref, direction: 'column', position: 'relative', minW: '30em', maxW: '30em', h: '100%', bg: isActive ? 'deepBg' : 'deepBgDark' },\n            React.createElement(c.VStack, { ref: ref, flex: 1, w: '100%', h: '100%' },\n                React.createElement(go.Handler, { handlerId: TreeLinkButton, linkId: go.linkId, onClick: () => go.focus('current').go.do('current'), needParent: false, isActive: go.value === 'current', w: '100%' }),\n                React.createElement(c.Box, { w: '100%' },\n                    React.createElement(go.Provider, { linkId: Search },\n                        React.createElement(go.Handler, { handlerId: Search, linkId: go.linkId, isActive: go.value === Search, w: '100%', onSearch: (results) => setResults(results) }))),\n                React.createElement(go.Provider, { linkId: TreeList },\n                    React.createElement(go.Handler, { handlerId: TreeList, linkId: TreeList, links: results, isActive: go.value === TreeList, w: '100%', flex: '1' }))),\n            children);\n        React.useEffect(() => {\n            if (go?.current)\n                go?.current.scroll();\n        }, [go.value]);\n        const nav = go.useNav();\n        nav('current', 'prev', 'up', 'next', Search);\n        nav(Search, 'prev', 'current', 'next', TreeList);\n        nav(TreeList, 'prev', Search, 'next', TreeList);\n        return React.createElement(go.Provider, { onDo: {\n                current: () => go.do('next', { linkId: go.linkId, handlerId: TreeLink }),\n                focus: () => go.focus('current').go.scroll(),\n                up: () => go.focus(nav.get(go.value, 'up')),\n                down: () => go.focus(nav.get(go.value, 'down')),\n                space: () => go.go.do('next', {\n                    linkId: go.value === 'current' ? go.linkId : go.value === TreeList ? go(TreeList).linkId : go.linkId,\n                    handlerId: TreeLink\n                }),\n            }, onFocus: {\n                current: () => go.save(handlerId),\n                up: () => go?.go.do('up'),\n                down: () => go?.go.do('down'),\n            } }, content);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUNKLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQ3hFLFNBQVMsR0FDVixHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzdDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ2pELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxP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aXQsIE1kUHJldmlldywgTWRTYXZlQWx0IH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvbWRcIik7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuICBjb25zdCB7XG4gICAgVHlwZWRJY29uLCBEb3duSWNvbiwgVXBJY29uLCBUeXBlSWNvbiwgSW5JY29uLCBPdXRJY29uLCBGcm9tSWNvbiwgVG9JY29uLFxuICAgIHVzZVN5bWJvbCxcbiAgfSA9IHJlcXVpcmUoJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1hcHAnKTtcbiAgXG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG4gIFxuICBjb25zdCBIaXN0b3J5ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hpc3RvcnknKTtcbiAgY29uc3QgSGVhZGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hlYWRlcicpO1xuICBjb25zdCBTZWFyY2ggPSBkZWVwLmlkTG9jYWwoZHBsLCAnU2VhcmNoJyk7XG4gIGNvbnN0IFRyZWVRdWVyeSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlUXVlcnknKTtcbiAgY29uc3QgVHJlZUxpc3QgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpc3QnKTtcbiAgY29uc3QgVHJlZUxpbmsgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmsnKTtcbiAgY29uc3QgVHJlZUxpbmtJbnNlcnQgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtJbnNlcnQnKTtcbiAgY29uc3QgVHJlZUxpbmtEZWxldGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtEZWxldGUnKTtcbiAgY29uc3QgVHJlZUxpbmtCdXR0b24gPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtCdXR0b24nKTtcblxuICBjb25zdCBJdGVtID0gKHsgbCwgaXNBY3RpdmUgfSkgPT4ge1xuICAgIGNvbnN0IGdvID0gR28udXNlR28oKTtcbiAgICByZXR1cm4gPGMuQm94IHJlZj17Z28ucmVmfSB3PScxMDAlJz5cbiAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgIGhhbmRsZXJJZD17VHJlZUxpbmtCdXR0b259IGxpbmtJZD17bC5pZH1cbiAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZ28uZm9jdXMobC5pZCkuZ28uZG8obC5pZCl9IHZhcmlhbnQ9J2Z1bGwnXG4gICAgICAgIGlzQWN0aXZlPXtpc0FjdGl2ZX0gdz0nMTAwJSdcbiAgICAgIC8+XG4gICAgPC9jLkJveD47XG4gIH1cblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBoYW5kbGVySWQsXG5cbiAgICBpc0FjdGl2ZSxcbiAgICBvcGVyYXRpb25zID0gdHJ1ZSxcbiAgICBzYXZlSGlzdG9yeSA9IGZhbHNlLFxuXG4gICAgY2hpbGRyZW4sXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IFtyZXN1bHRzLCBzZXRSZXN1bHRzXSA9IFJlYWN0LnVzZVN0YXRlKFtdKTtcblxuICAgIGNvbnN0IGNvbnRlbnQgPSA8Yy5GbGV4IHJlZj17cmVmfSBkaXJlY3Rpb249J2NvbHVtbidcbiAgICAgIHBvc2l0aW9uPSdyZWxhdGl2ZScgbWluVz0nMzBlbScgbWF4Vz0nMzBlbScgaD0nMTAwJSdcbiAgICAgIGJnPXtpc0FjdGl2ZSA/ICdkZWVwQmcnIDogJ2RlZXBCZ0RhcmsnfVxuICAgID5cbiAgICAgIDxjLlZTdGFjayByZWY9e3JlZn1cbiAgICAgICAgZmxleD17MX1cbiAgICAgICAgdz0nMTAwJScgaD0nMTAwJSdcbiAgICAgID5cbiAgICAgICAgPGdvLkhhbmRsZXJcbiAgICAgICAgICBoYW5kbGVySWQ9e1RyZWVMaW5rQnV0dG9ufSBsaW5rSWQ9e2dvLmxpbmtJZH1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnY3VycmVudCcpLmdvLmRvKCdjdXJyZW50Jyl9IG5lZWRQYXJlbnQ9e2ZhbHNlfVxuICAgICAgICAgIGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gJ2N1cnJlbnQnfSB3PScxMDAlJ1xuICAgICAgICAvPlxuICAgICAgICA8Yy5Cb3ggdz0nMTAwJSc+XG4gICAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17U2VhcmNofT5cbiAgICAgICAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgICAgICAgIGhhbmRsZXJJZD17U2VhcmNofSBsaW5rSWQ9e2dvLmxpbmtJZH1cbiAgICAgICAgICAgICAgaXNBY3RpdmU9e2dvLnZhbHVlID09PSBTZWFyY2h9IHc9JzEwMCUnXG4gICAgICAgICAgICAgIG9uU2VhcmNoPXsocmVzdWx0cykgPT4gc2V0UmVzdWx0cyhyZXN1bHRzKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgPC9jLkJveD5cbiAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17VHJlZUxpc3R9PlxuICAgICAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgICAgICBoYW5kbGVySWQ9e1RyZWVMaXN0fSBsaW5rSWQ9e1RyZWVMaXN0fSBsaW5rcz17cmVzdWx0c31cbiAgICAgICAgICAgIGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gVHJlZUxpc3R9IHc9JzEwMCUnIGZsZXg9JzEnXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgIDwvYy5WU3RhY2s+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9jLkZsZXg+O1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChnbz8uY3VycmVudCkgZ28/LmN1cnJlbnQuc2Nyb2xsKCk7XG4gICAgfSwgW2dvLnZhbHVlXSk7XG5cbiAgICBjb25zdCBuYXYgPSBnby51c2VOYXYoKTtcbiAgICBuYXYoJ2N1cnJlbnQnLCAncHJldicsICd1cCcsICduZXh0JywgU2VhcmNoKTtcbiAgICBuYXYoU2VhcmNoLCAncHJldicsICdjdXJyZW50JywgJ25leHQnLCBUcmVlTGlzdCk7XG4gICAgbmF2KFRyZWVMaXN0LCAncHJldicsIFNlYXJjaCwgJ25leHQnLCBUcmVlTGlzdCk7XG5cbiAgICByZXR1cm4gPGdvLlByb3ZpZGVyXG4gICAgICBvbkRvPXt7XG4gICAgICAgIGN1cnJlbnQ6ICgpID0+IGdvLmRvKCduZXh0JywgeyBsaW5rSWQ6IGdvLmxpbmtJZCwgaGFuZGxlcklkOiBUcmVlTGluayB9KSxcbiAgICAgICAgZm9jdXM6ICgpID0+IGdvLmZvY3VzKCdjdXJyZW50JykuZ28uc2Nyb2xsKCk7XG4gICAgICAgIHVwOiAoKSA9PiAgZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSwgJ3VwJykpLFxuICAgICAgICBkb3duOiAoKSA9PiBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlLCAnZG93bicpKSxcbiAgICAgICAgc3BhY2U6ICgpID0+IGdvLmdvLmRvKCduZXh0Jywge1xuICAgICAgICAgIGxpbmtJZDogZ28udmFsdWUgPT09ICdjdXJyZW50JyA/IGdvLmxpbmtJZCA6IGdvLnZhbHVlID09PSBUcmVlTGlzdCA/IGdvKFRyZWVMaXN0KS5saW5rSWQgOiBnby5saW5rSWQsXG4gICAgICAgICAgaGFuZGxlcklkOiBUcmVlTGlua1xuICAgICAgICB9KSxcbiAgICAgIH19XG4gICAgICBvbkZvY3VzPXt7XG4gICAgICAgIGN1cnJlbnQ6ICgpID0+IGdvLnNhdmUoaGFuZGxlcklkKSxcbiAgICAgICAgdXA6ICgpID0+IGdvPy5nby5kbygndXAnKSxcbiAgICAgICAgZG93bjogKCkgPT4gZ28/LmdvLmRvKCdkb3duJyksXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjb250ZW50fVxuICAgIDwvZ28uUHJvdmlkZXI+XG4gIH07XG59XG4iXX0=",
          "link_id": 1114
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1123,
      "src_id": 839,
      "handler_id": 840,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1123,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 366,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { PiGraphBold } = require(\"react-icons/pi\");\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const dr = '@deep-foundation/readme';\n    const Symbol = deep.idLocal(dc, 'Symbol');\n    const Input = deep.idLocal(dr, 'Input');\n    const Output = deep.idLocal(dr, 'Output');\n    const Inherit = deep.idLocal(dr, 'Inherit');\n    const Readme = deep.idLocal(dr, 'Readme');\n    const Cause = deep.idLocal(dr, 'Cause');\n    const Dpl = deep.idLocal(dpl);\n    const Focus = deep.idLocal(dc, 'Focus');\n    const Active = deep.idLocal(dc, 'Active');\n    const History = deep.idLocal(dpl, 'History');\n    const Layer = deep.idLocal(dpl, 'Layer');\n    const Graph = deep.idLocal(dpl, 'Graph');\n    const GraphLink = deep.idLocal(dpl, 'GraphLink');\n    const GraphLinkPlanet = deep.idLocal(dpl, 'GraphLinkPlanet');\n    const containTree = deep.idLocal(dc, 'containTree');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const defaultLimiter = {\n        _not: {\n            type_id: { _in: [Symbol, Input, Output, Inherit, Readme, Cause] }\n        },\n    };\n    const Link = React.memo(({ isActive, saveHistory, ...props }) => {\n        const go = Go.useGo();\n        return React.createElement(React.Fragment, null,\n            !!saveHistory && !!isActive && React.createElement(go.Save, { handlerId: GraphLink }),\n            React.createElement(go.Handler, { handlerId: GraphLink, isActive: isActive, ...props }));\n    }, _.isEqual);\n    const Item = React.memo(({ opened, go, concentrated, parental, saveHistory }) => {\n        return React.createElement(Go.Provider, { key: opened.link.id, linkId: opened.link.id },\n            React.createElement(Link, { isActive: go.value === opened.link.id, saveHistory: saveHistory, isConcentrated: concentrated ? !!concentrated[opened.link.id] : undefined }, !!parental[opened.link?.id] && parental[opened.link.id].map((opened, i) => {\n                return React.createElement(Item, { opened: opened, go: go, concentrated: concentrated, parental: parental });\n            })));\n    }, _.isEqual);\n    return ({ go, using = false, saveHistory = false, initialId = deep.linkId, }, ref) => {\n        const [spaceId, setSpaceId] = React.useState();\n        const [containerId, setContainerId] = React.useState();\n        const initialOpened = React.useMemo(() => {\n            if (!initialId)\n                return [];\n            return [{ link: deep.get(initialId) }];\n        }, []);\n        const [limiter, setLimiter] = React.useState(defaultLimiter);\n        const [_opened, setOpened] = React.useState(initialOpened);\n        const { openedIds, openedHash } = React.useMemo(() => {\n            const openedHash = {};\n            const openedIds = _opened.map(o => {\n                openedHash[o.link.id] = o;\n                return o.link.id;\n            });\n            return { openedHash, openedIds };\n        }, [_opened]);\n        const limited = deep.useLocalQuery({ id: { _in: openedIds }, ...limiter });\n        const { ids, opened } = React.useMemo(() => {\n            const ids = [];\n            const opened = limited.map(o => {\n                ids.push(o.id);\n                return openedHash[o.id];\n            });\n            return { opened, ids };\n        }, [limited]);\n        React.useEffect(() => { console.log('limiter changed'); }, [limiter]);\n        React.useEffect(() => { console.log('openedIds changed'); }, [openedIds]);\n        React.useEffect(() => { console.log('openedHash changed'); }, [openedHash]);\n        React.useEffect(() => { console.log('_opened changed'); }, [_opened]);\n        React.useEffect(() => { console.log('limited changed'); }, [limited]);\n        React.useEffect(() => { console.log('ids changed'); }, [ids]);\n        React.useEffect(() => { console.log('opened changed'); }, [opened]);\n        const parental = React.useMemo(() => {\n            const byParent = {};\n            for (let i = 0; i < opened.length; i++) {\n                if (opened[i]?.parentId) {\n                    byParent[opened[i].parentId] = byParent[opened[i]?.parentId] || [];\n                    byParent[opened[i].parentId].push(opened[i]);\n                }\n            }\n            return byParent;\n        }, [opened]);\n        React.useEffect(() => {\n            if (initialId)\n                go.do('use', { id: initialId });\n        }, []);\n        React.useEffect(() => {\n            if (go?.current) {\n            }\n        }, [go.value]);\n        const [concentrate, setConcentrate] = React.useState();\n        const { ids: concentrated } = deep.useSearch(concentrate, {\n            db: false, sort: false,\n            query: { id: { _in: ids } },\n            skip: !concentrate,\n        });\n        const _limiter = React.useMemo(() => {\n            try {\n                return JSON.stringify(limiter, null, 2);\n            }\n            catch (e) {\n                return JSON.stringify(defaultLimiter, null, 2);\n            }\n        }, [limiter]);\n        const [queries, setQueries] = React.useState({});\n        const qs = React.useMemo(() => Object.keys(queries), [queries]);\n        return React.createElement(go.On, { do: {\n                focus: (g, v, o) => {\n                    o?.id ? go.focus(o?.id) : initialId && !go.value ? go.focus(initialId) : undefined;\n                },\n                use: (g, v, o) => {\n                    o?.id && o?.id != go.value && go(o?.id) && go.set(o.id).go(o?.id).go?.do('scroll').go?.do('use');\n                },\n                open: (g, v, { id, ids: _ids, parentId, focus } = {}) => {\n                    const ids = id ? [id] : _ids;\n                    if (ids?.length) {\n                        const toAdd = [];\n                        for (let i in ids) {\n                            const id = ids[i];\n                            if (!opened.find(o => o?.link?.id === id))\n                                toAdd.push({ link: deep.get(id), parentId });\n                        }\n                        if (toAdd.length) {\n                            const toSet = [...opened, ...toAdd];\n                            console.log('setOpened', toSet);\n                            setOpened(toSet);\n                        }\n                        if (focus && ids[0])\n                            go.awaitRef(ids[0]).then(g => {\n                            });\n                    }\n                },\n                concentrate: (g, v, o) => {\n                    setConcentrate(o?.value);\n                },\n                containerId: (g, v, o) => o?.id && setContainerId(o?.id),\n                spaceId: (g, v, o) => o?.id && setSpaceId(o?.id),\n                query: (g, v, o) => {\n                    setQueries({ ...queries, [`${g?.linkId}_${o.name}`]: { parentId: o?.parentId, query: o.query } });\n                },\n            } },\n            React.createElement(go.Subscription, { query: {\n                    type_id: { _in: [Readme, Input, Output, Cause, Inherit], to_id: { _in: ids } }\n                } }),\n            qs.map(q => React.createElement(go.Subscription, { key: JSON.stringify(queries[q].query), query: queries[q].query, onChange: ({ data }) => go.do('open', { ids: data.map(l => l.id), parentId: queries[q].parentId }) })),\n            React.createElement(c.Box, { w: '100%', h: '100%', ref: ref, sx: {\n                    '& .deep-graph-node-html-label': {\n                        w: '15em',\n                        pl: '1em',\n                        color: 'deepColor',\n                    }\n                } },\n                React.createElement(go.Graph, { onLoaded: cy => { window.cy = cy; }, spaceId: spaceId, containerId: containerId, buttonsChildren: React.createElement(React.Fragment, null,\n                        React.createElement(c.Popover, { placement: 'left' }, ({ isOpen }) => (React.createElement(React.Fragment, null,\n                            React.createElement(c.PopoverTrigger, null,\n                                React.createElement(c.Button, null, \"\\uD83D\\uDDDC\\uFE0F\")),\n                            React.createElement(c.PopoverContent, null, !!isOpen && React.createElement(go.Editor, { value: _limiter, onChange: (v) => {\n                                    try {\n                                        setLimiter(JSON.parse(v));\n                                    }\n                                    catch (e) { }\n                                } })))))) },\n                    React.createElement(go.Provider, { linkId: deep.linkId },\n                        React.createElement(Link, null)),\n                    React.createElement(go.GraphStyle, { stylesheet: [\n                            {\n                                selector: '.link-children',\n                                style: {\n                                    'background-opacity': 0.05,\n                                    'background-color': 'deepBgGraphChildren',\n                                    opacity: 1,\n                                    'background-fit': 'cover',\n                                    'border-width': 0,\n                                    'events': 'no',\n                                }\n                            },\n                            {\n                                selector: '.link-file',\n                                style: {\n                                    color: 'deepColor',\n                                    width: 30,\n                                    height: 30,\n                                    'font-size': 16,\n                                    'text-margin-y': 23,\n                                    'text-margin-x': -2,\n                                    label: 'data(label)',\n                                    \"text-wrap\": \"wrap\",\n                                    'background-image': 'data(image)',\n                                    'background-fit': 'cover',\n                                }\n                            },\n                            {\n                                selector: '.link-ghost',\n                                style: {\n                                    color: 'deepLinkNodeColor',\n                                    'background-opacity': 0,\n                                    'background-color': 'deepLinkNodeBg',\n                                    width: 30,\n                                    height: 30,\n                                    'font-size': 16,\n                                    'text-margin-y': 23,\n                                    'text-margin-x': 1,\n                                    'label': 'data(label)',\n                                    \"text-wrap\": \"wrap\",\n                                    'background-fit': 'cover',\n                                    'border-color': 'deepLinkNodeColor',\n                                    'border-width': 3,\n                                }\n                            },\n                            {\n                                selector: '.link-node',\n                                style: {\n                                    color: 'deepLinkNodeColor',\n                                    'background-opacity': 1,\n                                    'background-color': 'deepLinkNodeBg',\n                                    opacity: 1,\n                                    width: 30,\n                                    height: 30,\n                                    'font-size': 16,\n                                    'text-margin-y': 23,\n                                    'text-margin-x': 1,\n                                    'label': 'data(label)',\n                                    \"text-wrap\": \"wrap\",\n                                    'background-fit': 'cover',\n                                    'events': 'yes',\n                                }\n                            },\n                            {\n                                selector: '.link-node-concentrated',\n                                style: {\n                                    opacity: 1,\n                                }\n                            },\n                            {\n                                selector: '.link-node-unconcentrated',\n                                style: {\n                                    opacity: 0.4,\n                                }\n                            },\n                            {\n                                selector: '.link-node-input',\n                                style: {\n                                    \"border-color\": \"yellow\",\n                                    'border-width': '3',\n                                },\n                            },\n                            {\n                                selector: '.link-node-output',\n                                style: {\n                                    \"border-color\": \"blue\",\n                                    'border-width': '3',\n                                },\n                            },\n                            {\n                                selector: '.link-node-inherit',\n                                style: {\n                                    \"border-color\": \"black\",\n                                    'border-width': '3',\n                                },\n                            },\n                            {\n                                selector: '.link-node-active',\n                                style: {\n                                    \"background-color\": \"deepColorActive\",\n                                }\n                            },\n                            {\n                                selector: '.link-edge',\n                                style: {\n                                    width: 1,\n                                    'curve-style': 'bezier',\n                                    'target-distance-from-node': 8,\n                                    'source-distance-from-node': 1,\n                                }\n                            },\n                            {\n                                selector: '.link-edge-active',\n                                style: {\n                                    \"line-color\": \"deepColorActive\",\n                                }\n                            },\n                            {\n                                selector: '.link-to',\n                                style: {\n                                    'target-arrow-shape': 'triangle',\n                                }\n                            },\n                            {\n                                selector: '.link-from',\n                                style: {\n                                    'target-arrow-shape': 'tee',\n                                }\n                            },\n                            {\n                                selector: '.link-type',\n                                style: {\n                                    'target-arrow-shape': 'triangle',\n                                    'line-style': 'dashed',\n                                    'line-dash-pattern': [5, 5]\n                                }\n                            },\n                            {\n                                selector: '.link-contain',\n                                style: {\n                                    'source-arrow-shape': 'tee',\n                                    'target-arrow-shape': 'triangle',\n                                    'font-size': 16,\n                                    'text-margin-y': 23,\n                                    'text-margin-x': 1,\n                                    'label': 'data(label)',\n                                    \"edge-text-rotation\": \"autorotate\",\n                                    \"text-wrap\": \"wrap\",\n                                    'line-dash-pattern': [5, 5],\n                                }\n                            },\n                            {\n                                selector: '.link-cause',\n                                style: {\n                                    'source-arrow-shape': 'tee',\n                                    'target-arrow-shape': 'triangle',\n                                    'line-dash-pattern': [5, 5],\n                                    \"line-color\": \"violet\",\n                                }\n                            },\n                        ] }),\n                    opened.map((opened, i) => React.createElement(Item, { opened: opened, go: go, concentrated: !!concentrate && concentrated, parental: parental, saveHistory: saveHistory })))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDbEQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBQ25DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHlCQUF5QixDQUFDO0lBRXJDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBRXhDLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMs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QixvQkFBb0IsRUFBRSxVQUFVO29DQUNoQyxXQUFXLEVBQUUsRUFBRTtvQ0FDZixlQUFlLEVBQUUsRUFBRTtvQ0FDbkIsZUFBZSxFQUFFLENBQUM7b0NBQ2xCLE9BQU8sRUFBRSxhQUFhO29DQUN0QixvQkFBb0IsRUFBRSxZQUFZO29DQUNsQyxXQUFXLEVBQUUsTUFBTTtvQ0FDbkIsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2lDQUM1Qjs2QkFDRjs0QkFDRDtnQ0FDRSxRQUFRLEVBQUUsYUFBYTtnQ0FDdkIsS0FBSyxFQUFFO29DQUNMLG9CQUFvQixFQUFFLEtBQUs7b0NBQzNCLG9CQUFvQixFQUFFLFVBQVU7b0NBQ2hDLG1CQUFtQixFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQ0FDM0IsWUFBWSxFQUFFLFFBQVE7aUNBQ3ZCOzZCQUNGO3lCQUNGLEdBQUk7b0JBQ0osTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLG9CQUFDLElBQUksSUFDOUIsTUFBTSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsV0FBVyxJQUFJLFlBQVksRUFDbkUsUUFBUSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsV0FBVyxHQUM1QyxDQUFDLENBQ00sQ0FDTCxDQUNGLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBQaUdyYXBoQm9sZCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL3BpXCIpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRyID0gJ0BkZWVwLWZvdW5kYXRpb24vcmVhZG1lJztcblxuICBjb25zdCBTeW1ib2wgPSBkZWVwLmlkTG9jYWwoZGMsICdTeW1ib2wnKTtcbiAgY29uc3QgSW5wdXQgPSBkZWVwLmlkTG9jYWwoZHIsICdJbnB1dCcpO1xuICBjb25zdCBPdXRwdXQgPSBkZWVwLmlkTG9jYWwoZHIsICdPdXRwdXQnKTtcbiAgY29uc3QgSW5oZXJpdCA9IGRlZXAuaWRMb2NhbChkciwgJ0luaGVyaXQnKTtcbiAgY29uc3QgUmVhZG1lID0gZGVlcC5pZExvY2FsKGRyLCAnUmVhZG1lJyk7XG4gIGNvbnN0IENhdXNlID0gZGVlcC5pZExvY2FsKGRyLCAnQ2F1c2UnKTtcblxuICBjb25zdCBEcGwgPSBkZWVwLmlkTG9jYWwoZHBsKTtcbiAgY29uc3QgRm9jdXMgPSBkZWVwLmlkTG9jYWwoZGMsICdGb2N1cycpO1xuICBjb25zdCBBY3RpdmUgPSBkZWVwLmlkTG9jYWwoZGMsICdBY3RpdmUnKTtcbiAgY29uc3QgSGlzdG9yeSA9IGRlZXAuaWRMb2NhbChkcGwsICdIaXN0b3J5Jyk7XG4gIGNvbnN0IExheWVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0xheWVyJyk7XG4gIGNvbnN0IEdyYXBoID0gZGVlcC5pZExvY2FsKGRwbCwgJ0dyYXBoJyk7XG4gIGNvbnN0IEdyYXBoTGluayA9IGRlZXAuaWRMb2NhbChkcGwsICdHcmFwaExpbmsnKTtcbiAgY29uc3QgR3JhcGhMaW5rUGxhbmV0ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0dyYXBoTGlua1BsYW5ldCcpO1xuICBjb25zdCBjb250YWluVHJlZSA9IGRlZXAuaWRMb2NhbChkYywgJ2NvbnRhaW5UcmVlJyk7XG4gIGNvbnN0IENvbnRhaW4gPSBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyk7XG5cbiAgY29uc3QgZGVmYXVsdExpbWl0ZXIgPSB7XG4gICAgX25vdDoge1xuICAgICAgdHlwZV9pZDogeyBfaW46IFtTeW1ib2wsIElucHV0LCBPdXRwdXQsIEluaGVyaXQsIFJlYWRtZSwgQ2F1c2VdIH1cbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IExpbmsgPSBSZWFjdC5tZW1vKCh7IGlzQWN0aXZlLCBzYXZlSGlzdG9yeSwgLi4ucHJvcHMgfSkgPT4ge1xuICAgIGNvbnN0IGdvID0gR28udXNlR28oKTtcbiAgICByZXR1cm4gPD5cbiAgICAgIHshIXNhdmVIaXN0b3J5ICYmICEhaXNBY3RpdmUgJiYgPGdvLlNhdmUgaGFuZGxlcklkPXtHcmFwaExpbmt9Lz59XG4gICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e0dyYXBoTGlua30gaXNBY3RpdmU9e2lzQWN0aXZlfSB7Li4ucHJvcHN9IC8+XG4gICAgPC8+O1xuICB9LCBfLmlzRXF1YWwpO1xuXG4gIGNvbnN0IEl0ZW0gPSBSZWFjdC5tZW1vKCh7XG4gICAgb3BlbmVkLCBnbywgY29uY2VudHJhdGVkLCBwYXJlbnRhbCwgc2F2ZUhpc3RvcnlcbiAgfSkgPT4ge1xuICAgIHJldHVybiA8R28uUHJvdmlkZXIga2V5PXtvcGVuZWQubGluay5pZH0gbGlua0lkPXtvcGVuZWQubGluay5pZH0+XG4gICAgICA8TGlua1xuICAgICAgICBpc0FjdGl2ZT17Z28udmFsdWUgPT09IG9wZW5lZC5saW5rLmlkfSBzYXZlSGlzdG9yeT17c2F2ZUhpc3Rvcnl9XG4gICAgICAgIGlzQ29uY2VudHJhdGVkPXtjb25jZW50cmF0ZWQgPyAhIWNvbmNlbnRyYXRlZFtvcGVuZWQubGluay5pZF0gOiB1bmRlZmluZWR9XG4gICAgICA+XG4gICAgICAgIHshIXBhcmVudGFsW29wZW5lZC5saW5rPy5pZF0gJiYgcGFyZW50YWxbb3BlbmVkLmxpbmsuaWRdLm1hcCgob3BlbmVkLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxJdGVtIG9wZW5lZD17b3BlbmVkfSBnbz17Z299IGNvbmNlbnRyYXRlZD17Y29uY2VudHJhdGVkfSBwYXJlbnRhbD17cGFyZW50YWx9Lz5cbiAgICAgICAgfSl9XG4gICAgICA8L0xpbms+XG4gICAgPC9Hby5Qcm92aWRlcj47XG4gIH0sIF8uaXNFcXVhbCk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICB1c2luZyA9IGZhbHNlLFxuICAgIHNhdmVIaXN0b3J5ID0gZmFsc2UsXG5cbiAgICBpbml0aWFsSWQgPSBkZWVwLmxpbmtJZCxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgW3NwYWNlSWQsIHNldFNwYWNlSWRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCBbY29udGFpbmVySWQsIHNldENvbnRhaW5lcklkXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG5cbiAgICBjb25zdCBpbml0aWFsT3BlbmVkID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBpZiAoIWluaXRpYWxJZCkgcmV0dXJuIFtdO1xuICAgICAgcmV0dXJuIFt7IGxpbms6IGRlZXAuZ2V0KGluaXRpYWxJZCkgfV07XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgW2xpbWl0ZXIsIHNldExpbWl0ZXJdID0gUmVhY3QudXNlU3RhdGUoZGVmYXVsdExpbWl0ZXIpO1xuXG4gICAgY29uc3QgW19vcGVuZWQsIHNldE9wZW5lZF0gPSBSZWFjdC51c2VTdGF0ZShpbml0aWFsT3BlbmVkKTtcbiAgICBjb25zdCB7IG9wZW5lZElkcywgb3BlbmVkSGFzaCB9ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCBvcGVuZWRIYXNoID0ge307XG4gICAgICBjb25zdCBvcGVuZWRJZHMgPSBfb3BlbmVkLm1hcChvID0+IHtcbiAgICAgICAgb3BlbmVkSGFzaFtvLmxpbmsuaWRdID0gbztcbiAgICAgICAgcmV0dXJuIG8ubGluay5pZDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgb3BlbmVkSGFzaCwgb3BlbmVkSWRzIH1cbiAgICB9LCBbX29wZW5lZF0pO1xuXG4gICAgY29uc3QgbGltaXRlZCA9IGRlZXAudXNlTG9jYWxRdWVyeSh7IGlkOiB7IF9pbjogb3BlbmVkSWRzIH0sIC4uLmxpbWl0ZXIgfSk7XG4gICAgY29uc3QgeyBpZHMsIG9wZW5lZCB9ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCBpZHMgPSBbXTtcbiAgICAgIGNvbnN0IG9wZW5lZCA9IGxpbWl0ZWQubWFwKG8gPT4ge1xuICAgICAgICBpZHMucHVzaChvLmlkKTtcbiAgICAgICAgcmV0dXJuIG9wZW5lZEhhc2hbby5pZF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IG9wZW5lZCwgaWRzIH07XG4gICAgfSwgW2xpbWl0ZWRdKTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7IGNvbnNvbGUubG9nKCdsaW1pdGVyIGNoYW5nZWQnKTsgfSwgW2xpbWl0ZXJdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4geyBjb25zb2xlLmxvZygnb3BlbmVkSWRzIGNoYW5nZWQnKTsgfSwgW29wZW5lZElkc10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7IGNvbnNvbGUubG9nKCdvcGVuZWRIYXNoIGNoYW5nZWQnKTsgfSwgW29wZW5lZEhhc2hdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4geyBjb25zb2xlLmxvZygnX29wZW5lZCBjaGFuZ2VkJyk7IH0sIFtfb3BlbmVkXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsgY29uc29sZS5sb2coJ2xpbWl0ZWQgY2hhbmdlZCcpOyB9LCBbbGltaXRlZF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7IGNvbnNvbGUubG9nKCdpZHMgY2hhbmdlZCcpOyB9LCBbaWRzXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsgY29uc29sZS5sb2coJ29wZW5lZCBjaGFuZ2VkJyk7IH0sIFtvcGVuZWRdKTtcblxuICAgIGNvbnN0IHBhcmVudGFsID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCBieVBhcmVudCA9IHt9O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcGVuZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG9wZW5lZFtpXT8ucGFyZW50SWQpIHtcbiAgICAgICAgICBieVBhcmVudFtvcGVuZWRbaV0ucGFyZW50SWRdID0gYnlQYXJlbnRbb3BlbmVkW2ldPy5wYXJlbnRJZF0gfHwgW107XG4gICAgICAgICAgYnlQYXJlbnRbb3BlbmVkW2ldLnBhcmVudElkXS5wdXNoKG9wZW5lZFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBieVBhcmVudDtcbiAgICB9LCBbb3BlbmVkXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChpbml0aWFsSWQpIGdvLmRvKCd1c2UnLCB7IGlkOiBpbml0aWFsSWQgfSk7XG4gICAgfSwgW10pO1xuICAgIC8vIGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAvLyAgIHR5cGVfaWQ6IHsgX2luOiBbSGlzdG9yeSwgRm9jdXMsIEFjdGl2ZV0gfSxcbiAgICAvLyAgIGZyb21faWQ6IGRlZXAubGlua0lkLFxuICAgIC8vICAgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9LFxuICAgIC8vICAgcmV0dXJuOiB7XG4gICAgLy8gICAgIGl0ZW06IHsgcmVsYXRpb246ICd0bycgfSxcbiAgICAvLyAgIH0sXG4gICAgLy8gfSk7XG4gICAgLy8gY29uc3QgaGlzdG9yeSA9IGRlZXAudXNlTG9jYWxTdWJzY3JpcHRpb24oe1xuICAgIC8vICAgdHlwZV9pZDogSGlzdG9yeSxcbiAgICAvLyAgIGZyb21faWQ6IGRlZXAubGlua0lkLFxuICAgIC8vICAgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9LFxuICAgIC8vIH0pO1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChnbz8uY3VycmVudCkge1xuICAgICAgICAvLyBpZiAodXNpbmcgJiYgZ28ucm9vdCgpPy5kYXRhPy51c2VkSWQgIT0gZ28udmFsdWUpIGdvLnJvb3QoKS5kbygndXNlJywgeyBpZDogZ28udmFsdWUgfSk7XG4gICAgICAgIC8vIGdvLmRvKCdjaGFuZ2VkJywgeyBpZDogZ28udmFsdWUgfSk7XG4gICAgICAgIC8vIGdvPy5jdXJyZW50Py5kbygnc2Nyb2xsJyk7XG4gICAgICB9XG4gICAgfSwgW2dvLnZhbHVlXSk7XG5cbiAgICBjb25zdCBbY29uY2VudHJhdGUsIHNldENvbmNlbnRyYXRlXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgY29uc3QgeyBpZHM6IGNvbmNlbnRyYXRlZCB9ID0gZGVlcC51c2VTZWFyY2goY29uY2VudHJhdGUsIHtcbiAgICAgIGRiOiBmYWxzZSwgc29ydDogZmFsc2UsXG4gICAgICBxdWVyeTogeyBpZDogeyBfaW46IGlkcyB9IH0sXG4gICAgICBza2lwOiAhY29uY2VudHJhdGUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBfbGltaXRlciA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGxpbWl0ZXIsIG51bGwsIDIpO1xuICAgICAgfSBjYXRjaChlKSB7IHJldHVybiBKU09OLnN0cmluZ2lmeShkZWZhdWx0TGltaXRlciwgbnVsbCwgMikgfVxuICAgIH0sIFtsaW1pdGVyXSlcblxuICAgIGNvbnN0IFtxdWVyaWVzLCBzZXRRdWVyaWVzXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICBjb25zdCBxcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gT2JqZWN0LmtleXMocXVlcmllcyksIFtxdWVyaWVzXSk7XG5cbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBmb2N1czogKGcsIHYsIG8pID0+IHtcbiAgICAgICAgbz8uaWQgPyBnby5mb2N1cyhvPy5pZCkgOiBpbml0aWFsSWQgJiYgIWdvLnZhbHVlID8gZ28uZm9jdXMoaW5pdGlhbElkKSA6IHVuZGVmaW5lZDtcbiAgICAgIH0sXG4gICAgICB1c2U6IChnLCB2LCBvKSA9PiB7XG4gICAgICAgIG8/LmlkICYmIG8/LmlkICE9IGdvLnZhbHVlICYmIGdvKG8/LmlkKSAmJiBnby5zZXQoby5pZCkuZ28obz8uaWQpLmdvPy5kbygnc2Nyb2xsJykuZ28/LmRvKCd1c2UnKVxuICAgICAgfSxcbiAgICAgIG9wZW46IChnLCB2LCB7IGlkLCBpZHM6IF9pZHMsIHBhcmVudElkLCBmb2N1cyB9ID0ge30pID0+IHtcbiAgICAgICAgY29uc3QgaWRzID0gaWQgPyBbaWRdIDogX2lkcztcbiAgICAgICAgaWYgKGlkcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgdG9BZGQgPSBbXTtcbiAgICAgICAgICBmb3IgKGxldCBpIGluIGlkcykge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBpZHNbaV07XG4gICAgICAgICAgICBpZiAoIW9wZW5lZC5maW5kKG8gPT4gbz8ubGluaz8uaWQgPT09IGlkKSkgdG9BZGQucHVzaCh7IGxpbms6IGRlZXAuZ2V0KGlkKSwgcGFyZW50SWQgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0b0FkZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvU2V0ID0gWy4uLm9wZW5lZCwgLi4udG9BZGRdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NldE9wZW5lZCcsdG9TZXQpO1xuICAgICAgICAgICAgc2V0T3BlbmVkKHRvU2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZvY3VzICYmIGlkc1swXSkgZ28uYXdhaXRSZWYoaWRzWzBdKS50aGVuKGcgPT4ge1xuICAgICAgICAgICAgLy8gZ28uZm9jdXMoaWRzWzBdKS5nbyhpZHNbMF0pLmRvKCdzY3JvbGwnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbmNlbnRyYXRlOiAoZyx2LG8pID0+IHtcbiAgICAgICAgc2V0Q29uY2VudHJhdGUobz8udmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGNvbnRhaW5lcklkOiAoZyx2LG8pID0+IG8/LmlkICYmIHNldENvbnRhaW5lcklkKG8/LmlkKSxcbiAgICAgIHNwYWNlSWQ6IChnLHYsbykgPT4gbz8uaWQgJiYgc2V0U3BhY2VJZChvPy5pZCksXG4gICAgICBxdWVyeTogKGcsdixvKSA9PiB7XG4gICAgICAgIHNldFF1ZXJpZXMoeyAuLi5xdWVyaWVzLCBbYCR7Zz8ubGlua0lkfV8ke28ubmFtZX1gXTogeyBwYXJlbnRJZDogbz8ucGFyZW50SWQsIHF1ZXJ5OiBvLnF1ZXJ5IH0gfSk7XG4gICAgICB9LFxuICAgIH19PlxuICAgICAgPGdvLlN1YnNjcmlwdGlvbiBxdWVyeT17e1xuICAgICAgICB0eXBlX2lkOiB7IF9pbjogW1JlYWRtZSwgSW5wdXQsIE91dHB1dCwgQ2F1c2UsIEluaGVyaXRdLCB0b19pZDogeyBfaW46IGlkcyB9IH1cbiAgICAgIH19Lz5cbiAgICAgIHtxcy5tYXAocSA9PiA8Z28uU3Vic2NyaXB0aW9uIGtleT17SlNPTi5zdHJpbmdpZnkocXVlcmllc1txXS5xdWVyeSl9IHF1ZXJ5PXtxdWVyaWVzW3FdLnF1ZXJ5fVxuICAgICAgICBvbkNoYW5nZT17KHsgZGF0YSB9KSA9PiBnby5kbygnb3BlbicsIHsgaWRzOiBkYXRhLm1hcChsID0+IGwuaWQpLCBwYXJlbnRJZDogcXVlcmllc1txXS5wYXJlbnRJZCB9KX1cbiAgICAgIC8+KX1cbiAgICAgIDxjLkJveFxuICAgICAgICB3PScxMDAlJyBoPScxMDAlJ1xuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgc3g9e3tcbiAgICAgICAgICAnJiAuZGVlcC1ncmFwaC1ub2RlLWh0bWwtbGFiZWwnOiB7XG4gICAgICAgICAgICB3OiAnMTVlbScsXG4gICAgICAgICAgICBwbDogJzFlbScsXG4gICAgICAgICAgICBjb2xvcjogJ2RlZXBDb2xvcicsXG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8Z28uR3JhcGhcbiAgICAgICAgICBvbkxvYWRlZD17Y3kgPT4geyB3aW5kb3cuY3kgPSBjeTsgfX1cbiAgICAgICAgICBzcGFjZUlkPXtzcGFjZUlkfVxuICAgICAgICAgIGNvbnRhaW5lcklkPXtjb250YWluZXJJZH1cbiAgICAgICAgICBidXR0b25zQ2hpbGRyZW49ezw+XG4gICAgICAgICAgICA8Yy5Qb3BvdmVyIHBsYWNlbWVudD0nbGVmdCc+eyh7IGlzT3BlbiB9KSA9PiAoPD5cbiAgICAgICAgICAgICAgPGMuUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgICAgICAgPGMuQnV0dG9uPvCfl5zvuI88L2MuQnV0dG9uPlxuICAgICAgICAgICAgICA8L2MuUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgICAgIDxjLlBvcG92ZXJDb250ZW50PlxuICAgICAgICAgICAgICAgIHshIWlzT3BlbiAmJiA8Z28uRWRpdG9yIHZhbHVlPXtfbGltaXRlcn0gb25DaGFuZ2U9eyh2KSA9PiB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzZXRMaW1pdGVyKEpTT04ucGFyc2UodikpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgICAgICAgICAgIH19Lz59XG4gICAgICAgICAgICAgIDwvYy5Qb3BvdmVyQ29udGVudD5cbiAgICAgICAgICAgIDwvPil9PC9jLlBvcG92ZXI+XG4gICAgICAgICAgPC8+fVxuICAgICAgICA+XG4gICAgICAgICAgezxnby5Qcm92aWRlciBsaW5rSWQ9e2RlZXAubGlua0lkfT5cbiAgICAgICAgICAgIDxMaW5rIC8+XG4gICAgICAgICAgPC9nby5Qcm92aWRlcj59XG4gICAgICAgICAgPGdvLkdyYXBoU3R5bGUgc3R5bGVzaGVldD17W1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLWNoaWxkcmVuJyxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1vcGFjaXR5JzogMC4wNSxcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdkZWVwQmdHcmFwaENoaWxkcmVuJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWZpdCc6ICdjb3ZlcicsXG4gICAgICAgICAgICAgICAgJ2JvcmRlci13aWR0aCc6IDAsXG4gICAgICAgICAgICAgICAgJ2V2ZW50cyc6ICdubycsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmxpbmstZmlsZScsXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICdkZWVwQ29sb3InLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAzMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwLFxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAxNixcbiAgICAgICAgICAgICAgICAndGV4dC1tYXJnaW4teSc6IDIzLCAvLyAtNFxuICAgICAgICAgICAgICAgICd0ZXh0LW1hcmdpbi14JzogLTIsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdkYXRhKGxhYmVsKScsXG4gICAgICAgICAgICAgICAgXCJ0ZXh0LXdyYXBcIjogXCJ3cmFwXCIsXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAnZGF0YShpbWFnZSknLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWZpdCc6ICdjb3ZlcicsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmxpbmstZ2hvc3QnLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAnZGVlcExpbmtOb2RlQ29sb3InLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLW9wYWNpdHknOiAwLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ2RlZXBMaW5rTm9kZUJnJyxcbiAgICAgICAgICAgICAgICB3aWR0aDogMzAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogMTYsXG4gICAgICAgICAgICAgICAgJ3RleHQtbWFyZ2luLXknOiAyMywgLy8gLTRcbiAgICAgICAgICAgICAgICAndGV4dC1tYXJnaW4teCc6IDEsXG4gICAgICAgICAgICAgICAgJ2xhYmVsJzogJ2RhdGEobGFiZWwpJyxcbiAgICAgICAgICAgICAgICBcInRleHQtd3JhcFwiOiBcIndyYXBcIixcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1maXQnOiAnY292ZXInLFxuICAgICAgICAgICAgICAgICdib3JkZXItY29sb3InOiAnZGVlcExpbmtOb2RlQ29sb3InLFxuICAgICAgICAgICAgICAgICdib3JkZXItd2lkdGgnOiAzLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLW5vZGUnLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAnZGVlcExpbmtOb2RlQ29sb3InLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLW9wYWNpdHknOiAxLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ2RlZXBMaW5rTm9kZUJnJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAzMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwLFxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAxNixcbiAgICAgICAgICAgICAgICAndGV4dC1tYXJnaW4teSc6IDIzLCAvLyAtNFxuICAgICAgICAgICAgICAgICd0ZXh0LW1hcmdpbi14JzogMSxcbiAgICAgICAgICAgICAgICAnbGFiZWwnOiAnZGF0YShsYWJlbCknLFxuICAgICAgICAgICAgICAgIFwidGV4dC13cmFwXCI6IFwid3JhcFwiLFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWZpdCc6ICdjb3ZlcicsXG4gICAgICAgICAgICAgICAgJ2V2ZW50cyc6ICd5ZXMnLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLW5vZGUtY29uY2VudHJhdGVkJyxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLW5vZGUtdW5jb25jZW50cmF0ZWQnLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNCxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3I6ICcubGluay1ub2RlLWlucHV0JyxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBcImJvcmRlci1jb2xvclwiOiBcInllbGxvd1wiLFxuICAgICAgICAgICAgICAgICdib3JkZXItd2lkdGgnOiAnMycsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLW5vZGUtb3V0cHV0JyxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBcImJvcmRlci1jb2xvclwiOiBcImJsdWVcIixcbiAgICAgICAgICAgICAgICAnYm9yZGVyLXdpZHRoJzogJzMnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3I6ICcubGluay1ub2RlLWluaGVyaXQnLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIFwiYm9yZGVyLWNvbG9yXCI6IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgICAnYm9yZGVyLXdpZHRoJzogJzMnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3I6ICcubGluay1ub2RlLWFjdGl2ZScsXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwiZGVlcENvbG9yQWN0aXZlXCIsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmxpbmstZWRnZScsXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgJ2N1cnZlLXN0eWxlJzogJ2JlemllcicsXG4gICAgICAgICAgICAgICAgJ3RhcmdldC1kaXN0YW5jZS1mcm9tLW5vZGUnOiA4LFxuICAgICAgICAgICAgICAgICdzb3VyY2UtZGlzdGFuY2UtZnJvbS1ub2RlJzogMSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3I6ICcubGluay1lZGdlLWFjdGl2ZScsXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgXCJsaW5lLWNvbG9yXCI6IFwiZGVlcENvbG9yQWN0aXZlXCIsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmxpbmstdG8nLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICd0YXJnZXQtYXJyb3ctc2hhcGUnOiAndHJpYW5nbGUnLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLWZyb20nLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICd0YXJnZXQtYXJyb3ctc2hhcGUnOiAndGVlJyxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3I6ICcubGluay10eXBlJyxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAndGFyZ2V0LWFycm93LXNoYXBlJzogJ3RyaWFuZ2xlJyxcbiAgICAgICAgICAgICAgICAnbGluZS1zdHlsZSc6ICdkYXNoZWQnLFxuICAgICAgICAgICAgICAgICdsaW5lLWRhc2gtcGF0dGVybic6IFs1LCA1XVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogJy5saW5rLWNvbnRhaW4nLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICdzb3VyY2UtYXJyb3ctc2hhcGUnOiAndGVlJyxcbiAgICAgICAgICAgICAgICAndGFyZ2V0LWFycm93LXNoYXBlJzogJ3RyaWFuZ2xlJyxcbiAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogMTYsXG4gICAgICAgICAgICAgICAgJ3RleHQtbWFyZ2luLXknOiAyMywgLy8gLTRcbiAgICAgICAgICAgICAgICAndGV4dC1tYXJnaW4teCc6IDEsXG4gICAgICAgICAgICAgICAgJ2xhYmVsJzogJ2RhdGEobGFiZWwpJyxcbiAgICAgICAgICAgICAgICBcImVkZ2UtdGV4dC1yb3RhdGlvblwiOiBcImF1dG9yb3RhdGVcIixcbiAgICAgICAgICAgICAgICBcInRleHQtd3JhcFwiOiBcIndyYXBcIixcbiAgICAgICAgICAgICAgICAnbGluZS1kYXNoLXBhdHRlcm4nOiBbNSwgNV0sXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmxpbmstY2F1c2UnLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICdzb3VyY2UtYXJyb3ctc2hhcGUnOiAndGVlJyxcbiAgICAgICAgICAgICAgICAndGFyZ2V0LWFycm93LXNoYXBlJzogJ3RyaWFuZ2xlJyxcbiAgICAgICAgICAgICAgICAnbGluZS1kYXNoLXBhdHRlcm4nOiBbNSwgNV0sXG4gICAgICAgICAgICAgICAgXCJsaW5lLWNvbG9yXCI6IFwidmlvbGV0XCIsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXX0gLz5cbiAgICAgICAgICB7b3BlbmVkLm1hcCgob3BlbmVkLCBpKSA9PiA8SXRlbVxuICAgICAgICAgICAgb3BlbmVkPXtvcGVuZWR9IGdvPXtnb30gY29uY2VudHJhdGVkPXshIWNvbmNlbnRyYXRlICYmIGNvbmNlbnRyYXRlZH1cbiAgICAgICAgICAgIHBhcmVudGFsPXtwYXJlbnRhbH0gc2F2ZUhpc3Rvcnk9e3NhdmVIaXN0b3J5fVxuICAgICAgICAgIC8+KX1cbiAgICAgICAgPC9nby5HcmFwaD5cbiAgICAgIDwvYy5Cb3g+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1123
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1132,
      "src_id": 841,
      "handler_id": 842,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1132,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 369,
          "value": "({ deep, data, require, go }) => {\n    const React = require('react');\n    const { MdSaveAlt } = require('react-icons/md');\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const EmojiPicker = require('emoji-picker-react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Package = deep.idLocal(dc, 'Package');\n    const Symbol = deep.idLocal(dc, 'Symbol');\n    const Contain = deep.idLocal(dc, 'Contain');\n    return ({ go, handlerId, linkId, isActive, onClick, variant = 'short', needParent = false, isConcentrated, editableSymbol = false, children = null, relations = false, ...props }, ref) => {\n        const co = deep.minilinks.byId[linkId]?.inByType?.[Contain]?.[0];\n        const sy = deep.minilinks.byId[linkId]?.inByType?.[Symbol]?.[0];\n        const [link, contain, symbol] = deep.useLinks(linkId, co, sy);\n        const name = link?.name;\n        const type = link?.type?.name;\n        const icon = symbol?.value?.value || link?.symbol;\n        const parent = contain?.from;\n        const parentName = parent?.name || '';\n        const parentIcon = parent?.symbol;\n        const [editing, setEditing] = React.useState(false);\n        const heightRef = React.useRef(0);\n        const [value, setValue] = React.useState(link?.name);\n        const emojiD = c.useDisclosure();\n        const editingRef = React.useRef(editing);\n        const afterEdit = (!!editingRef.current && (!editing && !emojiD));\n        editingRef.current = !!(editing || emojiD.isOpen);\n        const content = React.createElement(React.Fragment, null,\n            isConcentrated != false && React.createElement(React.Fragment, null,\n                editing && React.createElement(c.Box, { ref: ref, height: `${heightRef.current}px`, w: '100%', overflow: 'hidden' },\n                    React.createElement(c.InputGroup, { h: '100%' },\n                        React.createElement(c.Input, { autoFocus: true, value: value, onChange: e => setValue(e.target.value), h: '100%', onKeyDown: event => (event.key === 'Escape' ? go.do('escape') : event.key === 'Enter' ? go.do('enter') : null) }),\n                        React.createElement(c.InputRightElement, { h: '100%', w: '3em' },\n                            React.createElement(c.Button, { onClick: () => go.do('enter') },\n                                React.createElement(MdSaveAlt, null))))),\n                !!afterEdit && React.createElement(go.Query, { query: {\n                        type_id: { _in: [Symbol, Contain] }, to_id: linkId,\n                    } }),\n                !editing && React.createElement(React.Fragment, null,\n                    !!editableSymbol && React.createElement(React.Fragment, null,\n                        React.createElement(c.Popover, { returnFocusOnClose: true, isOpen: emojiD.isOpen, onClose: emojiD.onClose, closeOnBlur: false },\n                            React.createElement(c.PopoverContent, null,\n                                React.createElement(EmojiPicker, { theme: 'dark', open: emojiD.isOpen, onEmojiClick: async (emoji) => {\n                                        emojiD.onClose();\n                                        const { data: [symbol] } = await deep.select({\n                                            type_id: Symbol, to_id: go.linkId,\n                                        });\n                                        const { data: [parent] } = await deep.select({\n                                            out: {\n                                                type_id: Contain, to_id: go.linkId,\n                                            },\n                                        });\n                                        if (!symbol)\n                                            await deep.insert({\n                                                type_id: Symbol, from_id: go.linkId, to_id: go.linkId,\n                                                string: emoji.emoji,\n                                                containerId: parent?.type_id === Package ? parent.id : go.linkId,\n                                                name: `${go?.link?.name}Symbol`\n                                            });\n                                        else\n                                            await deep.value(symbol.id, emoji.emoji);\n                                    } }))),\n                        React.createElement(c.Button, { w: '3em', h: '100%', onClick: () => {\n                                emojiD.onOpen();\n                            } }, icon)),\n                    React.createElement(c.Button, { ref: ref, ...props, variant: isActive ? 'active' : undefined, onClick: (e) => {\n                            e.stopPropagation();\n                            e.preventDefault();\n                            go.do('exec', { id: linkId });\n                            onClick && onClick(link);\n                        }, justifyContent: 'left', pt: 2, pb: 2, w: '100%', h: '100%' },\n                        !editableSymbol && React.createElement(React.Fragment, null, icon),\n                        React.createElement(c.Box, { textAlign: 'left', pl: editableSymbol ? '0' : '0.5em', w: '100%', overflow: 'hidden', position: 'relative' },\n                            !!parent && !!needParent && React.createElement(c.Box, { fontSize: \"0.6em\", textAlign: 'right' },\n                                parentName,\n                                \" \",\n                                parentIcon),\n                            !!((name) || (type)) && React.createElement(c.Box, { fontSize: \"sm\" }, name || type),\n                            React.createElement(c.Box, { fontSize: \"xxs\" },\n                                name ? type : '',\n                                \" \",\n                                linkId),\n                            children,\n                            variant === 'full' && !!link?.value && React.createElement(React.Fragment, null,\n                                React.createElement(c.Text, { fontSize: \"xxs\", opacity: 0.5 }, \"value:\"),\n                                React.createElement(c.Text, { fontSize: \"xs\" },\n                                    typeof (link?.value?.value) == 'string' && React.createElement(React.Fragment, null,\n                                        React.createElement(c.Heading, { as: 'pre', fontSize: 'xs', noOfLines: 1, w: '100%' }, link?.value?.value)),\n                                    typeof (link?.value?.value) == 'number' && React.createElement(React.Fragment, null,\n                                        React.createElement(c.Heading, { as: 'pre', fontSize: 'xs', noOfLines: 1, w: '100%' }, link?.value?.value)),\n                                    typeof (link?.value?.value) == 'object' && React.createElement(React.Fragment, null,\n                                        React.createElement(c.Heading, { as: 'pre', fontSize: 'xs', noOfLines: 1, w: '100%' }, JSON.stringify(link?.value?.value))))))))),\n            isConcentrated === false && React.createElement(React.Fragment, null,\n                React.createElement(c.Button, { ref: ref, ...props, variant: isActive ? 'active' : undefined, onClick: (e) => {\n                        e.stopPropagation();\n                        e.preventDefault();\n                        go.do('exec', { id: linkId });\n                        onClick && onClick(link);\n                    }, justifyContent: 'left', pt: 2, pb: 2, w: '0', h: '100%' }, icon)));\n        return React.createElement(go.On, { do: {\n                enter: async () => {\n                    if (!isActive || !contain)\n                        return;\n                    heightRef.current = ref.current.clientHeight;\n                    if (!editing) {\n                        setEditing(true);\n                        setValue(link?.name);\n                    }\n                    else {\n                        await deep.value(contain?.id, value);\n                        setEditing(false);\n                    }\n                },\n                escape: () => {\n                    setEditing(false);\n                },\n            } }, relations ? React.createElement(c.Flex, null,\n            !!link.from_id && React.createElement(go.Provider, { linkId: link.from_id },\n                React.createElement(go.Handler, { handlerId: handlerId, linkId: link.from_id })),\n            content,\n            !!link.to_id && React.createElement(go.Provider, { linkId: link.to_id },\n                React.createElement(go.Handler, { handlerId: handlerId, linkId: link.to_id }))) : content);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ2hELE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1QixNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUVsRCxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMxQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUU1QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBRUYsU0FBUyxFQUVULE1BQU0sRUFDTixRQUFRLEVBRVIsT0FBTyxFQUVQLE9BQU8sR0FBQyxPQUFPLEVBQ2YsVUFBVSxHQUFHLEtBQUssRUFDbEIsY0FBYyxFQUNkLGNBQWMsR0FBRyxLQUFLLEVBRXRCLFFBQVEsR0FBRyxJQUFJLEVBRWYsU0FBUyxHQUFHLEtBQUssRUFDakIsR0FBRyxLQUFLLEVBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE1BQU0s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QUFDLElBQUk7WUFDakIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLElBQUksb0JBQUMsRUFBRSxDQUFDLFFBQVEsSUFBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU87Z0JBQ2xELG9CQUFDLEVBQUUsQ0FBQyxPQUFPLElBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUM3QztZQUNiLE9BQU87WUFDUCxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxvQkFBQyxFQUFFLENBQUMsUUFBUSxJQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSztnQkFDOUMsb0JBQUMsRUFBRSxDQUFDLE9BQU8sSUFBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQzNDLENBQ1AsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUNiLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBnbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBNZFNhdmVBbHQgfSA9IHJlcXVpcmUoJ3JlYWN0LWljb25zL21kJyk7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG4gIGNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbiAgY29uc3QgRW1vamlQaWNrZXIgPSByZXF1aXJlKCdlbW9qaS1waWNrZXItcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICBjb25zdCBQYWNrYWdlID0gZGVlcC5pZExvY2FsKGRjLCAnUGFja2FnZScpO1xuICBjb25zdCBTeW1ib2wgPSBkZWVwLmlkTG9jYWwoZGMsICdTeW1ib2wnKTtcbiAgY29uc3QgQ29udGFpbiA9IGRlZXAuaWRMb2NhbChkYywgJ0NvbnRhaW4nKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGhhbmRsZXJJZCxcblxuICAgIGxpbmtJZCxcbiAgICBpc0FjdGl2ZSxcblxuICAgIG9uQ2xpY2ssXG5cbiAgICB2YXJpYW50PSdzaG9ydCcsIC8vIGZ1bGwgfCBzaG9ydFxuICAgIG5lZWRQYXJlbnQgPSBmYWxzZSxcbiAgICBpc0NvbmNlbnRyYXRlZCxcbiAgICBlZGl0YWJsZVN5bWJvbCA9IGZhbHNlLFxuXG4gICAgY2hpbGRyZW4gPSBudWxsLFxuXG4gICAgcmVsYXRpb25zID0gZmFsc2UsXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgY28gPSBkZWVwLm1pbmlsaW5rcy5ieUlkW2xpbmtJZF0/LmluQnlUeXBlPy5bQ29udGFpbl0/LlswXTtcbiAgICBjb25zdCBzeSA9IGRlZXAubWluaWxpbmtzLmJ5SWRbbGlua0lkXT8uaW5CeVR5cGU/LltTeW1ib2xdPy5bMF07XG4gICAgY29uc3QgW2xpbmssIGNvbnRhaW4sIHN5bWJvbF0gPSBkZWVwLnVzZUxpbmtzKGxpbmtJZCwgY28sIHN5KTtcbiAgICAvLyBjb25zb2xlLmxvZygnWFhYWFgnLCBsaW5rLCBjb250YWluKTtcbiAgICAvLyBjb25zdCBsaW5rID0gZGVlcC5nZXQobGlua0lkKTtcbiAgICBjb25zdCBuYW1lID0gbGluaz8ubmFtZTtcbiAgICBjb25zdCB0eXBlID0gbGluaz8udHlwZT8ubmFtZTtcbiAgICBjb25zdCBpY29uID0gc3ltYm9sPy52YWx1ZT8udmFsdWUgfHwgbGluaz8uc3ltYm9sO1xuXG4gICAgY29uc3QgcGFyZW50ID0gY29udGFpbj8uZnJvbTtcbiAgICBjb25zdCBwYXJlbnROYW1lID0gcGFyZW50Py5uYW1lIHx8ICcnO1xuICAgIGNvbnN0IHBhcmVudEljb24gPSBwYXJlbnQ/LnN5bWJvbDtcbiAgICBjb25zdCBbZWRpdGluZywgc2V0RWRpdGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgaGVpZ2h0UmVmID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gUmVhY3QudXNlU3RhdGUobGluaz8ubmFtZSk7XG4gIFxuICAgIGNvbnN0IGVtb2ppRCA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IGVkaXRpbmdSZWYgPSBSZWFjdC51c2VSZWYoZWRpdGluZyk7XG5cbiAgICBjb25zdCBhZnRlckVkaXQgPSAoISFlZGl0aW5nUmVmLmN1cnJlbnQgJiYgKCFlZGl0aW5nICYmICFlbW9qaUQpKTtcbiAgICBlZGl0aW5nUmVmLmN1cnJlbnQgPSAhIShlZGl0aW5nIHx8IGVtb2ppRC5pc09wZW4pO1xuXG4gICAgY29uc3QgY29udGVudCA9IDw+XG4gICAgICB7aXNDb25jZW50cmF0ZWQgIT0gZmFsc2UgJiYgPD5cbiAgICAgICAge2VkaXRpbmcgJiYgPGMuQm94IHJlZj17cmVmfSBoZWlnaHQ9e2Ake2hlaWdodFJlZi5jdXJyZW50fXB4YH0gdz0nMTAwJScgb3ZlcmZsb3c9J2hpZGRlbic+XG4gICAgICAgICAgPGMuSW5wdXRHcm91cCBoPScxMDAlJz5cbiAgICAgICAgICAgIDxjLklucHV0XG4gICAgICAgICAgICAgIGF1dG9Gb2N1cyB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXtlID0+IHNldFZhbHVlKGUudGFyZ2V0LnZhbHVlKX0gaD0nMTAwJSdcbiAgICAgICAgICAgICAgb25LZXlEb3duPXtldmVudCA9PiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyA/IGdvLmRvKCdlc2NhcGUnKSA6IGV2ZW50LmtleSA9PT0gJ0VudGVyJyA/IGdvLmRvKCdlbnRlcicpIDogbnVsbCl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGMuSW5wdXRSaWdodEVsZW1lbnQgaD0nMTAwJScgdz0nM2VtJz5cbiAgICAgICAgICAgICAgPGMuQnV0dG9uIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdlbnRlcicpfT48TWRTYXZlQWx0Lz48L2MuQnV0dG9uPlxuICAgICAgICAgICAgPC9jLklucHV0UmlnaHRFbGVtZW50PlxuICAgICAgICAgIDwvYy5JbnB1dEdyb3VwPlxuICAgICAgICA8L2MuQm94Pn1cbiAgICAgICAgeyEhYWZ0ZXJFZGl0ICYmIDxnby5RdWVyeSBxdWVyeT17e1xuICAgICAgICAgIHR5cGVfaWQ6IHsgX2luOiBbU3ltYm9sLCBDb250YWluIF0gfSwgdG9faWQ6IGxpbmtJZCxcbiAgICAgICAgfX0vPn1cbiAgICAgICAgeyFlZGl0aW5nICYmIDw+XG4gICAgICAgICAgeyEhZWRpdGFibGVTeW1ib2wgJiYgPD5cbiAgICAgICAgICAgIDxjLlBvcG92ZXJcbiAgICAgICAgICAgICAgcmV0dXJuRm9jdXNPbkNsb3NlPXt0cnVlfVxuICAgICAgICAgICAgICBpc09wZW49e2Vtb2ppRC5pc09wZW59XG4gICAgICAgICAgICAgIG9uQ2xvc2U9e2Vtb2ppRC5vbkNsb3NlfVxuICAgICAgICAgICAgICBjbG9zZU9uQmx1cj17ZmFsc2V9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxjLlBvcG92ZXJDb250ZW50PlxuICAgICAgICAgICAgICAgIDxFbW9qaVBpY2tlclxuICAgICAgICAgICAgICAgICAgdGhlbWU9J2RhcmsnXG4gICAgICAgICAgICAgICAgICBvcGVuPXtlbW9qaUQuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgb25FbW9qaUNsaWNrPXthc3luYyAoZW1vamkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZW1vamlELm9uQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBbc3ltYm9sXSB9ID0gYXdhaXQgZGVlcC5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGVfaWQ6IFN5bWJvbCwgdG9faWQ6IGdvLmxpbmtJZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogW3BhcmVudF0gfSA9IGF3YWl0IGRlZXAuc2VsZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfaWQ6IENvbnRhaW4sIHRvX2lkOiBnby5saW5rSWQsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3ltYm9sKSBhd2FpdCBkZWVwLmluc2VydCh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZV9pZDogU3ltYm9sLCBmcm9tX2lkOiBnby5saW5rSWQsIHRvX2lkOiBnby5saW5rSWQsXG4gICAgICAgICAgICAgICAgICAgICAgc3RyaW5nOiBlbW9qaS5lbW9qaSxcbiAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJZDogcGFyZW50Py50eXBlX2lkID09PSBQYWNrYWdlID8gcGFyZW50LmlkIDogZ28ubGlua0lkLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGAke2dvPy5saW5rPy5uYW1lfVN5bWJvbGBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgYXdhaXQgZGVlcC52YWx1ZShzeW1ib2wuaWQsIGVtb2ppLmVtb2ppKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9jLlBvcG92ZXJDb250ZW50PlxuICAgICAgICAgICAgPC9jLlBvcG92ZXI+XG4gICAgICAgICAgICA8Yy5CdXR0b24gdz0nM2VtJyBoPScxMDAlJyBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGVtb2ppRC5vbk9wZW4oKTtcbiAgICAgICAgICAgIH19PntpY29ufTwvYy5CdXR0b24+XG4gICAgICAgICAgPC8+fVxuICAgICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBnby5kbygnZXhlYycsIHsgaWQ6IGxpbmtJZCB9KTtcbiAgICAgICAgICAgICAgb25DbGljayAmJiBvbkNsaWNrKGxpbmspO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50PXsnbGVmdCd9XG4gICAgICAgICAgICBwdD17Mn0gcGI9ezJ9IHc9JzEwMCUnIGg9JzEwMCUnXG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyFlZGl0YWJsZVN5bWJvbCAmJiA8PntpY29ufTwvPn1cbiAgICAgICAgICAgIDxjLkJveCB0ZXh0QWxpZ249J2xlZnQnIHBsPXtlZGl0YWJsZVN5bWJvbCA/ICcwJyA6ICcwLjVlbScgdz0nMTAwJScgb3ZlcmZsb3c9J2hpZGRlbicgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICAgICAgeyEhcGFyZW50ICYmICEhbmVlZFBhcmVudCAmJiA8Yy5Cb3ggZm9udFNpemU9XCIwLjZlbVwiIHRleHRBbGlnbj0ncmlnaHQnPntwYXJlbnROYW1lfSB7cGFyZW50SWNvbn08L2MuQm94Pn1cbiAgICAgICAgICAgICAgeyEhKChuYW1lKSB8fCAodHlwZSkpICYmIDxjLkJveCBmb250U2l6ZT1cInNtXCI+e25hbWUgfHwgdHlwZX1cbiAgICAgICAgICAgICAgPC9jLkJveD59XG4gICAgICAgICAgICAgIDxjLkJveCBmb250U2l6ZT1cInh4c1wiPntuYW1lID8gdHlwZSA6ICcnfSB7bGlua0lkfTwvYy5Cb3g+XG4gICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAge3ZhcmlhbnQgPT09ICdmdWxsJyAmJiAhIWxpbms/LnZhbHVlICYmIDw+XG4gICAgICAgICAgICAgICAgPGMuVGV4dCBmb250U2l6ZT1cInh4c1wiIG9wYWNpdHk9ezAuNX0+dmFsdWU6PC9jLlRleHQ+XG4gICAgICAgICAgICAgICAgPGMuVGV4dCBmb250U2l6ZT1cInhzXCI+XG4gICAgICAgICAgICAgICAgICB7dHlwZW9mKGxpbms/LnZhbHVlPy52YWx1ZSkgPT0gJ3N0cmluZycgJiYgPD5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0ncHJlJyBmb250U2l6ZT0neHMnIG5vT2ZMaW5lcz17MX0gdz0nMTAwJSc+e2xpbms/LnZhbHVlPy52YWx1ZX08L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgICAgICAgIHt0eXBlb2YobGluaz8udmFsdWU/LnZhbHVlKSA9PSAnbnVtYmVyJyAmJiA8PlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdwcmUnIGZvbnRTaXplPSd4cycgbm9PZkxpbmVzPXsxfSB3PScxMDAlJz57bGluaz8udmFsdWU/LnZhbHVlfTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgICAge3R5cGVvZihsaW5rPy52YWx1ZT8udmFsdWUpID09ICdvYmplY3QnICYmIDw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J3ByZScgZm9udFNpemU9J3hzJyBub09mTGluZXM9ezF9IHc9JzEwMCUnPntKU09OLnN0cmluZ2lmeShsaW5rPy52YWx1ZT8udmFsdWUpfTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgIDwvYy5UZXh0PlxuICAgICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgIDwvPn1cbiAgICAgIDwvPn1cbiAgICAgIHtpc0NvbmNlbnRyYXRlZCA9PT0gZmFsc2UgJiYgPD5cbiAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBnby5kbygnZXhlYycsIHsgaWQ6IGxpbmtJZCB9KTtcbiAgICAgICAgICAgIG9uQ2xpY2sgJiYgb25DbGljayhsaW5rKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIGp1c3RpZnlDb250ZW50PXsnbGVmdCd9XG4gICAgICAgICAgcHQ9ezJ9IHBiPXsyfSB3PScwJyBoPScxMDAlJ1xuICAgICAgICA+XG4gICAgICAgICAge2ljb259XG4gICAgICAgIDwvYy5CdXR0b24+XG4gICAgICA8Lz59XG4gICAgPC8+O1xuICBcbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBlbnRlcjogYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWlzQWN0aXZlIHx8ICFjb250YWluKSByZXR1cm47XG4gICAgICAgIGhlaWdodFJlZi5jdXJyZW50ID0gcmVmLmN1cnJlbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICBpZiAoIWVkaXRpbmcpIHtcbiAgICAgICAgICBzZXRFZGl0aW5nKHRydWUpO1xuICAgICAgICAgIHNldFZhbHVlKGxpbms/Lm5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF3YWl0IGRlZXAudmFsdWUoY29udGFpbj8uaWQsIHZhbHVlKTtcbiAgICAgICAgICBzZXRFZGl0aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVzY2FwZTogKCkgPT4ge1xuICAgICAgICBzZXRFZGl0aW5nKGZhbHNlKTtcbiAgICAgIH0sXG4gICAgfX0+XG4gICAgICB7cmVsYXRpb25zID8gPGMuRmxleD5cbiAgICAgICAgeyEhbGluay5mcm9tX2lkICYmIDxnby5Qcm92aWRlciBsaW5rSWQ9e2xpbmsuZnJvbV9pZH0+XG4gICAgICAgICAgPGdvLkhhbmRsZXIgaGFuZGxlcklkPXtoYW5kbGVySWR9IGxpbmtJZD17bGluay5mcm9tX2lkfS8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+fVxuICAgICAgICB7Y29udGVudH1cbiAgICAgICAgeyEhbGluay50b19pZCAmJiA8Z28uUHJvdmlkZXIgbGlua0lkPXtsaW5rLnRvX2lkfT5cbiAgICAgICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e2hhbmRsZXJJZH0gbGlua0lkPXtsaW5rLnRvX2lkfS8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+fVxuICAgICAgPC9jLkZsZXg+IDogY29udGVudH1cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1132
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1141,
      "src_id": 843,
      "handler_id": 844,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1141,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 372,
          "value": "({ deep, data, require, go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, linkId, containerId, disclosure: _disclosure, isActive, }, ref) => {\n        if (!linkId)\n            throw new Error('!linkId');\n        const __disclosure = c.useDisclosure();\n        const disclosure = _disclosure || __disclosure;\n        return React.createElement(go.On, { do: {\n                'exec': () => disclosure.onOpen(),\n            } },\n            React.createElement(c.Button, { ref: ref, variant: isActive ? 'active' : undefined, justifyContent: 'center', position: 'relative', onClick: () => go.do('exec') },\n                React.createElement(c.Box, { position: 'absolute', right: 1, top: 1 }, true ? '🔓' : '🔒'),\n                React.createElement(c.Text, { pr: 1 }, \"x\"),\n                \" delete\"),\n            React.createElement(go.Component, { path: [dpl, 'LinkDeleteModal'], disclosure: disclosure, linkId: linkId, containerId: containerId }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFFbkMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUVGLE1BQU0sRUFDTixXQUFXLEVBRVgsVUFBVSxFQUFFLFdBQVcsRUFDdkIsUUFBUSxHQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixJQUFJLENBQUMsTUFBTTtZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFeEMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3ZDLE1BQU0sVUFBVSxHQUFHLFdBQVcsSUFBSSxZQUFZLENBQUM7UUFFL0MsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7YUFDbEM7WUFDQyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLEdBQUcsRUFBRSxHQUFHLEVBQ1IsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsY0FBYyxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsVUFBVSxFQUNyRixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0JBRTVCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLElBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBUztnQkFDekUsb0JBQUMsQ0FBQyxDQUFDLElBQUksSUFBQyxFQUFFLEVBQUUsQ0FBQyxRQUFZOzBCQUNoQjtZQUNYLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLGlCQUFpQixDQUFDLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxXQUFXLEdBQUcsQ0FDckcsQ0FBQztJQUNqQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBnbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGxpbmtJZCxcbiAgICBjb250YWluZXJJZCxcblxuICAgIGRpc2Nsb3N1cmU6IF9kaXNjbG9zdXJlLFxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICBpZiAoIWxpbmtJZCkgdGhyb3cgbmV3IEVycm9yKCchbGlua0lkJyk7XG5cbiAgICBjb25zdCBfX2Rpc2Nsb3N1cmUgPSBjLnVzZURpc2Nsb3N1cmUoKTtcbiAgICBjb25zdCBkaXNjbG9zdXJlID0gX2Rpc2Nsb3N1cmUgfHwgX19kaXNjbG9zdXJlO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgJ2V4ZWMnOiAoKSA9PiBkaXNjbG9zdXJlLm9uT3BlbigpLFxuICAgIH19PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBqdXN0aWZ5Q29udGVudD0nY2VudGVyJyBwb3NpdGlvbj0ncmVsYXRpdmUnXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICA+XG4gICAgICAgIDxjLkJveCBwb3NpdGlvbj0nYWJzb2x1dGUnIHJpZ2h0PXsxfSB0b3A9ezF9Pnt0cnVlID8gJ/CflJMnIDogJ/CflJInfTwvYy5Cb3g+XG4gICAgICAgIDxjLlRleHQgcHI9ezF9Png8L2MuVGV4dD4gZGVsZXRlXG4gICAgICA8L2MuQnV0dG9uPlxuICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnTGlua0RlbGV0ZU1vZGFsJ119IGRpc2Nsb3N1cmU9e2Rpc2Nsb3N1cmV9IGxpbmtJZD17bGlua0lkfSBjb250YWluZXJJZD17Y29udGFpbmVySWR9Lz5cbiAgICA8L2dvLlByb3ZpZGVyPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1141
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1150,
      "src_id": 845,
      "handler_id": 846,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1150,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 375,
          "value": "({ deep, data, require, go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, disclosure: _disclosure, defaultContainerId, defaultTypeId, defaultFromId, defaultToId, isActive, }, ref) => {\n        const __disclosure = c.useDisclosure();\n        const disclosure = _disclosure || __disclosure;\n        return React.createElement(go.On, { do: {\n                'exec': () => disclosure.onOpen(),\n            } },\n            React.createElement(c.Button, { ref: ref, variant: isActive ? 'active' : undefined, justifyContent: 'center', position: 'relative', onClick: () => go.do('exec') },\n                React.createElement(c.Box, { position: 'absolute', right: 1, top: 1 }, true ? '🔓' : '🔒'),\n                React.createElement(c.Text, { pr: 1 }, \"+\"),\n                \" insert\"),\n            React.createElement(go.Component, { path: [dpl, 'LinkInsertModal'], disclosure: disclosure, defaultContainerId: defaultContainerId, defaultTypeId: defaultTypeId, defaultFromId: defaultFromId, defaultToId: defaultToId }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFFbkMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUVGLFVBQVUsRUFBRSxXQUFXLEVBRXZCLGtCQUFrQixFQUNsQixhQUFhLEVBQ2IsYUFBYSxFQUNiLFdBQVcsRUFFWCxRQUFRLEdBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN2QyxNQUFNLFVBQVUsR0FBRyxXQUFXLElBQUksWUFBWSxDQUFDO1FBRS9DLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFO2FBQ2xDO1lBQ0Msb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDUCxHQUFHLEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLGNBQWMsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFDLFVBQVUsRUFDckYsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2dCQUU1QixvQkFBQyxDQUFDLENBQUMsR0FBRyxJQUFDLFFBQVEsRUFBQyxVQUFVLEVBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQVM7Z0JBQ3pFLG9CQUFDLENBQUMsQ0FBQyxJQUFJLElBQUMsRUFBRSxFQUFFLENBQUMsUUFBWTswQkFDaEI7WUFDWCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQ2xFLGtCQUFrQixFQUFFLGtCQUFrQixFQUN0QyxhQUFhLEVBQUUsYUFBYSxFQUM1QixhQUFhLEVBQUUsYUFBYSxFQUM1QixXQUFXLEVBQUUsV0FBVyxHQUN4QixDQUNJLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBnbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGRpc2Nsb3N1cmU6IF9kaXNjbG9zdXJlLFxuXG4gICAgZGVmYXVsdENvbnRhaW5lcklkLFxuICAgIGRlZmF1bHRUeXBlSWQsXG4gICAgZGVmYXVsdEZyb21JZCxcbiAgICBkZWZhdWx0VG9JZCxcblxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBfX2Rpc2Nsb3N1cmUgPSBjLnVzZURpc2Nsb3N1cmUoKTtcbiAgICBjb25zdCBkaXNjbG9zdXJlID0gX2Rpc2Nsb3N1cmUgfHwgX19kaXNjbG9zdXJlO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgJ2V4ZWMnOiAoKSA9PiBkaXNjbG9zdXJlLm9uT3BlbigpLFxuICAgIH19PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBqdXN0aWZ5Q29udGVudD0nY2VudGVyJyBwb3NpdGlvbj0ncmVsYXRpdmUnXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICA+XG4gICAgICAgIDxjLkJveCBwb3NpdGlvbj0nYWJzb2x1dGUnIHJpZ2h0PXsxfSB0b3A9ezF9Pnt0cnVlID8gJ/CflJMnIDogJ/CflJInfTwvYy5Cb3g+XG4gICAgICAgIDxjLlRleHQgcHI9ezF9Pis8L2MuVGV4dD4gaW5zZXJ0XG4gICAgICA8L2MuQnV0dG9uPlxuICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnTGlua0luc2VydE1vZGFsJ119IGRpc2Nsb3N1cmU9e2Rpc2Nsb3N1cmV9XG4gICAgICAgIGRlZmF1bHRDb250YWluZXJJZD17ZGVmYXVsdENvbnRhaW5lcklkfVxuICAgICAgICBkZWZhdWx0VHlwZUlkPXtkZWZhdWx0VHlwZUlkfVxuICAgICAgICBkZWZhdWx0RnJvbUlkPXtkZWZhdWx0RnJvbUlkfVxuICAgICAgICBkZWZhdWx0VG9JZD17ZGVmYXVsdFRvSWR9XG4gICAgICAvPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1150
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1159,
      "src_id": 851,
      "handler_id": 852,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1159,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 378,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const dtsx = '@deep-foundation/tsx';\n    const dml = '@deep-foundation/deepmemo-links';\n    const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const TSX = deep.idLocal(dtsx, 'TSX');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Menu = deep.idLocal(dpl, 'Menu');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const Before = deep.idLocal(dpl, 'Before');\n    const After = deep.idLocal(dpl, 'After');\n    const StackInsertButton = deep.idLocal(dpl, 'StackInsertButton');\n    const Item = ({ link, isActive }) => {\n        const go = Go.useGo();\n        return (link?.id === Before ? (React.createElement(go.Handler, { handlerId: StackInsertButton, insertProps: { customInsert: ({ name }) => ({\n                    containerId: deep.linkId,\n                    type_id: Handler,\n                    from_id: clientSupportsJs,\n                    to: {\n                        type_id: TSX,\n                        string: go.componentTemplate({ children: templateLayerButton('deep.linkId') }),\n                        name: `${name}Component`,\n                    },\n                    out: {\n                        type_id: Compatable,\n                        to_id: deep.userId,\n                        name: `${name}CompatableUser`,\n                    },\n                }) } }, \"+\")) : link?.id === After ? (React.createElement(go.Handler, { handlerId: StackInsertButton, insertProps: { customInsert: ({ name }) => ({\n                    containerId: dpl,\n                    type_id: Handler,\n                    from_id: clientSupportsJs,\n                    to: {\n                        type_id: TSX,\n                        string: go.componentTemplate({ children: templateLayerButton('dpl') }),\n                        name: `${name}Component`,\n                    },\n                    out: {\n                        type_id: Compatable,\n                        to_id: Menu,\n                        name: `${name}CompatableMenu`,\n                    },\n                }) } }, \"+\")) : (React.createElement(Go.Handler, { handlerId: link.id, linkId: link.id, isActive: isActive })));\n    };\n    const templateLayerButton = (id) => `      <go.On do={{\n        exec: async (g,v,o) => go.go.do('right', { ...o, id: await deep.id(${id}, 'NameOfComponent') }),\n        click: (g,v,o) => go.do('exec', o),\n        right: (g,v,o) => go.do('exec', o),\n      }}>\n        <c.Button w='3em' h='3em' variant={isActive ? 'active' : undefined} onClick={() => go.do('exec')}>?</c.Button>\n        {/*<go.Component path={[${id}, 'NameOfComponent']}/>*/}\n      </go.On>`;\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        const { data: menuPerception } = deep.useQuery({\n            type_id: Handler,\n            out: {\n                type_id: Compatable,\n                to_id: Menu,\n            },\n            order_by: { id: 'desc' }\n        });\n        const { data: menuUser } = deep.useQuery({\n            type_id: Handler,\n            out: {\n                type_id: Compatable,\n                to_id: deep.linkId,\n            },\n            order_by: { id: 'desc' }\n        });\n        const menu = [{ id: Before }, ...menuUser, ...menuPerception, { id: After }];\n        return React.createElement(go.On, { do: {\n                focus: (g, v, linkId, o) => {\n                    !go.value && go.focus(Stack);\n                    o?.id && go(Stack).focus(o?.id);\n                },\n            } },\n            React.createElement(go.Provider, { linkId: Stack },\n                React.createElement(go.Component, { path: [dpl, 'Stack'], links: menu, direction: 'vertical', Item: Item, ...props })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLElBQUksR0FBRyxzQkFBc0IsQ0FBQztJQUNwQyxNQUFNLEdBQUcsR0FBRyxpQ0FBaUMsQ0FBQztJQUU5QyxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLGtCQUFrQixDQUFDLENBQUM7SUFDOUQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDbkQsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDM0MsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdkMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDekMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxH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VSxFQUFDLElBQUksRUFBRSxJQUFJLEtBQzlELEtBQUssR0FDVCxDQUNVLENBQ1IsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIEdvLCByZXF1aXJlIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBjb25zdCBkdHN4ID0gJ0BkZWVwLWZvdW5kYXRpb24vdHN4JztcbiAgY29uc3QgZG1sID0gJ0BkZWVwLWZvdW5kYXRpb24vZGVlcG1lbW8tbGlua3MnO1xuXG4gIGNvbnN0IGNsaWVudFN1cHBvcnRzSnMgPSBkZWVwLmlkTG9jYWwoZGMsICdjbGllbnRTdXBwb3J0c0pzJyk7XG4gIGNvbnN0IEhhbmRsZXIgPSBkZWVwLmlkTG9jYWwoZGMsICdIYW5kbGVyJyk7XG4gIGNvbnN0IFRTWCA9IGRlZXAuaWRMb2NhbChkdHN4LCAnVFNYJyk7XG4gIGNvbnN0IENvbXBhdGFibGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQ29tcGF0YWJsZScpO1xuICBjb25zdCBIZWFkZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnSGVhZGVyJyk7XG4gIGNvbnN0IE1lbnUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnTWVudScpO1xuICBjb25zdCBTdGFjayA9IGRlZXAuaWRMb2NhbChkcGwsICdTdGFjaycpO1xuICBjb25zdCBCZWZvcmUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQmVmb3JlJyk7XG4gIGNvbnN0IEFmdGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0FmdGVyJyk7XG5cbiAgY29uc3QgU3RhY2tJbnNlcnRCdXR0b24gPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2tJbnNlcnRCdXR0b24nKTtcblxuICBjb25zdCBJdGVtID0gKHsgbGluaywgaXNBY3RpdmUgfSkgPT4ge1xuICAgIGNvbnN0IGdvID0gR28udXNlR28oKTtcbiAgICByZXR1cm4gKGxpbms/LmlkID09PSBCZWZvcmUgPyAoXG4gICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e1N0YWNrSW5zZXJ0QnV0dG9ufSBpbnNlcnRQcm9wcz17eyBjdXN0b21JbnNlcnQ6ICh7IG5hbWUgfSkgPT4gKHtcbiAgICAgICAgY29udGFpbmVySWQ6IGRlZXAubGlua0lkLFxuICAgICAgICB0eXBlX2lkOiBIYW5kbGVyLFxuICAgICAgICBmcm9tX2lkOiBjbGllbnRTdXBwb3J0c0pzLFxuICAgICAgICB0bzoge1xuICAgICAgICAgIHR5cGVfaWQ6IFRTWCxcbiAgICAgICAgICBzdHJpbmc6IGdvLmNvbXBvbmVudFRlbXBsYXRlKHsgY2hpbGRyZW46IHRlbXBsYXRlTGF5ZXJCdXR0b24oJ2RlZXAubGlua0lkJykgfSksXG4gICAgICAgICAgbmFtZTogYCR7bmFtZX1Db21wb25lbnRgLFxuICAgICAgICB9LFxuICAgICAgICBvdXQ6IHtcbiAgICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICAgIHRvX2lkOiBkZWVwLnVzZXJJZCxcbiAgICAgICAgICBuYW1lOiBgJHtuYW1lfUNvbXBhdGFibGVVc2VyYCxcbiAgICAgICAgfSxcbiAgICAgIH0pIH19Pis8L2dvLkhhbmRsZXI+XG4gICAgKSA6IGxpbms/LmlkID09PSBBZnRlciA/IChcbiAgICAgIDxnby5IYW5kbGVyIGhhbmRsZXJJZD17U3RhY2tJbnNlcnRCdXR0b259IGluc2VydFByb3BzPXt7IGN1c3RvbUluc2VydDogKHsgbmFtZSB9KSA9PiAoe1xuICAgICAgICBjb250YWluZXJJZDogZHBsLFxuICAgICAgICB0eXBlX2lkOiBIYW5kbGVyLFxuICAgICAgICBmcm9tX2lkOiBjbGllbnRTdXBwb3J0c0pzLFxuICAgICAgICB0bzoge1xuICAgICAgICAgIHR5cGVfaWQ6IFRTWCxcbiAgICAgICAgICBzdHJpbmc6IGdvLmNvbXBvbmVudFRlbXBsYXRlKHsgY2hpbGRyZW46IHRlbXBsYXRlTGF5ZXJCdXR0b24oJ2RwbCcpIH0pLFxuICAgICAgICAgIG5hbWU6IGAke25hbWV9Q29tcG9uZW50YCxcbiAgICAgICAgfSxcbiAgICAgICAgb3V0OiB7XG4gICAgICAgICAgdHlwZV9pZDogQ29tcGF0YWJsZSxcbiAgICAgICAgICB0b19pZDogTWVudSxcbiAgICAgICAgICBuYW1lOiBgJHtuYW1lfUNvbXBhdGFibGVNZW51YCxcbiAgICAgICAgfSxcbiAgICAgIH0pIH19Pis8L2dvLkhhbmRsZXI+XG4gICAgKSA6ICg8R28uSGFuZGxlclxuICAgICAgaGFuZGxlcklkPXtsaW5rLmlkfVxuICAgICAgbGlua0lkPXtsaW5rLmlkfVxuICAgICAgaXNBY3RpdmU9e2lzQWN0aXZlfVxuICAgIC8+KSlcbiAgfTtcblxuICBjb25zdCB0ZW1wbGF0ZUxheWVyQnV0dG9uID0gKGlkKSA9PiBgICAgICAgPGdvLk9uIGRvPXt7XG4gICAgICAgIGV4ZWM6IGFzeW5jIChnLHYsbykgPT4gZ28uZ28uZG8oJ3JpZ2h0JywgeyAuLi5vLCBpZDogYXdhaXQgZGVlcC5pZCgke2lkfSwgJ05hbWVPZkNvbXBvbmVudCcpIH0pLFxuICAgICAgICBjbGljazogKGcsdixvKSA9PiBnby5kbygnZXhlYycsIG8pLFxuICAgICAgICByaWdodDogKGcsdixvKSA9PiBnby5kbygnZXhlYycsIG8pLFxuICAgICAgfX0+XG4gICAgICAgIDxjLkJ1dHRvbiB3PSczZW0nIGg9JzNlbScgdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0gb25DbGljaz17KCkgPT4gZ28uZG8oJ2V4ZWMnKX0+PzwvYy5CdXR0b24+XG4gICAgICAgIHsvKjxnby5Db21wb25lbnQgcGF0aD17WyR7aWR9LCAnTmFtZU9mQ29tcG9uZW50J119Lz4qL31cbiAgICAgIDwvZ28uT24+YDtcbiAgXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG5cbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCB7IGRhdGE6IG1lbnVQZXJjZXB0aW9uIH0gPSBkZWVwLnVzZVF1ZXJ5KHtcbiAgICAgIHR5cGVfaWQ6IEhhbmRsZXIsXG4gICAgICBvdXQ6IHtcbiAgICAgICAgdHlwZV9pZDogQ29tcGF0YWJsZSxcbiAgICAgICAgdG9faWQ6IE1lbnUsXG4gICAgICB9LFxuICAgICAgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGRhdGE6IG1lbnVVc2VyIH0gPSBkZWVwLnVzZVF1ZXJ5KHtcbiAgICAgIHR5cGVfaWQ6IEhhbmRsZXIsXG4gICAgICBvdXQ6IHtcbiAgICAgICAgdHlwZV9pZDogQ29tcGF0YWJsZSxcbiAgICAgICAgdG9faWQ6IGRlZXAubGlua0lkLFxuICAgICAgfSxcbiAgICAgIG9yZGVyX2J5OiB7IGlkOiAnZGVzYycgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgbWVudSA9IFt7IGlkOiBCZWZvcmUgfSwgLi4ubWVudVVzZXIsIC4uLm1lbnVQZXJjZXB0aW9uLCB7IGlkOiBBZnRlciB9XTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGZvY3VzOiAoZyx2LGxpbmtJZCxvKSA9PiB7XG4gICAgICAgICFnby52YWx1ZSAmJiBnby5mb2N1cyhTdGFjayk7XG4gICAgICAgIG8/LmlkICYmIGdvKFN0YWNrKS5mb2N1cyhvPy5pZCk7XG4gICAgICB9LFxuICAgIH19PlxuICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17U3RhY2t9PlxuICAgICAgICA8Z28uQ29tcG9uZW50XG4gICAgICAgICAgcGF0aD17W2RwbCwgJ1N0YWNrJ119IGxpbmtzPXttZW51fSBkaXJlY3Rpb249J3ZlcnRpY2FsJyBJdGVtPXtJdGVtfVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1159
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1168,
      "src_id": 853,
      "handler_id": 854,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1168,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 381,
          "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { FaTree } = require(\"react-icons/fa\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Tree = deep.idLocal(dpl, 'Tree');\n    return ({ go, handlerId, isActive, }, ref) => {\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.go.do('right', { ...o, id: Tree }),\n                click: (g, v, o) => go.do('exec', o),\n                right: (g, v, o) => go.do('exec', o),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(FaTree, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM3QyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUV2QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQztnQkFDdEQsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztnQkFDbEMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQzthQUNuQztZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxHQUFHLEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFFNUIsb0JBQUMsTUFBTSxPQUFFLENBQ0EsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBGYVRyZWUgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9mYVwiKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICBjb25zdCBUcmVlID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWUnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBoYW5kbGVySWQsXG5cbiAgICBpc0FjdGl2ZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKGcsdixvKSA9PiBnby5nby5kbygncmlnaHQnLCB7IC4uLm8sIGlkOiBUcmVlIH0pKSxcbiAgICAgIGNsaWNrOiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgICByaWdodDogKGcsdixvKSA9PiBnby5kbygnZXhlYycsIG8pLFxuICAgIH19PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIHc9JzNlbScgaD0nM2VtJ1xuICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZG8oJ2V4ZWMnKX1cbiAgICAgID5cbiAgICAgICAgPEZhVHJlZS8+XG4gICAgICA8L2MuQnV0dG9uPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1168
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1177,
      "src_id": 856,
      "handler_id": 857,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1177,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 384,
          "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Tree = deep.idLocal(dpl, 'Tree');\n    return ({ go, using = false, fullWidth = null, }, ref) => {\n        return React.createElement(go.On, { do: {\n                focus: (g, v, linkId, o) => o?.id && go.focus(o.id),\n                use: (g, v, o) => go.current && go.current.do('use', o),\n                open: async (g, v, o) => {\n                    if (!go.current)\n                        await (go.focus(Tree).go.awaitRef(Tree));\n                    if (o?.id)\n                        go.current.do('open', o);\n                },\n                concentrate: (g, v, o) => {\n                    go.current && go.current.do('concentrate', o);\n                },\n            } },\n            React.createElement(c.Box, { ref: ref, w: '100%', h: '100%' }, !!go.value && [React.createElement(go.Provider, { key: go.value, linkId: go.value },\n                    React.createElement(go.Handler, { initialId: deep?.linkId, handlerId: go.value, saveHistory: true, using: using, fullWidth: fullWidth, queryField: 'opened', operations: true }))]));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRXZDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFFRixLQUFLLEdBQUcsS0FBSyxFQUNiLFNBQVMsR0FBRyxJQUFJLEdBQ2pCLEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFJUixPQUFPLG9CQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUMsRUFBRSxFQUFFO2dCQUNoQixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUNoRCxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUMsQ0FBQyxDQUFDO2dCQUNwRCxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ3BCLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTzt3QkFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQzFELElBQUksQ0FBQyxFQUFFLEVBQUU7d0JBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNyQyxDQUFDO2dCQUNELFdBQVcsRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ3JCLEVBQUUsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNoRCxDQUFDO2FBQ0Y7WUFDQyxvQkFBQyxDQUFDLENBQUMsR0FBRyxJQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUMsTUFBTSxJQUMvQixDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssSUFBSSxDQUFDLG9CQUFDLEVBQUUsQ0FBQyxRQUFRLElBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQyxLQUFLO29CQUMxRCxvQkFBQyxFQUFFLENBQUMsT0FBTyxJQUNULFNBQVMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUN2QixTQUFTLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFDbkIsV0FBVyxRQUNYLEtBQUssRUFBRSxLQUFLLEVBQ1osU0FBUyxFQUFFLFNBQVMsRUFDcEIsVUFBVSxFQUFDLFFBQVEsRUFDbkIsVUFBVSxTQUNWLENBQ1UsQ0FBQyxDQUNULENBQ0YsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgVHJlZSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICB1c2luZyA9IGZhbHNlLFxuICAgIGZ1bGxXaWR0aCA9IG51bGwsXG4gIH0sIHJlZikgPT4ge1xuICAgIC8vIGNvbnN0IFtsYXllciwgc2V0TGF5ZXJdID0gZ28udXNlUXVlcnlTdG9yZShgbGF5ZXJgLCBUcmVlKTtcbiAgICAvLyBSZWFjdC51c2VFZmZlY3QoKCkgPT4gZ28udmFsdWUgJiYgc2V0TGF5ZXIoZ28udmFsdWUpLCBbZ28udmFsdWVdKTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGZvY3VzOiAoZyx2LGxpbmtJZCxvKSA9PiBvPy5pZCAmJiBnby5mb2N1cyhvLmlkKSxcbiAgICAgIHVzZTogKGcsdixvKSA9PiBnby5jdXJyZW50ICYmIGdvLmN1cnJlbnQuZG8oJ3VzZScsbyksXG4gICAgICBvcGVuOiBhc3luYyAoZyx2LG8pID0+IHtcbiAgICAgICAgaWYgKCFnby5jdXJyZW50KSBhd2FpdCAoZ28uZm9jdXMoVHJlZSkuZ28uYXdhaXRSZWYoVHJlZSkpO1xuICAgICAgICBpZiAobz8uaWQpIGdvLmN1cnJlbnQuZG8oJ29wZW4nLG8pO1xuICAgICAgfSxcbiAgICAgIGNvbmNlbnRyYXRlOiAoZyx2LG8pID0+IHtcbiAgICAgICAgZ28uY3VycmVudCAmJiBnby5jdXJyZW50LmRvKCdjb25jZW50cmF0ZScsIG8pO1xuICAgICAgfSxcbiAgICB9fT5cbiAgICAgIDxjLkJveCByZWY9e3JlZn0gdz0nMTAwJScgaD0nMTAwJSc+XG4gICAgICAgIHshIWdvLnZhbHVlICYmIFs8Z28uUHJvdmlkZXIga2V5PXtnby52YWx1ZX0gbGlua0lkPXtnby52YWx1ZX0+XG4gICAgICAgICAgPGdvLkhhbmRsZXJcbiAgICAgICAgICAgIGluaXRpYWxJZD17ZGVlcD8ubGlua0lkfVxuICAgICAgICAgICAgaGFuZGxlcklkPXtnby52YWx1ZX1cbiAgICAgICAgICAgIHNhdmVIaXN0b3J5XG4gICAgICAgICAgICB1c2luZz17dXNpbmd9XG4gICAgICAgICAgICBmdWxsV2lkdGg9e2Z1bGxXaWR0aH1cbiAgICAgICAgICAgIHF1ZXJ5RmllbGQ9J29wZW5lZCdcbiAgICAgICAgICAgIG9wZXJhdGlvbnNcbiAgICAgICAgICAvPlxuICAgICAgICA8L2dvLlByb3ZpZGVyPl19XG4gICAgICA8L2MuQm94PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1177
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1186,
      "src_id": 860,
      "handler_id": 861,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1186,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 387,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { MoonIcon, SunIcon } = require('@chakra-ui/icons');\n    const { GrGraphQl } = require(\"react-icons/gr\");\n    const { IoReload, IoMdBrowsers } = require(\"react-icons/io\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Menu = deep.idLocal(dpl, 'Menu');\n    const Layer = deep.idLocal(dpl, 'Layer');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Queries = deep.idLocal(dpl, 'Queries');\n    const Tree = deep.idLocal(dpl, 'Tree');\n    return ({ go, linkId, Status, Auth, ColorMode, children, }, ref) => {\n        const nav = go.useNav();\n        nav(Menu, Menu, Header, Layer, Queries);\n        nav(Queries, Queries, Menu, Layer, Queries);\n        nav(Layer, Menu, Header, Layer, Layer);\n        nav(Header, Header, Header, Header, Layer);\n        React.useEffect(() => {\n            go.focus(Menu);\n        }, []);\n        const isMobile = c.useBreakpointValue({ base: true, md: false }, { fallback: 'xs' });\n        return React.createElement(go.On, { do: {\n                left: (g, v, o) => go.focus(nav.get(go.value, 'left'), o),\n                up: (g, v, o) => go.focus(nav.get(go.value, 'up'), o),\n                right: (g, v, o) => go.focus(nav.get(go.value, 'right'), o),\n                down: (g, v, o) => go.focus(nav.get(go.value, 'down'), o),\n                use: (g, v, o) => {\n                    if (go.data.usedId != o?.id && o?.id) {\n                        go.data.usedId = o.id;\n                        go(Header).do('use', o);\n                        go(Layer).do('use', o);\n                    }\n                },\n                open: async (g, v, o) => {\n                    if (!go(Layer))\n                        await (go.focus(Layer).go.awaitRef(Layer));\n                    go(Layer).do('open', o);\n                },\n                concentrate: (g, v, o) => {\n                    go(Layer).do('concentrate', o);\n                },\n            } },\n            React.createElement(c.Box, { ref: go.ref, h: '100vh', w: \"100vw\", position: \"fixed\", left: \"0%\", top: \"0%\" },\n                React.createElement(c.Grid, { templateAreas: `\"tabs tabs\"\n                              \"nav main\"`, gridTemplateRows: '3em 1fr', gridTemplateColumns: '3em 1fr', h: '100vh', w: \"100vw\", position: \"fixed\", left: \"0%\", top: \"0%\", color: 'blackAlpha.700', fontWeight: 'bold', ref: ref },\n                    React.createElement(c.GridItem, { area: 'tabs', zIndex: 1 },\n                        React.createElement(c.Flex, { w: \"100%\", h: \"100%\", bg: go.value === Header ? 'deepBgDark' : 'deepBg' },\n                            React.createElement(go.Provider, { linkId: Header },\n                                React.createElement(go.Handler, { linkId: deep.linkId, handlerId: Header, using: true })))),\n                    React.createElement(c.GridItem, { area: 'nav', zIndex: 1, position: \"relative\", h: \"100%\" },\n                        React.createElement(c.Flex, { direction: 'column', h: '100%', bg: go.value === Menu ? 'deepBgDark' : 'deepBg' },\n                            React.createElement(go.Provider, { linkId: Menu },\n                                React.createElement(go.Handler, { linkId: deep.linkId, handlerId: Menu, flex: '1' })),\n                            React.createElement(c.VStack, null,\n                                React.createElement(c.Button, { w: '3em', h: '3em', as: 'a', target: '_blank', href: `https://deep-foundation.github.io/perception-app?path=\"http${deep.client.ssl ? 's' : ''}://${deep.client.path}\"&token=${deep.token}` },\n                                    React.createElement(IoMdBrowsers, null)),\n                                React.createElement(c.Button, { w: '3em', h: '3em', as: 'a', href: `http://${deep?.client?.path}` },\n                                    React.createElement(GrGraphQl, null)),\n                                React.createElement(ColorMode, { w: '3em', h: '3em', dark: { children: React.createElement(SunIcon, null) }, light: { children: React.createElement(MoonIcon, null) } }),\n                                React.createElement(go.Provider, { linkId: Queries },\n                                    React.createElement(go.Component, { path: [dpl, 'Queries'], isActive: go.value === Queries },\n                                        React.createElement(Status, null))),\n                                React.createElement(Auth, null)))),\n                    React.createElement(c.GridItem, { area: 'main', overflow: \"hidden\", position: \"relative\", h: '100%', bg: go.value === Layer ? 'deepBgDark' : 'deepBg' },\n                        React.createElement(go.Provider, { linkId: Layer, value: Tree },\n                            React.createElement(go.Handler, { linkId: deep.linkId, handlerId: Layer, using: true, fullWidth: isMobile ? 'calc(100vw - 3em)' : null }))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQzFELE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzdELE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBRTdDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRXZDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixNQUFNLEVBRU4sTUFBTSxFQUNO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LENBQ04sQ0FDSCxDQUNGLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBNb29uSWNvbiwgU3VuSWNvbiB9ID0gcmVxdWlyZSgnQGNoYWtyYS11aS9pY29ucycpO1xuICBjb25zdCB7IEdyR3JhcGhRbCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2dyXCIpO1xuICBjb25zdCB7IElvUmVsb2FkLCBJb01kQnJvd3NlcnMgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9pb1wiKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICBjb25zdCBNZW51ID0gZGVlcC5pZExvY2FsKGRwbCwgJ01lbnUnKTtcbiAgY29uc3QgTGF5ZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnTGF5ZXInKTtcbiAgY29uc3QgSGVhZGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hlYWRlcicpO1xuICBjb25zdCBRdWVyaWVzID0gZGVlcC5pZExvY2FsKGRwbCwgJ1F1ZXJpZXMnKTtcblxuICBjb25zdCBUcmVlID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWUnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBsaW5rSWQsXG5cbiAgICBTdGF0dXMsXG4gICAgQXV0aCxcbiAgICBDb2xvck1vZGUsXG5cbiAgICBjaGlsZHJlbixcblxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBuYXYgPSBnby51c2VOYXYoKTtcbiAgICBuYXYoTWVudSwgTWVudSwgSGVhZGVyLCBMYXllciwgUXVlcmllcyk7XG4gICAgbmF2KFF1ZXJpZXMsIFF1ZXJpZXMsIE1lbnUsIExheWVyLCBRdWVyaWVzKTtcbiAgICBuYXYoTGF5ZXIsIE1lbnUsIEhlYWRlciwgTGF5ZXIsIExheWVyKTtcbiAgICBuYXYoSGVhZGVyLCBIZWFkZXIsIEhlYWRlciwgSGVhZGVyLCBMYXllcik7XG5cbiAgICAvLyBjb25zdCB1c2VUaGVtZSA9IGdvLnVzZUhvb2soeyBwYXRoOiBbZHBsLCAndXNlVGhlbWUnXSB9KTtcbiAgICAvLyBjb25zb2xlLmxvZygndXNlVGhlbWUnLCB1c2VUaGVtZSk7XG5cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgZ28uZm9jdXMoTWVudSlcblxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGlzTW9iaWxlID0gYy51c2VCcmVha3BvaW50VmFsdWUoXG4gICAgICB7IGJhc2U6IHRydWUsIG1kOiBmYWxzZSB9LFxuICAgICAgeyBmYWxsYmFjazogJ3hzJyB9LFxuICAgICk7XG5cbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgICBsZWZ0OiAoZywgdiwgbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSwgJ2xlZnQnKSwgbyksXG4gICAgICAgIHVwOiAoZywgdiwgbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSwgJ3VwJyksIG8pLFxuICAgICAgICByaWdodDogKGcsIHYsIG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICdyaWdodCcpLCBvKSxcbiAgICAgICAgZG93bjogKGcsIHYsIG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICdkb3duJyksIG8pLFxuICAgICAgICB1c2U6IChnLCB2LCBvKSA9PiB7XG4gICAgICAgICAgaWYgKGdvLmRhdGEudXNlZElkICE9IG8/LmlkICYmIG8/LmlkKSB7XG4gICAgICAgICAgICBnby5kYXRhLnVzZWRJZCA9IG8uaWQ7XG4gICAgICAgICAgICBnbyhIZWFkZXIpLmRvKCd1c2UnLCBvKTtcbiAgICAgICAgICAgIGdvKExheWVyKS5kbygndXNlJywgbyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcGVuOiBhc3luYyAoZywgdiwgbykgPT4ge1xuICAgICAgICAgIGlmICghZ28oTGF5ZXIpKSBhd2FpdCAoZ28uZm9jdXMoTGF5ZXIpLmdvLmF3YWl0UmVmKExheWVyKSk7XG4gICAgICAgICAgZ28oTGF5ZXIpLmRvKCdvcGVuJywgbyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmNlbnRyYXRlOiAoZyx2LG8pID0+IHtcbiAgICAgICAgICBnbyhMYXllcikuZG8oJ2NvbmNlbnRyYXRlJywgbyk7XG4gICAgICAgIH0sXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLkJveCByZWY9e2dvLnJlZn0gaD0nMTAwdmgnIHc9XCIxMDB2d1wiIHBvc2l0aW9uPVwiZml4ZWRcIiBsZWZ0PVwiMCVcIiB0b3A9XCIwJVwiPlxuICAgICAgICA8Yy5HcmlkXG4gICAgICAgICAgdGVtcGxhdGVBcmVhcz17YFwidGFicyB0YWJzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmF2IG1haW5cImB9XG4gICAgICAgICAgZ3JpZFRlbXBsYXRlUm93cz17JzNlbSAxZnInfVxuICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM9eyczZW0gMWZyJ31cbiAgICAgICAgICBoPScxMDB2aCcgdz1cIjEwMHZ3XCIgcG9zaXRpb249XCJmaXhlZFwiIGxlZnQ9XCIwJVwiIHRvcD1cIjAlXCJcbiAgICAgICAgICBjb2xvcj0nYmxhY2tBbHBoYS43MDAnXG4gICAgICAgICAgZm9udFdlaWdodD0nYm9sZCdcbiAgICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLkdyaWRJdGVtIGFyZWE9eyd0YWJzJ30gekluZGV4PXsxfT5cbiAgICAgICAgICAgIDxjLkZsZXggdz1cIjEwMCVcIiBoPVwiMTAwJVwiIGJnPXtnby52YWx1ZSA9PT0gSGVhZGVyID8gJ2RlZXBCZ0RhcmsnIDogJ2RlZXBCZyd9PlxuICAgICAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtIZWFkZXJ9PlxuICAgICAgICAgICAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgICAgICAgICAgICBsaW5rSWQ9e2RlZXAubGlua0lkfVxuICAgICAgICAgICAgICAgICAgaGFuZGxlcklkPXtIZWFkZXJ9XG4gICAgICAgICAgICAgICAgICB1c2luZ1xuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICAgICAgICA8L2MuRmxleD5cbiAgICAgICAgICA8L2MuR3JpZEl0ZW0+XG4gICAgICAgICAgPGMuR3JpZEl0ZW0gYXJlYT17J25hdid9IHpJbmRleD17MX0gcG9zaXRpb249XCJyZWxhdGl2ZVwiIGg9XCIxMDAlXCI+XG4gICAgICAgICAgICA8Yy5GbGV4IGRpcmVjdGlvbj0nY29sdW1uJyBoPScxMDAlJyBiZz17Z28udmFsdWUgPT09IE1lbnUgPyAnZGVlcEJnRGFyaycgOiAnZGVlcEJnJ30+XG4gICAgICAgICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e01lbnV9PlxuICAgICAgICAgICAgICAgIDxnby5IYW5kbGVyXG4gICAgICAgICAgICAgICAgICBsaW5rSWQ9e2RlZXAubGlua0lkfVxuICAgICAgICAgICAgICAgICAgaGFuZGxlcklkPXtNZW51fVxuICAgICAgICAgICAgICAgICAgZmxleD0nMSdcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgICAgICA8Yy5WU3RhY2s+XG4gICAgICAgICAgICAgICAgPGMuQnV0dG9uIHc9JzNlbScgaD0nM2VtJyBhcz0nYScgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9e2BodHRwczovL2RlZXAtZm91bmRhdGlvbi5naXRodWIuaW8vcGVyY2VwdGlvbi1hcHA/cGF0aD1cImh0dHAke2RlZXAuY2xpZW50LnNzbCA/ICdzJyA6ICcnfTovLyR7ZGVlcC5jbGllbnQucGF0aH1cIiZ0b2tlbj0ke2RlZXAudG9rZW59YH0+PElvTWRCcm93c2VycyAvPjwvYy5CdXR0b24+XG4gICAgICAgICAgICAgICAgPGMuQnV0dG9uIHc9JzNlbScgaD0nM2VtJyBhcz0nYScgaHJlZj17YGh0dHA6Ly8ke2RlZXA/LmNsaWVudD8ucGF0aH1gfT48R3JHcmFwaFFsIC8+PC9jLkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8Q29sb3JNb2RlIHc9JzNlbScgaD0nM2VtJyBkYXJrPXt7IGNoaWxkcmVuOiA8U3VuSWNvbiAvPiB9fSBsaWdodD17eyBjaGlsZHJlbjogPE1vb25JY29uIC8+IH19IC8+XG4gICAgICAgICAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17UXVlcmllc30+XG4gICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdRdWVyaWVzJ119IGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gUXVlcmllc30+PFN0YXR1cyAvPjwvZ28uQ29tcG9uZW50PlxuICAgICAgICAgICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICAgICAgICAgICAgPEF1dGggLz5cbiAgICAgICAgICAgICAgPC9jLlZTdGFjaz5cbiAgICAgICAgICAgIDwvYy5GbGV4PlxuICAgICAgICAgIDwvYy5HcmlkSXRlbT5cbiAgICAgICAgICA8Yy5HcmlkSXRlbSBhcmVhPXsnbWFpbid9IG92ZXJmbG93PVwiaGlkZGVuXCIgcG9zaXRpb249XCJyZWxhdGl2ZVwiIGg9JzEwMCUnIGJnPXtnby52YWx1ZSA9PT0gTGF5ZXIgPyAnZGVlcEJnRGFyaycgOiAnZGVlcEJnJ30+XG4gICAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtMYXllcn0gdmFsdWU9e1RyZWV9PlxuICAgICAgICAgICAgICA8Z28uSGFuZGxlclxuICAgICAgICAgICAgICAgIGxpbmtJZD17ZGVlcC5saW5rSWR9XG4gICAgICAgICAgICAgICAgaGFuZGxlcklkPXtMYXllcn1cbiAgICAgICAgICAgICAgICB1c2luZyBmdWxsV2lkdGg9e2lzTW9iaWxlID8gJ2NhbGMoMTAwdncgLSAzZW0pJyA6IG51bGx9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgIDwvYy5HcmlkSXRlbT5cbiAgICAgICAgPC9jLkdyaWQ+XG4gICAgICA8L2MuQm94PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1186
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1195,
      "src_id": 862,
      "handler_id": 863,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1195,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 390,
          "value": "async ({ deep, data, Go, require }) => {\n    const { GrClear } = require(\"react-icons/gr\");\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const { useDebounceCallback } = require('@react-hook/debounce');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const dtsx = '@deep-foundation/tsx';\n    const TSX = deep.idLocal(dtsx, 'TSX');\n    const dockerSupportsJs = deep.idLocal(dc, 'dockerSupportsJs');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const containTree = deep.idLocal(dc, 'containTree');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const History = deep.idLocal(dpl, 'History');\n    const HistoryHandler = deep.idLocal(dpl, 'HistoryHandler');\n    const StackInsertButton = await deep.id(dpl, 'StackInsertButton');\n    const Menu = deep.idLocal(dpl, 'Menu');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const FinderButton = deep.idLocal(dpl, 'FinderButton');\n    const Item = ({ link, isActive, isConcentrated }) => {\n        const go = Go.useGo();\n        return React.createElement(Go.Handler, { handlerId: TreeLinkButton, linkId: link.id, isActive: isActive, minW: isConcentrated === false ? '3em' : '8em', h: '100%', maxH: '100%', variant: 'short', isConcentrated: isConcentrated });\n    };\n    return ({ go, using = false, }, ref) => {\n        const { data: history } = deep.useSubscription({\n            type_id: History,\n            from_id: deep.linkId,\n            order_by: { id: 'desc' },\n            return: {\n                item: { relation: 'to' },\n            },\n        });\n        const { data: header } = deep.useSubscription({\n            type_id: Handler,\n            out: {\n                type_id: Compatable,\n                to_id: Header,\n            },\n            order_by: { id: 'desc' }\n        });\n        const [concentrate, setConcentrate] = React.useState('');\n        const concetrateDebounce = useDebounceCallback((concentrate) => {\n            go.root().do('concentrate', { value: concentrate });\n        }, 500);\n        React.useEffect(() => {\n            concetrateDebounce(concentrate);\n        }, [concentrate]);\n        const { data: items, ids } = React.useMemo(() => {\n            const _ids = [];\n            const filtered = _.uniqBy(history.map(h => h?.to), (l) => l?.id).filter(l => {\n                if (!!l?.id)\n                    _ids.push(l?.id);\n                return !!l?.id;\n            });\n            return { data: filtered, ids: _ids };\n        }, [history]);\n        const nav = go.useNav();\n        nav(FinderButton, FinderButton, FinderButton, Stack, 'down');\n        nav(Stack, FinderButton, Stack, 'clear', 'down');\n        nav('clear', Stack, 'clear', 'clear', 'down');\n        const { data: founded, ids: concentrated, query: sQ } = deep.useSearch(concentrate, {\n            remote: false, sort: false,\n            query: { id: { _in: ids } },\n            skip: !concentrate,\n        });\n        React.useEffect(() => {\n            if (concentrate && founded?.[0] && go(Stack)(founded?.[0]))\n                go(Stack)(founded?.[0]).scroll();\n        }, [concentrate, founded]);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => o?.id || go.value == Stack || !go.value ? go.root().do('open', { id: o?.id || go(Stack).value, focus: true }) : go.do(go.value),\n                use: (g, v, o) => go(Stack) && go(Stack).do('use', o),\n                focus: (g, v, linkId, o) => {\n                    !go.value && go.focus(Stack);\n                    o?.id && go(Stack).focus(o?.id);\n                },\n                right: (g, v, o) => go.focus(nav.get(go.value || Stack, 'right')),\n                left: (g, v, o) => go.focus(nav.get(go.value || Stack, 'left')),\n                finder: (g, v, o) => go(FinderButton).do('exec'),\n                clear: (g, v, o) => deep.delete({\n                    up: {\n                        tree_id: containTree,\n                        parent: {\n                            type_id: Contain,\n                            to: { type_id: { _in: [History, HistoryHandler] } },\n                        },\n                    },\n                }),\n            } },\n            React.createElement(c.Flex, { ref: ref, w: '100%' },\n                React.createElement(go.Provider, { linkId: FinderButton },\n                    React.createElement(go.Handler, { handlerId: FinderButton, isActive: go.value === FinderButton })),\n                React.createElement(c.Box, { w: '12em', h: '100%', position: 'relative' },\n                    React.createElement(go.Editor, { value: concentrate, onChange: setConcentrate, fillSize: true, lineNumbers: false })),\n                React.createElement(go.Provider, { linkId: Stack },\n                    React.createElement(go.Component, { path: [dpl, 'Stack'], links: items, direction: 'horizontal', Item: Item, flex: '1', using: using, concentrated: !!concentrate && concentrated, afterChildren: React.createElement(go.Provider, { linkId: StackInsertButton, on: { do: {\n                                    exec: async (g, v, o) => {\n                                    },\n                                } } },\n                            React.createElement(go.Handler, { handlerId: StackInsertButton, insertProps: { customInsert: {\n                                        type_id: Handler,\n                                        from_id: dockerSupportsJs,\n                                        to: {\n                                            type_id: TSX,\n                                            string: go.componentTemplate({ children: `<c.Button variant={isActive ? 'active' : undefined} onClick={() => go.do('exec')}>?</c.Button>` }),\n                                        },\n                                        out: {\n                                            type_id: Compatable,\n                                            to_id: Header,\n                                        },\n                                    } } })) })),\n                header.map(h => React.createElement(React.Fragment, null,\n                    React.createElement(go.Provider, { linkId: h.id },\n                        React.createElement(go.Handler, { handlerId: h.id })))),\n                React.createElement(c.Button, { h: '3em', w: '3em', variant: go.value === 'clear' ? 'active' : undefined, onClick: () => go.focus('clear').go.do('clear') },\n                    React.createElement(GrClear, null))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM5QyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLE1BQU0sRUFBRSxtQkFBbUIsRUFBRSxHQUFHLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBRWhFLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBQ25DLE1BQU0sSUFBSSxHQUFHLHNCQUFzQixDQUFDO0lBRXBDLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUM5RCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUNwRCxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdB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R28sIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCB7IEdyQ2xlYXIgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9nclwiKTtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG4gIGNvbnN0IHsgdXNlRGVib3VuY2VDYWxsYmFjayB9ID0gcmVxdWlyZSgnQHJlYWN0LWhvb2svZGVib3VuY2UnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHRzeCA9ICdAZGVlcC1mb3VuZGF0aW9uL3RzeCc7XG5cbiAgY29uc3QgVFNYID0gZGVlcC5pZExvY2FsKGR0c3gsICdUU1gnKTtcbiAgY29uc3QgZG9ja2VyU3VwcG9ydHNKcyA9IGRlZXAuaWRMb2NhbChkYywgJ2RvY2tlclN1cHBvcnRzSnMnKTtcbiAgY29uc3QgQ29udGFpbiA9IGRlZXAuaWRMb2NhbChkYywgJ0NvbnRhaW4nKTtcbiAgY29uc3QgSGFuZGxlciA9IGRlZXAuaWRMb2NhbChkYywgJ0hhbmRsZXInKTtcbiAgY29uc3QgY29udGFpblRyZWUgPSBkZWVwLmlkTG9jYWwoZGMsICdjb250YWluVHJlZScpO1xuICBjb25zdCBUcmVlTGlua0J1dHRvbiA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlua0J1dHRvbicpO1xuICBjb25zdCBDb21wYXRhYmxlID0gZGVlcC5pZExvY2FsKGRwbCwgJ0NvbXBhdGFibGUnKTtcbiAgY29uc3QgSGlzdG9yeSA9IGRlZXAuaWRMb2NhbChkcGwsICdIaXN0b3J5Jyk7XG4gIGNvbnN0IEhpc3RvcnlIYW5kbGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hpc3RvcnlIYW5kbGVyJyk7XG4gIGNvbnN0IFN0YWNrSW5zZXJ0QnV0dG9uID0gYXdhaXQgZGVlcC5pZChkcGwsICdTdGFja0luc2VydEJ1dHRvbicpO1xuICBjb25zdCBNZW51ID0gZGVlcC5pZExvY2FsKGRwbCwgJ01lbnUnKTtcbiAgY29uc3QgSGVhZGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hlYWRlcicpO1xuICBjb25zdCBTdGFjayA9IGRlZXAuaWRMb2NhbChkcGwsICdTdGFjaycpO1xuICBjb25zdCBGaW5kZXJCdXR0b24gPSBkZWVwLmlkTG9jYWwoZHBsLCAnRmluZGVyQnV0dG9uJyk7XG4gIFxuICBjb25zdCBJdGVtID0gKHsgbGluaywgaXNBY3RpdmUsIGlzQ29uY2VudHJhdGVkIH0pID0+IHtcbiAgICBjb25zdCBnbyA9IEdvLnVzZUdvKCk7XG4gICAgcmV0dXJuIDxHby5IYW5kbGVyXG4gICAgICBoYW5kbGVySWQ9e1RyZWVMaW5rQnV0dG9ufVxuICAgICAgbGlua0lkPXtsaW5rLmlkfVxuICAgICAgaXNBY3RpdmU9e2lzQWN0aXZlfVxuICAgICAgbWluVz17aXNDb25jZW50cmF0ZWQgPT09IGZhbHNlID8gJzNlbScgOiAnOGVtJ30gaD0nMTAwJScgbWF4SD0nMTAwJScgdmFyaWFudD0nc2hvcnQnXG4gICAgICBpc0NvbmNlbnRyYXRlZD17aXNDb25jZW50cmF0ZWR9XG4gICAgLz47XG4gIH07XG4gIFxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIHVzaW5nID0gZmFsc2UsXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IHsgZGF0YTogaGlzdG9yeSB9ID0gZGVlcC51c2VTdWJzY3JpcHRpb24oe1xuICAgICAgdHlwZV9pZDogSGlzdG9yeSxcbiAgICAgIGZyb21faWQ6IGRlZXAubGlua0lkLFxuICAgICAgb3JkZXJfYnk6IHsgaWQ6ICdkZXNjJyB9LFxuICAgICAgcmV0dXJuOiB7XG4gICAgICAgIGl0ZW06IHsgcmVsYXRpb246ICd0bycgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGRhdGE6IGhlYWRlciB9ID0gZGVlcC51c2VTdWJzY3JpcHRpb24oe1xuICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgIG91dDoge1xuICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICB0b19pZDogSGVhZGVyLFxuICAgICAgfSxcbiAgICAgIG9yZGVyX2J5OiB7IGlkOiAnZGVzYycgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgW2NvbmNlbnRyYXRlLCBzZXRDb25jZW50cmF0ZV0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgY29uY2V0cmF0ZURlYm91bmNlID0gdXNlRGVib3VuY2VDYWxsYmFjaygoY29uY2VudHJhdGUpID0+IHtcbiAgICAgIGdvLnJvb3QoKS5kbygnY29uY2VudHJhdGUnLCB7IHZhbHVlOiBjb25jZW50cmF0ZSB9KTtcbiAgICB9LCA1MDApO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25jZXRyYXRlRGVib3VuY2UoY29uY2VudHJhdGUpO1xuICAgIH0sIFtjb25jZW50cmF0ZV0pO1xuXG4gICAgY29uc3QgeyBkYXRhOiBpdGVtcywgaWRzIH0gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGNvbnN0IF9pZHMgPSBbXTtcbiAgICAgIGNvbnN0IGZpbHRlcmVkID0gXy51bmlxQnkoaGlzdG9yeS5tYXAoaCA9PiBoPy50byksIChsKSA9PiBsPy5pZCkuZmlsdGVyKGwgPT4ge1xuICAgICAgICBpZiAoISFsPy5pZCkgX2lkcy5wdXNoKGw/LmlkKTtcbiAgICAgICAgcmV0dXJuICEhbD8uaWQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IGRhdGE6IGZpbHRlcmVkLCBpZHM6IF9pZHMgfTtcbiAgICB9LCBbaGlzdG9yeV07XG5cbiAgICBjb25zdCBuYXYgPSBnby51c2VOYXYoKTtcbiAgICBuYXYoRmluZGVyQnV0dG9uLCBGaW5kZXJCdXR0b24sIEZpbmRlckJ1dHRvbiwgU3RhY2ssICdkb3duJyk7XG4gICAgbmF2KFN0YWNrLCBGaW5kZXJCdXR0b24sIFN0YWNrLCAnY2xlYXInLCAnZG93bicpO1xuICAgIG5hdignY2xlYXInLCBTdGFjaywgJ2NsZWFyJywgJ2NsZWFyJywgJ2Rvd24nKTtcblxuICAgIGNvbnN0IHsgZGF0YTogZm91bmRlZCwgaWRzOiBjb25jZW50cmF0ZWQsIHF1ZXJ5OiBzUSB9ID0gZGVlcC51c2VTZWFyY2goY29uY2VudHJhdGUsIHtcbiAgICAgIHJlbW90ZTogZmFsc2UsIHNvcnQ6IGZhbHNlLFxuICAgICAgcXVlcnk6IHsgaWQ6IHsgX2luOiBpZHMgfSB9LFxuICAgICAgc2tpcDogIWNvbmNlbnRyYXRlLFxuICAgIH0pO1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChjb25jZW50cmF0ZSAmJiBmb3VuZGVkPy5bMF0gJiYgZ28oU3RhY2spKGZvdW5kZWQ/LlswXSkpIGdvKFN0YWNrKShmb3VuZGVkPy5bMF0pLnNjcm9sbCgpXG4gICAgfSwgW2NvbmNlbnRyYXRlLCBmb3VuZGVkXSk7XG5cbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBleGVjOiAoZyx2LG8pID0+IG8/LmlkIHx8IGdvLnZhbHVlID09IFN0YWNrIHx8ICFnby52YWx1ZSA/IGdvLnJvb3QoKS5kbygnb3BlbicsIHsgaWQ6IG8/LmlkIHx8IGdvKFN0YWNrKS52YWx1ZSwgZm9jdXM6IHRydWUgfSkgOiBnby5kbyhnby52YWx1ZSksXG4gICAgICB1c2U6IChnLHYsbykgPT4gZ28oU3RhY2spICYmIGdvKFN0YWNrKS5kbygndXNlJyxvKSxcbiAgICAgIGZvY3VzOiAoZyx2LGxpbmtJZCxvKSA9PiB7XG4gICAgICAgICFnby52YWx1ZSAmJiBnby5mb2N1cyhTdGFjayk7XG4gICAgICAgIG8/LmlkICYmIGdvKFN0YWNrKS5mb2N1cyhvPy5pZCk7XG4gICAgICB9LFxuICAgICAgcmlnaHQ6IChnLHYsbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSB8fCBTdGFjaywgJ3JpZ2h0JykpLFxuICAgICAgbGVmdDogKGcsdixvKSA9PiBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlIHx8IFN0YWNrLCAnbGVmdCcpKSxcblxuICAgICAgZmluZGVyOiAoZyx2LG8pID0+IGdvKEZpbmRlckJ1dHRvbikuZG8oJ2V4ZWMnKSxcbiAgICAgIGNsZWFyOiAoZyx2LG8pID0+IGRlZXAuZGVsZXRlKHtcbiAgICAgICAgdXA6IHtcbiAgICAgICAgICB0cmVlX2lkOiBjb250YWluVHJlZSxcbiAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgIHR5cGVfaWQ6IENvbnRhaW4sXG4gICAgICAgICAgICB0bzogeyB0eXBlX2lkOiB7IF9pbjogW0hpc3RvcnksIEhpc3RvcnlIYW5kbGVyXSB9IH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH19PlxuICAgICAgPGMuRmxleCByZWY9e3JlZn0gdz0nMTAwJSc+XG4gICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e0ZpbmRlckJ1dHRvbn0+XG4gICAgICAgICAgPGdvLkhhbmRsZXIgaGFuZGxlcklkPXtGaW5kZXJCdXR0b259IGlzQWN0aXZlPXtnby52YWx1ZSA9PT0gRmluZGVyQnV0dG9ufS8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICAgIDxjLkJveCB3PScxMmVtJyBoPScxMDAlJyBwb3NpdGlvbj0ncmVsYXRpdmUnPlxuICAgICAgICAgIDxnby5FZGl0b3IgdmFsdWU9e2NvbmNlbnRyYXRlfSBvbkNoYW5nZT17c2V0Q29uY2VudHJhdGV9IGZpbGxTaXplIGxpbmVOdW1iZXJzPXtmYWxzZX0vPlxuICAgICAgICA8L2MuQm94PlxuICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtTdGFja30+XG4gICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnU3RhY2snXX1cbiAgICAgICAgICAgIGxpbmtzPXtpdGVtc30gZGlyZWN0aW9uPSdob3Jpem9udGFsJyBJdGVtPXtJdGVtfSBmbGV4PScxJyB1c2luZz17dXNpbmd9XG4gICAgICAgICAgICBjb25jZW50cmF0ZWQ9eyEhY29uY2VudHJhdGUgJiYgY29uY2VudHJhdGVkfVxuICAgICAgICAgICAgYWZ0ZXJDaGlsZHJlbj17PGdvLlByb3ZpZGVyIGxpbmtJZD17U3RhY2tJbnNlcnRCdXR0b259IG9uPXt7IGRvOiB7XG4gICAgICAgICAgICAgIGV4ZWM6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSB9fT5cbiAgICAgICAgICAgICAgPGdvLkhhbmRsZXIgaGFuZGxlcklkPXtTdGFja0luc2VydEJ1dHRvbn0gaW5zZXJ0UHJvcHM9e3sgY3VzdG9tSW5zZXJ0OiB7XG4gICAgICAgICAgICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgICAgICAgICAgICBmcm9tX2lkOiBkb2NrZXJTdXBwb3J0c0pzLFxuICAgICAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgICB0eXBlX2lkOiBUU1gsXG4gICAgICAgICAgICAgICAgICBzdHJpbmc6IGdvLmNvbXBvbmVudFRlbXBsYXRlKHsgY2hpbGRyZW46IGA8Yy5CdXR0b24gdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0gb25DbGljaz17KCkgPT4gZ28uZG8oJ2V4ZWMnKX0+PzwvYy5CdXR0b24+YCB9KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG91dDoge1xuICAgICAgICAgICAgICAgICAgdHlwZV9pZDogQ29tcGF0YWJsZSxcbiAgICAgICAgICAgICAgICAgIHRvX2lkOiBIZWFkZXIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSB9fS8+XG4gICAgICAgICAgICA8L2dvLlByb3ZpZGVyPn1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICB7aGVhZGVyLm1hcChoID0+IDw+XG4gICAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17aC5pZH0+XG4gICAgICAgICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e2guaWR9Lz5cbiAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICA8Lz4pfVxuICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICBoPSczZW0nIHc9JzNlbScgdmFyaWFudD17Z28udmFsdWUgPT09ICdjbGVhcicgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5mb2N1cygnY2xlYXInKS5nby5kbygnY2xlYXInKX1cbiAgICAgICAgPjxHckNsZWFyLz48L2MuQnV0dG9uPlxuICAgICAgPC9jLkZsZXg+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1195
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1204,
      "src_id": 866,
      "handler_id": 867,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1204,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 393,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const dr = '@deep-foundation/readme';\n    const Graph = deep.idLocal(dpl, 'Graph');\n    const GraphLinkPlanet = deep.idLocal(dpl, 'GraphLinkPlanet');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const Input = deep.idLocal(dr, 'Input');\n    const Output = deep.idLocal(dr, 'Output');\n    const Readme = deep.idLocal(dr, 'Readme');\n    const Cause = deep.idLocal(dr, 'Cause');\n    const Inherit = deep.idLocal(dr, 'Inherit');\n    return ({ go, isActive, isConcentrated, position, locked = false, children, }, ref) => {\n        const { cy } = go.useGraph();\n        const $inouts = cy.$(`.link-type[target=\"${go.linkId}\"],.link-from[target=\"${go.linkId}\"],.link-to[target=\"${go.linkId}\"]`);\n        const inouts = $inouts.map((e) => {\n            return { id: e.id(), linkId: e.data().linkId };\n        });\n        const nav = go.useNav();\n        nav('current', go?.link?.from_id ? 'from_id' : 'current', 'type_id', go?.link?.to_id ? 'to_id' : 'current', inouts?.length ? 'inout' : 'current');\n        nav('from_id', 'from', 'from_id', 'current', 'from_id');\n        nav('to_id', 'current', 'to_id', 'to', 'to_id');\n        nav('type_id', 'type_id', 'type', 'type_id', 'current');\n        const [inoutId, setInoutId] = React.useState();\n        nav('inout', 'inout', 'current', 'inout', 'inouted');\n        React.useEffect(() => {\n            $inouts.removeClass('link-edge-active');\n            if (go.value === 'inout' && inoutId)\n                cy.$id(inoutId).addClass('link-edge-active');\n        }, [go.value, inoutId]);\n        const value = React.useMemo(() => {\n            const value = deep.stringify(go?.link?.value?.value || '');\n            return value.length > 32 ? `${value.slice(0, 32)}...` : value;\n        }, [go?.link?.value?.value]);\n        const [input] = deep.useLocalSubscription({ type_id: Input, to_id: go.linkId });\n        const [output] = deep.useLocalSubscription({ type_id: Output, to_id: go.linkId });\n        const [inherit] = deep.useLocalSubscription({ type_id: Inherit, to_id: go.linkId });\n        const [readme] = deep.useLocalSubscription({ type_id: Readme, to_id: go.linkId });\n        const setReadme = React.useCallback((readme, linkId) => {\n            if (!readme || !cy.$id(`${linkId}`).length)\n                return;\n            cy.nodeHtmlLabel([{\n                    query: `#${linkId}`,\n                    halign: 'right',\n                    valign: 'top',\n                    halignBox: 'right',\n                    valignBox: 'bottom',\n                    cssClass: 'deep-graph-node-html-label',\n                    tpl: data => data?.readme || '',\n                }]);\n        }, []);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => {\n                    if (!go.value || go.value === 'current')\n                        go.focus(GraphLinkPlanet);\n                    if (go.value === GraphLinkPlanet)\n                        go.focus('current');\n                },\n                focus: (g, v, o) => { },\n                use: (g, v, o) => { },\n                position: (g, v, o) => { },\n                scroll: (g, v, o) => {\n                    console.log(ref);\n                    cy.center(ref.current);\n                },\n                ...(go.value === 'inout') ? {\n                    left: (g, v, o) => {\n                        if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                            setInoutId(inouts?.[0]);\n                        }\n                        else\n                            setInoutId(go.prev(inouts, inoutId));\n                    },\n                    right: (g, v, o) => {\n                        if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                            setInoutId(inouts?.[inouts.length - 1]?.id);\n                        }\n                        else\n                            setInoutId(go.next(inouts, inoutId));\n                    },\n                } : {\n                    left: (g, v, o) => {\n                        go.focus(nav.get(go.value || 'current', 'left'), { prev: go.value });\n                    },\n                    right: (g, v, o) => {\n                        go.focus(nav.get(go.value || 'current', 'right'), { prev: go.value });\n                    },\n                },\n                up: (g, v, o) => go.focus(nav.get(go.value || 'current', 'up'), { prev: go.value }),\n                down: (g, v, o) => go.focus(nav.get(go.value || 'current', 'down'), { prev: go.value }),\n            }, focus: {\n                type: (g, v, o) => go.set().go.parent(Graph).do('open', { id: go.link.type_id, focus: true }),\n                from: (g, v, o) => go.set().go.parent(Graph).do('open', { id: go.link.from_id, focus: true }),\n                to: (g, v, o) => go.set().go.parent(Graph).do('open', { id: go.link.to_id, focus: true }),\n                inout: (g, v, o) => setInoutId(inouts?.[0]?.id),\n                inouted: (g, v, o) => {\n                    setInoutId();\n                    go.set().go.go.focus(cy.$id(inoutId)?.data()?.linkId);\n                }\n            } }, !!go?.link && React.createElement(React.Fragment, null, go?.link?.type_id === Contain ? React.createElement(React.Fragment, null,\n            React.createElement(go.GraphEdge, { element: {\n                    data: {\n                        id: `${go.link.id}-contain`, source: `${go.link?.from_id}`, target: `${go.link?.to_id}`,\n                        label: `${go.link?.symbol} ${go.link?.value?.value || go.linkId}`,\n                    },\n                    classes: ['link-edge', 'link-contain'],\n                } })) : React.createElement(React.Fragment, null,\n            React.createElement(go.GraphNode, { element: {\n                    data: { id: `${go.link.id}-children` },\n                    classes: ['link-children'],\n                } },\n                React.createElement(go.GraphNode, { ref: ref, element: {\n                        linkId: go.link.id,\n                        data: { id: go.link.id,\n                            readme: readme?.value?.value || ' ',\n                            label: `${go.linkId}: ${go.link.name !== go.linkId ? go.link.name : ''}\n(${go.link.type_id}: ${go.link.type?.name !== go.link.type_id ? go.link.type?.name : ''})${`\n` + (value)}\n\n\n${go.link.symbol}` },\n                        classes: [\n                            'link-node',\n                            ...(isActive ? ['link-node-active'] : []),\n                            ...(input ? ['link-node-input'] : []),\n                            ...(output ? ['link-node-output'] : []),\n                            ...(inherit ? ['link-node-inherit'] : []),\n                            ...(isConcentrated === true ? ['link-node-concentrated'] : []),\n                            ...(isConcentrated === false ? ['link-node-unconcentrated'] : []),\n                        ],\n                    }, onClick: (e) => {\n                        const graph = go.parent(Graph);\n                        console.log('XXXXXX', go, go.linkId, go.go.value, go.value);\n                        graph.focus(go.linkId);\n                        go.do('exec', { id: go.linkId });\n                    }, onAdded: (el, cy) => {\n                        setReadme(readme, go.linkId);\n                    } },\n                    React.createElement(c.Box, { w: '0', h: '0', position: 'relative', ref: go.ref }, isActive && React.createElement(go.Provider, { linkId: GraphLinkPlanet },\n                        React.createElement(go.Component, { path: [dpl, 'GraphLinkPlanet'], linkId: go.linkId, isActive: isActive && go.value === GraphLinkPlanet })))),\n                !!go.link.type_id && React.createElement(go.GraphEdge, { element: {\n                        data: { id: `${go.link.id}-type`, source: `${go.link.id}`, target: `${go.link.type_id}` },\n                        classes: ['link-edge', 'link-type', ...(go.value === 'type_id' ? ['link-edge-active'] : [])],\n                    } }),\n                !!go.link.from_id && React.createElement(go.GraphEdge, { element: {\n                        data: { id: `${go.link.id}-from`, source: `${go.link.id}`, target: `${go.link.from_id}` },\n                        classes: ['link-edge', 'link-from', ...(go.value === 'from_id' ? ['link-edge-active'] : [])],\n                    } }),\n                !!go.link.to_id && React.createElement(go.GraphEdge, { element: {\n                        data: { id: `${go.link.id}-to`, source: `${go.link.id}`, target: `${go.link.to_id}` },\n                        classes: ['link-edge', 'link-to', ...(go.value === 'to_id' ? ['link-edge-active'] : [])],\n                    } }),\n                children))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx5QkFBeUIsQ0FBQztJQUVyQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0lBQzdELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBRTVDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBRTVDLE9BQU8s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QyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssSUFBSSxTQUFTLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUNqRixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksU0FBUyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUN0RixFQUFFLEtBQUssRUFBRTtnQkFDUixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUM7Z0JBQzNGLElBQUksRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQztnQkFDM0YsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUss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RyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUU7d0JBQ3pGLE9BQU8sRUFBRSxDQUFDLFdBQVcsRUFBRSxXQUFXLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO3FCQUM3RixHQUFHO2dCQUNMLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUMvQixPQUFPLEVBQUU7d0JBQ1AsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUU7d0JBQ3JGLE9BQU8sRUFBRSxDQUFDLFdBQVcsRUFBRSxTQUFTLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO3FCQUN6RixHQUFHO2dCQUNMLFFBQVEsQ0FDSSxDQUNkLENBQ0YsQ0FDRyxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgR28sIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRyID0gJ0BkZWVwLWZvdW5kYXRpb24vcmVhZG1lJztcblxuICBjb25zdCBHcmFwaCA9IGRlZXAuaWRMb2NhbChkcGwsICdHcmFwaCcpO1xuICBjb25zdCBHcmFwaExpbmtQbGFuZXQgPSBkZWVwLmlkTG9jYWwoZHBsLCAnR3JhcGhMaW5rUGxhbmV0Jyk7XG4gIGNvbnN0IENvbnRhaW4gPSBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyk7XG5cbiAgY29uc3QgSW5wdXQgPSBkZWVwLmlkTG9jYWwoZHIsICdJbnB1dCcpO1xuICBjb25zdCBPdXRwdXQgPSBkZWVwLmlkTG9jYWwoZHIsICdPdXRwdXQnKTtcbiAgY29uc3QgUmVhZG1lID0gZGVlcC5pZExvY2FsKGRyLCAnUmVhZG1lJyk7XG4gIGNvbnN0IENhdXNlID0gZGVlcC5pZExvY2FsKGRyLCAnQ2F1c2UnKTtcbiAgY29uc3QgSW5oZXJpdCA9IGRlZXAuaWRMb2NhbChkciwgJ0luaGVyaXQnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGlzQWN0aXZlLFxuICAgIGlzQ29uY2VudHJhdGVkLFxuXG4gICAgcG9zaXRpb24sXG4gICAgbG9ja2VkID0gZmFsc2UsXG5cbiAgICBjaGlsZHJlbixcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgeyBjeSB9ID0gZ28udXNlR3JhcGgoKTtcblxuICAgIGNvbnN0ICRpbm91dHMgPSBjeS4kKGAubGluay10eXBlW3RhcmdldD1cIiR7Z28ubGlua0lkfVwiXSwubGluay1mcm9tW3RhcmdldD1cIiR7Z28ubGlua0lkfVwiXSwubGluay10b1t0YXJnZXQ9XCIke2dvLmxpbmtJZH1cIl1gKTtcbiAgICBjb25zdCBpbm91dHMgPSAkaW5vdXRzLm1hcCgoZSkgPT4ge1xuICAgICAgcmV0dXJuIHsgaWQ6IGUuaWQoKSwgbGlua0lkOiBlLmRhdGEoKS5saW5rSWQgfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG5hdiA9IGdvLnVzZU5hdigpO1xuICAgIG5hdignY3VycmVudCcsIGdvPy5saW5rPy5mcm9tX2lkID8gJ2Zyb21faWQnIDogJ2N1cnJlbnQnLCAndHlwZV9pZCcsIGdvPy5saW5rPy50b19pZCA/ICd0b19pZCcgOiAnY3VycmVudCcsIGlub3V0cz8ubGVuZ3RoID8gJ2lub3V0JyA6ICdjdXJyZW50Jyk7XG4gICAgbmF2KCdmcm9tX2lkJywgJ2Zyb20nLCAnZnJvbV9pZCcsICdjdXJyZW50JywgJ2Zyb21faWQnKTtcbiAgICBuYXYoJ3RvX2lkJywgJ2N1cnJlbnQnLCAndG9faWQnLCAndG8nLCAndG9faWQnKTtcbiAgICBuYXYoJ3R5cGVfaWQnLCAndHlwZV9pZCcsICd0eXBlJywgJ3R5cGVfaWQnLCAnY3VycmVudCcpO1xuXG4gICAgY29uc3QgW2lub3V0SWQsIHNldElub3V0SWRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBuYXYoJ2lub3V0JywgJ2lub3V0JywgJ2N1cnJlbnQnLCAnaW5vdXQnLCAnaW5vdXRlZCcpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAkaW5vdXRzLnJlbW92ZUNsYXNzKCdsaW5rLWVkZ2UtYWN0aXZlJyk7XG4gICAgICBpZiAoZ28udmFsdWUgPT09ICdpbm91dCcgJiYgaW5vdXRJZCkgY3kuJGlkKGlub3V0SWQpLmFkZENsYXNzKCdsaW5rLWVkZ2UtYWN0aXZlJyk7XG4gICAgfSwgW2dvLnZhbHVlLCBpbm91dElkXSk7XG4gICAgLy8gUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyAgIGlmICghaXNBY3RpdmUpIGdvLnNldCgnY3VycmVudCcpO1xuICAgIC8vIH0sIFtpc0FjdGl2ZV0pO1xuXG4gICAgY29uc3QgdmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZGVlcC5zdHJpbmdpZnkoZ28/Lmxpbms/LnZhbHVlPy52YWx1ZSB8fCAnJyk7XG4gICAgICByZXR1cm4gdmFsdWUubGVuZ3RoID4gMzIgPyBgJHt2YWx1ZS5zbGljZSgwLCAzMil9Li4uYCA6IHZhbHVlO1xuICAgIH0sIFtnbz8ubGluaz8udmFsdWU/LnZhbHVlXSk7XG5cbiAgICBjb25zdCBbaW5wdXRdID0gZGVlcC51c2VMb2NhbFN1YnNjcmlwdGlvbih7IHR5cGVfaWQ6IElucHV0LCB0b19pZDogZ28ubGlua0lkIH0pO1xuICAgIGNvbnN0IFtvdXRwdXRdID0gZGVlcC51c2VMb2NhbFN1YnNjcmlwdGlvbih7IHR5cGVfaWQ6IE91dHB1dCwgdG9faWQ6IGdvLmxpbmtJZCB9KTtcbiAgICBjb25zdCBbaW5oZXJpdF0gPSBkZWVwLnVzZUxvY2FsU3Vic2NyaXB0aW9uKHsgdHlwZV9pZDogSW5oZXJpdCwgdG9faWQ6IGdvLmxpbmtJZCB9KTtcbiAgICBjb25zdCBbcmVhZG1lXSA9IGRlZXAudXNlTG9jYWxTdWJzY3JpcHRpb24oeyB0eXBlX2lkOiBSZWFkbWUsIHRvX2lkOiBnby5saW5rSWQgfSk7XG5cbiAgICBjb25zdCBzZXRSZWFkbWUgPSBSZWFjdC51c2VDYWxsYmFjaygocmVhZG1lLCBsaW5rSWQpID0+IHtcbiAgICAgIGlmICghcmVhZG1lIHx8ICFjeS4kaWQoYCR7bGlua0lkfWApLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgY3kubm9kZUh0bWxMYWJlbChbe1xuICAgICAgICBxdWVyeTogYCMke2xpbmtJZH1gLFxuICAgICAgICBoYWxpZ246ICdyaWdodCcsXG4gICAgICAgIHZhbGlnbjogJ3RvcCcsXG4gICAgICAgIGhhbGlnbkJveDogJ3JpZ2h0JyxcbiAgICAgICAgdmFsaWduQm94OiAnYm90dG9tJyxcbiAgICAgICAgY3NzQ2xhc3M6ICdkZWVwLWdyYXBoLW5vZGUtaHRtbC1sYWJlbCcsXG4gICAgICAgIHRwbDogZGF0YSA9PiBkYXRhPy5yZWFkbWUgfHwgJycsXG4gICAgICB9XSk7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyAgIHNldFJlYWRtZShyZWFkbWUsIGdvLmxpbmtJZCk7XG4gICAgLy8gfSwgW3JlYWRtZV0pO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKGcsdixvKSA9PiB7XG4gICAgICAgIGlmICghZ28udmFsdWUgfHwgZ28udmFsdWUgPT09ICdjdXJyZW50JykgZ28uZm9jdXMoR3JhcGhMaW5rUGxhbmV0KTtcbiAgICAgICAgaWYgKGdvLnZhbHVlID09PSBHcmFwaExpbmtQbGFuZXQpIGdvLmZvY3VzKCdjdXJyZW50Jyk7XG4gICAgICB9LFxuICAgICAgZm9jdXM6IChnLHYsbykgPT4ge30sXG4gICAgICB1c2U6IChnLHYsbykgPT4ge30sXG4gICAgICBwb3NpdGlvbjogKGcsdixvKSA9PiB7fSxcbiAgICAgIHNjcm9sbDogKGcsdixvKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlZik7XG4gICAgICAgIGN5LmNlbnRlcihyZWYuY3VycmVudCk7XG4gICAgICB9LFxuICAgICAgLi4uKGdvLnZhbHVlID09PSAnaW5vdXQnKSA/IHtcbiAgICAgICAgbGVmdDogKGcsdixvKSA9PiB7XG4gICAgICAgICAgaWYgKG8/LmhvdGtleUV2ZW50Py5tZXRhIHx8IG8/LmhvdGtleUV2ZW50Py5zaGlmdCB8fCBvPy5ob3RrZXlFdmVudD8uY3RybCB8fCBvPy5ob3RrZXlFdmVudD8uYWx0KSB7XG4gICAgICAgICAgICBzZXRJbm91dElkKGlub3V0cz8uWzBdKTtcbiAgICAgICAgICB9IGVsc2Ugc2V0SW5vdXRJZChnby5wcmV2KGlub3V0cywgaW5vdXRJZCkpO1xuICAgICAgICB9LFxuICAgICAgICByaWdodDogKGcsdixvKSA9PiB7XG4gICAgICAgICAgaWYgKG8/LmhvdGtleUV2ZW50Py5tZXRhIHx8IG8/LmhvdGtleUV2ZW50Py5zaGlmdCB8fCBvPy5ob3RrZXlFdmVudD8uY3RybCB8fCBvPy5ob3RrZXlFdmVudD8uYWx0KSB7XG4gICAgICAgICAgICBzZXRJbm91dElkKGlub3V0cz8uW2lub3V0cy5sZW5ndGggLSAxXT8uaWQpO1xuICAgICAgICAgIH0gZWxzZSBzZXRJbm91dElkKGdvLm5leHQoaW5vdXRzLCBpbm91dElkKSk7XG4gICAgICAgIH0sXG4gICAgICB9IDoge1xuICAgICAgICBsZWZ0OiAoZyx2LG8pID0+IHtcbiAgICAgICAgICBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlIHx8ICdjdXJyZW50JywgJ2xlZnQnKSwgeyBwcmV2OiBnby52YWx1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHQ6IChnLHYsbykgPT4ge1xuICAgICAgICAgIGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgJ2N1cnJlbnQnLCAncmlnaHQnKSwgeyBwcmV2OiBnby52YWx1ZSB9KVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHVwOiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgJ2N1cnJlbnQnLCAndXAnKSwgeyBwcmV2OiBnby52YWx1ZSB9KSxcbiAgICAgIGRvd246IChnLHYsbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSB8fCAnY3VycmVudCcsICdkb3duJyksIHsgcHJldjogZ28udmFsdWUgfSksXG4gICAgfX0gZm9jdXM9e3tcbiAgICAgIHR5cGU6IChnLHYsbykgPT4gZ28uc2V0KCkuZ28ucGFyZW50KEdyYXBoKS5kbygnb3BlbicsIHsgaWQ6IGdvLmxpbmsudHlwZV9pZCwgZm9jdXM6IHRydWUgfSksXG4gICAgICBmcm9tOiAoZyx2LG8pID0+IGdvLnNldCgpLmdvLnBhcmVudChHcmFwaCkuZG8oJ29wZW4nLCB7IGlkOiBnby5saW5rLmZyb21faWQsIGZvY3VzOiB0cnVlIH0pLFxuICAgICAgdG86IChnLHYsbykgPT4gZ28uc2V0KCkuZ28ucGFyZW50KEdyYXBoKS5kbygnb3BlbicsIHsgaWQ6IGdvLmxpbmsudG9faWQsIGZvY3VzOiB0cnVlIH0pLFxuICAgICAgaW5vdXQ6IChnLHYsbykgPT4gc2V0SW5vdXRJZChpbm91dHM/LlswXT8uaWQpLFxuICAgICAgaW5vdXRlZDogKGcsdixvKSA9PiB7XG4gICAgICAgIHNldElub3V0SWQoKTtcbiAgICAgICAgZ28uc2V0KCkuZ28uZ28uZm9jdXMoY3kuJGlkKGlub3V0SWQpPy5kYXRhKCk/LmxpbmtJZCk7XG4gICAgICB9XG4gICAgfX0+XG4gICAgICB7ISFnbz8ubGluayAmJiA8PlxuICAgICAgICB7Z28/Lmxpbms/LnR5cGVfaWQgPT09IENvbnRhaW4gPyA8PlxuICAgICAgICAgIDxnby5HcmFwaEVkZ2UgZWxlbWVudD17e1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpZDogYCR7Z28ubGluay5pZH0tY29udGFpbmAsIHNvdXJjZTogYCR7Z28ubGluaz8uZnJvbV9pZH1gLCB0YXJnZXQ6IGAke2dvLmxpbms/LnRvX2lkfWAsXG4gICAgICAgICAgICAgIGxhYmVsOiBgJHtnby5saW5rPy5zeW1ib2x9ICR7Z28ubGluaz8udmFsdWU/LnZhbHVlIHx8IGdvLmxpbmtJZH1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsYXNzZXM6IFsnbGluay1lZGdlJywgJ2xpbmstY29udGFpbiddLFxuICAgICAgICAgIH19Lz5cbiAgICAgICAgPC8+IDogPD5cbiAgICAgICAgICA8Z28uR3JhcGhOb2RlIGVsZW1lbnQ9e3tcbiAgICAgICAgICAgIGRhdGE6IHsgaWQ6IGAke2dvLmxpbmsuaWR9LWNoaWxkcmVuYCB9LFxuICAgICAgICAgICAgY2xhc3NlczogWydsaW5rLWNoaWxkcmVuJ10sXG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8Z28uR3JhcGhOb2RlXG4gICAgICAgICAgICAgIHJlZj17cmVmfVxuICAgICAgICAgICAgICBlbGVtZW50PXt7XG4gICAgICAgICAgICAgICAgbGlua0lkOiBnby5saW5rLmlkLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgaWQ6IGdvLmxpbmsuaWQsXG4gICAgICAgICAgICAgICAgcmVhZG1lOiByZWFkbWU/LnZhbHVlPy52YWx1ZSB8fCAnICcsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGAke2dvLmxpbmtJZH06ICR7Z28ubGluay5uYW1lICE9PSBnby5saW5rSWQgPyBnby5saW5rLm5hbWUgOiAnJ31cbigke2dvLmxpbmsudHlwZV9pZH06ICR7Z28ubGluay50eXBlPy5uYW1lICE9PSBnby5saW5rLnR5cGVfaWQgPyBnby5saW5rLnR5cGU/Lm5hbWUgOiAnJ30pJHtgXG5gKyh2YWx1ZSl9XG5cblxuJHtnby5saW5rLnN5bWJvbH1gIH0sXG4gICAgICAgICAgICAgICAgY2xhc3NlczogW1xuICAgICAgICAgICAgICAgICAgJ2xpbmstbm9kZScsXG4gICAgICAgICAgICAgICAgICAuLi4oaXNBY3RpdmUgPyBbJ2xpbmstbm9kZS1hY3RpdmUnXSA6IFtdKSxcbiAgICAgICAgICAgICAgICAgIC4uLihpbnB1dCA/IFsnbGluay1ub2RlLWlucHV0J10gOiBbXSksXG4gICAgICAgICAgICAgICAgICAuLi4ob3V0cHV0ID8gWydsaW5rLW5vZGUtb3V0cHV0J10gOiBbXSksXG4gICAgICAgICAgICAgICAgICAuLi4oaW5oZXJpdCA/IFsnbGluay1ub2RlLWluaGVyaXQnXSA6IFtdKSxcbiAgICAgICAgICAgICAgICAgIC4uLihpc0NvbmNlbnRyYXRlZCA9PT0gdHJ1ZSA/IFsnbGluay1ub2RlLWNvbmNlbnRyYXRlZCddIDogW10pLFxuICAgICAgICAgICAgICAgICAgLi4uKGlzQ29uY2VudHJhdGVkID09PSBmYWxzZSA/IFsnbGluay1ub2RlLXVuY29uY2VudHJhdGVkJ10gOiBbXSksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBncmFwaCA9IGdvLnBhcmVudChHcmFwaCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1hYWFhYWCcsIGdvLCBnby5saW5rSWQsIGdvLmdvLnZhbHVlLCBnby52YWx1ZSk7XG4gICAgICAgICAgICAgICAgZ3JhcGguZm9jdXMoZ28ubGlua0lkKTtcbiAgICAgICAgICAgICAgICBnby5kbygnZXhlYycsIHsgaWQ6IGdvLmxpbmtJZCB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25BZGRlZD17KGVsLCBjeSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFJlYWRtZShyZWFkbWUsIGdvLmxpbmtJZCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxjLkJveCB3PScwJyBoPScwJyBwb3NpdGlvbj0ncmVsYXRpdmUnIHJlZj17Z28ucmVmfT5cbiAgICAgICAgICAgICAgICB7aXNBY3RpdmUgJiYgPGdvLlByb3ZpZGVyIGxpbmtJZD17R3JhcGhMaW5rUGxhbmV0fT5cbiAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ0dyYXBoTGlua1BsYW5ldCddfSBsaW5rSWQ9e2dvLmxpbmtJZH0gaXNBY3RpdmU9e2lzQWN0aXZlICYmIGdvLnZhbHVlID09PSBHcmFwaExpbmtQbGFuZXR9Lz5cbiAgICAgICAgICAgICAgICA8L2dvLlByb3ZpZGVyPn1cbiAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgIDwvZ28uR3JhcGhOb2RlPlxuICAgICAgICAgICAgeyEhZ28ubGluay50eXBlX2lkICYmIDxnby5HcmFwaEVkZ2VcbiAgICAgICAgICAgICAgZWxlbWVudD17e1xuICAgICAgICAgICAgICAgIGRhdGE6IHsgaWQ6IGAke2dvLmxpbmsuaWR9LXR5cGVgLCBzb3VyY2U6IGAke2dvLmxpbmsuaWR9YCwgdGFyZ2V0OiBgJHtnby5saW5rLnR5cGVfaWR9YCB9LFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IFsnbGluay1lZGdlJywgJ2xpbmstdHlwZScsIC4uLihnby52YWx1ZSA9PT0gJ3R5cGVfaWQnID8gWydsaW5rLWVkZ2UtYWN0aXZlJ10gOiBbXSldLFxuICAgICAgICAgICAgICB9fS8+fVxuICAgICAgICAgICAgeyEhZ28ubGluay5mcm9tX2lkICYmIDxnby5HcmFwaEVkZ2VcbiAgICAgICAgICAgICAgZWxlbWVudD17e1xuICAgICAgICAgICAgICAgIGRhdGE6IHsgaWQ6IGAke2dvLmxpbmsuaWR9LWZyb21gLCBzb3VyY2U6IGAke2dvLmxpbmsuaWR9YCwgdGFyZ2V0OiBgJHtnby5saW5rLmZyb21faWR9YCB9LFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IFsnbGluay1lZGdlJywgJ2xpbmstZnJvbScsIC4uLihnby52YWx1ZSA9PT0gJ2Zyb21faWQnID8gWydsaW5rLWVkZ2UtYWN0aXZlJ10gOiBbXSldLFxuICAgICAgICAgICAgICB9fS8+fVxuICAgICAgICAgICAgeyEhZ28ubGluay50b19pZCAmJiA8Z28uR3JhcGhFZGdlXG4gICAgICAgICAgICAgIGVsZW1lbnQ9e3tcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGlkOiBgJHtnby5saW5rLmlkfS10b2AsIHNvdXJjZTogYCR7Z28ubGluay5pZH1gLCB0YXJnZXQ6IGAke2dvLmxpbmsudG9faWR9YCB9LFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IFsnbGluay1lZGdlJywgJ2xpbmstdG8nLCAuLi4oZ28udmFsdWUgPT09ICd0b19pZCcgPyBbJ2xpbmstZWRnZS1hY3RpdmUnXSA6IFtdKV0sXG4gICAgICAgICAgICAgIH19Lz59XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgPC9nby5HcmFwaE5vZGU+XG4gICAgICAgIDwvPn1cbiAgICAgIDwvPn1cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1204
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1213,
      "src_id": 870,
      "handler_id": 871,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1213,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 396,
          "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { PiGraphBold } = require(\"react-icons/pi\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Graph = deep.idLocal(dpl, 'Graph');\n    return ({ go, handlerId, isActive, }, ref) => {\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.go.do('right', { ...o, id: Graph }),\n                click: (g, v, o) => go.do('exec', o),\n                right: (g, v, o) => go.do('exec', o),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, onClick: () => go.do('exec'), ref: ref },\n                React.createElement(PiGraphBold, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNsRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUV6QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQztnQkFDdkQsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztnQkFDbEMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQzthQUNuQztZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFDNUIsR0FBRyxFQUFFLEdBQUc7Z0JBRVIsb0JBQUMsV0FBVyxPQUFFLENBQ0wsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBQaUdyYXBoQm9sZCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL3BpXCIpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIGNvbnN0IEdyYXBoID0gZGVlcC5pZExvY2FsKGRwbCwgJ0dyYXBoJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgaGFuZGxlcklkLFxuXG4gICAgaXNBY3RpdmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6IChnLHYsbykgPT4gZ28uZ28uZG8oJ3JpZ2h0JywgeyAuLi5vLCBpZDogR3JhcGggfSkpLFxuICAgICAgY2xpY2s6IChnLHYsbykgPT4gZ28uZG8oJ2V4ZWMnLCBvKSxcbiAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgfX0+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgdz0nM2VtJyBoPSczZW0nXG4gICAgICAgIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgPlxuICAgICAgICA8UGlHcmFwaEJvbGQvPlxuICAgICAgPC9jLkJ1dHRvbj5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1213
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1222,
      "src_id": 873,
      "handler_id": 874,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1222,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 399,
          "value": "({ deep, data, require, Go }) => {\n    const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n    const { AiOutlineStop } = require(\"react-icons/ai\");\n    const { BsX, BsCheck2, BsXLg, BsDatabase, BsRegex } = require('react-icons/bs');\n    const { useResizeDetector } = require('react-resize-detector');\n    const { useDebounceCallback } = require('@react-hook/debounce');\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n    const History = deep.idLocal(dpl, 'History');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Search = deep.idLocal(dpl, 'Search');\n    const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n    const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const identifiy = (q) => {\n        let value;\n        const o = {};\n        if (q?._or) {\n            for (let i in q?._or) {\n                if (q?._or[i]?.string?.value?._ilike) {\n                    o.values = true;\n                    o.query = false;\n                    if (!value)\n                        value = q?._or[i]?.string?.value?._ilike.slice(1, -1);\n                }\n                if (q?._or[i]?.string?.value?._iregex) {\n                    o.values = true;\n                    o.query = false;\n                    o.regexp = true;\n                    if (!value)\n                        value = q?._or[i]?.string?.value?._iregex;\n                }\n                if (typeof (q?._or[i]?.number?.value) === 'number') {\n                    o.values = true;\n                    o.query = false;\n                    if (!value)\n                        value = q?._or[i]?.number?.value;\n                }\n                if (q?._or[i]?.in?.type_id === Contain) {\n                    if (q?._or[i]?.in?.string?.value?._iregex) {\n                        o.query = false;\n                        o.regexp = true;\n                        if (!value)\n                            value = q?._or[i]?.in?.string?.value?._iregex;\n                    }\n                    if (q?._or[i]?.in?.string?.value?._ilike) {\n                        o.query = false;\n                        if (!value)\n                            value = q?._or[i]?.in?.string?.value?._ilike.slice(1, -1);\n                    }\n                }\n                if (q?._not?.type_id === Contain)\n                    o.contains = false;\n                else if (q?.type_id === Contain)\n                    o.contains = true;\n            }\n        }\n        console.log('identified', q, o, value);\n        return { options: o, value };\n    };\n    return ({ go, linkId, isActive, oneline = false, saveHistory = false, finder = false, query: _query, search: _search, options: _options = {\n        db: false,\n        regexp: false,\n        query: false,\n        values: false,\n        contains: false,\n    }, onChange, onSearch, childrenSearchRight = null, children, }, ref) => {\n        if (!linkId)\n            throw new Error(`linkId must be Query instance id but ${linkId}`);\n        const nav = go.useNav();\n        if (finder)\n            nav('finder', 'left', 'up', 'current', 'db');\n        nav('current', finder ? 'finder' : 'db', 'up', 'search', 'db');\n        nav('search', 'current', 'up', 'contains', 'contains');\n        nav('db', 'current', 'current', 'regexp', 'down');\n        nav('regexp', 'db', 'current', 'query', 'down');\n        nav('query', 'regexp', 'current', 'values', 'down');\n        nav('values', 'query', 'current', 'contains', 'down');\n        nav('contains', 'values', 'search', 'right', 'down');\n        const options = { ...({ db: false, regexp: false, query: false, values: false, contains: false, }), ..._options };\n        const _q = React.useMemo(() => deep.get(linkId)?.value?.value || _query, []);\n        if (_q)\n            options.query = true;\n        const [toRequest, setToRequest] = React.useState();\n        const identified = React.useMemo(() => {\n            return identifiy(deep.get(linkId)?.value?.value || {});\n        }, []);\n        const [value, setValue] = React.useState(typeof (identified?.value) === 'string' ? identified?.value : (_q ? JSON.stringify(_q) : _search));\n        const [o, setOptions] = React.useState({ ...options, ...identified.options });\n        const optionsRef = React.useRef(o);\n        React.useMemo(() => {\n            if (!optionsRef.current.query && !!o.query) {\n                setValue(JSON.stringify(deep.searchQuery(value, { ...o, query: undefined }), null, 2));\n            }\n            else if (!!optionsRef.current.query && !o.query) {\n                const identified = identifiy(toRequest);\n                setOptions(identified?.options);\n                setValue(identified?.value);\n            }\n        }, [o.query]);\n        optionsRef.current = o;\n        const [results, setResults] = React.useState([]);\n        const request = React.useCallback(async (value) => {\n            const o = optionsRef.current;\n            let cq;\n            console.log('onRequest', { _q, o, identified });\n            if (!o.query) {\n                cq = deep.searchQuery(value, { ...o, query: undefined });\n            }\n            else\n                try {\n                    cq = JSON.parse(value);\n                }\n                catch (error) {\n                    return console.error(error);\n                }\n            console.log('onRequest', cq);\n            if (saveHistory && typeof (linkId) === 'number')\n                deep.value(linkId, cq);\n            setToRequest(cq);\n        }, []);\n        React.useEffect(() => {\n            if (!!value)\n                request(value);\n        }, []);\n        React.useMemo(() => {\n            (async () => {\n                const o = optionsRef.current;\n                if (!toRequest)\n                    return;\n                if (onSearch && value) {\n                    let results;\n                    try {\n                        results = await deep.search(value, { ...o, remote: o.db, query: undefined, apply: `deep-perception-search-${go.__p}` });\n                    }\n                    catch (error) {\n                        results = { error };\n                    }\n                    console.log('onSearch', toRequest, results, o);\n                    onSearch({ ...results, query: toRequest, search: !o.query ? value : null, options: o });\n                }\n            })();\n        }, [toRequest]);\n        return React.createElement(go.On, { do: {\n                focus: () => go.set('current'),\n                left: () => go.focus(nav.get(go.value, 'left')),\n                right: () => go.focus(nav.get(go.value, 'right')),\n                up: () => go.focus(nav.get(go.value, 'up')),\n                down: () => go.focus(nav.get(go.value, 'down')),\n                finder: () => setOptions({ ...o, finder: !o.finder }),\n                search: () => request(value),\n                current: () => setOptions({ ...o, current: !o.current }),\n                db: () => setOptions({ ...o, db: !o.db }),\n                regexp: () => setOptions({ ...o, regexp: !o.regexp }),\n                query: () => setOptions({ ...o, query: !o.query }),\n                values: () => setOptions({ ...o, values: !o.values }),\n                contains: () => setOptions({ ...o, contains: !o.contains }),\n            }, focus: {\n                up: (q, v, o) => go.set().go?.go?.do('up'),\n                down: (q, v, o) => go.set().go?.go?.do('down'),\n                left: (q, v, o) => go.set(o?.left).go?.go?.do('left'),\n                right: (q, v, o) => go.set(o?.right).go?.go?.do('right'),\n            } },\n            React.createElement(c.Box, { ref: ref, position: 'relative', w: '100%', bg: isActive ? 'deepBgDark' : undefined },\n                React.createElement(c.SimpleGrid, { columns: oneline ? 2 : 1, w: oneline ? finder ? '28em' : '25em' : undefined },\n                    React.createElement(c.Flex, null,\n                        !!finder && React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', variant: go.value === 'finder' ? 'active' : undefined, onClick: () => go.do('finder') }, \"\\uD83E\\uDEAC\"),\n                        React.createElement(c.Box, { flex: 1, h: '3em' }, [React.createElement(go.Editor, { key: o.query, fillSize: true, value: value, onChange: value => {\n                                    setValue(value);\n                                    onChange && onChange(value);\n                                }, onSave: value => go.do('search'), basicSetup: {\n                                    lineNumbers: false\n                                }, saveButton: false })]),\n                        React.createElement(c.Flex, null,\n                            React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', variant: go.value === 'search' ? 'active' : undefined, onClick: () => go.do('search') }, \"\\uD83D\\uDD0E\"),\n                            childrenSearchRight)),\n                    React.createElement(c.Flex, null,\n                        React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', position: 'relative', onClick: () => go.do('db'), variant: go.value === 'db' ? 'active' : undefined },\n                            React.createElement(BsDatabase, null),\n                            !o.db && React.createElement(c.Center, { position: 'absolute', top: '0', left: '0', right: '0', bottom: '0', fontSize: '2em' },\n                                React.createElement(AiOutlineStop, null))),\n                        React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', position: 'relative', onClick: () => go.do('regexp'), variant: go.value === 'regexp' ? 'active' : undefined },\n                            React.createElement(BsRegex, null),\n                            !o.regexp && React.createElement(c.Center, { position: 'absolute', top: '0', left: '0', right: '0', bottom: '0', fontSize: '2em' },\n                                React.createElement(AiOutlineStop, null))),\n                        React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', position: 'relative', onClick: () => go.do('query'), variant: go.value === 'query' ? 'active' : undefined },\n                            `{q}`,\n                            !o.query && React.createElement(c.Center, { position: 'absolute', top: '0', left: '0', right: '0', bottom: '0', fontSize: '2em' },\n                                React.createElement(AiOutlineStop, null))),\n                        React.createElement(c.Spacer, null),\n                        React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', position: 'relative', onClick: () => go.do('values'), variant: go.value === 'values' ? 'active' : undefined },\n                            \"\\\"v\\\"\",\n                            !o.values && React.createElement(c.Center, { position: 'absolute', top: '0', left: '0', right: '0', bottom: '0', fontSize: '2em' },\n                                React.createElement(AiOutlineStop, null))),\n                        React.createElement(c.Button, { h: '3em', maxW: '3em', w: '3em', position: 'relative', onClick: () => go.do('contains'), variant: go.value === 'contains' ? 'active' : undefined },\n                            \"\\uD83D\\uDDC2\\uFE0F\",\n                            !o.contains && React.createElement(c.Center, { position: 'absolute', top: '0', left: '0', right: '0', bottom: '0', fontSize: '2em' },\n                                React.createElement(AiOutlineStop, null)))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEVBQUUsYUFBYSxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDcEQsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNoRixNQUFNLEVBQUUsaUJBQWlCLEVBQUUsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUMvRCxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUVoRSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFFbkMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNqRSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMzQyxNQUFNLE1BQU0sR0FBRyxJQUFJ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QUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FBRyxRQUFRLEVBQUUsQ0FBQztRQUNsSCxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssSUFBSSxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDN0UsSUFBSSxFQUFFO1lBQUUsT0FBTyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFFN0IsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFFbkQsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7WUFDcEMsT0FBTyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3pELENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVQLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUFNLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFFM0ksTUFBTSxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBRyxPQUFPLEVBQUUsR0FBRyxVQUFVLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUU5RSxNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUMzQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pGLENBQUM7aUJBQU0sSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ2xELE1BQU0sVUFBVSxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDeEMsVUFBVSxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDaEMsUUFBUSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM5QixDQUFDO1FBQ0gsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDZCxVQUFVLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztRQUN2QixNQUFNLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7UUFHakQsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDaEQsTUFBTSxDQUFDLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQztZQUM3QixJQUFJLEVBQUUsQ0FBQztZQUNQLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ2hELElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ2IsRUFBRSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUM7WUFDM0QsQ0FBQzs7Z0JBQU0sSUFBSSxDQUFDO29CQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUFDLENBQUM7Z0JBQUMsT0FBTSxLQUFLLEVBQUUsQ0FBQztvQkFDbkQsT0FBTyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM5QixDQUFDO1lBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDN0IsSUFBSSxXQUFXLElBQUksT0FBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLFFBQVE7Z0JBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDdkUsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25CLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVQLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO1lBQ25CLElBQUksQ0FBQyxDQUFDLEtBQUs7Z0JBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlCLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVQLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO1lBQUcsQ0FBQyxLQUFLLElBQUksRUFBRTtnQkFDaEMsTUFBTSxDQUFDLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQztnQkFDN0IsSUFBSSxDQUFDLFNBQVM7b0JBQUUsT0FBTztnQkFDdkIsSUFBSSxRQUFRLElBQUksS0FBSyxFQUFFLENBQUM7b0JBQ3RCLElBQUksT0FBTyxDQUFDO29CQUNaLElBQUksQ0FBQzt3QkFDSCxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLDBCQUEwQixFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUMxSCxDQUFDO29CQUFDLE9BQU0sS0FBSyxFQUFFLENBQUM7d0JBQ2QsT0FBTyxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUM7b0JBQ3RCLENBQUM7b0JBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDL0MsUUFBUSxDQUFDLEVBQUUsR0FBRyxPQUFPLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDMUYsQ0FBQztZQUNILENBQUMsQ0FBQyxFQUFFLENBQUM7UUFBQyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBRXRCLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFDWCxFQUFFLEVBQUU7Z0JBQ0YsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDO2dCQUM5QixJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQy9DLEtBQUssRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDakQsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUMzQyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQy9DLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFDLENBQUM7Z0JBQ3BELE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO2dCQUM1QixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBQyxDQUFDO2dCQUN2RCxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBQyxDQUFDO2dCQUN4QyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBQyxDQUFDO2dCQUNwRCxLQUFLLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBQyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBQyxDQUFDO2dCQUNwRCxRQUFRLEVBQUUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsUUFBUSxF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T0FBRTs0QkFDVCxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxRQUFRLEVBQUMsVUFBVSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLEtBQUs7Z0NBQUMsb0JBQUMsYUFBYSxPQUFFLENBQVcsQ0FDbkg7d0JBQ1gsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDUCxDQUFDLEVBQUMsS0FBSyxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxRQUFRLEVBQUMsVUFBVSxFQUM5QyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUzs0QkFFbkYsS0FBSzs0QkFDTCxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxRQUFRLEVBQUMsVUFBVSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLEtBQUs7Z0NBQUMsb0JBQUMsYUFBYSxPQUFFLENBQVcsQ0FDbEg7d0JBQ1gsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sT0FBRTt3QkFDWCxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLENBQUMsRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxVQUFVLEVBQzlDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBRSxFQUFFLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTOzs0QkFHckYsQ0FBQyxDQUFDLENBQUMsTUFBTSxJQUFJLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLEdBQUcsRUFBQyxNQUFNLEVBQUMsR0FBRyxFQUFDLFFBQVEsRUFBQyxLQUFLO2dDQUFDLG9CQUFDLGFBQWEsT0FBRSxDQUFXLENBQ25IO3dCQUNYLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLFVBQVUsRUFDOUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVM7OzRCQUd6RixDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxRQUFRLEVBQUMsVUFBVSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLEtBQUs7Z0NBQUMsb0JBQUMsYUFBYSxPQUFFLENBQVcsQ0FDckgsQ0FDSixDQUNJLENBQ1QsQ0FDRixDQUFBO0lBQ1YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCB7IE1kRWRpdCwgTWRQcmV2aWV3LCBNZFNhdmVBbHQgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9tZFwiKTtcbiAgY29uc3QgeyBBaU91dGxpbmVTdG9wIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvYWlcIik7XG4gIGNvbnN0IHsgQnNYLCBCc0NoZWNrMiwgQnNYTGcsIEJzRGF0YWJhc2UsIEJzUmVnZXggfSA9IHJlcXVpcmUoJ3JlYWN0LWljb25zL2JzJyk7XG4gIGNvbnN0IHsgdXNlUmVzaXplRGV0ZWN0b3IgfSA9IHJlcXVpcmUoJ3JlYWN0LXJlc2l6ZS1kZXRlY3RvcicpO1xuICBjb25zdCB7IHVzZURlYm91bmNlQ2FsbGJhY2sgfSA9IHJlcXVpcmUoJ0ByZWFjdC1ob29rL2RlYm91bmNlJyk7XG5cbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICBjb25zdCBDb250YWluID0gZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnQ29udGFpbicpO1xuICBjb25zdCBIaXN0b3J5ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hpc3RvcnknKTtcbiAgY29uc3QgSGVhZGVyID0gZGVlcC5pZExvY2FsKGRwbCwgJ0hlYWRlcicpO1xuICBjb25zdCBTZWFyY2ggPSBkZWVwLmlkTG9jYWwoZHBsLCAnU2VhcmNoJyk7XG4gIGNvbnN0IFRyZWVRdWVyeSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlUXVlcnknKTtcbiAgY29uc3QgVHJlZUxpbmsgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmsnKTtcbiAgY29uc3QgVHJlZUxpbmtJbnNlcnQgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtJbnNlcnQnKTtcbiAgY29uc3QgVHJlZUxpbmtEZWxldGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtEZWxldGUnKTtcbiAgY29uc3QgVHJlZUxpbmtCdXR0b24gPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmtCdXR0b24nKTtcblxuICBjb25zdCBpZGVudGlmaXkgPSAocSkgPT4ge1xuICAgIGxldCB2YWx1ZTtcbiAgICBjb25zdCBvID0ge307XG4gICAgaWYgKHE/Ll9vcikge1xuICAgICAgZm9yIChsZXQgaSBpbiBxPy5fb3IpIHtcbiAgICAgICAgaWYgKHE/Ll9vcltpXT8uc3RyaW5nPy52YWx1ZT8uX2lsaWtlKSB7XG4gICAgICAgICAgby52YWx1ZXMgPSB0cnVlO1xuICAgICAgICAgIG8ucXVlcnkgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB2YWx1ZSA9IHE/Ll9vcltpXT8uc3RyaW5nPy52YWx1ZT8uX2lsaWtlLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocT8uX29yW2ldPy5zdHJpbmc/LnZhbHVlPy5faXJlZ2V4KSB7XG4gICAgICAgICAgby52YWx1ZXMgPSB0cnVlO1xuICAgICAgICAgIG8ucXVlcnkgPSBmYWxzZTtcbiAgICAgICAgICBvLnJlZ2V4cCA9IHRydWU7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkgdmFsdWUgPSBxPy5fb3JbaV0/LnN0cmluZz8udmFsdWU/Ll9pcmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZihxPy5fb3JbaV0/Lm51bWJlcj8udmFsdWUpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIG8udmFsdWVzID0gdHJ1ZTtcbiAgICAgICAgICBvLnF1ZXJ5ID0gZmFsc2U7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkgdmFsdWUgPSBxPy5fb3JbaV0/Lm51bWJlcj8udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHE/Ll9vcltpXT8uaW4/LnR5cGVfaWQgPT09IENvbnRhaW4pIHtcbiAgICAgICAgICBpZiAocT8uX29yW2ldPy5pbj8uc3RyaW5nPy52YWx1ZT8uX2lyZWdleCkge1xuICAgICAgICAgICAgby5xdWVyeSA9IGZhbHNlO1xuICAgICAgICAgICAgby5yZWdleHAgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkgdmFsdWUgPSBxPy5fb3JbaV0/LmluPy5zdHJpbmc/LnZhbHVlPy5faXJlZ2V4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocT8uX29yW2ldPy5pbj8uc3RyaW5nPy52YWx1ZT8uX2lsaWtlKSB7XG4gICAgICAgICAgICBvLnF1ZXJ5ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB2YWx1ZSA9IHE/Ll9vcltpXT8uaW4/LnN0cmluZz8udmFsdWU/Ll9pbGlrZS5zbGljZSgxLC0xKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHE/Ll9ub3Q/LnR5cGVfaWQgPT09IENvbnRhaW4pIG8uY29udGFpbnMgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAocT8udHlwZV9pZCA9PT0gQ29udGFpbikgby5jb250YWlucyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdpZGVudGlmaWVkJywgcSwgbywgdmFsdWUpO1xuICAgIHJldHVybiB7IG9wdGlvbnM6IG8sIHZhbHVlIH07XG4gIH07XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgbGlua0lkLFxuXG4gICAgaXNBY3RpdmUsXG4gICAgb25lbGluZSA9IGZhbHNlLFxuICAgIHNhdmVIaXN0b3J5ID0gZmFsc2UsXG4gICAgZmluZGVyID0gZmFsc2UsXG5cbiAgICBxdWVyeTogX3F1ZXJ5LFxuICAgIHNlYXJjaDogX3NlYXJjaCxcblxuICAgIG9wdGlvbnM6IF9vcHRpb25zID0ge1xuICAgICAgZGI6IGZhbHNlLFxuICAgICAgcmVnZXhwOiBmYWxzZSxcbiAgICAgIHF1ZXJ5OiBmYWxzZSxcbiAgICAgIHZhbHVlczogZmFsc2UsXG4gICAgICBjb250YWluczogZmFsc2UsXG4gICAgfSxcblxuICAgIG9uQ2hhbmdlLFxuICAgIG9uU2VhcmNoLFxuXG4gICAgY2hpbGRyZW5TZWFyY2hSaWdodCA9IG51bGwsXG5cbiAgICBjaGlsZHJlbixcbiAgfSwgcmVmKSA9PiB7XG4gICAgaWYgKCFsaW5rSWQpIHRocm93IG5ldyBFcnJvcihgbGlua0lkIG11c3QgYmUgUXVlcnkgaW5zdGFuY2UgaWQgYnV0ICR7bGlua0lkfWApO1xuXG4gICAgY29uc3QgbmF2ID0gZ28udXNlTmF2KCk7XG4gICAgaWYgKGZpbmRlcikgbmF2KCdmaW5kZXInLCAnbGVmdCcsICd1cCcsICdjdXJyZW50JywgJ2RiJyk7XG4gICAgbmF2KCdjdXJyZW50JywgZmluZGVyID8gJ2ZpbmRlcicgOiAnZGInLCAndXAnLCAnc2VhcmNoJywgJ2RiJyk7XG4gICAgbmF2KCdzZWFyY2gnLCAnY3VycmVudCcsICd1cCcsICdjb250YWlucycsICdjb250YWlucycpO1xuICAgIG5hdignZGInLCAnY3VycmVudCcsICdjdXJyZW50JywgJ3JlZ2V4cCcsICdkb3duJyk7XG4gICAgbmF2KCdyZWdleHAnLCAnZGInLCAnY3VycmVudCcsICdxdWVyeScsICdkb3duJyk7XG4gICAgbmF2KCdxdWVyeScsICdyZWdleHAnLCAnY3VycmVudCcsICd2YWx1ZXMnLCAnZG93bicpO1xuICAgIG5hdigndmFsdWVzJywgJ3F1ZXJ5JywgJ2N1cnJlbnQnLCAnY29udGFpbnMnLCAnZG93bicpO1xuICAgIG5hdignY29udGFpbnMnLCAndmFsdWVzJywgJ3NlYXJjaCcsICdyaWdodCcsICdkb3duJyk7XG5cbiAgICBjb25zdCBvcHRpb25zID0geyAuLi4oeyBkYjogZmFsc2UsIHJlZ2V4cDogZmFsc2UsIHF1ZXJ5OiBmYWxzZSwgdmFsdWVzOiBmYWxzZSwgY29udGFpbnM6IGZhbHNlLCB9KSwgLi4uX29wdGlvbnMgfTtcbiAgICBjb25zdCBfcSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gZGVlcC5nZXQobGlua0lkKT8udmFsdWU/LnZhbHVlIHx8IF9xdWVyeSwgW10pO1xuICAgIGlmIChfcSkgb3B0aW9ucy5xdWVyeSA9IHRydWU7XG5cbiAgICBjb25zdCBbdG9SZXF1ZXN0LCBzZXRUb1JlcXVlc3RdID0gUmVhY3QudXNlU3RhdGUoKTtcblxuICAgIGNvbnN0IGlkZW50aWZpZWQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIHJldHVybiBpZGVudGlmaXkoZGVlcC5nZXQobGlua0lkKT8udmFsdWU/LnZhbHVlIHx8IHt9KTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlKHR5cGVvZihpZGVudGlmaWVkPy52YWx1ZSkgPT09ICdzdHJpbmcnID8gaWRlbnRpZmllZD8udmFsdWUgOiAoX3EgPyBKU09OLnN0cmluZ2lmeShfcSkgOiBfc2VhcmNoKSk7XG5cbiAgICBjb25zdCBbbywgc2V0T3B0aW9uc10gPSBSZWFjdC51c2VTdGF0ZSh7IC4uLm9wdGlvbnMsIC4uLmlkZW50aWZpZWQub3B0aW9ucyB9KTtcblxuICAgIGNvbnN0IG9wdGlvbnNSZWYgPSBSZWFjdC51c2VSZWYobyk7XG4gICAgUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBpZiAoIW9wdGlvbnNSZWYuY3VycmVudC5xdWVyeSAmJiAhIW8ucXVlcnkpIHtcbiAgICAgICAgc2V0VmFsdWUoSlNPTi5zdHJpbmdpZnkoZGVlcC5zZWFyY2hRdWVyeSh2YWx1ZSwgeyAuLi5vLCBxdWVyeTogdW5kZWZpbmVkIH0pLCBudWxsLCAyKSk7XG4gICAgICB9IGVsc2UgaWYgKCEhb3B0aW9uc1JlZi5jdXJyZW50LnF1ZXJ5ICYmICFvLnF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IGlkZW50aWZpZWQgPSBpZGVudGlmaXkodG9SZXF1ZXN0KTtcbiAgICAgICAgc2V0T3B0aW9ucyhpZGVudGlmaWVkPy5vcHRpb25zKTtcbiAgICAgICAgc2V0VmFsdWUoaWRlbnRpZmllZD8udmFsdWUpO1xuICAgICAgfVxuICAgIH0sIFtvLnF1ZXJ5XSk7XG4gICAgb3B0aW9uc1JlZi5jdXJyZW50ID0gbztcbiAgICBjb25zdCBbcmVzdWx0cywgc2V0UmVzdWx0c10gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG5cblxuICAgIGNvbnN0IHJlcXVlc3QgPSBSZWFjdC51c2VDYWxsYmFjayhhc3luYyAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IG8gPSBvcHRpb25zUmVmLmN1cnJlbnQ7XG4gICAgICBsZXQgY3E7XG4gICAgICBjb25zb2xlLmxvZygnb25SZXF1ZXN0JywgeyBfcSwgbywgaWRlbnRpZmllZCB9KTtcbiAgICAgIGlmICghby5xdWVyeSkge1xuICAgICAgICBjcSA9IGRlZXAuc2VhcmNoUXVlcnkodmFsdWUsIHsgLi4ubywgcXVlcnk6IHVuZGVmaW5lZCB9KTtcbiAgICAgIH0gZWxzZSB0cnkgeyBjcSA9IEpTT04ucGFyc2UodmFsdWUpOyB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCdvblJlcXVlc3QnLCBjcSk7XG4gICAgICBpZiAoc2F2ZUhpc3RvcnkgJiYgdHlwZW9mKGxpbmtJZCkgPT09ICdudW1iZXInKSBkZWVwLnZhbHVlKGxpbmtJZCwgY3EpO1xuICAgICAgc2V0VG9SZXF1ZXN0KGNxKTtcbiAgICB9LCBbXSk7XG5cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKCEhdmFsdWUpIHJlcXVlc3QodmFsdWUpO1xuICAgIH0sIFtdKTtcblxuICAgIFJlYWN0LnVzZU1lbW8oKCkgPT4geyAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbyA9IG9wdGlvbnNSZWYuY3VycmVudDtcbiAgICAgIGlmICghdG9SZXF1ZXN0KSByZXR1cm47XG4gICAgICBpZiAob25TZWFyY2ggJiYgdmFsdWUpIHtcbiAgICAgICAgbGV0IHJlc3VsdHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzdWx0cyA9IGF3YWl0IGRlZXAuc2VhcmNoKHZhbHVlLCB7IC4uLm8sIHJlbW90ZTogby5kYiwgcXVlcnk6IHVuZGVmaW5lZCwgYXBwbHk6IGBkZWVwLXBlcmNlcHRpb24tc2VhcmNoLSR7Z28uX19wfWAgfSk7XG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICByZXN1bHRzID0geyBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKCdvblNlYXJjaCcsIHRvUmVxdWVzdCwgcmVzdWx0cywgbyk7XG4gICAgICAgIG9uU2VhcmNoKHsgLi4ucmVzdWx0cywgcXVlcnk6IHRvUmVxdWVzdCwgc2VhcmNoOiAhby5xdWVyeSA/IHZhbHVlIDogbnVsbCwgb3B0aW9uczogbyB9KTtcbiAgICAgIH1cbiAgICB9KSgpOyB9LCBbdG9SZXF1ZXN0XSk7XG5cbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgICBmb2N1czogKCkgPT4gZ28uc2V0KCdjdXJyZW50JyksXG4gICAgICAgIGxlZnQ6ICgpID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICdsZWZ0JykpLFxuICAgICAgICByaWdodDogKCkgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSwgJ3JpZ2h0JykpLFxuICAgICAgICB1cDogKCkgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSwgJ3VwJykpLFxuICAgICAgICBkb3duOiAoKSA9PiBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlLCAnZG93bicpKSxcbiAgICAgICAgZmluZGVyOiAoKSA9PiBzZXRPcHRpb25zKHsgLi4ubywgZmluZGVyOiAhby5maW5kZXJ9KSxcbiAgICAgICAgc2VhcmNoOiAoKSA9PiByZXF1ZXN0KHZhbHVlKSxcbiAgICAgICAgY3VycmVudDogKCkgPT4gc2V0T3B0aW9ucyh7IC4uLm8sIGN1cnJlbnQ6ICFvLmN1cnJlbnR9KSxcbiAgICAgICAgZGI6ICgpID0+IHNldE9wdGlvbnMoeyAuLi5vLCBkYjogIW8uZGJ9KSxcbiAgICAgICAgcmVnZXhwOiAoKSA9PiBzZXRPcHRpb25zKHsgLi4ubywgcmVnZXhwOiAhby5yZWdleHB9KSxcbiAgICAgICAgcXVlcnk6ICgpID0+IHNldE9wdGlvbnMoeyAuLi5vLCBxdWVyeTogIW8ucXVlcnl9KSxcbiAgICAgICAgdmFsdWVzOiAoKSA9PiBzZXRPcHRpb25zKHsgLi4ubywgdmFsdWVzOiAhby52YWx1ZXN9KSxcbiAgICAgICAgY29udGFpbnM6ICgpID0+IHNldE9wdGlvbnMoeyAuLi5vLCBjb250YWluczogIW8uY29udGFpbnN9KSxcbiAgICAgIH19XG4gICAgICBmb2N1cz17e1xuICAgICAgICB1cDogKHEsdixvKSA9PiBnby5zZXQoKS5nbz8uZ28/LmRvKCd1cCcpLFxuICAgICAgICBkb3duOiAocSx2LG8pID0+IGdvLnNldCgpLmdvPy5nbz8uZG8oJ2Rvd24nKSxcbiAgICAgICAgbGVmdDogKHEsdixvKSA9PiBnby5zZXQobz8ubGVmdCkuZ28/LmdvPy5kbygnbGVmdCcpLFxuICAgICAgICByaWdodDogKHEsdixvKSA9PiBnby5zZXQobz8ucmlnaHQpLmdvPy5nbz8uZG8oJ3JpZ2h0JyksXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLkJveCByZWY9e3JlZn0gcG9zaXRpb249J3JlbGF0aXZlJyB3PScxMDAlJyBiZz17aXNBY3RpdmUgPyAnZGVlcEJnRGFyaycgOiB1bmRlZmluZWR9PlxuICAgICAgICA8Yy5TaW1wbGVHcmlkIGNvbHVtbnM9e29uZWxpbmUgPyAyIDogMX0gdz17b25lbGluZSA/IGZpbmRlciA/ICcyOGVtJyA6ICcyNWVtJyA6IHVuZGVmaW5lZH0+XG4gICAgICAgICAgPGMuRmxleD5cbiAgICAgICAgICAgIHshIWZpbmRlciAmJiA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgdmFyaWFudD17Z28udmFsdWUgPT09ICdmaW5kZXInID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdmaW5kZXInKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg8J+qrFxuICAgICAgICAgICAgPC9jLkJ1dHRvbj59XG4gICAgICAgICAgICA8Yy5Cb3ggZmxleD17MX0gaD0nM2VtJz5cbiAgICAgICAgICAgICAge1s8Z28uRWRpdG9yXG4gICAgICAgICAgICAgICAga2V5PXtvLnF1ZXJ5fVxuICAgICAgICAgICAgICAgIGZpbGxTaXplXG4gICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZSAmJiBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvblNhdmU9e3ZhbHVlID0+IGdvLmRvKCdzZWFyY2gnKX1cbiAgICAgICAgICAgICAgICBiYXNpY1NldHVwPXt7XG4gICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyczogZmFsc2VcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHNhdmVCdXR0b249e2ZhbHNlfVxuICAgICAgICAgICAgICAvPl19XG4gICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgPGMuRmxleD5cbiAgICAgICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgdmFyaWFudD17Z28udmFsdWUgPT09ICdzZWFyY2gnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZG8oJ3NlYXJjaCcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg8J+UjlxuICAgICAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICAgICAgICB7Y2hpbGRyZW5TZWFyY2hSaWdodH1cbiAgICAgICAgICAgIDwvYy5GbGV4PlxuICAgICAgICAgIDwvYy5GbGV4PlxuICAgICAgICAgIDxjLkZsZXg+XG4gICAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgcG9zaXRpb249J3JlbGF0aXZlJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnZGInKX0gdmFyaWFudD17Z28udmFsdWUgPT09ICdkYicgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEJzRGF0YWJhc2UvPlxuICAgICAgICAgICAgICB7IW8uZGIgJiYgPGMuQ2VudGVyIHBvc2l0aW9uPSdhYnNvbHV0ZScgdG9wPScwJyBsZWZ0PScwJyByaWdodD0nMCcgYm90dG9tPScwJyBmb250U2l6ZT0nMmVtJz48QWlPdXRsaW5lU3RvcC8+PC9jLkNlbnRlcj59XG4gICAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICAgIGg9JzNlbScgbWF4Vz0nM2VtJyB3PSczZW0nIHBvc2l0aW9uPSdyZWxhdGl2ZSdcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZG8oJ3JlZ2V4cCcpfSAgdmFyaWFudD17Z28udmFsdWUgPT09ICdyZWdleHAnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxCc1JlZ2V4Lz5cbiAgICAgICAgICAgICAgeyFvLnJlZ2V4cCAmJiA8Yy5DZW50ZXIgcG9zaXRpb249J2Fic29sdXRlJyB0b3A9JzAnIGxlZnQ9JzAnIHJpZ2h0PScwJyBib3R0b209JzAnIGZvbnRTaXplPScyZW0nPjxBaU91dGxpbmVTdG9wLz48L2MuQ2VudGVyPn1cbiAgICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgcG9zaXRpb249J3JlbGF0aXZlJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAgZ28uZG8oJ3F1ZXJ5Jyl9IHZhcmlhbnQ9e2dvLnZhbHVlID09PSAncXVlcnknID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtge3F9YH1cbiAgICAgICAgICAgICAgeyFvLnF1ZXJ5ICYmIDxjLkNlbnRlciBwb3NpdGlvbj0nYWJzb2x1dGUnIHRvcD0nMCcgbGVmdD0nMCcgcmlnaHQ9JzAnIGJvdHRvbT0nMCcgZm9udFNpemU9JzJlbSc+PEFpT3V0bGluZVN0b3AvPjwvYy5DZW50ZXI+fVxuICAgICAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgICAgIDxjLlNwYWNlci8+XG4gICAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgcG9zaXRpb249J3JlbGF0aXZlJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAgZ28uZG8oJ3ZhbHVlcycpfSB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ3ZhbHVlcycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgXCJ2XCJcbiAgICAgICAgICAgICAgeyFvLnZhbHVlcyAmJiA8Yy5DZW50ZXIgcG9zaXRpb249J2Fic29sdXRlJyB0b3A9JzAnIGxlZnQ9JzAnIHJpZ2h0PScwJyBib3R0b209JzAnIGZvbnRTaXplPScyZW0nPjxBaU91dGxpbmVTdG9wLz48L2MuQ2VudGVyPn1cbiAgICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgaD0nM2VtJyBtYXhXPSczZW0nIHc9JzNlbScgcG9zaXRpb249J3JlbGF0aXZlJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAgZ28uZG8oJ2NvbnRhaW5zJyl9IHZhcmlhbnQ9e2dvLnZhbHVlID09PSAnY29udGFpbnMnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIPCfl4LvuI9cbiAgICAgICAgICAgICAgeyFvLmNvbnRhaW5zICYmIDxjLkNlbnRlciBwb3NpdGlvbj0nYWJzb2x1dGUnIHRvcD0nMCcgbGVmdD0nMCcgcmlnaHQ9JzAnIGJvdHRvbT0nMCcgZm9udFNpemU9JzJlbSc+PEFpT3V0bGluZVN0b3AvPjwvYy5DZW50ZXI+fVxuICAgICAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgICA8L2MuRmxleD5cbiAgICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICA8L2MuQm94PlxuICAgIDwvZ28uT24+XG4gIH07XG59XG4iXX0=",
          "link_id": 1222
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1231,
      "src_id": 875,
      "handler_id": 876,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1231,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 402,
          "value": "({ deep, data, require, Go }) => {\n    const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n    const React = require('react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, useSymbol, } = require('@deep-foundation/perception-app');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Query = deep.idLocal(dc, 'Query');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const History = deep.idLocal(dpl, 'History');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Search = deep.idLocal(dpl, 'Search');\n    const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n    const Tree = deep.idLocal(dpl, 'Tree');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n    const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    return ({ go, isActive, fullWidth = null, saveHistory = false, initialResults, ...props }, ref) => {\n        const [links, setLinks] = React.useState(initialResults || []);\n        const firstRef = React.useRef(false);\n        const nav = go.useNav();\n        nav(Search, 'left', 'up', 'right', Stack);\n        nav(Stack, 'left', Search, 'right', 'down');\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => o?.id && go.parent(Tree).do('open', { handlerId: TreeLink, id: o.id, prevId: go.linkId, focus: true }),\n                close: (g, v, o) => go.parent(Tree).do('close', { id: go.linkId }),\n                left: (g, v, o) => go.focus(nav.get(go.value || Search, 'left'), { prev: go.value }),\n                up: (g, v, o) => go.focus(nav.get(go.value || Search, 'up'), { prev: go.value }),\n                right: (g, v, o) => go.focus(nav.get(go.value || Search, 'right'), { prev: go.value }),\n                down: (g, v, o) => go.focus(nav.get(go.value || Search, 'down'), { prev: go.value }),\n            } },\n            React.createElement(c.Flex, { direction: 'column', minW: fullWidth || '30em', maxW: fullWidth || '30em', h: '100%', maxH: '100%', ...props },\n                React.createElement(go.Provider, { linkId: Search },\n                    React.createElement(go.Handler, { linkId: go.linkId, handlerId: Search, saveHistory: saveHistory, onSearch: (results) => {\n                            if (!initialResults || !!firstRef.current) {\n                                console.log('onSearch', results);\n                                let links = results.data || [];\n                                setLinks(links);\n                            }\n                            firstRef.current = true;\n                        }, childrenSearchRight: React.createElement(c.Button, { minW: '3e,', w: '3em', h: '100%', minH: '3em', p: '0', onClick: () => go.focus('close').go.do('close'), variant: go.value === 'close' ? 'active' : null }, \"x\") })),\n                React.createElement(go.Provider, { linkId: Stack },\n                    React.createElement(go.Handler, { handlerId: Stack, direction: 'vertical', links: links, flex: '1', saveHistory: saveHistory }))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUNKLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQ3hFLFNBQVMsR0FDVixHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzdDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxP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bUJBQW1CLEVBQUUsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDNUIsSUFBSSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUM1QyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUMvQyxPQUFPLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxRQUNwQyxHQUNiLENBQ1U7Z0JBQ2Qsb0JBQUMsRUFBRSxDQUFDLFFBQVEsSUFBQyxNQUFNLEVBQUUsS0FBSztvQkFDeEIsb0JBQUMsRUFBRSxDQUFDLE9BQU8sSUFBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBQyxVQUFVLEVBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUMsR0FBRyxFQUFDLFdBQVcsRUFBRSxXQUFXLEdBQUcsQ0FDekYsQ0FDUCxDQUNILENBQUE7SUFDVixDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBHbyB9KSA9PiB7XG4gIGNvbnN0IHsgTWRFZGl0LCBNZFByZXZpZXcsIE1kU2F2ZUFsdCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL21kXCIpO1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbiAgY29uc3Qge1xuICAgIFR5cGVkSWNvbiwgRG93bkljb24sIFVwSWNvbiwgVHlwZUljb24sIEluSWNvbiwgT3V0SWNvbiwgRnJvbUljb24sIFRvSWNvbixcbiAgICB1c2VTeW1ib2wsXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG5cbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgXG4gIGNvbnN0IFF1ZXJ5ID0gZGVlcC5pZExvY2FsKGRjLCAnUXVlcnknKTtcbiAgY29uc3QgU3RhY2sgPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2snKTtcbiAgY29uc3QgSGlzdG9yeSA9IGRlZXAuaWRMb2NhbChkcGwsICdIaXN0b3J5Jyk7XG4gIGNvbnN0IEhlYWRlciA9IGRlZXAuaWRMb2NhbChkcGwsICdIZWFkZXInKTtcbiAgY29uc3QgU2VhcmNoID0gZGVlcC5pZExvY2FsKGRwbCwgJ1NlYXJjaCcpO1xuICBjb25zdCBUcmVlUXVlcnkgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZVF1ZXJ5Jyk7XG4gIGNvbnN0IFRyZWUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZScpO1xuICBjb25zdCBUcmVlTGlzdCA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlzdCcpO1xuICBjb25zdCBUcmVlTGluayA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGluaycpO1xuICBjb25zdCBUcmVlTGlua0luc2VydCA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlua0luc2VydCcpO1xuICBjb25zdCBUcmVlTGlua0RlbGV0ZSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlua0RlbGV0ZScpO1xuICBjb25zdCBUcmVlTGlua0J1dHRvbiA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlua0J1dHRvbicpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgaXNBY3RpdmUsXG4gICAgZnVsbFdpZHRoID0gbnVsbCxcblxuICAgIHNhdmVIaXN0b3J5ID0gZmFsc2UsXG5cbiAgICBpbml0aWFsUmVzdWx0cyxcbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBbbGlua3MsIHNldExpbmtzXSA9IFJlYWN0LnVzZVN0YXRlKGluaXRpYWxSZXN1bHRzIHx8IFtdKTtcbiAgICBjb25zdCBmaXJzdFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgXG4gICAgY29uc3QgbmF2ID0gZ28udXNlTmF2KCk7XG4gICAgbmF2KFNlYXJjaCwgJ2xlZnQnLCAndXAnLCAncmlnaHQnLCBTdGFjayk7XG4gICAgbmF2KFN0YWNrLCAnbGVmdCcsIFNlYXJjaCwgJ3JpZ2h0JywgJ2Rvd24nKTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6IChnLHYsbykgPT4gbz8uaWQgJiYgZ28ucGFyZW50KFRyZWUpLmRvKCdvcGVuJywgeyBoYW5kbGVySWQ6IFRyZWVMaW5rLCBpZDogby5pZCwgcHJldklkOiBnby5saW5rSWQsIGZvY3VzOiB0cnVlIH0pLFxuICAgICAgY2xvc2U6IChnLHYsbykgPT4gZ28ucGFyZW50KFRyZWUpLmRvKCdjbG9zZScsIHsgaWQ6IGdvLmxpbmtJZCB9KSxcblxuICAgICAgbGVmdDogKGcsdixvKSA9PiBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlIHx8IFNlYXJjaCwgJ2xlZnQnKSwgeyBwcmV2OiBnby52YWx1ZSB9KSxcbiAgICAgIHVwOiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgU2VhcmNoLCAndXAnKSwgeyBwcmV2OiBnby52YWx1ZSB9KSxcbiAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUgfHwgU2VhcmNoLCAncmlnaHQnKSwgeyBwcmV2OiBnby52YWx1ZSB9KSxcbiAgICAgIGRvd246IChnLHYsbykgPT4gZ28uZm9jdXMobmF2LmdldChnby52YWx1ZSB8fCBTZWFyY2gsICdkb3duJyksIHsgcHJldjogZ28udmFsdWUgfSksXG4gICAgfX0+XG4gICAgICA8Yy5GbGV4IGRpcmVjdGlvbj0nY29sdW1uJyBtaW5XPXtmdWxsV2lkdGggfHwgJzMwZW0nfSBtYXhXPXtmdWxsV2lkdGggfHwgJzMwZW0nfSBoPScxMDAlJyBtYXhIPScxMDAlJyB7Li4ucHJvcHN9PlxuICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtTZWFyY2h9PlxuICAgICAgICAgIDxnby5IYW5kbGVyIGxpbmtJZD17Z28ubGlua0lkfSBoYW5kbGVySWQ9e1NlYXJjaH1cbiAgICAgICAgICAgIHNhdmVIaXN0b3J5PXtzYXZlSGlzdG9yeX1cbiAgICAgICAgICAgIG9uU2VhcmNoPXsocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWluaXRpYWxSZXN1bHRzIHx8ICEhZmlyc3RSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvblNlYXJjaCcsIHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIGxldCBsaW5rcyA9IHJlc3VsdHMuZGF0YSB8fCBbXTtcbiAgICAgICAgICAgICAgICBzZXRMaW5rcyhsaW5rcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZmlyc3RSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2hpbGRyZW5TZWFyY2hSaWdodD17PGMuQnV0dG9uXG4gICAgICAgICAgICAgIG1pblc9JzNlLCcgdz0nM2VtJyBoPScxMDAlJyBtaW5IPSczZW0nIHA9JzAnXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmZvY3VzKCdjbG9zZScpLmdvLmRvKCdjbG9zZScpfVxuICAgICAgICAgICAgICB2YXJpYW50PXtnby52YWx1ZSA9PT0gJ2Nsb3NlJyA/ICdhY3RpdmUnIDogbnVsbH1cbiAgICAgICAgICAgID54PC9jLkJ1dHRvbj59XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17U3RhY2t9PlxuICAgICAgICAgIDxnby5IYW5kbGVyIGhhbmRsZXJJZD17U3RhY2t9IGRpcmVjdGlvbj0ndmVydGljYWwnIGxpbmtzPXtsaW5rc30gZmxleD0nMScgc2F2ZUhpc3Rvcnk9e3NhdmVIaXN0b3J5fS8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICA8L2MuRmxleD5cbiAgICA8L2dvLk9uPlxuICB9O1xufVxuIl19",
          "link_id": 1231
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1240,
      "src_id": 877,
      "handler_id": 878,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1240,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 405,
          "value": "({ deep, data, require, Go }) => {\n    const { BsFullscreenExit, BsFullscreen } = require(\"react-icons/bs\");\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    return ({ go, linkId, disclosure: __disclosure, }, ref) => {\n        const _disclosure = c.useDisclosure();\n        const disclosure = __disclosure || _disclosure;\n        return React.createElement(go.On, { do: {} },\n            !disclosure.isOpen && React.createElement(go.Editor, { linkId: linkId, fillSize: true },\n                React.createElement(c.Button, { w: '3em', h: '3em', onClick: disclosure.onOpen },\n                    React.createElement(BsFullscreen, null))),\n            React.createElement(c.Modal, { closeOnOverlayClick: true, blockScrollOnMount: false, onClose: disclosure.onClose, isOpen: disclosure.isOpen, portalProps: { containerRef: go.root().ref } },\n                React.createElement(c.ModalOverlay, null),\n                React.createElement(c.ModalContent, { w: '80vw', maxW: '80vw', h: '80vh', position: 'relative' },\n                    React.createElement(c.ModalHeader, null, '' + deep.nameLocal(linkId)),\n                    React.createElement(c.ModalBody, { p: 0, position: 'relative' },\n                        React.createElement(go.Editor, { linkId: linkId, fillSize: true },\n                            React.createElement(BsFullscreenExit, null))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDckUsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRS9CLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBRWhELE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixNQUFNLEVBRU4sVUFBVSxFQUFFLFlBQVksR0FDekIsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN0QyxNQUFNLFVBQVUsR0FBRyxZQUFZLElBQUksV0FBVyxDQUFDO1FBRS9DLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUUsRUFDakI7WUFDRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLElBQUksb0JBQUMsRUFBRSxDQUFDLE1BQU0sSUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVE7Z0JBQ3hELG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsTUFBTTtvQkFDbEQsb0JBQUMsWUFBWSxPQUFFLENBQ04sQ0FDRDtZQUNaLG9CQUFDLENBQUMsQ0FBQyxLQUFLLElBQ04sbUJBQW1CLFFBQUMsa0JBQWtCLEVBQUUsS0FBSyxFQUM3QyxPQUFPLEVBQUUsVUFBVSxDQUFDLE9BQU8sRUFDM0IsTUFBTSxFQUFFLFVBQVUsQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUU7Z0JBRXZFLG9CQUFDLENBQUMsQ0FBQyxZQUFZLE9BQUc7Z0JBQ2xCLG9CQUFDLENBQUMsQ0FBQyxZQUFZLElBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFVBQVU7b0JBQy9ELG9CQUFDLENBQUMsQ0FBQyxXQUFXLFFBQUUsRUFBRSxHQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQWlCO29CQUMxRCxvQkFBQyxDQUFDLENBQUMsU0FBUyxJQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFDLFVBQVU7d0JBQ3BDLG9CQUFDLEVBQUUsQ0FBQyxNQUFNLElBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFROzRCQUNqQyxvQkFBQyxnQkFBZ0IsT0FBRSxDQUNWLENBQ0MsQ0FDQyxDQUNULENBQ0osQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgeyBCc0Z1bGxzY3JlZW5FeGl0LCBCc0Z1bGxzY3JlZW4gfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9ic1wiKTtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBsaW5rSWQsXG4gIFxuICAgIGRpc2Nsb3N1cmU6IF9fZGlzY2xvc3VyZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgX2Rpc2Nsb3N1cmUgPSBjLnVzZURpc2Nsb3N1cmUoKTtcbiAgICBjb25zdCBkaXNjbG9zdXJlID0gX19kaXNjbG9zdXJlIHx8IF9kaXNjbG9zdXJlO1xuICAgIFxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICB9fT5cbiAgICAgIHshZGlzY2xvc3VyZS5pc09wZW4gJiYgPGdvLkVkaXRvciBsaW5rSWQ9e2xpbmtJZH0gZmlsbFNpemU+XG4gICAgICAgIDxjLkJ1dHRvbiB3PSczZW0nIGg9JzNlbScgb25DbGljaz17ZGlzY2xvc3VyZS5vbk9wZW59PlxuICAgICAgICAgIDxCc0Z1bGxzY3JlZW4vPlxuICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgPC9nby5FZGl0b3I+fVxuICAgICAgPGMuTW9kYWxcbiAgICAgICAgY2xvc2VPbk92ZXJsYXlDbGljayBibG9ja1Njcm9sbE9uTW91bnQ9e2ZhbHNlfVxuICAgICAgICBvbkNsb3NlPXtkaXNjbG9zdXJlLm9uQ2xvc2V9XG4gICAgICAgIGlzT3Blbj17ZGlzY2xvc3VyZS5pc09wZW59IHBvcnRhbFByb3BzPXt7IGNvbnRhaW5lclJlZjogZ28ucm9vdCgpLnJlZiB9fVxuICAgICAgPlxuICAgICAgICA8Yy5Nb2RhbE92ZXJsYXkgLz5cbiAgICAgICAgPGMuTW9kYWxDb250ZW50IHc9JzgwdncnIG1heFc9JzgwdncnIGg9JzgwdmgnIHBvc2l0aW9uPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgPGMuTW9kYWxIZWFkZXI+eycnK2RlZXAubmFtZUxvY2FsKGxpbmtJZCl9PC9jLk1vZGFsSGVhZGVyPlxuICAgICAgICAgIDxjLk1vZGFsQm9keSBwPXswfSBwb3NpdGlvbj0ncmVsYXRpdmUnPlxuICAgICAgICAgICAgPGdvLkVkaXRvciBsaW5rSWQ9e2xpbmtJZH0gZmlsbFNpemU+XG4gICAgICAgICAgICAgIDxCc0Z1bGxzY3JlZW5FeGl0Lz5cbiAgICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgICAgPC9jLk1vZGFsQm9keT5cbiAgICAgICAgPC9jLk1vZGFsQ29udGVudD5cbiAgICAgIDwvYy5Nb2RhbD5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1240
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1249,
      "src_id": 879,
      "handler_id": 880,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1249,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 408,
          "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { SiApollographql } = require(\"react-icons/si\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Sandbox = deep.idLocal(dpl, 'Sandbox');\n    return ({ go, handlerId, isActive, }, ref) => {\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.go.do('right', { ...o, id: Sandbox }),\n                click: (g, v, o) => go.do('exec', o),\n                right: (g, v, o) => go.do('exec', o),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, onClick: () => {\n                    go.do('enter');\n                }, ref: ref },\n                React.createElement(SiApollographql, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUN0RCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUU3QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQztnQkFDekQsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztnQkFDbEMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQzthQUNuQztZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxPQUFPLEVBQUUsR0FBRyxFQUFFO29CQUNaLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ2pCLENBQUMsRUFDRCxHQUFHLEVBQUUsR0FBRztnQkFFUixvQkFBQyxlQUFlLE9BQUUsQ0FDVCxDQUNMLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCByZXF1aXJlIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCB7IFNpQXBvbGxvZ3JhcGhxbCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL3NpXCIpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIGNvbnN0IFNhbmRib3ggPSBkZWVwLmlkTG9jYWwoZHBsLCAnU2FuZGJveCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGhhbmRsZXJJZCxcblxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBleGVjOiAoZyx2LG8pID0+IGdvLmdvLmRvKCdyaWdodCcsIHsgLi4ubywgaWQ6IFNhbmRib3ggfSkpLFxuICAgICAgY2xpY2s6IChnLHYsbykgPT4gZ28uZG8oJ2V4ZWMnLCBvKSxcbiAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgfX0+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgdz0nM2VtJyBoPSczZW0nXG4gICAgICAgIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBnby5kbygnZW50ZXInKTtcbiAgICAgICAgfX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICA+XG4gICAgICAgIDxTaUFwb2xsb2dyYXBocWwvPlxuICAgICAgPC9jLkJ1dHRvbj5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1249
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1258,
      "src_id": 882,
      "handler_id": 883,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1258,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 411,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const { ApolloSandbox } = require('@apollo/sandbox/react');\n    const c = require('@chakra-ui/react');\n    return ({ go, requestOptions = {}, children, }, ref) => {\n        return React.createElement(go.On, { do: {\n                use: (g, v, o) => { },\n            } },\n            React.createElement(c.Box, { ref: ref, h: '100%', w: '100%', sx: { '& > div': { h: '100%' } } },\n                React.createElement(ApolloSandbox, { initialEndpoint: `http${deep.client.ssl ? 's' : ''}://${deep.client.path}`, initialState: {\n                        sharedHeaders: {\n                            Authorization: `Bearer ${deep.token}`,\n                        },\n                    } })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUFFLGFBQWEsRUFBRSxHQUFHLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0lBQzNELE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFFRixjQUFjLEdBQUcsRUFBRSxFQUVuQixRQUFRLEdBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUU7Z0JBQ2hCLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRSxDQUFDO2FBQ25CO1lBQ0Msb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUU7Z0JBQ2pFLG9CQUFDLGFBQWEsSUFDWixlQUFlLEVBQUUsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFDMUUsWUFBWSxFQUFFO3dCQUNaLGFBQWEsRUFBRTs0QkFDYixhQUFhLEVBQUUsVUFBVSxJQUFJLENBQUMsS0FBSyxFQUFFO3lCQUN0QztxQkFDRixHQUNELENBQ0ksQ0FDRixDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCB7IEFwb2xsb1NhbmRib3ggfSA9IHJlcXVpcmUoJ0BhcG9sbG8vc2FuZGJveC9yZWFjdCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgcmVxdWVzdE9wdGlvbnMgPSB7fSxcblxuICAgIGNoaWxkcmVuLFxuICB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICB1c2U6IChnLHYsbykgPT4ge30sXG4gICAgfX0+XG4gICAgICA8Yy5Cb3ggcmVmPXtyZWZ9IGg9JzEwMCUnIHc9JzEwMCUnIHN4PXt7ICcmID4gZGl2JzogeyBoOiAnMTAwJScgfSB9fT5cbiAgICAgICAgPEFwb2xsb1NhbmRib3hcbiAgICAgICAgICBpbml0aWFsRW5kcG9pbnQ9e2BodHRwJHtkZWVwLmNsaWVudC5zc2wgPyAncycgOiAnJ306Ly8ke2RlZXAuY2xpZW50LnBhdGh9YH1cbiAgICAgICAgICBpbml0aWFsU3RhdGU9e3tcbiAgICAgICAgICAgIHNoYXJlZEhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2RlZXAudG9rZW59YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvYy5Cb3g+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1258
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1285,
      "src_id": 887,
      "handler_id": 888,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1285,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 420,
          "value": "({ deep, data, require, Go }) => {\n    const { MdEdit, MdPreview, MdSaveAlt } = require(\"react-icons/md\");\n    const React = require('react');\n    const _ = require('lodash');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, useSymbol, } = require('@deep-foundation/perception-app');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const History = deep.idLocal(dpl, 'History');\n    const Header = deep.idLocal(dpl, 'Header');\n    const Search = deep.idLocal(dpl, 'Search');\n    const TreeQuery = deep.idLocal(dpl, 'TreeQuery');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const TreeLinkInsert = deep.idLocal(dpl, 'TreeLinkInsert');\n    const TreeLinkDelete = deep.idLocal(dpl, 'TreeLinkDelete');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const _Item = React.memo((props) => {\n        const { link, isActive, isConcentrated, Item, direction, startProps } = props;\n        const go = Go.useGo();\n        return React.createElement(c.Box, { ref: go.ref, ...(direction === 'vertical' ? { w: '100%' } : { h: '100%' }) }, !!Item ? React.createElement(Item, { link: link, go: go, isActive: isActive, ...startProps, isConcentrated: isConcentrated }) : React.createElement(go.Handler, { handlerId: TreeLinkButton, linkId: link.id, variant: 'full', ...startProps, isActive: isActive, ...(direction === 'vertical' ? { w: '100%' } : { h: '100%' }), isConcentrated: isConcentrated }));\n    }, (o, n) => {\n        return _.isEqual(o, n);\n    });\n    const startPropsPlaceholder = {};\n    return ({ go, handlerId, links = [], Item = _Item, direction = 'vertical', using = false, saveHistory = false, startProps = {}, concentrated, children = null, ...props }, ref) => {\n        const _startProps = React.useMemo(() => startProps, [startProps]);\n        const list = links.map((link, i) => !!link ? React.createElement(go.Provider, { key: `${link?.id}`, linkId: link.id },\n            React.createElement(_Item, { link: link, isActive: go.value === link.id, Item: Item, direction: direction, saveHistory: saveHistory, startProps: !i ? _startProps : startPropsPlaceholder, isConcentrated: concentrated ? !!concentrated[link.id] : undefined })) : React.createElement(React.Fragment, null));\n        const content = direction === 'vertical' ? React.createElement(c.VStack, { ref: ref, overflowY: 'scroll', overflowX: 'hidden', css: go.noScrollBar, flex: 1, w: '100%', h: '100%', ...props },\n            list,\n            children) : React.createElement(c.HStack, { ref: ref, overflowX: 'scroll', overflowY: 'hidden', css: go.noScrollBar, flex: 1, w: '100%', h: '100%', ...props },\n            list,\n            children);\n        React.useEffect(() => {\n            if (go?.current) {\n                if (using && go.root()?.data?.usedId != go.value)\n                    go.root().do('use', { id: go.value });\n                go.do('changed', { id: go.value });\n                go?.current?.scroll();\n            }\n        }, [go.value]);\n        const events = direction === 'vertical' ? {\n            up: (g, v, o) => {\n                if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                    go.focus(links?.[0]?.id);\n                }\n                else\n                    go.value === links?.[0]?.id ? go.go.do('up') : go.focus(go.prev(links));\n            },\n            down: (g, v, o) => {\n                if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                    go.focus(links?.[links.length - 1]?.id);\n                }\n                else\n                    go.value === links?.[links.length - 1]?.id ? go.go.do('down') : go.focus(go.next(links));\n            },\n        } : {\n            left: (g, v, o) => {\n                if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                    go.focus(links?.[0]?.id);\n                }\n                else\n                    go.value === links?.[0]?.id ? go.go.do('left') : go.focus(go.prev(links));\n            },\n            right: (g, v, o) => {\n                if (o?.hotkeyEvent?.meta || o?.hotkeyEvent?.shift || o?.hotkeyEvent?.ctrl || o?.hotkeyEvent?.alt) {\n                    go.focus(links?.[links.length - 1]?.id);\n                }\n                else\n                    go.value === links?.[links.length - 1]?.id ? go.go.do('right') : go.focus(go.next(links));\n            },\n        };\n        return React.createElement(go.On, { do: {\n                focus: (g, d, v, o) => !v && go.set(o?.id ? o?.id : links?.[0]?.id),\n                use: (g, v, o) => o?.id && o?.id != go.value && go(o?.id) && go.set(o.id).go(o?.id).go?.scroll().go?.do('use'),\n                exec: (g, v, o) => (o?.id || go.value) && go.set(o?.id || go.value).go.go.do('exec', { id: o?.id || go.value }),\n                ...events,\n            } }, content);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sRUFDSixTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUN4RSxTQUFTLEdBQ1YsR0FBRyxPQUFPLENBQUMsaUNBQWlDLENBQUMsQ0FBQztJQUUvQyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMzQyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMzQyxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNqRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxV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LENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDbkYsQ0FBQztZQUNELEtBQUssRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2YsSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLEtBQUssSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLEdBQUcsRUFBRSxDQUFDO29CQUNqRyxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQzFDLENBQUM7O29CQUFNLEVBQUUsQ0FBQyxLQUFLLEtBQUssS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNuRyxDQUFDO1NBQ0YsQ0FBQztRQUVGLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFDWCxFQUFFLEVBQUU7Z0JBQ0YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDaEUsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUM7Z0JBQzVHLElBQUksRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUM3RyxHQUFHLE1BQU07YUFDVixJQUVBLE9BQU8sQ0FDRixDQUFBO0lBQ1YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCB7IE1kRWRpdCwgTWRQcmV2aWV3LCBNZFNhdmVBbHQgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9tZFwiKTtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbiAgY29uc3Qge1xuICAgIFR5cGVkSWNvbiwgRG93bkljb24sIFVwSWNvbiwgVHlwZUljb24sIEluSWNvbiwgT3V0SWNvbiwgRnJvbUljb24sIFRvSWNvbixcbiAgICB1c2VTeW1ib2wsXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG4gIFxuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBcbiAgY29uc3QgSGlzdG9yeSA9IGRlZXAuaWRMb2NhbChkcGwsICdIaXN0b3J5Jyk7XG4gIGNvbnN0IEhlYWRlciA9IGRlZXAuaWRMb2NhbChkcGwsICdIZWFkZXInKTtcbiAgY29uc3QgU2VhcmNoID0gZGVlcC5pZExvY2FsKGRwbCwgJ1NlYXJjaCcpO1xuICBjb25zdCBUcmVlUXVlcnkgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZVF1ZXJ5Jyk7XG4gIGNvbnN0IFRyZWVMaXN0ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaXN0Jyk7XG4gIGNvbnN0IFRyZWVMaW5rID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rJyk7XG4gIGNvbnN0IFRyZWVMaW5rSW5zZXJ0ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rSW5zZXJ0Jyk7XG4gIGNvbnN0IFRyZWVMaW5rRGVsZXRlID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rRGVsZXRlJyk7XG4gIGNvbnN0IFRyZWVMaW5rQnV0dG9uID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rQnV0dG9uJyk7XG5cbiAgY29uc3QgX0l0ZW0gPSBSZWFjdC5tZW1vKChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbGluaywgaXNBY3RpdmUsIGlzQ29uY2VudHJhdGVkLCBJdGVtLCBkaXJlY3Rpb24sIHN0YXJ0UHJvcHMgfSA9IHByb3BzO1xuICAgIC8vIGNvbnNvbGUubG9nKCdYWFhYWCAyJywgbGluaz8uaWQsIHByb3BzKTtcbiAgICBjb25zdCBnbyA9IEdvLnVzZUdvKCk7XG4gICAgcmV0dXJuIDxjLkJveCByZWY9e2dvLnJlZn0gey4uLihkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyB7IHc6ICcxMDAlJyB9IDogeyBoOiAnMTAwJScgfSl9PlxuICAgICAgeyEhSXRlbSA/IDxJdGVtIGxpbms9e2xpbmt9IGdvPXtnb30gaXNBY3RpdmU9e2lzQWN0aXZlfSB7Li4uc3RhcnRQcm9wc31cbiAgICAgICAgaXNDb25jZW50cmF0ZWQ9e2lzQ29uY2VudHJhdGVkfVxuICAgICAgLz4gOiA8Z28uSGFuZGxlclxuICAgICAgICBoYW5kbGVySWQ9e1RyZWVMaW5rQnV0dG9ufSBsaW5rSWQ9e2xpbmsuaWR9IHZhcmlhbnQ9J2Z1bGwnIHsuLi5zdGFydFByb3BzfVxuICAgICAgICBpc0FjdGl2ZT17aXNBY3RpdmV9IHsuLi4oZGlyZWN0aW9uID09PSAndmVydGljYWwnID8geyB3OiAnMTAwJScgfSA6IHsgaDogJzEwMCUnIH0pfVxuICAgICAgICBpc0NvbmNlbnRyYXRlZD17aXNDb25jZW50cmF0ZWR9XG4gICAgICAvPn1cbiAgICA8L2MuQm94PjtcbiAgfSwgKG8sIG4pID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZygnWFhYWFgnLCBvPy5saW5rPy5pZCwgXy5pc0VxdWFsKG8sIG4pLCBvLCBuKTtcbiAgICByZXR1cm4gXy5pc0VxdWFsKG8sIG4pO1xuICB9KTtcblxuICBjb25zdCBzdGFydFByb3BzUGxhY2Vob2xkZXIgPSB7fTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBoYW5kbGVySWQsXG5cbiAgICBsaW5rcyA9IFtdLFxuICAgIEl0ZW0gPSBfSXRlbSxcblxuICAgIGRpcmVjdGlvbiA9ICd2ZXJ0aWNhbCcsIC8vICd2ZXJ0aWNhbCcgfCAnaG9yaXpvbnRhbCdcblxuICAgIHVzaW5nID0gZmFsc2UsXG4gICAgc2F2ZUhpc3RvcnkgPSBmYWxzZSxcblxuICAgIHN0YXJ0UHJvcHMgPSB7fSxcblxuICAgIGNvbmNlbnRyYXRlZCxcblxuICAgIGNoaWxkcmVuID0gbnVsbCxcblxuICAgIC4uLnByb3BzXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IF9zdGFydFByb3BzID0gUmVhY3QudXNlTWVtbygoKSA9PiBzdGFydFByb3BzLCBbc3RhcnRQcm9wc10pO1xuICAgIGNvbnN0IGxpc3QgPSBsaW5rcy5tYXAoKGxpbmssIGkpID0+ICEhbGluayA/IDxnby5Qcm92aWRlciBrZXk9e2Ake2xpbms/LmlkfWB9IGxpbmtJZD17bGluay5pZH0+XG4gICAgICA8X0l0ZW1cbiAgICAgICAgbGluaz17bGlua30gaXNBY3RpdmU9e2dvLnZhbHVlID09PSBsaW5rLmlkfSBJdGVtPXtJdGVtfVxuICAgICAgICBkaXJlY3Rpb249e2RpcmVjdGlvbn0gc2F2ZUhpc3Rvcnk9e3NhdmVIaXN0b3J5fVxuICAgICAgICBzdGFydFByb3BzPXshaSA/IF9zdGFydFByb3BzIDogc3RhcnRQcm9wc1BsYWNlaG9sZGVyfVxuICAgICAgICBpc0NvbmNlbnRyYXRlZD17Y29uY2VudHJhdGVkID8gISFjb25jZW50cmF0ZWRbbGluay5pZF0gOiB1bmRlZmluZWR9XG4gICAgICAvPlxuICAgIDwvZ28uUHJvdmlkZXI+IDogPFJlYWN0LkZyYWdtZW50Lz4pO1xuXG4gICAgY29uc3QgY29udGVudCA9IGRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/IDxjLlZTdGFjayByZWY9e3JlZn1cbiAgICAgIG92ZXJmbG93WT0nc2Nyb2xsJyBvdmVyZmxvd1g9J2hpZGRlbidcbiAgICAgIGNzcz17Z28ubm9TY3JvbGxCYXJ9IGZsZXg9ezF9XG4gICAgICB3PScxMDAlJyBoPScxMDAlJ1xuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIHtsaXN0fVxuICAgICAge2NoaWxkcmVufVxuICAgIDwvYy5WU3RhY2s+IDogPGMuSFN0YWNrIHJlZj17cmVmfVxuICAgICAgb3ZlcmZsb3dYPSdzY3JvbGwnIG92ZXJmbG93WT0naGlkZGVuJ1xuICAgICAgY3NzPXtnby5ub1Njcm9sbEJhcn0gZmxleD17MX1cbiAgICAgIHc9JzEwMCUnIGg9JzEwMCUnXG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAge2xpc3R9XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9jLkhTdGFjaz47XG5cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGdvPy5jdXJyZW50KSB7XG4gICAgICAgIGlmICh1c2luZyAmJiBnby5yb290KCk/LmRhdGE/LnVzZWRJZCAhPSBnby52YWx1ZSkgZ28ucm9vdCgpLmRvKCd1c2UnLCB7IGlkOiBnby52YWx1ZSB9KTtcbiAgICAgICAgZ28uZG8oJ2NoYW5nZWQnLCB7IGlkOiBnby52YWx1ZSB9KTtcbiAgICAgICAgZ28/LmN1cnJlbnQ/LnNjcm9sbCgpO1xuICAgICAgfVxuICAgIH0sIFtnby52YWx1ZV0pO1xuXG4gICAgY29uc3QgZXZlbnRzID0gZGlyZWN0aW9uID09PSAndmVydGljYWwnID8ge1xuICAgICAgdXA6IChnLHYsbykgPT4ge1xuICAgICAgICBpZiAobz8uaG90a2V5RXZlbnQ/Lm1ldGEgfHwgbz8uaG90a2V5RXZlbnQ/LnNoaWZ0IHx8IG8/LmhvdGtleUV2ZW50Py5jdHJsIHx8IG8/LmhvdGtleUV2ZW50Py5hbHQpIHtcbiAgICAgICAgICBnby5mb2N1cyhsaW5rcz8uWzBdPy5pZCk7XG4gICAgICAgIH0gZWxzZSBnby52YWx1ZSA9PT0gbGlua3M/LlswXT8uaWQgPyBnby5nby5kbygndXAnKSA6IGdvLmZvY3VzKGdvLnByZXYobGlua3MpKTtcbiAgICAgIH0sXG4gICAgICBkb3duOiAoZyx2LG8pID0+IHtcbiAgICAgICAgaWYgKG8/LmhvdGtleUV2ZW50Py5tZXRhIHx8IG8/LmhvdGtleUV2ZW50Py5zaGlmdCB8fCBvPy5ob3RrZXlFdmVudD8uY3RybCB8fCBvPy5ob3RrZXlFdmVudD8uYWx0KSB7XG4gICAgICAgICAgZ28uZm9jdXMobGlua3M/LltsaW5rcy5sZW5ndGggLSAxXT8uaWQpO1xuICAgICAgICB9IGVsc2UgZ28udmFsdWUgPT09IGxpbmtzPy5bbGlua3MubGVuZ3RoIC0gMV0/LmlkID8gZ28uZ28uZG8oJ2Rvd24nKSA6IGdvLmZvY3VzKGdvLm5leHQobGlua3MpKTtcbiAgICAgIH0sXG4gICAgfSA6IHtcbiAgICAgIGxlZnQ6IChnLHYsbykgPT4ge1xuICAgICAgICBpZiAobz8uaG90a2V5RXZlbnQ/Lm1ldGEgfHwgbz8uaG90a2V5RXZlbnQ/LnNoaWZ0IHx8IG8/LmhvdGtleUV2ZW50Py5jdHJsIHx8IG8/LmhvdGtleUV2ZW50Py5hbHQpIHtcbiAgICAgICAgICBnby5mb2N1cyhsaW5rcz8uWzBdPy5pZCk7XG4gICAgICAgIH0gZWxzZSBnby52YWx1ZSA9PT0gbGlua3M/LlswXT8uaWQgPyBnby5nby5kbygnbGVmdCcpIDogZ28uZm9jdXMoZ28ucHJldihsaW5rcykpO1xuICAgICAgfSxcbiAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IHtcbiAgICAgICAgaWYgKG8/LmhvdGtleUV2ZW50Py5tZXRhIHx8IG8/LmhvdGtleUV2ZW50Py5zaGlmdCB8fCBvPy5ob3RrZXlFdmVudD8uY3RybCB8fCBvPy5ob3RrZXlFdmVudD8uYWx0KSB7XG4gICAgICAgICAgZ28uZm9jdXMobGlua3M/LltsaW5rcy5sZW5ndGggLSAxXT8uaWQpO1xuICAgICAgICB9IGVsc2UgZ28udmFsdWUgPT09IGxpbmtzPy5bbGlua3MubGVuZ3RoIC0gMV0/LmlkID8gZ28uZ28uZG8oJ3JpZ2h0JykgOiBnby5mb2N1cyhnby5uZXh0KGxpbmtzKSk7XG4gICAgICB9LFxuICAgIH07XG5cbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgICBmb2N1czogKGcsZCx2LG8pID0+ICF2ICYmIGdvLnNldChvPy5pZCA/IG8/LmlkIDogbGlua3M/LlswXT8uaWQpLFxuICAgICAgICB1c2U6IChnLHYsbykgPT4gbz8uaWQgJiYgbz8uaWQgIT0gZ28udmFsdWUgJiYgZ28obz8uaWQpICYmIGdvLnNldChvLmlkKS5nbyhvPy5pZCkuZ28/LnNjcm9sbCgpLmdvPy5kbygndXNlJyksXG4gICAgICAgIGV4ZWM6IChnLHYsbykgPT4gKG8/LmlkIHx8IGdvLnZhbHVlKSAmJiBnby5zZXQobz8uaWQgfHwgZ28udmFsdWUpLmdvLmdvLmRvKCdleGVjJywgeyBpZDogbz8uaWQgfHwgZ28udmFsdWUgfSlcbiAgICAgICAgLi4uZXZlbnRzLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y29udGVudH1cbiAgICA8L2dvLk9uPlxuICB9O1xufVxuIl19",
          "link_id": 1285
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1294,
      "src_id": 889,
      "handler_id": 890,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1294,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 423,
          "value": "({ deep, data, require, Go }) => {\n    const { BsCheck2All } = require(\"react-icons/bs\");\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const Query = deep.idLocal(dc, 'Query');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const FinderQuery = deep.idLocal(dpl, 'FinderQuery');\n    const Tree = deep.idLocal(dpl, 'Tree');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const Search = deep.idLocal(dpl, 'Search');\n    return ({ go, isActive, saveHistory = false, disclosure: __disclosure, startProps, onSubmit, ...props }, ref) => {\n        const _disclosure = c.useDisclosure();\n        const disclosure = __disclosure || _disclosure;\n        React.useEffect(() => () => deep.minilinks.apply([], `deep-perception-finder-${go.__p}`), []);\n        const [queryId, setQueryId] = React.useState(!saveHistory ? 'virtual' : undefined);\n        return React.createElement(go.On, { do: {\n                open: (g, v, o) => {\n                    if (!o?.id)\n                        return;\n                    disclosure.onClose();\n                    go.root().do('open', { id: o?.id, focus: true });\n                },\n                exec: async (g, v, o) => {\n                    if (saveHistory) {\n                        const { data: [{ id }] } = await deep.insert({\n                            type_id: Query,\n                            object: {\n                                _or: [{ in: { type_id: Contain, string: { value: { _ilike: `%Type%` } } } }],\n                            },\n                            containerId: deep.linkId,\n                            in: {\n                                type_id: FinderQuery,\n                                from_id: deep.linkId,\n                                containerId: deep.linkId,\n                            },\n                        });\n                        await deep.select(id, { apply: `deep-perception-finder-${go.__p}` });\n                        setQueryId(id);\n                    }\n                    disclosure.onOpen();\n                    go.focus(Tree);\n                }\n            } },\n            React.createElement(c.Button, { ref: ref, h: '3em', w: '3em', variant: isActive ? 'active' : null, onClick: () => go.do('exec'), ...props }, \"\\uD83E\\uDEAC\"),\n            !!queryId && disclosure.isOpen && React.createElement(go.Component, { path: [dpl, 'Finder'], disclosure: disclosure, initialId: queryId, initialHandlerId: TreeList, onSubmit: onSubmit || ((id) => go.do('open', { id })), startProps: startProps }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDbEQsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRS9CLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBQ25DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBRWhELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3JELE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBRTNDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFFRixRQUFRLEVBQ1IsV0FBVyxHQUFHLEtBQUssRUFDbkIsVUFBVSxFQUFFLFlBQVksRUFDeEIsVUFBVSxFQUNWLFFBQVEsRUFDUixHQUFHLEtBQUssRUFDVCxFQUFFLEdB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LFFBQVEsRUFDdEUsUUFBUSxFQUFFLFFBQVEsSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFDckQsVUFBVSxFQUFFLFVBQVUsR0FDdEIsQ0FDSSxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCB7IEJzQ2hlY2syQWxsIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvYnNcIik7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgXG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIFxuICBjb25zdCBRdWVyeSA9IGRlZXAuaWRMb2NhbChkYywgJ1F1ZXJ5Jyk7XG4gIGNvbnN0IENvbnRhaW4gPSBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyk7XG4gIGNvbnN0IEZpbmRlclF1ZXJ5ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0ZpbmRlclF1ZXJ5Jyk7XG4gIGNvbnN0IFRyZWUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZScpO1xuICBjb25zdCBUcmVlTGlzdCA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlzdCcpO1xuICBjb25zdCBTZWFyY2ggPSBkZWVwLmlkTG9jYWwoZHBsLCAnU2VhcmNoJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICBpc0FjdGl2ZSxcbiAgICBzYXZlSGlzdG9yeSA9IGZhbHNlLFxuICAgIGRpc2Nsb3N1cmU6IF9fZGlzY2xvc3VyZSxcbiAgICBzdGFydFByb3BzLFxuICAgIG9uU3VibWl0LFxuICAgIC4uLnByb3BzXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IF9kaXNjbG9zdXJlID0gYy51c2VEaXNjbG9zdXJlKCk7XG4gICAgY29uc3QgZGlzY2xvc3VyZSA9IF9fZGlzY2xvc3VyZSB8fCBfZGlzY2xvc3VyZTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiAoKSA9PiBkZWVwLm1pbmlsaW5rcy5hcHBseShbXSwgYGRlZXAtcGVyY2VwdGlvbi1maW5kZXItJHtnby5fX3B9YCksIFtdKTtcbiAgICBjb25zdCBbcXVlcnlJZCwgc2V0UXVlcnlJZF0gPSBSZWFjdC51c2VTdGF0ZSghc2F2ZUhpc3RvcnkgPyAndmlydHVhbCcgOiB1bmRlZmluZWQpO1xuXG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgb3BlbjogKGcsdixvKSA9PiB7XG4gICAgICAgICAgaWYgKCFvPy5pZCkgcmV0dXJuO1xuICAgICAgICAgIGRpc2Nsb3N1cmUub25DbG9zZSgpO1xuICAgICAgICAgIGdvLnJvb3QoKS5kbygnb3BlbicsIHsgaWQ6IG8/LmlkLCBmb2N1czogdHJ1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZXhlYzogYXN5bmMgKGcsdixvKSA9PiB7XG4gICAgICAgICAgaWYgKHNhdmVIaXN0b3J5KSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IFt7IGlkIH1dIH0gPSBhd2FpdCBkZWVwLmluc2VydCh7XG4gICAgICAgICAgICAgIHR5cGVfaWQ6IFF1ZXJ5LFxuICAgICAgICAgICAgICBvYmplY3Q6IHtcbiAgICAgICAgICAgICAgICBfb3I6IFt7IGluOiB7IHR5cGVfaWQ6IENvbnRhaW4sIHN0cmluZzogeyB2YWx1ZTogeyBfaWxpa2U6IGAlVHlwZSVgIH0gfSB9IH1dLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjb250YWluZXJJZDogZGVlcC5saW5rSWQsXG4gICAgICAgICAgICAgIGluOiB7XG4gICAgICAgICAgICAgICAgdHlwZV9pZDogRmluZGVyUXVlcnksXG4gICAgICAgICAgICAgICAgZnJvbV9pZDogZGVlcC5saW5rSWQsXG4gICAgICAgICAgICAgICAgY29udGFpbmVySWQ6IGRlZXAubGlua0lkLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBkZWVwLnNlbGVjdChpZCwgeyBhcHBseTogYGRlZXAtcGVyY2VwdGlvbi1maW5kZXItJHtnby5fX3B9YCB9KTtcbiAgICAgICAgICAgIHNldFF1ZXJ5SWQoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaXNjbG9zdXJlLm9uT3BlbigpO1xuICAgICAgICAgIGdvLmZvY3VzKFRyZWUpO1xuICAgICAgICB9XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLkJ1dHRvblxuICAgICAgICByZWY9e3JlZn0gaD0nM2VtJyB3PSczZW0nIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiBudWxsfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnZXhlYycpfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICA+8J+qrDwvYy5CdXR0b24+XG4gICAgICB7ISFxdWVyeUlkICYmIGRpc2Nsb3N1cmUuaXNPcGVuICYmIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ0ZpbmRlciddfVxuICAgICAgICBkaXNjbG9zdXJlPXtkaXNjbG9zdXJlfSBpbml0aWFsSWQ9e3F1ZXJ5SWR9IGluaXRpYWxIYW5kbGVySWQ9e1RyZWVMaXN0fVxuICAgICAgICBvblN1Ym1pdD17b25TdWJtaXQgfHwgKChpZCkgPT4gZ28uZG8oJ29wZW4nLCB7IGlkIH0pKX1cbiAgICAgICAgc3RhcnRQcm9wcz17c3RhcnRQcm9wc31cbiAgICAgIC8+fVxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1294
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1303,
      "src_id": 891,
      "handler_id": 892,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1303,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 426,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const { BsX, BsCheck2, BsXLg, BsDatabase, BsRegex } = require('react-icons/bs');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const { useAsyncMemo } = require('use-async-memo');\n    const c = require('@chakra-ui/react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const V = deep.idLocal(dc, 'Value');\n    const S = deep.idLocal(dc, 'String');\n    const N = deep.idLocal(dc, 'Number');\n    const O = deep.idLocal(dc, 'Object');\n    const F = deep.idLocal(dc, 'File');\n    const Any = deep.idLocal(dc, 'Any');\n    return ({ go, defaultContainerId, defaultTypeId, defaultFromId, defaultToId, customInsert: _customInsert = {}, onInsert, disclosure, }, ref) => {\n        if (!disclosure)\n            throw new Error('!disclosure');\n        const [name, setName] = React.useState('');\n        const customInsert = React.useMemo(() => {\n            return typeof (_customInsert) == 'function' ? _customInsert({ name }) : _customInsert;\n        }, [_customInsert, name]);\n        const [typeId, setTypeId] = React.useState(defaultTypeId || (deep.isId(customInsert?.type_id) ? customInsert?.type_id : deep.isId(customInsert?.type) ? customInsert?.type : undefined));\n        const [fromId, setFromId] = React.useState(defaultFromId || (deep.isId(customInsert?.from_id) ? customInsert?.from_id : deep.isId(customInsert?.from) ? customInsert?.from : undefined));\n        const [toId, setToId] = React.useState(defaultToId || (deep.isId(customInsert?.to_id) ? customInsert?.to_id : deep.isId(customInsert?.to) ? customInsert?.to : undefined));\n        const [containerId, setContainerId] = React.useState(defaultContainerId || (deep.isId(customInsert?.containerId) ? customInsert?.containerId : undefined));\n        const type = React.useMemo(() => typeId ? deep.get(+typeId) : null, [typeId]);\n        const prevTypeBasedNameRef = React.useRef();\n        React.useEffect(() => {\n            if (!type)\n                return;\n            const tn = _.lowerFirst(type?.name);\n            if (!name || name === prevTypeBasedNameRef.current) {\n                prevTypeBasedNameRef.current = tn;\n                setName(tn);\n            }\n        }, [type]);\n        const from = React.useMemo(() => fromId ? deep.get(+fromId) : null, [fromId]);\n        const to = React.useMemo(() => toId ? deep.get(+toId) : null, [toId]);\n        const [value, setValue] = React.useState();\n        const tV = useAsyncMemo(async () => {\n            return typeId ? (await deep.select({ type_id: V, from_id: +typeId }))?.data?.[0]?.to_id : undefined;\n        }, [type]);\n        const { isValid, validated } = React.useMemo(() => {\n            try {\n                if (tV === S)\n                    return { validated: value, isValid: true };\n                if (tV === N)\n                    return { validated: +value, isValud: typeof (validated) === 'number' && !Number.isNaN(validated) };\n                if (tV === O)\n                    return { validated: JSON.parse(value), isValid: true };\n                if (!tV)\n                    return { validated: value, isValid: true };\n            }\n            catch (e) { }\n            return { validated: value, isValid: false };\n        }, [value, tV]);\n        const [v, setV] = React.useState();\n        const AllowAdmin = useAsyncMemo(async () => {\n            return await deep.can(deep.linkId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowAdmin'));\n        }, [], false);\n        const AllowInsertType = useAsyncMemo(async () => {\n            return !typeId ? false : await deep.can(+typeId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowInsertType'));\n        }, [typeId], false);\n        const can = AllowInsertType || AllowAdmin;\n        const insertQuery = type ? {\n            ...customInsert,\n            type_id: type.id,\n            ...(fromId && toId ? { from_id: +fromId, to_id: +toId } : {}),\n            containerId,\n            ...(name ? { name } : {}),\n            ...(validated ? (tV == S ? { string: { data: { value: validated } } } :\n                tV == N ? { number: { data: { value: validated } } } :\n                    tV == O ? { object: { data: { value: validated } } } :\n                        {}) : {}),\n        } : {};\n        if (v) {\n            insertQuery.out = (_.isArray(insertQuery.out) ? insertQuery.out :\n                typeof (insertQuery.out) === 'object' ? [insertQuery.out] :\n                    []);\n            insertQuery.out.push({ type_id: V, to_id: v, name: `${name}Value` });\n        }\n        const isValidLink = React.useMemo(() => {\n            const type = !!typeId && deep.get(typeId);\n            return ((insertQuery?.type_id || insertQuery?.type) &&\n                (insertQuery?.from_id || insertQuery?.from || (!!type && (!type?.from_id || type?.from_id === Any))) &&\n                (insertQuery?.to_id || insertQuery?.to || (!!type && (!type?.to_id || type?.to_id === Any))));\n        }, [typeId, fromId, toId, insertQuery]);\n        const valueType = React.useMemo(() => type?.outByType[V]?.[0]?.to_id, [type]);\n        const [inserting, setInserting] = React.useState(false);\n        const buttons = React.createElement(React.Fragment, null,\n            React.createElement(c.SlideFade, { in: true, offsetX: '-0.5rem', style: { position: 'absolute', top: 0, right: '-4em' } },\n                React.createElement(c.Button, { w: '3em', h: '3em', boxShadow: 'dark-lg', variant: undefined, onClick: disclosure.onClose },\n                    React.createElement(BsX, null))),\n            React.createElement(c.SlideFade, { in: (isValidLink) && (isValid || value === ''), offsetX: '-0.5rem', style: { position: 'absolute', bottom: 0, right: '-4em' } },\n                React.createElement(c.Button, { w: '3em', h: '3em', boxShadow: 'dark-lg', variant: 'active', isLoading: inserting, onClick: async () => {\n                        setInserting(true);\n                        const { data: [inserted] } = await deep.insert(insertQuery);\n                        onInsert && onInsert(inserted, insertQuery);\n                        setInserting(false);\n                        disclosure.onClose();\n                    } },\n                    React.createElement(BsCheck2, null))));\n        const alert = React.createElement(React.Fragment, null,\n            React.createElement(c.Alert, { status: can ? 'info' : 'error' },\n                React.createElement(c.AlertIcon, null),\n                React.createElement(c.AlertTitle, null,\n                    \"You \",\n                    can ? 'can' : 'can`t',\n                    \" do it.\")),\n            React.createElement(go.Editor, { value: `await deep.can(deep.linkId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowAdmin'))\n// ${AllowAdmin}${!!typeId ? `\nawait deep.can(${typeId}, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowInsertType'))\n// ${AllowInsertType}` : ''}`, editable: false }));\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.Modal, { ref: ref, closeOnOverlayClick: true, blockScrollOnMount: false, onClose: disclosure.onClose, isOpen: disclosure.isOpen, portalProps: { containerRef: go.root().ref } },\n                React.createElement(c.ModalOverlay, null),\n                React.createElement(c.ModalContent, { w: '30em', maxW: '30em', position: 'relative' },\n                    React.createElement(c.ModalHeader, null, \"Link inserting:\"),\n                    React.createElement(c.ModalBody, { p: 0, w: '100%', h: '100%' },\n                        !can && alert,\n                        React.createElement(go.Component, { path: [dpl, 'FinderInput'], leftIcon: React.createElement(TypeIcon, null), value: typeId, onChange: id => setTypeId(id) }),\n                        (((!!typeId && !!type) && ((!!type?.from_id && !!type?.to_id) || type?.id === 1)) || (!typeId)) && React.createElement(c.SimpleGrid, { columns: 2 },\n                            React.createElement(go.Component, { path: [dpl, 'FinderInput'], leftIcon: React.createElement(FromIcon, null), value: fromId, onChange: id => setFromId(id) }),\n                            React.createElement(go.Component, { path: [dpl, 'FinderInput'], leftIcon: React.createElement(ToIcon, null), value: toId, onChange: id => setToId(id) })),\n                        React.createElement(c.SimpleGrid, { columns: 2 },\n                            React.createElement(go.Component, { path: [dpl, 'FinderInput'], leftIcon: React.createElement(React.Fragment, null, \"\\uD83D\\uDDC2\\uFE0F\"), value: containerId, onChange: id => setContainerId(id) }),\n                            React.createElement(c.Input, { placeholder: 'name', h: '3em', value: name, onChange: e => setName(e.target.value) })),\n                        !!type && React.createElement(React.Fragment, null,\n                            React.createElement(c.Box, null,\n                                !valueType && React.createElement(React.Fragment, null,\n                                    React.createElement(c.Alert, { status: 'info' },\n                                        React.createElement(c.AlertIcon, null),\n                                        React.createElement(c.AlertTitle, null,\n                                            \"type \",\n                                            +type,\n                                            \" can't have Value\"))),\n                                valueType === S && React.createElement(React.Fragment, null,\n                                    React.createElement(go.Editor, { placeholder: 'String value', value: value, onChange: setValue })),\n                                valueType === N && React.createElement(React.Fragment, null,\n                                    React.createElement(c.Input, { type: 'string', value: value, placeholder: 'Number value', onChange: e => setValue(e.target.value) })),\n                                valueType === O && React.createElement(React.Fragment, null,\n                                    React.createElement(go.Editor, { placeholder: 'Object value', value: value, onChange: setValue })),\n                                (tV === S || tV === N || tV === O) && React.createElement(c.Tag, { size: 'lg', colorScheme: value === '' ? 'black' : isValid ? 'deepActive' : 'danger', variant: 'solid', borderRadius: 'full', position: 'absolute', bottom: '-0.5em', right: '-0.5em' }, value === '' ? 'empty' : isValid ? 'valid' : 'invalid'))),\n                        React.createElement(c.Flex, null,\n                            React.createElement(c.Button, { flex: '1', variant: v === N ? 'active' : undefined, onClick: () => setV(N) }, \"number\"),\n                            React.createElement(c.Button, { flex: '1', variant: v === S ? 'active' : undefined, onClick: () => setV(S) }, \"string\"),\n                            React.createElement(c.Button, { flex: '1', variant: v === O ? 'active' : undefined, onClick: () => setV(O) }, \"object\"),\n                            React.createElement(c.Button, { flex: '1', variant: v === F ? 'active' : undefined, onClick: () => setV(F) }, \"file\"),\n                            React.createElement(c.Button, { onClick: () => setV() }, \"x\")),\n                        React.createElement(c.Divider, { mb: '1em' }),\n                        React.createElement(go.Editor, { value: `await deep.insert(${JSON.stringify(insertQuery, null, 2)})`, editable: false }),\n                        !!can && alert),\n                    buttons)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUVoRixNQUFNLEVBQ0osU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sR0FDekUsR0FBRyxPQUFPLENBQUMsaUNBQWlDLENBQUMsQ0FBQztJQUUvQyxNQUFNLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFFbkQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFFaEQsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDcEMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDckMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDckMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDckMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFD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QU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUMsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLEVBQ3RILFFBQVEsRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxLQUFLLEVBQUMsUUFBUSxJQUNsRCxLQUFLLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQVMsQ0FDM0QsQ0FDUDt3QkFDSCxvQkFBQyxDQUFDLENBQUMsSUFBSTs0QkFDTCxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGFBQW1COzRCQUNyRyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGFBQW1COzRCQUNyRyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGFBQW1COzRCQUNyRyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFdBQWlCOzRCQUNuRyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsUUFBYyxDQUN0Qzt3QkFDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxLQUFLLEdBQUU7d0JBQ3BCLG9CQUFDLEVBQUUsQ0FBQyxNQUFNLElBQ1QsS0FBSyxFQUFFLHFCQUFxQixJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFDbkUsUUFBUSxFQUFFLEtBQUssR0FDZjt3QkFDRCxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FDSDtvQkFDYixPQUFPLENBQ08sQ0FDVCxDQUNKLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBHbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBCc1gsIEJzQ2hlY2syLCBCc1hMZywgQnNEYXRhYmFzZSwgQnNSZWdleCB9ID0gcmVxdWlyZSgncmVhY3QtaWNvbnMvYnMnKTtcblxuICBjb25zdCB7XG4gICAgVHlwZWRJY29uLCBEb3duSWNvbiwgVXBJY29uLCBUeXBlSWNvbiwgSW5JY29uLCBPdXRJY29uLCBGcm9tSWNvbiwgVG9JY29uLFxuICB9ID0gcmVxdWlyZSgnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWFwcCcpO1xuXG4gIGNvbnN0IHsgdXNlQXN5bmNNZW1vIH0gPSByZXF1aXJlKCd1c2UtYXN5bmMtbWVtbycpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcblxuICBjb25zdCBWID0gZGVlcC5pZExvY2FsKGRjLCAnVmFsdWUnKTtcbiAgY29uc3QgUyA9IGRlZXAuaWRMb2NhbChkYywgJ1N0cmluZycpO1xuICBjb25zdCBOID0gZGVlcC5pZExvY2FsKGRjLCAnTnVtYmVyJyk7XG4gIGNvbnN0IE8gPSBkZWVwLmlkTG9jYWwoZGMsICdPYmplY3QnKTtcbiAgY29uc3QgRiA9IGRlZXAuaWRMb2NhbChkYywgJ0ZpbGUnKTtcbiAgY29uc3QgQW55ID0gZGVlcC5pZExvY2FsKGRjLCAnQW55Jyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICBkZWZhdWx0Q29udGFpbmVySWQsXG4gICAgZGVmYXVsdFR5cGVJZCxcbiAgICBkZWZhdWx0RnJvbUlkLFxuICAgIGRlZmF1bHRUb0lkLFxuXG4gICAgY3VzdG9tSW5zZXJ0OiBfY3VzdG9tSW5zZXJ0ID0ge30sXG5cbiAgICBvbkluc2VydCxcblxuICAgIGRpc2Nsb3N1cmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIGlmICghZGlzY2xvc3VyZSkgdGhyb3cgbmV3IEVycm9yKCchZGlzY2xvc3VyZScpO1xuXG4gICAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuXG4gICAgY29uc3QgY3VzdG9tSW5zZXJ0ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICByZXR1cm4gdHlwZW9mKF9jdXN0b21JbnNlcnQpID09ICdmdW5jdGlvbicgPyBfY3VzdG9tSW5zZXJ0KHsgbmFtZSB9KSA6IF9jdXN0b21JbnNlcnQ7XG4gICAgfSwgW19jdXN0b21JbnNlcnQsIG5hbWVdKTtcblxuICAgIGNvbnN0IFt0eXBlSWQsIHNldFR5cGVJZF0gPSBSZWFjdC51c2VTdGF0ZShkZWZhdWx0VHlwZUlkIHx8IChkZWVwLmlzSWQoY3VzdG9tSW5zZXJ0Py50eXBlX2lkKSA/IGN1c3RvbUluc2VydD8udHlwZV9pZCA6IGRlZXAuaXNJZChjdXN0b21JbnNlcnQ/LnR5cGUpID8gY3VzdG9tSW5zZXJ0Py50eXBlIDogdW5kZWZpbmVkKSk7XG4gICAgY29uc3QgW2Zyb21JZCwgc2V0RnJvbUlkXSA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRGcm9tSWQgfHwgKGRlZXAuaXNJZChjdXN0b21JbnNlcnQ/LmZyb21faWQpID8gY3VzdG9tSW5zZXJ0Py5mcm9tX2lkIDogZGVlcC5pc0lkKGN1c3RvbUluc2VydD8uZnJvbSkgPyBjdXN0b21JbnNlcnQ/LmZyb20gOiB1bmRlZmluZWQpKTtcbiAgICBjb25zdCBbdG9JZCwgc2V0VG9JZF0gPSBSZWFjdC51c2VTdGF0ZShkZWZhdWx0VG9JZCB8fCAoZGVlcC5pc0lkKGN1c3RvbUluc2VydD8udG9faWQpID8gY3VzdG9tSW5zZXJ0Py50b19pZCA6IGRlZXAuaXNJZChjdXN0b21JbnNlcnQ/LnRvKSA/IGN1c3RvbUluc2VydD8udG8gOiB1bmRlZmluZWQpKTtcbiAgICBjb25zdCBbY29udGFpbmVySWQsIHNldENvbnRhaW5lcklkXSA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRDb250YWluZXJJZCB8fCAoZGVlcC5pc0lkKGN1c3RvbUluc2VydD8uY29udGFpbmVySWQpID8gY3VzdG9tSW5zZXJ0Py5jb250YWluZXJJZCA6IHVuZGVmaW5lZCkpO1xuICAgIGNvbnN0IHR5cGUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHR5cGVJZCA/IGRlZXAuZ2V0KCt0eXBlSWQpIDogbnVsbCwgW3R5cGVJZF0pO1xuICAgIGNvbnN0IHByZXZUeXBlQmFzZWROYW1lUmVmID0gUmVhY3QudXNlUmVmKCk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmICghdHlwZSkgcmV0dXJuO1xuICAgICAgY29uc3QgdG4gPSBfLmxvd2VyRmlyc3QodHlwZT8ubmFtZSk7XG4gICAgICBpZiAoIW5hbWUgfHwgbmFtZSA9PT0gcHJldlR5cGVCYXNlZE5hbWVSZWYuY3VycmVudCkge1xuICAgICAgICBwcmV2VHlwZUJhc2VkTmFtZVJlZi5jdXJyZW50ID0gdG47XG4gICAgICAgIHNldE5hbWUodG4pO1xuICAgICAgfVxuICAgIH0sIFt0eXBlXSk7XG4gICAgY29uc3QgZnJvbSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gZnJvbUlkID8gZGVlcC5nZXQoK2Zyb21JZCkgOiBudWxsLCBbZnJvbUlkXSk7XG4gICAgY29uc3QgdG8gPSBSZWFjdC51c2VNZW1vKCgpID0+IHRvSWQgPyBkZWVwLmdldCgrdG9JZCkgOiBudWxsLCBbdG9JZF0pO1xuXG4gICAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuXG4gICAgY29uc3QgdFYgPSB1c2VBc3luY01lbW8oYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIHR5cGVJZCA/IChhd2FpdCBkZWVwLnNlbGVjdCh7IHR5cGVfaWQ6IFYsIGZyb21faWQ6ICt0eXBlSWQgfSkpPy5kYXRhPy5bMF0/LnRvX2lkIDogdW5kZWZpbmVkO1xuICAgIH0sIFt0eXBlXSk7XG4gICAgY29uc3QgeyBpc1ZhbGlkLCB2YWxpZGF0ZWQgfSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRWID09PSBTKSByZXR1cm4geyB2YWxpZGF0ZWQ6IHZhbHVlLCBpc1ZhbGlkOiB0cnVlIH07XG4gICAgICAgIGlmICh0ViA9PT0gTikgcmV0dXJuIHsgdmFsaWRhdGVkOiArdmFsdWUsIGlzVmFsdWQ6IHR5cGVvZih2YWxpZGF0ZWQpID09PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzTmFOKHZhbGlkYXRlZCkgfTtcbiAgICAgICAgaWYgKHRWID09PSBPKSByZXR1cm4geyB2YWxpZGF0ZWQ6IEpTT04ucGFyc2UodmFsdWUpLCBpc1ZhbGlkOiB0cnVlIH07XG4gICAgICAgIGlmICghdFYpIHJldHVybiB7IHZhbGlkYXRlZDogdmFsdWUsIGlzVmFsaWQ6IHRydWUgfTtcbiAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgIHJldHVybiB7IHZhbGlkYXRlZDogdmFsdWUsIGlzVmFsaWQ6IGZhbHNlIH07XG4gICAgfSwgW3ZhbHVlLCB0Vl0pO1xuXG4gICAgY29uc3QgW3YsIHNldFZdID0gUmVhY3QudXNlU3RhdGUoKTtcblxuICAgIGNvbnN0IEFsbG93QWRtaW4gPSB1c2VBc3luY01lbW88YW55Pihhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgZGVlcC5jYW4oZGVlcC5saW5rSWQsIGRlZXAubGlua0lkLCBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdBbGxvd0FkbWluJykpO1xuICAgIH0sIFtdLCBmYWxzZSk7XG4gICAgY29uc3QgQWxsb3dJbnNlcnRUeXBlID0gdXNlQXN5bmNNZW1vPGFueT4oYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuICF0eXBlSWQgPyBmYWxzZSA6IGF3YWl0IGRlZXAuY2FuKCt0eXBlSWQsIGRlZXAubGlua0lkLCBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdBbGxvd0luc2VydFR5cGUnKSk7XG4gICAgfSwgW3R5cGVJZF0sIGZhbHNlKTtcbiAgICBjb25zdCBjYW4gPSBBbGxvd0luc2VydFR5cGUgfHwgQWxsb3dBZG1pbjtcbiAgICBcbiAgICBjb25zdCBpbnNlcnRRdWVyeSA9IHR5cGUgPyB7XG4gICAgICAuLi5jdXN0b21JbnNlcnQsXG4gICAgICB0eXBlX2lkOiB0eXBlLmlkLFxuICAgICAgLi4uKGZyb21JZCAmJiB0b0lkID8geyBmcm9tX2lkOiArZnJvbUlkLCB0b19pZDogK3RvSWQgfSA6IHt9KSxcbiAgICAgIGNvbnRhaW5lcklkLFxuICAgICAgLi4uKG5hbWUgPyB7IG5hbWUgfSA6IHt9KSxcbiAgICAgIC4uLih2YWxpZGF0ZWQgPyAoXG4gICAgICAgIHRWID09IFMgPyB7IHN0cmluZzogeyBkYXRhOiB7IHZhbHVlOiB2YWxpZGF0ZWQgfSB9IH0gOlxuICAgICAgICB0ViA9PSBOID8geyBudW1iZXI6IHsgZGF0YTogeyB2YWx1ZTogdmFsaWRhdGVkIH0gfX0gOlxuICAgICAgICB0ViA9PSBPID8geyBvYmplY3Q6IHsgZGF0YTogeyB2YWx1ZTogdmFsaWRhdGVkIH0gfSB9IDpcbiAgICAgICAge31cbiAgICAgICkgOiB7fSksXG4gICAgfSA6IHt9O1xuICAgIGlmICh2KSB7XG4gICAgICBpbnNlcnRRdWVyeS5vdXQgPSAoXG4gICAgICAgIF8uaXNBcnJheShpbnNlcnRRdWVyeS5vdXQpID8gaW5zZXJ0UXVlcnkub3V0IDpcbiAgICAgICAgdHlwZW9mKGluc2VydFF1ZXJ5Lm91dCkgPT09ICdvYmplY3QnID8gW2luc2VydFF1ZXJ5Lm91dF0gOlxuICAgICAgICBbXVxuICAgICAgKTtcbiAgICAgIGluc2VydFF1ZXJ5Lm91dC5wdXNoKHsgdHlwZV9pZDogViwgdG9faWQ6IHYsIG5hbWU6IGAke25hbWV9VmFsdWVgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGlzVmFsaWRMaW5rID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gISF0eXBlSWQgJiYgZGVlcC5nZXQodHlwZUlkKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChpbnNlcnRRdWVyeT8udHlwZV9pZCB8fCBpbnNlcnRRdWVyeT8udHlwZSkgJiZcbiAgICAgICAgKGluc2VydFF1ZXJ5Py5mcm9tX2lkIHx8IGluc2VydFF1ZXJ5Py5mcm9tIHx8ICghIXR5cGUgJiYgKCF0eXBlPy5mcm9tX2lkIHx8IHR5cGU/LmZyb21faWQgPT09IEFueSkpKSAmJlxuICAgICAgICAoaW5zZXJ0UXVlcnk/LnRvX2lkIHx8IGluc2VydFF1ZXJ5Py50byB8fCAoISF0eXBlICYmICghdHlwZT8udG9faWQgfHwgdHlwZT8udG9faWQgPT09IEFueSkpKVxuICAgICAgKTtcbiAgICB9LCBbdHlwZUlkLCBmcm9tSWQsIHRvSWQsIGluc2VydFF1ZXJ5XSk7XG5cbiAgICBjb25zdCB2YWx1ZVR5cGUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHR5cGU/Lm91dEJ5VHlwZVtWXT8uWzBdPy50b19pZCwgW3R5cGVdKTtcblxuICAgIGNvbnN0IFtpbnNlcnRpbmcsIHNldEluc2VydGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cbiAgICBjb25zdCBidXR0b25zID0gPD5cbiAgICAgIDxjLlNsaWRlRmFkZSBpbj17dHJ1ZX0gb2Zmc2V0WD0nLTAuNXJlbScgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCByaWdodDogJy00ZW0nfX0+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHc9JzNlbScgaD0nM2VtJ1xuICAgICAgICAgIGJveFNoYWRvdz0nZGFyay1sZydcbiAgICAgICAgICB2YXJpYW50PXt1bmRlZmluZWR9XG4gICAgICAgICAgb25DbGljaz17ZGlzY2xvc3VyZS5vbkNsb3NlfVxuICAgICAgICA+PEJzWCAvPjwvYy5CdXR0b24+XG4gICAgICA8L2MuU2xpZGVGYWRlPlxuICAgICAgPGMuU2xpZGVGYWRlXG4gICAgICAgIGluPXsoaXNWYWxpZExpbmspICYmIChpc1ZhbGlkIHx8IHZhbHVlID09PSAnJyl9XG4gICAgICAgIG9mZnNldFg9Jy0wLjVyZW0nIHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIGJvdHRvbTogMCwgcmlnaHQ6ICctNGVtJ319XG4gICAgICA+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHc9JzNlbScgaD0nM2VtJ1xuICAgICAgICAgIGJveFNoYWRvdz0nZGFyay1sZydcbiAgICAgICAgICB2YXJpYW50PXsnYWN0aXZlJ31cbiAgICAgICAgICBpc0xvYWRpbmc9e2luc2VydGluZ31cbiAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJbnNlcnRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IFtpbnNlcnRlZF0gfSA9IGF3YWl0IGRlZXAuaW5zZXJ0KGluc2VydFF1ZXJ5KTtcbiAgICAgICAgICAgIG9uSW5zZXJ0ICYmIG9uSW5zZXJ0KGluc2VydGVkLCBpbnNlcnRRdWVyeSk7XG4gICAgICAgICAgICBzZXRJbnNlcnRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgZGlzY2xvc3VyZS5vbkNsb3NlKCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgPjxCc0NoZWNrMiAvPjwvYy5CdXR0b24+XG4gICAgICA8L2MuU2xpZGVGYWRlPlxuICAgIDwvPjtcblxuICAgIGNvbnN0IGFsZXJ0ID0gPD5cbiAgICAgIDxjLkFsZXJ0IHN0YXR1cz17Y2FuID8gJ2luZm8nIDogJ2Vycm9yJ30+XG4gICAgICAgIDxjLkFsZXJ0SWNvbiAvPlxuICAgICAgICA8Yy5BbGVydFRpdGxlPllvdSB7Y2FuID8gJ2NhbicgOiAnY2FuYHQnfSBkbyBpdC48L2MuQWxlcnRUaXRsZT5cbiAgICAgIDwvYy5BbGVydD5cbiAgICAgIDxnby5FZGl0b3JcbiAgICAgICAgdmFsdWU9e2Bhd2FpdCBkZWVwLmNhbihkZWVwLmxpbmtJZCwgZGVlcC5saW5rSWQsIGRlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ0FsbG93QWRtaW4nKSlcbi8vICR7QWxsb3dBZG1pbn0keyEhdHlwZUlkID8gYFxuYXdhaXQgZGVlcC5jYW4oJHt0eXBlSWR9LCBkZWVwLmxpbmtJZCwgZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnQWxsb3dJbnNlcnRUeXBlJykpXG4vLyAke0FsbG93SW5zZXJ0VHlwZX1gIDogJyd9YH1cbiAgICAgICAgZWRpdGFibGU9e2ZhbHNlfVxuICAgICAgLz5cbiAgICA8Lz47XG5cbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5Nb2RhbFxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgY2xvc2VPbk92ZXJsYXlDbGljayBibG9ja1Njcm9sbE9uTW91bnQ9e2ZhbHNlfVxuICAgICAgICBvbkNsb3NlPXtkaXNjbG9zdXJlLm9uQ2xvc2V9XG4gICAgICAgIGlzT3Blbj17ZGlzY2xvc3VyZS5pc09wZW59IHBvcnRhbFByb3BzPXt7IGNvbnRhaW5lclJlZjogZ28ucm9vdCgpLnJlZiB9fVxuICAgICAgPlxuICAgICAgICA8Yy5Nb2RhbE92ZXJsYXkgLz5cbiAgICAgICAgPGMuTW9kYWxDb250ZW50IHc9JzMwZW0nIG1heFc9JzMwZW0nIHBvc2l0aW9uPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgPGMuTW9kYWxIZWFkZXI+TGluayBpbnNlcnRpbmc6PC9jLk1vZGFsSGVhZGVyPlxuICAgICAgICAgIDxjLk1vZGFsQm9keSBwPXswfSB3PScxMDAlJyBoPScxMDAlJz5cbiAgICAgICAgICAgIHshY2FuICYmIGFsZXJ0fVxuICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVySW5wdXQnXX1cbiAgICAgICAgICAgICAgbGVmdEljb249ezxUeXBlSWNvbi8+fVxuICAgICAgICAgICAgICB2YWx1ZT17dHlwZUlkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aWQgPT4gc2V0VHlwZUlkKGlkKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7KCgoISF0eXBlSWQgJiYgISF0eXBlKSAmJiAoKCEhdHlwZT8uZnJvbV9pZCAmJiAhIXR5cGU/LnRvX2lkKSB8fCB0eXBlPy5pZCA9PT0gMSkpIHx8ICghdHlwZUlkKSkgJiYgPGMuU2ltcGxlR3JpZCBjb2x1bW5zPXsyfT5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVySW5wdXQnXX1cbiAgICAgICAgICAgICAgICBsZWZ0SWNvbj17PEZyb21JY29uLz59XG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zyb21JZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aWQgPT4gc2V0RnJvbUlkKGlkKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVySW5wdXQnXX1cbiAgICAgICAgICAgICAgICBsZWZ0SWNvbj17PFRvSWNvbi8+fVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0b0lkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtpZCA9PiBzZXRUb0lkKGlkKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvYy5TaW1wbGVHcmlkPn1cbiAgICAgICAgICAgIDxjLlNpbXBsZUdyaWQgY29sdW1ucz17Mn0+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ0ZpbmRlcklucHV0J119XG4gICAgICAgICAgICAgICAgbGVmdEljb249ezw+8J+Xgu+4jzwvPn1cbiAgICAgICAgICAgICAgICB2YWx1ZT17Y29udGFpbmVySWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2lkID0+IHNldENvbnRhaW5lcklkKGlkKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGMuSW5wdXRcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nbmFtZScgaD0nM2VtJ1xuICAgICAgICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9jLlNpbXBsZUdyaWQ+XG4gICAgICAgICAgICB7ISF0eXBlICYmIDw+XG4gICAgICAgICAgICAgIDxjLkJveD5cbiAgICAgICAgICAgICAgICB7IXZhbHVlVHlwZSAmJiA8PlxuICAgICAgICAgICAgICAgICAgPGMuQWxlcnQgc3RhdHVzPSdpbmZvJz5cbiAgICAgICAgICAgICAgICAgICAgPGMuQWxlcnRJY29uLz5cbiAgICAgICAgICAgICAgICAgICAgPGMuQWxlcnRUaXRsZT50eXBlIHsrdHlwZX0gY2FuJ3QgaGF2ZSBWYWx1ZTwvYy5BbGVydFRpdGxlPlxuICAgICAgICAgICAgICAgICAgPC9jLkFsZXJ0PlxuICAgICAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgICAgICB7dmFsdWVUeXBlID09PSBTICYmIDw+XG4gICAgICAgICAgICAgICAgICA8Z28uRWRpdG9yIHBsYWNlaG9sZGVyPSdTdHJpbmcgdmFsdWUnIHZhbHVlPXt2YWx1ZX0gb25DaGFuZ2U9e3NldFZhbHVlfS8+XG4gICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgIHt2YWx1ZVR5cGUgPT09IE4gJiYgPD5cbiAgICAgICAgICAgICAgICAgIDxjLklucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nTnVtYmVyIHZhbHVlJ1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRWYWx1ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgICAgICB7dmFsdWVUeXBlID09PSBPICYmIDw+XG4gICAgICAgICAgICAgICAgICA8Z28uRWRpdG9yIHBsYWNlaG9sZGVyPSdPYmplY3QgdmFsdWUnIHZhbHVlPXt2YWx1ZX0gb25DaGFuZ2U9e3NldFZhbHVlfS8+XG4gICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgIHsodFYgPT09IFMgfHwgdFYgPT09IE4gfHwgdFYgPT09IE8pICYmIDxjLlRhZ1xuICAgICAgICAgICAgICAgICAgc2l6ZT0nbGcnIGNvbG9yU2NoZW1lPXt2YWx1ZSA9PT0gJycgPyAnYmxhY2snIDogaXNWYWxpZCA/ICdkZWVwQWN0aXZlJyA6ICdkYW5nZXInfSB2YXJpYW50PSdzb2xpZCcgYm9yZGVyUmFkaXVzPSdmdWxsJ1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb249J2Fic29sdXRlJyBib3R0b209Jy0wLjVlbScgcmlnaHQ9Jy0wLjVlbSdcbiAgICAgICAgICAgICAgICA+e3ZhbHVlID09PSAnJyA/ICdlbXB0eScgOiBpc1ZhbGlkID8gJ3ZhbGlkJyA6ICdpbnZhbGlkJ308L2MuVGFnPn1cbiAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgIDxjLkZsZXg+XG4gICAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyB2YXJpYW50PXt2ID09PSBOID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IHNldFYoTil9Pm51bWJlcjwvYy5CdXR0b24+XG4gICAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyB2YXJpYW50PXt2ID09PSBTID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IHNldFYoUyl9PnN0cmluZzwvYy5CdXR0b24+XG4gICAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyB2YXJpYW50PXt2ID09PSBPID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IHNldFYoTyl9Pm9iamVjdDwvYy5CdXR0b24+XG4gICAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyB2YXJpYW50PXt2ID09PSBGID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IHNldFYoRil9PmZpbGU8L2MuQnV0dG9uPlxuICAgICAgICAgICAgICA8Yy5CdXR0b24gb25DbGljaz17KCkgPT4gc2V0VigpfT54PC9jLkJ1dHRvbj5cbiAgICAgICAgICAgIDwvYy5GbGV4PlxuICAgICAgICAgICAgPGMuRGl2aWRlciBtYj0nMWVtJy8+XG4gICAgICAgICAgICB7PGdvLkVkaXRvclxuICAgICAgICAgICAgICB2YWx1ZT17YGF3YWl0IGRlZXAuaW5zZXJ0KCR7SlNPTi5zdHJpbmdpZnkoaW5zZXJ0UXVlcnksIG51bGwsIDIpfSlgfVxuICAgICAgICAgICAgICBlZGl0YWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAvPn1cbiAgICAgICAgICAgIHshIWNhbiAmJiBhbGVydH1cbiAgICAgICAgICA8L2MuTW9kYWxCb2R5PlxuICAgICAgICAgIHtidXR0b25zfVxuICAgICAgICA8L2MuTW9kYWxDb250ZW50PlxuICAgICAgPC9jLk1vZGFsPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1303
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1312,
      "src_id": 893,
      "handler_id": 894,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1312,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 429,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const { BsX, BsCheck2 } = require('react-icons/bs');\n    const c = require('@chakra-ui/react');\n    const { useAsyncMemo } = require('use-async-memo');\n    const dc = '@deep-foundation/core';\n    const V = deep.idLocal(dc, 'Value');\n    return ({ go, linkId, containerId, disclosure }, ref) => {\n        if (!disclosure)\n            throw new Error('!disclosure');\n        if (!linkId)\n            throw new Error('!linkId');\n        const link = React.useMemo(() => deep.get(linkId), [linkId]);\n        const [containment, setContainment] = React.useState('contains');\n        const [down, setDown] = React.useState(true);\n        const AllowAdmin = useAsyncMemo(async () => {\n            return await deep.can(deep.linkId, deep.linkId, deep.idLocal(dc, 'AllowAdmin'));\n        }, [], false);\n        const AllowDeleteType = useAsyncMemo(async () => {\n            return !link.type_id ? false : await deep.can(link.type_id, deep.linkId, deep.idLocal(dc, 'AllowDeleteType'));\n        }, [link.type_id], false);\n        const AllowDelete = useAsyncMemo(async () => {\n            return !linkId ? false : await deep.can(linkId, deep.linkId, deep.idLocal(dc, 'AllowDelete'));\n        }, [linkId], false);\n        const can = AllowAdmin || AllowDeleteType || AllowDelete;\n        const deleteQuery = {\n            _or: [\n                (down ? {\n                    up: {\n                        tree_id: deep.idLocal(dc, 'containTree'),\n                        parent_id: link.id,\n                    }\n                } : {\n                    id: link.id,\n                }),\n                ...(containment === 'contains' ? [{\n                        type_id: deep.idLocal(dc, 'Contain'),\n                        to_id: link.id,\n                    }] : containment === 'container' ? [{\n                        type_id: deep.idLocal(dc, 'Contain'),\n                        from_id: containerId,\n                        to_id: link.id,\n                    }] : []),\n            ],\n        };\n        const { data: countDown } = deep.useQuery({\n            up: {\n                tree_id: deep.idLocal(dc, 'containTree'),\n                parent_id: link.id,\n            }\n        }, {\n            skip: !disclosure.isOpen,\n            aggregate: 'count',\n        });\n        const { data: countInContains } = deep.useQuery({\n            to_id: link.id,\n            type_id: deep.idLocal(dc, 'Contain'),\n        }, {\n            skip: !disclosure.isOpen,\n            aggregate: 'count'\n        });\n        const buttons = (React.createElement(React.Fragment, null,\n            React.createElement(c.SlideFade, { in: true, offsetX: '-0.5rem', style: { position: 'absolute', top: 0, right: '-4em' } },\n                React.createElement(c.Button, { w: '3em', h: '3em', boxShadow: 'dark-lg', onClick: disclosure.onClose },\n                    React.createElement(BsX, null))),\n            React.createElement(c.SlideFade, { in: true, offsetX: '-0.5rem', style: { position: 'absolute', bottom: 0, right: '-4em' } },\n                React.createElement(c.Button, { w: '3em', h: '3em', boxShadow: 'dark-lg', variant: 'active', onClick: async () => {\n                        await deep.delete(deleteQuery);\n                        disclosure.onClose();\n                    } },\n                    React.createElement(BsCheck2, null)))));\n        const alert = (React.createElement(React.Fragment, null,\n            React.createElement(c.Alert, { status: can ? 'info' : 'error' },\n                React.createElement(c.AlertIcon, null),\n                React.createElement(c.AlertTitle, null,\n                    \"You \",\n                    can ? 'can' : \"can't\",\n                    \" do it.\")),\n            React.createElement(go.Editor, { value: `await deep.can(deep.linkId, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowAdmin'))\n// ${AllowAdmin}\nawait deep.can(${link.type_id}, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowDeleteType'))\n// ${AllowDeleteType}\nawait deep.can(${link.id}, deep.linkId, deep.idLocal('@deep-foundation/core', 'AllowDelete'))\n// ${AllowDelete}`, editable: false })));\n        return (React.createElement(go.On, { do: {} },\n            React.createElement(c.Modal, { ref: ref, closeOnOverlayClick: true, blockScrollOnMount: false, onClose: disclosure.onClose, isOpen: disclosure.isOpen, portalProps: {\n                    containerRef: go.root().ref\n                } },\n                React.createElement(c.ModalOverlay, null),\n                React.createElement(c.ModalContent, { w: '30em', maxW: '30em', position: 'relative' },\n                    React.createElement(c.ModalHeader, null,\n                        \"Link deleting: \",\n                        `${link}`),\n                    React.createElement(c.ModalBody, { p: 0, w: '100%', h: '100%' },\n                        alert,\n                        React.createElement(c.Box, { p: '1em' },\n                            React.createElement(c.Checkbox, { size: 'lg', checked: down, onChange: () => setDown(!down) },\n                                \"Delete all contained in links? Total: (\",\n                                countDown,\n                                \")\")),\n                        React.createElement(c.Box, { p: '1em' }, \"Need to delete contains to this link?\"),\n                        React.createElement(c.Box, null,\n                            React.createElement(c.SimpleGrid, { columns: 3 },\n                                React.createElement(c.Button, { variant: containment === 'contains' ? 'active' : undefined, onClick: () => setContainment('contains') },\n                                    React.createElement(c.Box, null,\n                                        React.createElement(c.Box, null, \"all in\"),\n                                        React.createElement(c.Box, { fontSize: 'xs' },\n                                            \"contains: (\",\n                                            countInContains,\n                                            \")\"))),\n                                !!containerId && (React.createElement(c.Button, { variant: containment === 'container' ? 'active' : undefined, onClick: () => setContainment('container') },\n                                    React.createElement(c.Box, null,\n                                        React.createElement(c.Box, null, \"only one\"),\n                                        React.createElement(c.Box, { fontSize: 'xs' },\n                                            \"from \",\n                                            containerId)))),\n                                React.createElement(c.Button, { variant: containment === 'only' ? 'active' : undefined, onClick: () => setContainment('only') },\n                                    React.createElement(c.Box, null,\n                                        React.createElement(c.Box, null, \"not need\"),\n                                        React.createElement(c.Box, { fontSize: 'xs' }, \"to delete contains\"))))),\n                        React.createElement(go.Editor, { value: `await deep.delete(${JSON.stringify(deleteQuery, null, 2)})`, editable: false })),\n                    buttons))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNwRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFFbkQsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFFcEMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDdEQsSUFBSSxDQUFDLFVBQVU7WUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxNQUFNO1lBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUV4QyxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzdELE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqRSxNQUFNLENBQUMsSUFBSSxFQUFF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LG9CQUFDLENBQUMsQ0FBQyxHQUFHLElBQUMsUUFBUSxFQUFDLElBQUk7OzRDQUNaLFdBQVcsQ0FDWCxDQUNGLENBQ0MsQ0FDWjtnQ0FDRCxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLE9BQU8sRUFBRSxXQUFXLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDdEQsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUM7b0NBRXJDLG9CQUFDLENBQUMsQ0FBQyxHQUFHO3dDQUNKLG9CQUFDLENBQUMsQ0FBQyxHQUFHLG1CQUFpQjt3Q0FDdkIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxRQUFRLEVBQUMsSUFBSSx5QkFFWixDQUNGLENBQ0MsQ0FDRSxDQUNUO3dCQUNSLG9CQUFDLEVBQUUsQ0FBQyxNQUFNLElBQ1IsS0FBSyxFQUFFLHFCQUFxQixJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFDbkUsUUFBUSxFQUFFLEtBQUssR0FDZixDQUNVO29CQUNiLE9BQU8sQ0FDTyxDQUNULENBQ0osQ0FDVCxDQUFDO0lBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgQnNYLCBCc0NoZWNrMiB9ID0gcmVxdWlyZSgncmVhY3QtaWNvbnMvYnMnKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCB7IHVzZUFzeW5jTWVtbyB9ID0gcmVxdWlyZSgndXNlLWFzeW5jLW1lbW8nKTtcblxuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBjb25zdCBWID0gZGVlcC5pZExvY2FsKGRjLCAnVmFsdWUnKTtcblxuICByZXR1cm4gKHsgZ28sIGxpbmtJZCwgY29udGFpbmVySWQsIGRpc2Nsb3N1cmUgfSwgcmVmKSA9PiB7XG4gICAgaWYgKCFkaXNjbG9zdXJlKSB0aHJvdyBuZXcgRXJyb3IoJyFkaXNjbG9zdXJlJyk7XG4gICAgaWYgKCFsaW5rSWQpIHRocm93IG5ldyBFcnJvcignIWxpbmtJZCcpO1xuXG4gICAgY29uc3QgbGluayA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gZGVlcC5nZXQobGlua0lkKSwgW2xpbmtJZF0pO1xuICAgIGNvbnN0IFtjb250YWlubWVudCwgc2V0Q29udGFpbm1lbnRdID0gUmVhY3QudXNlU3RhdGUoJ2NvbnRhaW5zJyk7XG4gICAgY29uc3QgW2Rvd24sIHNldERvd25dID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG5cbiAgICBjb25zdCBBbGxvd0FkbWluID0gdXNlQXN5bmNNZW1vKGFzeW5jICgpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBkZWVwLmNhbihkZWVwLmxpbmtJZCwgZGVlcC5saW5rSWQsIGRlZXAuaWRMb2NhbChkYywgJ0FsbG93QWRtaW4nKSk7XG4gICAgfSwgW10sIGZhbHNlKTtcblxuICAgIGNvbnN0IEFsbG93RGVsZXRlVHlwZSA9IHVzZUFzeW5jTWVtbyhhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gIWxpbmsudHlwZV9pZCA/IGZhbHNlIDogYXdhaXQgZGVlcC5jYW4obGluay50eXBlX2lkLCBkZWVwLmxpbmtJZCwgZGVlcC5pZExvY2FsKGRjLCAnQWxsb3dEZWxldGVUeXBlJykpO1xuICAgIH0sIFtsaW5rLnR5cGVfaWRdLCBmYWxzZSk7XG5cbiAgICBjb25zdCBBbGxvd0RlbGV0ZSA9IHVzZUFzeW5jTWVtbyhhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gIWxpbmtJZCA/IGZhbHNlIDogYXdhaXQgZGVlcC5jYW4obGlua0lkLCBkZWVwLmxpbmtJZCwgZGVlcC5pZExvY2FsKGRjLCAnQWxsb3dEZWxldGUnKSk7XG4gICAgfSwgW2xpbmtJZF0sIGZhbHNlKTtcblxuICAgIGNvbnN0IGNhbiA9IEFsbG93QWRtaW4gfHwgQWxsb3dEZWxldGVUeXBlIHx8IEFsbG93RGVsZXRlO1xuXG4gICAgY29uc3QgZGVsZXRlUXVlcnkgPSB7XG4gICAgICBfb3I6IFtcbiAgICAgICAgKGRvd24gPyB7XG4gICAgICAgICAgdXA6IHtcbiAgICAgICAgICAgIHRyZWVfaWQ6IGRlZXAuaWRMb2NhbChkYywgJ2NvbnRhaW5UcmVlJyksXG4gICAgICAgICAgICBwYXJlbnRfaWQ6IGxpbmsuaWQsXG4gICAgICAgICAgfVxuICAgICAgICB9IDoge1xuICAgICAgICAgIGlkOiBsaW5rLmlkLFxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGNvbnRhaW5tZW50ID09PSAnY29udGFpbnMnID8gW3tcbiAgICAgICAgICB0eXBlX2lkOiBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyksXG4gICAgICAgICAgdG9faWQ6IGxpbmsuaWQsXG4gICAgICAgIH1dIDogY29udGFpbm1lbnQgPT09ICdjb250YWluZXInID8gW3tcbiAgICAgICAgICB0eXBlX2lkOiBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyksXG4gICAgICAgICAgZnJvbV9pZDogY29udGFpbmVySWQsXG4gICAgICAgICAgdG9faWQ6IGxpbmsuaWQsXG4gICAgICAgIH1dIDogW10pLFxuICAgICAgXSxcbiAgICB9O1xuXG4gICAgY29uc3QgeyBkYXRhOiBjb3VudERvd24gfSA9IGRlZXAudXNlUXVlcnkoe1xuICAgICAgdXA6IHtcbiAgICAgICAgdHJlZV9pZDogZGVlcC5pZExvY2FsKGRjLCAnY29udGFpblRyZWUnKSxcbiAgICAgICAgcGFyZW50X2lkOiBsaW5rLmlkLFxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHNraXA6ICFkaXNjbG9zdXJlLmlzT3BlbixcbiAgICAgIGFnZ3JlZ2F0ZTogJ2NvdW50JyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgZGF0YTogY291bnRJbkNvbnRhaW5zIH0gPSBkZWVwLnVzZVF1ZXJ5KHtcbiAgICAgIHRvX2lkOiBsaW5rLmlkLFxuICAgICAgdHlwZV9pZDogZGVlcC5pZExvY2FsKGRjLCAnQ29udGFpbicpLFxuICAgIH0sIHtcbiAgICAgIHNraXA6ICFkaXNjbG9zdXJlLmlzT3BlbixcbiAgICAgIGFnZ3JlZ2F0ZTogJ2NvdW50J1xuICAgIH0pO1xuXG4gICAgY29uc3QgYnV0dG9ucyA9IChcbiAgICAgIDw+XG4gICAgICAgIDxjLlNsaWRlRmFkZSBpbj17dHJ1ZX0gb2Zmc2V0WD0nLTAuNXJlbScgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMCwgcmlnaHQ6ICctNGVtJyB9fT5cbiAgICAgICAgICA8Yy5CdXR0b24gdz0nM2VtJyBoPSczZW0nIGJveFNoYWRvdz0nZGFyay1sZycgb25DbGljaz17ZGlzY2xvc3VyZS5vbkNsb3NlfT5cbiAgICAgICAgICAgIDxCc1ggLz5cbiAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICA8L2MuU2xpZGVGYWRlPlxuICAgICAgICA8Yy5TbGlkZUZhZGUgaW49e3RydWV9IG9mZnNldFg9Jy0wLjVyZW0nIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBib3R0b206IDAsIHJpZ2h0OiAnLTRlbScgfX0+XG4gICAgICAgICAgPGMuQnV0dG9uIHc9JzNlbScgaD0nM2VtJyBib3hTaGFkb3c9J2RhcmstbGcnIHZhcmlhbnQ9J2FjdGl2ZScgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgZGVlcC5kZWxldGUoZGVsZXRlUXVlcnkpO1xuICAgICAgICAgICAgZGlzY2xvc3VyZS5vbkNsb3NlKCk7XG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8QnNDaGVjazIgLz5cbiAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICA8L2MuU2xpZGVGYWRlPlxuICAgICAgPC8+XG4gICAgKTtcbiAgICBcbiAgICBjb25zdCBhbGVydCA9IChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGMuQWxlcnQgc3RhdHVzPXtjYW4gPyAnaW5mbycgOiAnZXJyb3InfT5cbiAgICAgICAgICA8Yy5BbGVydEljb24gLz5cbiAgICAgICAgICA8Yy5BbGVydFRpdGxlPlxuICAgICAgICAgICAgWW91IHtjYW4gPyAnY2FuJyA6IFwiY2FuJ3RcIn0gZG8gaXQuXG4gICAgICAgICAgPC9jLkFsZXJ0VGl0bGU+XG4gICAgICAgIDwvYy5BbGVydD5cbiAgICAgICAgPGdvLkVkaXRvclxuICAgICAgICAgIHZhbHVlPXtgYXdhaXQgZGVlcC5jYW4oZGVlcC5saW5rSWQsIGRlZXAubGlua0lkLCBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdBbGxvd0FkbWluJykpXG4vLyAke0FsbG93QWRtaW59XG5hd2FpdCBkZWVwLmNhbigke2xpbmsudHlwZV9pZH0sIGRlZXAubGlua0lkLCBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdBbGxvd0RlbGV0ZVR5cGUnKSlcbi8vICR7QWxsb3dEZWxldGVUeXBlfVxuYXdhaXQgZGVlcC5jYW4oJHtsaW5rLmlkfSwgZGVlcC5saW5rSWQsIGRlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ0FsbG93RGVsZXRlJykpXG4vLyAke0FsbG93RGVsZXRlfWB9XG4gICAgICAgICAgZWRpdGFibGU9e2ZhbHNlfVxuICAgICAgICAvPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICA8Z28uT24gZG89e3t9fT5cbiAgICAgICAgPGMuTW9kYWxcbiAgICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgICBjbG9zZU9uT3ZlcmxheUNsaWNrXG4gICAgICAgICAgYmxvY2tTY3JvbGxPbk1vdW50PXtmYWxzZX1cbiAgICAgICAgICBvbkNsb3NlPXtkaXNjbG9zdXJlLm9uQ2xvc2V9XG4gICAgICAgICAgaXNPcGVuPXtkaXNjbG9zdXJlLmlzT3Blbn1cbiAgICAgICAgICBwb3J0YWxQcm9wcz17e1xuICAgICAgICAgICAgY29udGFpbmVyUmVmOiBnby5yb290KCkucmVmXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLk1vZGFsT3ZlcmxheSAvPlxuICAgICAgICAgIDxjLk1vZGFsQ29udGVudCB3PSczMGVtJyBtYXhXPSczMGVtJyBwb3NpdGlvbj0ncmVsYXRpdmUnPlxuICAgICAgICAgICAgPGMuTW9kYWxIZWFkZXI+XG4gICAgICAgICAgICAgIExpbmsgZGVsZXRpbmc6IHtgJHtsaW5rfWB9XG4gICAgICAgICAgICA8L2MuTW9kYWxIZWFkZXI+XG4gICAgICAgICAgICA8Yy5Nb2RhbEJvZHkgcD17MH0gdz0nMTAwJScgaD0nMTAwJSc+XG4gICAgICAgICAgICAgIHthbGVydH1cbiAgICAgICAgICAgICAgPGMuQm94IHA9JzFlbSc+XG4gICAgICAgICAgICAgICAgPGMuQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgIHNpemU9J2xnJ1xuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZG93bn1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBzZXREb3duKCFkb3duKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBEZWxldGUgYWxsIGNvbnRhaW5lZCBpbiBsaW5rcz8gVG90YWw6ICh7Y291bnREb3dufSlcbiAgICAgICAgICAgICAgICA8L2MuQ2hlY2tib3g+XG4gICAgICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgICAgICAgIDxjLkJveCBwPScxZW0nPlxuICAgICAgICAgICAgICAgIE5lZWQgdG8gZGVsZXRlIGNvbnRhaW5zIHRvIHRoaXMgbGluaz9cbiAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgICAgPGMuQm94PlxuICAgICAgICAgICAgICAgIDxjLlNpbXBsZUdyaWQgY29sdW1ucz17M30+XG4gICAgICAgICAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD17Y29udGFpbm1lbnQgPT09ICdjb250YWlucycgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q29udGFpbm1lbnQoJ2NvbnRhaW5zJyl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxjLkJveD5cbiAgICAgICAgICAgICAgICAgICAgICA8Yy5Cb3g+YWxsIGluPC9jLkJveD5cbiAgICAgICAgICAgICAgICAgICAgICA8Yy5Cb3ggZm9udFNpemU9J3hzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zOiAoe2NvdW50SW5Db250YWluc30pXG4gICAgICAgICAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgICAgICAgICAgICB7ISFjb250YWluZXJJZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9e2NvbnRhaW5tZW50ID09PSAnY29udGFpbmVyJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldENvbnRhaW5tZW50KCdjb250YWluZXInKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxjLkJveD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxjLkJveD5vbmx5IG9uZTwvYy5Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Yy5Cb3ggZm9udFNpemU9J3hzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSB7Y29udGFpbmVySWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgICAgICAgICAgICAgIDwvYy5CdXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9e2NvbnRhaW5tZW50ID09PSAnb25seScgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q29udGFpbm1lbnQoJ29ubHknKX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGMuQm94PlxuICAgICAgICAgICAgICAgICAgICAgIDxjLkJveD5ub3QgbmVlZDwvYy5Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgPGMuQm94IGZvbnRTaXplPSd4cyc+XG4gICAgICAgICAgICAgICAgICAgICAgICB0byBkZWxldGUgY29udGFpbnNcbiAgICAgICAgICAgICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2MuU2ltcGxlR3JpZD5cbiAgICAgICAgICAgICAgPC9jLkJveD5cbiAgICAgICAgICAgICAgPGdvLkVkaXRvclxuICAgICAgICAgICAgICAgIHZhbHVlPXtgYXdhaXQgZGVlcC5kZWxldGUoJHtKU09OLnN0cmluZ2lmeShkZWxldGVRdWVyeSwgbnVsbCwgMil9KWB9XG4gICAgICAgICAgICAgICAgZWRpdGFibGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9jLk1vZGFsQm9keT5cbiAgICAgICAgICAgIHtidXR0b25zfVxuICAgICAgICAgIDwvYy5Nb2RhbENvbnRlbnQ+XG4gICAgICAgIDwvYy5Nb2RhbD5cbiAgICAgIDwvZ28uT24+XG4gICAgKTtcbiAgfTtcbn07Il19",
          "link_id": 1312
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1321,
      "src_id": 895,
      "handler_id": 896,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1321,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 432,
          "value": "({ deep, data, require, Go }) => {\n    const { BsX, BsCheck2All } = require(\"react-icons/bs\");\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const Query = deep.idLocal(dc, 'Query');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const FinderQuery = deep.idLocal(dpl, 'FinderQuery');\n    const Tree = deep.idLocal(dpl, 'Tree');\n    const Search = deep.idLocal(dpl, 'Search');\n    return ({ go, initialId = deep.linkId, initialHandlerId, startProps = {}, isActive, onSubmit, disclosure: __disclosure, operations = false, }, ref) => {\n        const _disclosure = c.useDisclosure();\n        const disclosure = __disclosure || _disclosure;\n        const [selectedId, setSelectedId] = React.useState();\n        const [queryId, setQueryId] = React.useState();\n        const buttons = React.createElement(React.Fragment, null,\n            React.createElement(c.SlideFade, { in: true, offsetX: '-0.5rem', style: { position: 'absolute', top: 0, right: '-4em' } },\n                React.createElement(c.Button, { w: '3em', h: '3em', boxShadow: 'dark-lg', variant: undefined, onClick: disclosure.onClose },\n                    React.createElement(BsX, null))),\n            React.createElement(c.Box, { position: 'absolute', right: '0', bottom: '-4em' }, !!selectedId && React.createElement(c.Button, { h: '3em', rightIcon: React.createElement(BsCheck2All, null), onClick: () => {\n                    onSubmit && onSubmit(selectedId);\n                } }, `${deep.get(selectedId)}`)));\n        return React.createElement(go.On, { do: {\n                changed: (g, v, o) => o?.id && setSelectedId(o.id),\n            } },\n            React.createElement(c.Modal, { ref: disclosure.isOpen ? ref : null, closeOnOverlayClick: true, blockScrollOnMount: false, onClose: () => {\n                    disclosure.onClose();\n                    go.focus();\n                }, isOpen: disclosure.isOpen, portalProps: { containerRef: go.root().ref } },\n                React.createElement(c.ModalOverlay, null),\n                React.createElement(c.ModalContent, { w: '30em', maxW: '30em', h: '80vh', position: 'relative' },\n                    React.createElement(c.ModalHeader, null, \"Finder\"),\n                    React.createElement(c.ModalBody, { p: 0, w: '100%', h: '100%' },\n                        React.createElement(go.Provider, { linkId: Tree }, !!disclosure.isOpen && React.createElement(go.Handler, { initialId: initialId, initialHandlerId: initialHandlerId, startProps: startProps, handlerId: Tree, fullWidth: '30em', flex: '1', saveHistory: false, using: false, operations: operations }))),\n                    buttons)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3ZELE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUUvQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUVoRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUNyRCxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN2QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUUzQyxPQUFPLENBQUMsRUFDTixFQUFFLEVBRUYsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQ3ZCLGdCQUFnQixFQUNoQixVQUFVLEdBQUcsRUFBRSxFQUNmLFFBQVEsRUFDUixRQUFRLEVBQ1IsVUFBVSxFQUFFLFlBQVksRUFDeEIsVUFBVSxHQUFHLEtBQUssR0FDbkIsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNS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QUFFLFVBQVUsRUFDdEIsU0FBUyxFQUFFLElBQUksRUFDZixTQUFTLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxHQUFHLEVBQ3pCLFdBQVcsRUFBRSxLQUFLLEVBQ2xCLEtBQUssRUFBRSxLQUFLLEVBQ1osVUFBVSxFQUFFLFVBQVUsR0FDdEIsQ0FDVSxDQUNGO29CQUNiLE9BQU8sQ0FDTyxDQUNULENBQ0osQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgeyBCc1gsIEJzQ2hlY2syQWxsIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvYnNcIik7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgXG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIFxuICBjb25zdCBRdWVyeSA9IGRlZXAuaWRMb2NhbChkYywgJ1F1ZXJ5Jyk7XG4gIGNvbnN0IENvbnRhaW4gPSBkZWVwLmlkTG9jYWwoZGMsICdDb250YWluJyk7XG4gIGNvbnN0IEZpbmRlclF1ZXJ5ID0gZGVlcC5pZExvY2FsKGRwbCwgJ0ZpbmRlclF1ZXJ5Jyk7XG4gIGNvbnN0IFRyZWUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZScpO1xuICBjb25zdCBTZWFyY2ggPSBkZWVwLmlkTG9jYWwoZHBsLCAnU2VhcmNoJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICBpbml0aWFsSWQgPSBkZWVwLmxpbmtJZCxcbiAgICBpbml0aWFsSGFuZGxlcklkLFxuICAgIHN0YXJ0UHJvcHMgPSB7fSxcbiAgICBpc0FjdGl2ZSxcbiAgICBvblN1Ym1pdCxcbiAgICBkaXNjbG9zdXJlOiBfX2Rpc2Nsb3N1cmUsXG4gICAgb3BlcmF0aW9ucyA9IGZhbHNlLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBfZGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IGRpc2Nsb3N1cmUgPSBfX2Rpc2Nsb3N1cmUgfHwgX2Rpc2Nsb3N1cmU7XG5cbiAgICBjb25zdCBbc2VsZWN0ZWRJZCwgc2V0U2VsZWN0ZWRJZF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIGNvbnN0IFtxdWVyeUlkLCBzZXRRdWVyeUlkXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG5cbiAgICBjb25zdCBidXR0b25zID0gPD5cbiAgICAgIDxjLlNsaWRlRmFkZSBpbj17dHJ1ZX0gb2Zmc2V0WD0nLTAuNXJlbScgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCByaWdodDogJy00ZW0nfX0+XG4gICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgIHc9JzNlbScgaD0nM2VtJ1xuICAgICAgICAgIGJveFNoYWRvdz0nZGFyay1sZydcbiAgICAgICAgICB2YXJpYW50PXt1bmRlZmluZWR9XG4gICAgICAgICAgb25DbGljaz17ZGlzY2xvc3VyZS5vbkNsb3NlfVxuICAgICAgICA+PEJzWCAvPjwvYy5CdXR0b24+XG4gICAgICA8L2MuU2xpZGVGYWRlPlxuICAgICAgPGMuQm94IHBvc2l0aW9uPSdhYnNvbHV0ZScgcmlnaHQ9JzAnIGJvdHRvbT0nLTRlbSc+XG4gICAgICAgIHshIXNlbGVjdGVkSWQgJiYgPGMuQnV0dG9uXG4gICAgICAgICAgaD0nM2VtJyByaWdodEljb249ezxCc0NoZWNrMkFsbCAvPn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBvblN1Ym1pdCAmJiBvblN1Ym1pdChzZWxlY3RlZElkKTtcbiAgICAgICAgICB9fVxuICAgICAgICA+e2Ake2RlZXAuZ2V0KHNlbGVjdGVkSWQpfWB9PC9jLkJ1dHRvbj5cbiAgICAgIDwvYy5Cb3g+XG4gICAgPC8+O1xuXG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgY2hhbmdlZDogKGcsdixvKSA9PiBvPy5pZCAmJiBzZXRTZWxlY3RlZElkKG8uaWQpLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5Nb2RhbFxuICAgICAgICByZWY9e2Rpc2Nsb3N1cmUuaXNPcGVuID8gcmVmIDogbnVsbH1cbiAgICAgICAgY2xvc2VPbk92ZXJsYXlDbGljayBibG9ja1Njcm9sbE9uTW91bnQ9e2ZhbHNlfVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiB7XG4gICAgICAgICAgZGlzY2xvc3VyZS5vbkNsb3NlKCk7XG4gICAgICAgICAgZ28uZm9jdXMoKTtcbiAgICAgICAgfX1cbiAgICAgICAgaXNPcGVuPXtkaXNjbG9zdXJlLmlzT3Blbn0gcG9ydGFsUHJvcHM9e3sgY29udGFpbmVyUmVmOiBnby5yb290KCkucmVmIH19XG4gICAgICA+XG4gICAgICAgIDxjLk1vZGFsT3ZlcmxheSAvPlxuICAgICAgICA8Yy5Nb2RhbENvbnRlbnQgdz0nMzBlbScgbWF4Vz0nMzBlbScgaD0nODB2aCcgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICA8Yy5Nb2RhbEhlYWRlcj5GaW5kZXI8L2MuTW9kYWxIZWFkZXI+XG4gICAgICAgICAgey8qIDxCb3ggcG9zaXRpb249J2Fic29sdXRlJyBib3R0b209Jy0wLjVlbScgcmlnaHQ9Jy0wLjVlbScgYm94U2hhZG93PSdkYXJrLWxnJyB6SW5kZXg9ezJ9PlxuICAgICAgICAgICAgeyEhc2VsZWN0ZWRMaW5rICYmIDxMaW5rQnV0dG9uIGlkPXtzZWxlY3RlZExpbms/LmlkfSBtYXhXPScxMDAlJy8+fVxuICAgICAgICAgIDwvQm94PiAqL31cbiAgICAgICAgICA8Yy5Nb2RhbEJvZHkgcD17MH0gdz0nMTAwJScgaD0nMTAwJSc+XG4gICAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtUcmVlfT5cbiAgICAgICAgICAgICAgeyEhZGlzY2xvc3VyZS5pc09wZW4gJiYgPGdvLkhhbmRsZXJcbiAgICAgICAgICAgICAgICBpbml0aWFsSWQ9e2luaXRpYWxJZH1cbiAgICAgICAgICAgICAgICBpbml0aWFsSGFuZGxlcklkPXtpbml0aWFsSGFuZGxlcklkfVxuICAgICAgICAgICAgICAgIHN0YXJ0UHJvcHM9e3N0YXJ0UHJvcHN9XG4gICAgICAgICAgICAgICAgaGFuZGxlcklkPXtUcmVlfVxuICAgICAgICAgICAgICAgIGZ1bGxXaWR0aD0nMzBlbScgZmxleD0nMSdcbiAgICAgICAgICAgICAgICBzYXZlSGlzdG9yeT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgdXNpbmc9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbnM9e29wZXJhdGlvbnN9XG4gICAgICAgICAgICAgIC8+fVxuICAgICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgICA8L2MuTW9kYWxCb2R5PlxuICAgICAgICAgIHtidXR0b25zfVxuICAgICAgICA8L2MuTW9kYWxDb250ZW50PlxuICAgICAgPC9jLk1vZGFsPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1321
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1330,
      "src_id": 897,
      "handler_id": 898,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1330,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 435,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const _ = require('lodash');\n    const c = require('@chakra-ui/react');\n    const { useDebounce } = require('@react-hook/debounce');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const TreeLinkButton = deep.idLocal(dpl, 'TreeLinkButton');\n    const FinderButton = deep.idLocal(dpl, 'FinderButton');\n    return ({ go, placeholder = '', value, onChange, leftIcon, children, }, ref) => {\n        const [search, setSearch] = useDebounce('', 100);\n        const { data } = deep.useSearch(search, { remote: false, skip: !search });\n        React.useEffect(() => {\n            go.focus(Stack);\n        }, [search]);\n        const [id, setId] = React.useState(value);\n        const link = React.useMemo(() => {\n            return id ? deep.get(+id) : undefined;\n        }, [id]);\n        React.useEffect(() => {\n            if (link && link?.id != value)\n                onChange(link.id);\n        }, [link]);\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.InputGroup, { position: 'relative', zIndex: search ? 1 : 0 },\n                !!leftIcon && React.createElement(c.InputLeftElement, { h: '3em', w: '3em', minW: '3em' }, leftIcon),\n                React.createElement(c.Input, { placeholder: value || placeholder, onChange: (e) => {\n                        setSearch(e.target.value);\n                        if (+e.target.value === 0)\n                            onChange(0);\n                    }, h: '3em', pl: leftIcon ? '3em' : 0, pr: '3em', pt: link ? '0.25em' : undefined }),\n                !!link && React.createElement(c.Text, { position: 'absolute', left: leftIcon ? '4em' : '1em', bottom: '0.25em', pointerEvents: 'none', fontSize: 'xs', noOfLines: 1 }, `${link.symbol} ${link.name != link.id ? link.name : link.id}`),\n                React.createElement(c.InputRightElement, { h: '3em' },\n                    React.createElement(go.Provider, { linkId: FinderButton, on: {\n                            do: {\n                                open: (g, v, o) => o?.id && setId && setId(o?.id),\n                            }\n                        } },\n                        React.createElement(go.Handler, { handlerId: FinderButton, bg: 'transparent', isActive: go.value === FinderButton }))),\n                !!search && React.createElement(c.Box, { position: 'absolute', top: '100%', left: '0', w: '100%', maxH: '7em', h: '7em' },\n                    React.createElement(go.Provider, { linkId: Stack, value: data?.[0]?.id, on: { do: {\n                                exec: (g, v, o) => {\n                                    if (o?.id) {\n                                        setSearch('');\n                                        setId(o?.id);\n                                    }\n                                },\n                            } } },\n                        React.createElement(go.Handler, { handlerId: Stack, links: data, direction: 'vertical', maxH: '7em', h: '7em' })))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUV4RCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUVoRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzNELE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBRXZELE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFFRixXQUFXLEdBQUcsRUFBRSxFQUNoQixLQUFLLEVBQ0wsUUFBUSxFQUNSLFFBQVEsRUFDUixRQUFRLEdBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE1BQU0sQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLEdBQUcsV0FBVyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNqRCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDMUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7WUFDbkIsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQixDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ2IsTUFBTSxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzFDLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO1lBQzlCLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUN4QyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ1QsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7WUFDbkIsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLEVBQUUsSUFBSSxLQUFLO2dCQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbkQsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNYLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFDWCxFQUFFLEVBQUUsRUFDSDtZQUVELG9CQUFDLENBQUMsQ0FBQyxVQUFVLElBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JELENBQUMsQ0FBQyxRQUFRLElBQUksb0JBQUMsQ0FBQyxDQUFDLGdCQUFnQixJQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsS0FBSyxJQUMxRCxRQUFRLENBQ1U7Z0JBQ3JCLG9CQUFDLENBQUMsQ0FBQyxLQUFLLElBQ04sV0FBVyxFQUFFLEtBQUssSUFBSSxXQUFXLEVBQ2pDLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO3dCQUNkLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUMxQixJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEtBQUssQ0FBQzs0QkFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3pDLENBQUMsRUFDRCxDQUFDLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLEdBQzFFO2dCQUNELENBQUMsQ0FBQyxJQUFJLElBQUksb0JBQUMsQ0FBQyxDQUFDLElBQUksSUFDaEIsUUFBUSxFQUFDLFVBQVUsRUFBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUMsUUFBUSxFQUNuRSxhQUFhLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQ2xDLFNBQVMsRUFBRSxDQUFDLElBRVgsR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUN4RDtnQkFDVCxvQkFBQyxDQUFDLENBQUMsaUJBQWlCLElBQUMsQ0FBQyxFQUFDLEtBQUs7b0JBQzFCLG9CQUFDLEVBQUUsQ0FBQyxRQUFRLElBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUU7NEJBQ3JDLEVBQUUsRUFBRTtnQ0FDRixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUM7NkJBQ2hEO3lCQUNGO3dCQUNDLG9CQUFDLEVBQUUsQ0FBQyxPQUFPLElBQUMsU0FBUyxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUMsYUFBYSxFQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLFlBQVksR0FBRyxDQUNoRixDQUNNO2dCQUNyQixDQUFDLENBQUMsTUFBTSxJQUFJLG9CQUFDLENBQUMsQ0FBQyxHQUFHLElBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQyxHQUFHLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxLQUFLO29CQUNyRixvQkFBQyxFQUFFLENBQUMsUUFBUSxJQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7Z0NBQzFELElBQUksRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0NBQ2QsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7d0NBQ1YsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO3dDQUNkLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7b0NBQ2YsQ0FBQztnQ0FDSCxDQUFDOzZCQUNGLEVBQUU7d0JBQ0Qsb0JBQUMsRUFBRSxDQUFDLE9BQU8sSUFBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFDLFVBQVUsRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxLQUFLLEdBQUUsQ0FDeEUsQ0FDUixDQUNLLENBQ1QsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCB7IHVzZURlYm91bmNlIH0gPSByZXF1aXJlKCdAcmVhY3QtaG9vay9kZWJvdW5jZScpO1xuXG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuXG4gIGNvbnN0IFN0YWNrID0gZGVlcC5pZExvY2FsKGRwbCwgJ1N0YWNrJyk7XG4gIGNvbnN0IFRyZWVMaW5rQnV0dG9uID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaW5rQnV0dG9uJyk7XG4gIGNvbnN0IEZpbmRlckJ1dHRvbiA9IGRlZXAuaWRMb2NhbChkcGwsICdGaW5kZXJCdXR0b24nKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIHBsYWNlaG9sZGVyID0gJycsXG4gICAgdmFsdWUsIC8vIGxpbmtJZFxuICAgIG9uQ2hhbmdlLFxuICAgIGxlZnRJY29uLFxuICAgIGNoaWxkcmVuLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBbc2VhcmNoLCBzZXRTZWFyY2hdID0gdXNlRGVib3VuY2UoJycsIDEwMCk7XG4gICAgY29uc3QgeyBkYXRhIH0gPSBkZWVwLnVzZVNlYXJjaChzZWFyY2gsIHsgcmVtb3RlOiBmYWxzZSwgc2tpcDogIXNlYXJjaCB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgZ28uZm9jdXMoU3RhY2spO1xuICAgIH0sIFtzZWFyY2hdKTtcbiAgICBjb25zdCBbaWQsIHNldElkXSA9IFJlYWN0LnVzZVN0YXRlKHZhbHVlKTtcbiAgICBjb25zdCBsaW5rID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICByZXR1cm4gaWQgPyBkZWVwLmdldCgraWQpIDogdW5kZWZpbmVkO1xuICAgIH0sIFtpZF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAobGluayAmJiBsaW5rPy5pZCAhPSB2YWx1ZSkgb25DaGFuZ2UobGluay5pZCk7XG4gICAgfSwgW2xpbmtdKTtcbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5JbnB1dEdyb3VwIHBvc2l0aW9uPSdyZWxhdGl2ZScgekluZGV4PXtzZWFyY2ggPyAxIDogMH0+XG4gICAgICAgIHshIWxlZnRJY29uICYmIDxjLklucHV0TGVmdEVsZW1lbnQgaD0nM2VtJyB3PSczZW0nIG1pblc9JzNlbSc+XG4gICAgICAgICAge2xlZnRJY29ufVxuICAgICAgICA8L2MuSW5wdXRMZWZ0RWxlbWVudD59XG4gICAgICAgIDxjLklucHV0XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3ZhbHVlIHx8IHBsYWNlaG9sZGVyfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgc2V0U2VhcmNoKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIGlmICgrZS50YXJnZXQudmFsdWUgPT09IDApIG9uQ2hhbmdlKDApO1xuICAgICAgICAgIH19XG4gICAgICAgICAgaD0nM2VtJyBwbD17bGVmdEljb24gPyAnM2VtJyA6IDB9IHByPSczZW0nIHB0PXtsaW5rID8gJzAuMjVlbScgOiB1bmRlZmluZWR9XG4gICAgICAgIC8+XG4gICAgICAgIHshIWxpbmsgJiYgPGMuVGV4dFxuICAgICAgICAgIHBvc2l0aW9uPSdhYnNvbHV0ZScgbGVmdD17bGVmdEljb24gPyAnNGVtJyA6ICcxZW0nfSBib3R0b209JzAuMjVlbSdcbiAgICAgICAgICBwb2ludGVyRXZlbnRzPSdub25lJyBmb250U2l6ZT0neHMnXG4gICAgICAgICAgbm9PZkxpbmVzPXsxfVxuICAgICAgICA+XG4gICAgICAgICAge2Ake2xpbmsuc3ltYm9sfSAke2xpbmsubmFtZSAhPSBsaW5rLmlkID8gbGluay5uYW1lIDogbGluay5pZH1gfVxuICAgICAgICA8L2MuVGV4dD59XG4gICAgICAgIDxjLklucHV0UmlnaHRFbGVtZW50IGg9JzNlbSc+XG4gICAgICAgICAgPGdvLlByb3ZpZGVyIGxpbmtJZD17RmluZGVyQnV0dG9ufSBvbj17e1xuICAgICAgICAgICAgZG86IHtcbiAgICAgICAgICAgICAgb3BlbjogKGcsdixvKSA9PiBvPy5pZCAmJiBzZXRJZCAmJiBzZXRJZChvPy5pZCksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e0ZpbmRlckJ1dHRvbn0gYmc9J3RyYW5zcGFyZW50JyBpc0FjdGl2ZT17Z28udmFsdWUgPT09IEZpbmRlckJ1dHRvbn0vPlxuICAgICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICAgIDwvYy5JbnB1dFJpZ2h0RWxlbWVudD5cbiAgICAgICAgeyEhc2VhcmNoICYmIDxjLkJveCBwb3NpdGlvbj0nYWJzb2x1dGUnIHRvcD0nMTAwJScgbGVmdD0nMCcgdz0nMTAwJScgbWF4SD0nN2VtJyBoPSc3ZW0nPlxuICAgICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e1N0YWNrfSB2YWx1ZT17ZGF0YT8uWzBdPy5pZH0gb249e3sgZG86IHtcbiAgICAgICAgICAgIGV4ZWM6IChnLHYsbykgPT4ge1xuICAgICAgICAgICAgICBpZiAobz8uaWQpIHtcbiAgICAgICAgICAgICAgICBzZXRTZWFyY2goJycpO1xuICAgICAgICAgICAgICAgIHNldElkKG8/LmlkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9IH19PlxuICAgICAgICAgICAgPGdvLkhhbmRsZXIgaGFuZGxlcklkPXtTdGFja30gbGlua3M9e2RhdGF9IGRpcmVjdGlvbj0ndmVydGljYWwnIG1heEg9JzdlbScgaD0nN2VtJy8+XG4gICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgPC9jLkJveD59XG4gICAgICA8L2MuSW5wdXRHcm91cD5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1330
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1339,
      "src_id": 899,
      "handler_id": 900,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1339,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 438,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    return ({ go, id, ...props }, ref) => {\n        const { cy } = go.useGraph();\n        const data = { id: `${id}`, label: `${id}` };\n        const classes = ['link-ghost'];\n        return React.createElement(go.GraphNode, { ghost: true, element: {\n                data, classes,\n            }, ...props });\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUNGLEVBQUUsRUFFRixHQUFHLEtBQUssRUFDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsTUFBTSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM3QixNQUFNLElBQUksR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFDN0MsTUFBTSxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUMvQixPQUFPLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQ2xCLEtBQUssUUFDTCxPQUFPLEVBQUU7Z0JBQ1AsSUFBSSxFQUFFLE9BQU87YUFDZCxLQUNHLEtBQUssR0FDVCxDQUFDO0lBQ0wsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGlkLFxuXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgeyBjeSB9ID0gZ28udXNlR3JhcGgoKTtcbiAgICBjb25zdCBkYXRhID0geyBpZDogYCR7aWR9YCwgbGFiZWw6IGAke2lkfWAgfTtcbiAgICBjb25zdCBjbGFzc2VzID0gWydsaW5rLWdob3N0J107XG4gICAgcmV0dXJuIDxnby5HcmFwaE5vZGVcbiAgICAgIGdob3N0XG4gICAgICBlbGVtZW50PXt7XG4gICAgICAgIGRhdGEsIGNsYXNzZXMsXG4gICAgICB9fVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+O1xuICB9O1xufSJdfQ==",
          "link_id": 1339
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1348,
      "src_id": 901,
      "handler_id": 902,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1348,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 441,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n    const { IoInfiniteSharp } = require(\"react-icons/io5\");\n    const { Planet } = require('react-planet');\n    const c = require('@chakra-ui/react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const dpl = '@deep-foundation/perception-links';\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const PlanetRelations = await deep.id(dpl, 'PlanetRelations');\n    const PlanetOperations = await deep.id(dpl, 'PlanetOperations');\n    return ({ go, linkId, deleteDisclosure: _deleteDisclosure, finderDisclosure: _finderDisclosure, readmeDisclosure: _readmeDisclosure, isActive = false, }, ref) => {\n        const { cy } = go.useGraph();\n        const link = React.useMemo(() => deep.get(linkId), []);\n        const __deleteDisclosure = c.useDisclosure();\n        const deleteDisclosure = _deleteDisclosure || __deleteDisclosure;\n        const __finderDisclosure = c.useDisclosure();\n        const finderDisclosure = _finderDisclosure || __finderDisclosure;\n        const __readmeDisclosure = c.useDisclosure();\n        const readmeDisclosure = _readmeDisclosure || __readmeDisclosure;\n        const [mode, setMode] = React.useState('current');\n        const nav = go.useNav();\n        nav('current', PlanetRelations, PlanetRelations, PlanetRelations, PlanetRelations);\n        nav(PlanetRelations, PlanetRelations, PlanetOperations, PlanetRelations, 'current');\n        nav(PlanetOperations, PlanetOperations, 'up', PlanetOperations, PlanetRelations);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => {\n                    if (o?.mode)\n                        setMode(mode === o.mode ? 'current' : o.mode);\n                    if (go.value === 'current')\n                        go.do(go.value);\n                },\n                focus: (g, d, v, o) => !v && go.set('current'),\n                up: (g, v, o) => go.focus(nav.get(go.value, 'up'), { position: 0.5, ...o }),\n                down: (g, v, o) => go.focus(nav.get(go.value, 'down'), { position: 0, ...o }),\n                left: (g, v, o) => go.focus(nav.get(go.value, 'left'), { position: 0.25 }),\n                right: (g, v, o) => go.focus(nav.get(go.value, 'right'), { position: 0.75 }),\n                current: (g, v, o) => {\n                    if (go.value === 'current') {\n                        go.set().go.go.focus('current');\n                    }\n                    else {\n                        go.go.do('exec');\n                    }\n                },\n            }, focus: {\n                up: (g, v, o) => go.root().do('up'),\n            } },\n            React.createElement(c.Box, { position: 'relative', top: '0', left: '0', w: '0', h: '0' }, !!go.value && React.createElement(React.Fragment, null,\n                React.createElement(go.Provider, { linkId: PlanetRelations },\n                    React.createElement(go.Component, { path: [dpl, 'PlanetRelations'], isActive: isActive, linkId: linkId })),\n                React.createElement(go.Provider, { linkId: PlanetOperations },\n                    React.createElement(go.Component, { path: [dpl, 'PlanetOperations'], isActive: isActive, linkId: linkId, deleteDisclosure: deleteDisclosure, finderDisclosure: finderDisclosure, readmeDisclosure: readmeDisclosure })),\n                React.createElement(c.Button, { variant: go.value === 'current' ? 'planetActive' : 'planet', position: 'absolute', left: '-1.5em', top: '-1.5em', onClick: () => go.do('current') }))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BFLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUN2RCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFDSixTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxHQUN6RSxHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBRWhELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sZUFBZSxHQUFHLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUM5RCxNQUFNLGdCQUFnQixHQUFHLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUVoRSxPQUFPLENBQUMsRUFDTixFQUFFLEVBRUYsTUFBTSxFQUNOLGdCQUFnQixFQUFFLGlCQUFpQixFQUNuQyxnQkFBZ0IsRUFBRSxpQkFB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QUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxHQUFHLENBQ3ZFO2dCQUNkLG9CQUFDLEVBQUUsQ0FBQyxRQUFRLElBQUMsTUFBTSxFQUFFLGdCQUFnQjtvQkFDbkMsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFDWCxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsa0JBQWtCLENBQUMsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQ25FLGdCQUFnQixFQUFFLGdCQUFnQixFQUNsQyxnQkFBZ0IsRUFBRSxnQkFBZ0IsRUFDbEMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEdBQ2xDLENBQ1U7Z0JBQ2Qsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDUCxPQUFPLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUMzRCxRQUFRLEVBQUMsVUFBVSxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLFFBQVEsRUFDOUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQ3JCLENBQ1gsQ0FDRyxDQUNGLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBMdUNoZXZyb25MYXN0LCBMdUNoZXZyb25GaXJzdCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2x1XCIpO1xuICBjb25zdCB7IElvSW5maW5pdGVTaGFycCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2lvNVwiKTtcbiAgY29uc3QgeyBQbGFuZXQgfSA9IHJlcXVpcmUoJ3JlYWN0LXBsYW5ldCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IHtcbiAgICBUeXBlZEljb24sIERvd25JY29uLCBVcEljb24sIFR5cGVJY29uLCBJbkljb24sIE91dEljb24sIEZyb21JY29uLCBUb0ljb24sXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG5cbiAgY29uc3QgVHJlZUxpc3QgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpc3QnKTtcbiAgY29uc3QgUGxhbmV0UmVsYXRpb25zID0gYXdhaXQgZGVlcC5pZChkcGwsICdQbGFuZXRSZWxhdGlvbnMnKTtcbiAgY29uc3QgUGxhbmV0T3BlcmF0aW9ucyA9IGF3YWl0IGRlZXAuaWQoZHBsLCAnUGxhbmV0T3BlcmF0aW9ucycpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgbGlua0lkLFxuICAgIGRlbGV0ZURpc2Nsb3N1cmU6IF9kZWxldGVEaXNjbG9zdXJlLFxuICAgIGZpbmRlckRpc2Nsb3N1cmU6IF9maW5kZXJEaXNjbG9zdXJlLFxuICAgIHJlYWRtZURpc2Nsb3N1cmU6IF9yZWFkbWVEaXNjbG9zdXJlLFxuXG4gICAgaXNBY3RpdmUgPSBmYWxzZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgeyBjeSB9ID0gZ28udXNlR3JhcGgoKTtcblxuICAgIGNvbnN0IGxpbmsgPSBSZWFjdC51c2VNZW1vKCgpID0+IGRlZXAuZ2V0KGxpbmtJZCksIFtdKTtcblxuICAgIGNvbnN0IF9fZGVsZXRlRGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IGRlbGV0ZURpc2Nsb3N1cmUgPSBfZGVsZXRlRGlzY2xvc3VyZSB8fCBfX2RlbGV0ZURpc2Nsb3N1cmU7XG5cbiAgICBjb25zdCBfX2ZpbmRlckRpc2Nsb3N1cmUgPSBjLnVzZURpc2Nsb3N1cmUoKTtcbiAgICBjb25zdCBmaW5kZXJEaXNjbG9zdXJlID0gX2ZpbmRlckRpc2Nsb3N1cmUgfHwgX19maW5kZXJEaXNjbG9zdXJlO1xuXG4gICAgY29uc3QgX19yZWFkbWVEaXNjbG9zdXJlID0gYy51c2VEaXNjbG9zdXJlKCk7XG4gICAgY29uc3QgcmVhZG1lRGlzY2xvc3VyZSA9IF9yZWFkbWVEaXNjbG9zdXJlIHx8IF9fcmVhZG1lRGlzY2xvc3VyZTtcblxuICAgIGNvbnN0IFttb2RlLCBzZXRNb2RlXSA9IFJlYWN0LnVzZVN0YXRlKCdjdXJyZW50Jyk7XG5cbiAgICBjb25zdCBuYXYgPSBnby51c2VOYXYoKTtcbiAgICBuYXYoJ2N1cnJlbnQnLCBQbGFuZXRSZWxhdGlvbnMsIFBsYW5ldFJlbGF0aW9ucywgUGxhbmV0UmVsYXRpb25zLCBQbGFuZXRSZWxhdGlvbnMpO1xuICAgIG5hdihQbGFuZXRSZWxhdGlvbnMsIFBsYW5ldFJlbGF0aW9ucywgUGxhbmV0T3BlcmF0aW9ucywgUGxhbmV0UmVsYXRpb25zLCAnY3VycmVudCcpO1xuICAgIG5hdihQbGFuZXRPcGVyYXRpb25zLCBQbGFuZXRPcGVyYXRpb25zLCAndXAnLCBQbGFuZXRPcGVyYXRpb25zLCBQbGFuZXRSZWxhdGlvbnMpO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKGcsdixvKSA9PiB7XG4gICAgICAgIGlmIChvPy5tb2RlKSBzZXRNb2RlKG1vZGUgPT09IG8ubW9kZSA/ICdjdXJyZW50JyA6IG8ubW9kZSk7XG4gICAgICAgIGlmIChnby52YWx1ZSA9PT0gJ2N1cnJlbnQnKSBnby5kbyhnby52YWx1ZSk7XG4gICAgICB9LFxuICAgICAgZm9jdXM6IChnLGQsdixvKSA9PiAhdiAmJiBnby5zZXQoJ2N1cnJlbnQnKSxcbiAgICAgIHVwOiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICd1cCcpLCB7IHBvc2l0aW9uOiAwLjUsIC4uLm8gfSksXG4gICAgICBkb3duOiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICdkb3duJyksIHsgcG9zaXRpb246IDAsIC4uLm8gfSksXG4gICAgICBsZWZ0OiAoZyx2LG8pID0+IGdvLmZvY3VzKG5hdi5nZXQoZ28udmFsdWUsICdsZWZ0JyksIHsgcG9zaXRpb246IDAuMjUgfSksXG4gICAgICByaWdodDogKGcsdixvKSA9PiBnby5mb2N1cyhuYXYuZ2V0KGdvLnZhbHVlLCAncmlnaHQnKSwgeyBwb3NpdGlvbjogMC43NSB9KSxcbiAgICAgIGN1cnJlbnQ6IChnLHYsbykgPT4ge1xuICAgICAgICBpZiAoZ28udmFsdWUgPT09ICdjdXJyZW50Jykge1xuICAgICAgICAgIGdvLnNldCgpLmdvLmdvLmZvY3VzKCdjdXJyZW50Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ28uZ28uZG8oJ2V4ZWMnKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9fSBmb2N1cz17e1xuICAgICAgdXA6IChnLHYsbykgPT4gZ28ucm9vdCgpLmRvKCd1cCcpLFxuICAgIH19PlxuICAgICAgPGMuQm94IHBvc2l0aW9uPSdyZWxhdGl2ZScgdG9wPScwJyBsZWZ0PScwJyB3PScwJyBoPScwJz5cbiAgICAgICAgeyEhZ28udmFsdWUgJiYgPD5cbiAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtQbGFuZXRSZWxhdGlvbnN9PlxuICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnUGxhbmV0UmVsYXRpb25zJ119IGlzQWN0aXZlPXtpc0FjdGl2ZX0gbGlua0lkPXtsaW5rSWR9Lz5cbiAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e1BsYW5ldE9wZXJhdGlvbnN9PlxuICAgICAgICAgICAgPGdvLkNvbXBvbmVudFxuICAgICAgICAgICAgICBwYXRoPXtbZHBsLCAnUGxhbmV0T3BlcmF0aW9ucyddfSBpc0FjdGl2ZT17aXNBY3RpdmV9IGxpbmtJZD17bGlua0lkfVxuICAgICAgICAgICAgICBkZWxldGVEaXNjbG9zdXJlPXtkZWxldGVEaXNjbG9zdXJlfVxuICAgICAgICAgICAgICBmaW5kZXJEaXNjbG9zdXJlPXtmaW5kZXJEaXNjbG9zdXJlfVxuICAgICAgICAgICAgICByZWFkbWVEaXNjbG9zdXJlPXtyZWFkbWVEaXNjbG9zdXJlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD17Z28udmFsdWUgPT09ICdjdXJyZW50JyA/ICdwbGFuZXRBY3RpdmUnIDogJ3BsYW5ldCd9XG4gICAgICAgICAgICBwb3NpdGlvbj0nYWJzb2x1dGUnIGxlZnQ9Jy0xLjVlbScgdG9wPSctMS41ZW0nXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnY3VycmVudCcpfVxuICAgICAgICAgID48L2MuQnV0dG9uPlxuICAgICAgICA8Lz59XG4gICAgICA8L2MuQm94PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1348
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1357,
      "src_id": 903,
      "handler_id": 904,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1357,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 444,
          "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { GiBrain } = require(\"react-icons/gi\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Tree = deep.idLocal(dpl, 'Tree');\n    return ({ go, handlerId, isActive, }, ref) => {\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.go.do('right', { ...o, id: Tree }),\n                click: (g, v, o) => go.do('exec', o),\n                right: (g, v, o) => go.do('exec', o),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(GiBrain, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM5QyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUV2QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQztnQkFDdEQsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztnQkFDbEMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQzthQUNuQztZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxHQUFHLEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFFNUIsb0JBQUMsT0FBTyxPQUFFLENBQ0QsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBHaUJyYWluIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvZ2lcIik7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgVHJlZSA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgaGFuZGxlcklkLFxuXG4gICAgaXNBY3RpdmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6IChnLHYsbykgPT4gZ28uZ28uZG8oJ3JpZ2h0JywgeyAuLi5vLCBpZDogVHJlZSB9KSksXG4gICAgICBjbGljazogKGcsdixvKSA9PiBnby5kbygnZXhlYycsIG8pLFxuICAgICAgcmlnaHQ6IChnLHYsbykgPT4gZ28uZG8oJ2V4ZWMnLCBvKSxcbiAgICB9fT5cbiAgICAgIDxjLkJ1dHRvblxuICAgICAgICB3PSczZW0nIGg9JzNlbSdcbiAgICAgICAgdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICA+XG4gICAgICAgIDxHaUJyYWluLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1357
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1366,
      "src_id": 905,
      "handler_id": 906,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1366,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 447,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n    const { IoInfiniteSharp } = require(\"react-icons/io5\");\n    const { Planet } = require('react-planet');\n    const c = require('@chakra-ui/react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const dpl = '@deep-foundation/perception-links';\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const _Item = ({ link, isActive, Item, index, position }) => {\n        const go = Go.useGo();\n        const Component = link?.Component || Item;\n        return React.createElement(Component, { link: link, go: go, isActive: isActive, position: position, index: index });\n    };\n    return ({ go, links: _links, Component, ErrorComponent, UnhandledComponent, Item, saveHistory = false, linkId, link, handlerId, goHandler, ...props }, ref) => {\n        const links = React.useMemo(() => _links.filter(l => !!l?.id), [_links]);\n        const list = links.map((link, i) => !!link ? React.createElement(go.Provider, { key: link.id, linkId: link.id },\n            React.createElement(_Item, { link: link, isActive: go.value === link.id, Item: Item, saveHistory: saveHistory, index: i, position: i / (links.length - 1) })) : React.createElement(React.Fragment, null));\n        const index = React.useMemo(() => links.findIndex(l => l?.id === go.value), [go.value]);\n        const position = React.useMemo(() => index / (links.length - 1), [index]);\n        return React.createElement(go.On, { do: {\n                focus: (g, v, id, o) => !id && go.do('use', o),\n                exec: (g, v, o) => !!go.value && go.go.do('exec', { id: go.value, index, position }),\n                up: (g, v, o) => go.set().go.go.do('up', { ...o, id: go.value, index, position }),\n                down: (g, v, o) => go.set().go.go.do('down', { ...o, id: go.value, index, position }),\n                left: (g, v, o) => go.focus(go.prev(links)),\n                right: (g, v, o) => go.focus(go.next(links)),\n                use: (g, v, o) => {\n                    let id = o?.id;\n                    if (typeof (o?.position) === 'number') {\n                        id = links?.[Math.round((links.length - 1) * o.position)]?.id;\n                        console.log('XXXX', o, id, links, Math.round((links.length - 1) * o.position));\n                    }\n                    if (typeof (id) === 'number' || typeof (id) === 'string')\n                        id != go.value && go(id) && go.set(id).go(id)?.go?.do('use');\n                },\n            }, focus: {} },\n            React.createElement(Planet, { orbitRadius: 70, mass: 1, tension: 500, friction: 19, ...props }, list));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BFLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUN2RCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFDSixTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxHQUN6RSxHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBRWhELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sS0FBSyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRTtRQUMxRCxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDdEIsTUFBTSxTQUFTLEdBQUcsSUFBSSxFQUFFLFNBQVMsSUFBSSxJQUFJLENBQUM7UUFDMUMsT0FBTyxvQkFBQyxTQUFTLElBQUMsSUFBSSxFQUFFLElBQUks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QUFFLENBQUMsS0FBSyxRQUFRLElBQUksT0FBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLFFBQVE7d0JBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3ZILENBQUM7YUFDRixFQUFFLEtBQUssRUFBRSxFQUNUO1lBQ0Msb0JBQUMsTUFBTSxJQUNMLFdBQVcsRUFBRSxFQUFFLEVBQ2YsSUFBSSxFQUFFLENBQUMsRUFDUCxPQUFPLEVBQUUsR0FBRyxFQUNaLFFBQVEsRUFBRSxFQUFFLEtBQ1IsS0FBSyxJQUVSLElBQUksQ0FDRSxDQUNILENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBMdUNoZXZyb25MYXN0LCBMdUNoZXZyb25GaXJzdCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2x1XCIpO1xuICBjb25zdCB7IElvSW5maW5pdGVTaGFycCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2lvNVwiKTtcbiAgY29uc3QgeyBQbGFuZXQgfSA9IHJlcXVpcmUoJ3JlYWN0LXBsYW5ldCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IHtcbiAgICBUeXBlZEljb24sIERvd25JY29uLCBVcEljb24sIFR5cGVJY29uLCBJbkljb24sIE91dEljb24sIEZyb21JY29uLCBUb0ljb24sXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG5cbiAgY29uc3QgVHJlZUxpc3QgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpc3QnKTtcblxuICBjb25zdCBfSXRlbSA9ICh7IGxpbmssIGlzQWN0aXZlLCBJdGVtLCBpbmRleCwgcG9zaXRpb24gfSkgPT4ge1xuICAgIGNvbnN0IGdvID0gR28udXNlR28oKTtcbiAgICBjb25zdCBDb21wb25lbnQgPSBsaW5rPy5Db21wb25lbnQgfHwgSXRlbTtcbiAgICByZXR1cm4gPENvbXBvbmVudCBsaW5rPXtsaW5rfSBnbz17Z299IGlzQWN0aXZlPXtpc0FjdGl2ZX0gcG9zaXRpb249e3Bvc2l0aW9ufSBpbmRleD17aW5kZXh9Lz47XG4gIH1cblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGxpbmtzOiBfbGlua3MsXG5cbiAgICBDb21wb25lbnQsXG4gICAgRXJyb3JDb21wb25lbnQsXG4gICAgVW5oYW5kbGVkQ29tcG9uZW50LFxuXG4gICAgSXRlbSxcblxuICAgIHNhdmVIaXN0b3J5ID0gZmFsc2UsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcbiAgICBoYW5kbGVySWQsXG4gICAgZ29IYW5kbGVyLFxuXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgbGlua3MgPSBSZWFjdC51c2VNZW1vKCgpID0+IF9saW5rcy5maWx0ZXIobCA9PiAhIWw/LmlkKSwgW19saW5rc10pO1xuICAgIGNvbnN0IGxpc3QgPSBsaW5rcy5tYXAoKGxpbmssIGkpID0+ICEhbGluayA/IDxnby5Qcm92aWRlciBrZXk9e2xpbmsuaWR9IGxpbmtJZD17bGluay5pZH0+XG4gICAgICA8X0l0ZW1cbiAgICAgICAgbGluaz17bGlua30gaXNBY3RpdmU9e2dvLnZhbHVlID09PSBsaW5rLmlkfSBJdGVtPXtJdGVtfSBzYXZlSGlzdG9yeT17c2F2ZUhpc3Rvcnl9XG4gICAgICAgIGluZGV4PXtpfSBwb3NpdGlvbj17aSAvIChsaW5rcy5sZW5ndGggLSAxKX1cbiAgICAgIC8+XG4gICAgPC9nby5Qcm92aWRlcj4gOiA8UmVhY3QuRnJhZ21lbnQvPik7XG5cbiAgICBjb25zdCBpbmRleCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gbGlua3MuZmluZEluZGV4KGwgPT4gbD8uaWQgPT09IGdvLnZhbHVlKSwgW2dvLnZhbHVlXSk7XG4gICAgY29uc3QgcG9zaXRpb24gPSBSZWFjdC51c2VNZW1vKCgpID0+IGluZGV4IC8gKGxpbmtzLmxlbmd0aCAtIDEpLCBbaW5kZXhdKTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGZvY3VzOiAoZyx2LGlkLG8pID0+ICFpZCAmJiBnby5kbygndXNlJywgbyksXG4gICAgICBleGVjOiAoZyx2LG8pID0+ICEhZ28udmFsdWUgJiYgZ28uZ28uZG8oJ2V4ZWMnLCB7IGlkOiBnby52YWx1ZSwgaW5kZXgsIHBvc2l0aW9uIH0pLFxuICAgICAgdXA6IChnLHYsbykgPT4gZ28uc2V0KCkuZ28uZ28uZG8oJ3VwJywgeyAuLi5vLCBpZDogZ28udmFsdWUsIGluZGV4LCBwb3NpdGlvbiB9KSxcbiAgICAgIGRvd246IChnLHYsbykgPT4gZ28uc2V0KCkuZ28uZ28uZG8oJ2Rvd24nLCB7IC4uLm8sIGlkOiBnby52YWx1ZSwgaW5kZXgsIHBvc2l0aW9uIH0pLFxuICAgICAgbGVmdDogKGcsdixvKSA9PiBnby5mb2N1cyhnby5wcmV2KGxpbmtzKSksXG4gICAgICByaWdodDogKGcsdixvKSA9PiBnby5mb2N1cyhnby5uZXh0KGxpbmtzKSksXG4gICAgICB1c2U6IChnLHYsbykgPT4ge1xuICAgICAgICBsZXQgaWQgPSBvPy5pZDtcbiAgICAgICAgaWYgKHR5cGVvZihvPy5wb3NpdGlvbikgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgaWQgPSBsaW5rcz8uW01hdGgucm91bmQoKGxpbmtzLmxlbmd0aCAtIDEpICogby5wb3NpdGlvbildPy5pZDtcbiAgICAgICAgY29uc29sZS5sb2coJ1hYWFgnLCBvLCBpZCwgbGlua3MsIE1hdGgucm91bmQoKGxpbmtzLmxlbmd0aCAtIDEpICogby5wb3NpdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YoaWQpID09PSAnbnVtYmVyJyB8fCB0eXBlb2YoaWQpID09PSAnc3RyaW5nJykgaWQgIT0gZ28udmFsdWUgJiYgZ28oaWQpICYmIGdvLnNldChpZCkuZ28oaWQpPy5nbz8uZG8oJ3VzZScpO1xuICAgICAgfSxcbiAgICB9fSBmb2N1cz17e1xuICAgIH19PlxuICAgICAgPFBsYW5ldFxuICAgICAgICBvcmJpdFJhZGl1cz17NzB9XG4gICAgICAgIG1hc3M9ezF9XG4gICAgICAgIHRlbnNpb249ezUwMH1cbiAgICAgICAgZnJpY3Rpb249ezE5fVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICA+XG4gICAgICAgIHtsaXN0fVxuICAgICAgPC9QbGFuZXQ+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1366
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1375,
      "src_id": 907,
      "handler_id": 908,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1375,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 450,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n    const { IoInfiniteSharp } = require(\"react-icons/io5\");\n    const { Planet } = require('react-planet');\n    const c = require('@chakra-ui/react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const dpl = '@deep-foundation/perception-links';\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const Item = ({ isActive, link, position }) => {\n        const go = Go.useGo();\n        return React.createElement(c.Button, { variant: isActive ? 'planetActive' : 'planet', onClick: () => go.go.focus(link.id).go.do(link.id) }, link.icon);\n    };\n    let i = 1;\n    return ({ go, linkId, isActive = false, }, ref) => {\n        const { cy } = go.useGraph();\n        const links = [\n            { id: 'ups', icon: React.createElement(UpIcon, null) },\n            { id: 'out', icon: React.createElement(OutIcon, null) },\n            { id: 'from', icon: React.createElement(FromIcon, null) },\n            { id: 'type', icon: React.createElement(TypeIcon, null) },\n            { id: 'typed', icon: React.createElement(TypedIcon, null) },\n            { id: 'to', icon: React.createElement(ToIcon, null) },\n            { id: 'in', icon: React.createElement(InIcon, null) },\n            { id: 'downs', icon: React.createElement(DownIcon, null) },\n        ];\n        const focus = {};\n        for (let l in links) {\n            focus[links[l].id] = (g, v, o) => { };\n        }\n        return React.createElement(go.On, { do: {\n                exec: () => go.do(go.value),\n                typed: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { type_id: linkId } });\n                    go.go.set();\n                },\n                out: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { from_id: linkId } });\n                    go.go.set();\n                },\n                in: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { to_id: linkId } });\n                    go.go.set();\n                },\n                type: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { id: deep.get(linkId).type_id } });\n                    go.go.set();\n                },\n                from: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { id: deep.get(linkId).from_id } });\n                    go.go.set();\n                },\n                to: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { id: deep.get(linkId).to_id } });\n                    go.go.set();\n                },\n                ups: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { down: { link_id: linkId } } });\n                    go.go.set();\n                },\n                downs: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: { up: { parent_id: linkId } } });\n                    go.go.set();\n                },\n            }, focus: focus },\n            React.createElement(go.Component, { open: isActive, path: [dpl, 'Planet'], links: links, Item: Item, orbitRadius: 70, mass: 1 }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BFLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUN2RCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFDSixTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxHQUN6RSxHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBRWhELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sSUFBSSxHQUFHLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUU7UUFDNUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3RCLE9BQU8sb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFDNUQsT0FBTyxFQUFFLEdBQUcs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QyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQ2QsQ0FBQztnQkFFRCxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ25CLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztvQkFDcEYsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztnQkFDZCxDQUFDO2dCQUNELEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRTtvQkFDckIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUNwRixFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUNkLENBQUM7YUFDRixFQUFFLEtBQUssRUFBRSxLQUFLO1lBQ2Isb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFDWCxJQUFJLEVBQUUsUUFBUSxFQUNkLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUNuQyxJQUFJLEVBQUUsSUFBSSxFQUNWLFdBQVcsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FDeEIsQ0FDSSxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgR28sIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgTHVDaGV2cm9uTGFzdCwgTHVDaGV2cm9uRmlyc3QgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9sdVwiKTtcbiAgY29uc3QgeyBJb0luZmluaXRlU2hhcnAgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9pbzVcIik7XG4gIGNvbnN0IHsgUGxhbmV0IH0gPSByZXF1aXJlKCdyZWFjdC1wbGFuZXQnKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCB7XG4gICAgVHlwZWRJY29uLCBEb3duSWNvbiwgVXBJY29uLCBUeXBlSWNvbiwgSW5JY29uLCBPdXRJY29uLCBGcm9tSWNvbiwgVG9JY29uLFxuICB9ID0gcmVxdWlyZSgnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWFwcCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuXG4gIGNvbnN0IFRyZWVMaXN0ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1RyZWVMaXN0Jyk7XG5cbiAgY29uc3QgSXRlbSA9ICh7IGlzQWN0aXZlLCBsaW5rLCBwb3NpdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgZ28gPSBHby51c2VHbygpO1xuICAgIHJldHVybiA8Yy5CdXR0b24gdmFyaWFudD17aXNBY3RpdmUgPyAncGxhbmV0QWN0aXZlJyA6ICdwbGFuZXQnfVxuICAgICAgb25DbGljaz17KCkgPT4gZ28uZ28uZm9jdXMobGluay5pZCkuZ28uZG8obGluay5pZCl9XG4gICAgPntsaW5rLmljb259PC9jLkJ1dHRvbj47XG4gIH07XG5cbiAgbGV0IGkgPSAxO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgbGlua0lkLFxuXG4gICAgaXNBY3RpdmUgPSBmYWxzZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgeyBjeSB9ID0gZ28udXNlR3JhcGgoKTtcblxuICAgIGNvbnN0IGxpbmtzID0gW1xuICAgICAgeyBpZDogJ3VwcycsIGljb246IDxVcEljb24vPiB9LFxuICAgICAgeyBpZDogJ291dCcsIGljb246IDxPdXRJY29uLz4gfSxcbiAgICAgIHsgaWQ6ICdmcm9tJywgaWNvbjogPEZyb21JY29uLz4gfSxcbiAgICAgIHsgaWQ6ICd0eXBlJywgaWNvbjogPFR5cGVJY29uLz4gfSxcbiAgICAgIHsgaWQ6ICd0eXBlZCcsIGljb246IDxUeXBlZEljb24vPiB9LFxuICAgICAgeyBpZDogJ3RvJywgaWNvbjogPFRvSWNvbi8+IH0sXG4gICAgICB7IGlkOiAnaW4nLCBpY29uOiA8SW5JY29uLz4gfSxcbiAgICAgIHsgaWQ6ICdkb3ducycsIGljb246IDxEb3duSWNvbi8+IH0sXG4gICAgXTtcblxuICAgIGNvbnN0IGZvY3VzID0ge307XG4gICAgZm9yIChsZXQgbCBpbiBsaW5rcykge1xuICAgICAgZm9jdXNbbGlua3NbbF0uaWRdID0gKGcsdixvKSA9PiB7fVxuICAgIH1cblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6ICgpID0+IGdvLmRvKGdvLnZhbHVlKSxcblxuICAgICAgdHlwZWQ6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBnby5kbygncXVlcnknLCB7IG5hbWU6IHYsIHBhcmVudElkOiBsaW5rSWQsIHF1ZXJ5OiB7IHR5cGVfaWQ6IGxpbmtJZCB9IH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG4gICAgICBvdXQ6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBnby5kbygncXVlcnknLCB7IG5hbWU6IHYsIHBhcmVudElkOiBsaW5rSWQsIHF1ZXJ5OiB7IGZyb21faWQ6IGxpbmtJZCB9IH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG4gICAgICBpbjogYXN5bmMgKGcsdixvKSA9PiB7XG4gICAgICAgIGdvLmRvKCdxdWVyeScsIHsgbmFtZTogdiwgcGFyZW50SWQ6IGxpbmtJZCwgcXVlcnk6IHsgdG9faWQ6IGxpbmtJZCB9IH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG5cbiAgICAgIHR5cGU6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBnby5kbygncXVlcnknLCB7IG5hbWU6IHYsIHBhcmVudElkOiBsaW5rSWQsIHF1ZXJ5OiB7IGlkOiBkZWVwLmdldChsaW5rSWQpLnR5cGVfaWQgfSB9KTtcbiAgICAgICAgZ28uZ28uc2V0KCk7XG4gICAgICB9LFxuICAgICAgZnJvbTogYXN5bmMgKGcsdixvKSA9PiB7XG4gICAgICAgIGdvLmRvKCdxdWVyeScsIHsgbmFtZTogdiwgcGFyZW50SWQ6IGxpbmtJZCwgcXVlcnk6IHsgaWQ6IGRlZXAuZ2V0KGxpbmtJZCkuZnJvbV9pZCB9IH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG4gICAgICB0bzogYXN5bmMgKGcsdixvKSA9PiB7XG4gICAgICAgIGdvLmRvKCdxdWVyeScsIHsgbmFtZTogdiwgcGFyZW50SWQ6IGxpbmtJZCwgcXVlcnk6IHsgaWQ6IGRlZXAuZ2V0KGxpbmtJZCkudG9faWQgfSB9KTtcbiAgICAgICAgZ28uZ28uc2V0KCk7XG4gICAgICB9LFxuXG4gICAgICB1cHM6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBnby5kbygncXVlcnknLCB7IG5hbWU6IHYsIHBhcmVudElkOiBsaW5rSWQsIHF1ZXJ5OiB7IGRvd246IHsgbGlua19pZDogbGlua0lkIH0gfSB9KTtcbiAgICAgICAgZ28uZ28uc2V0KCk7XG4gICAgICB9LFxuICAgICAgZG93bnM6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBnby5kbygncXVlcnknLCB7IG5hbWU6IHYsIHBhcmVudElkOiBsaW5rSWQsIHF1ZXJ5OiB7IHVwOiB7IHBhcmVudF9pZDogbGlua0lkIH0gfSB9KTtcbiAgICAgICAgZ28uZ28uc2V0KCk7XG4gICAgICB9LFxuICAgIH19IGZvY3VzPXtmb2N1c30+XG4gICAgICA8Z28uQ29tcG9uZW50XG4gICAgICAgIG9wZW49e2lzQWN0aXZlfVxuICAgICAgICBwYXRoPXtbZHBsLCAnUGxhbmV0J119IGxpbmtzPXtsaW5rc31cbiAgICAgICAgSXRlbT17SXRlbX1cbiAgICAgICAgb3JiaXRSYWRpdXM9ezcwfSBtYXNzPXsxfVxuICAgICAgLz5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1375
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1384,
      "src_id": 909,
      "handler_id": 910,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1384,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 453,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { LuChevronLast, LuChevronFirst } = require(\"react-icons/lu\");\n    const { IoInfiniteSharp } = require(\"react-icons/io5\");\n    const { Planet } = require('react-planet');\n    const c = require('@chakra-ui/react');\n    const { TypedIcon, DownIcon, UpIcon, TypeIcon, InIcon, OutIcon, FromIcon, ToIcon, } = require('@deep-foundation/perception-app');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const dr = '@deep-foundation/readme';\n    const Contain = deep.idLocal(dc, 'Contain');\n    const Graph = deep.idLocal(dpl, 'Graph');\n    const TreeList = deep.idLocal(dpl, 'TreeList');\n    const Readme = await deep.id(dr, 'Readme');\n    const Item = ({ isActive, link, position }) => {\n        const go = Go.useGo();\n        return React.createElement(c.Button, { variant: isActive ? 'planetActive' : 'planet', onClick: () => go.go.focus(link.id).go.do(link.id) }, link.icon);\n    };\n    return ({ go, linkId, deleteDisclosure, finderDisclosure, readmeDisclosure, isActive = false, }, ref) => {\n        const { cy } = go.useGraph();\n        const [link] = deep.useLinks(linkId);\n        const [contain] = deep.useLocalQuery({ type_id: Contain, to_id: linkId });\n        const links = [\n            { id: 'contains', icon: React.createElement(React.Fragment, null, \"\\uD83D\\uDDC2\\uFE0F\") },\n            { id: 'finder', icon: React.createElement(React.Fragment, null, \"\\uD83E\\uDEAC\") },\n            { id: 'delete', icon: React.createElement(React.Fragment, null, \"\\u274C\") },\n            { id: 'handlers', icon: React.createElement(React.Fragment, null, \"\\uD83D\\uDC41\\uFE0F\") },\n            { id: 'readme', icon: React.createElement(React.Fragment, null, \"?\") },\n            { id: 'trees', icon: React.createElement(React.Fragment, null, \"\\uD83C\\uDF84\") },\n            { id: 'containerId', icon: React.createElement(React.Fragment, null, \"\\uD83D\\uDDC3\\uFE0F\") },\n            { id: 'spaceId', icon: React.createElement(React.Fragment, null, \"\\uD83D\\uDD2E\") },\n        ];\n        const focus = {};\n        for (let l in links) {\n            focus[links[l].id] = (g, v, o) => { };\n        }\n        const [readme, setReadme] = React.useState();\n        const readmeRef = React.useRef();\n        return React.createElement(go.On, { do: {\n                exec: () => go.do(go.value),\n                contains: async (g, v, o) => {\n                    go.do('query', { name: v, parentId: linkId, query: {\n                            in: { type_id: Contain, from_id: linkId },\n                            return: {\n                                contains: { relation: 'in', type_id: Contain }\n                            },\n                        } });\n                    go.go.set();\n                },\n                delete: () => {\n                    deleteDisclosure.onOpen();\n                },\n                readme: async (g, v, o) => {\n                    const { data: [readme] } = await deep.select({ type_id: Readme, to_id: linkId });\n                    if (readme) {\n                        setReadme(readme.id);\n                        readmeRef.current = readme.id;\n                    }\n                    if (!readmeRef?.current) {\n                        const { data: [readme] } = await deep.insert({\n                            type_id: Readme,\n                            string: ' ',\n                            from_id: linkId,\n                            to_id: linkId,\n                            name: `${link.name}Readme`,\n                            containerId: contain.from_id,\n                        });\n                        setReadme(readme.id);\n                        readmeRef.current = readme.id;\n                    }\n                    readmeDisclosure.onOpen();\n                },\n                finder: (g, v, o) => {\n                    finderDisclosure.onOpen();\n                },\n                containerId: (g, v, o) => {\n                    go.parent(Graph).do('containerId', { id: linkId });\n                    go.go.set();\n                },\n                spaceId: (g, v, o) => {\n                    go.parent(Graph).do('containerId', { id: linkId });\n                    go.parent(Graph).do('spaceId', { id: linkId });\n                    go.go.set();\n                },\n            }, focus: focus },\n            React.createElement(go.Component, { open: isActive, path: [dpl, 'Planet'], links: links, Item: Item, orbitRadius: 130, mass: 3 }),\n            React.createElement(go.Component, { path: [dpl, 'LinkDeleteModal'], disclosure: deleteDisclosure, linkId: linkId }),\n            React.createElement(go.Component, { path: [dpl, 'Finder'], disclosure: finderDisclosure, initialId: linkId, onSubmit: (id) => go.do('open', { id }), operations: true }),\n            !!readme && React.createElement(go.Component, { path: [dpl, 'Finder'], disclosure: readmeDisclosure, initialId: readme }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BFLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUN2RCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFDSixTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxHQUN6RSxHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBQ25DLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHlCQUF5QixDQUFDO0lBRXJDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxD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SSxFQUNWLFdBQVcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FDekI7WUFDRixvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsTUFBTSxHQUFHO1lBQzdGLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxFQUNqQyxVQUFVLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFDL0MsUUFBUSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQ3ZDLFVBQVUsU0FDVjtZQUNELENBQUMsQ0FBQyxNQUFNLElBQUksb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQzlDLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxHQUMvQyxDQUNJLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBMdUNoZXZyb25MYXN0LCBMdUNoZXZyb25GaXJzdCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2x1XCIpO1xuICBjb25zdCB7IElvSW5maW5pdGVTaGFycCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2lvNVwiKTtcbiAgY29uc3QgeyBQbGFuZXQgfSA9IHJlcXVpcmUoJ3JlYWN0LXBsYW5ldCcpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IHtcbiAgICBUeXBlZEljb24sIERvd25JY29uLCBVcEljb24sIFR5cGVJY29uLCBJbkljb24sIE91dEljb24sIEZyb21JY29uLCBUb0ljb24sXG4gIH0gPSByZXF1aXJlKCdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tYXBwJyk7XG5cbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRyID0gJ0BkZWVwLWZvdW5kYXRpb24vcmVhZG1lJztcblxuICBjb25zdCBDb250YWluID0gZGVlcC5pZExvY2FsKGRjLCAnQ29udGFpbicpO1xuICBjb25zdCBHcmFwaCA9IGRlZXAuaWRMb2NhbChkcGwsICdHcmFwaCcpO1xuICBjb25zdCBUcmVlTGlzdCA9IGRlZXAuaWRMb2NhbChkcGwsICdUcmVlTGlzdCcpO1xuICBjb25zdCBSZWFkbWUgPSBhd2FpdCBkZWVwLmlkKGRyLCAnUmVhZG1lJyk7XG5cbiAgY29uc3QgSXRlbSA9ICh7IGlzQWN0aXZlLCBsaW5rLCBwb3NpdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgZ28gPSBHby51c2VHbygpO1xuICAgIHJldHVybiA8Yy5CdXR0b24gdmFyaWFudD17aXNBY3RpdmUgPyAncGxhbmV0QWN0aXZlJyA6ICdwbGFuZXQnfVxuICAgICAgb25DbGljaz17KCkgPT4gZ28uZ28uZm9jdXMobGluay5pZCkuZ28uZG8obGluay5pZCl9XG4gICAgPntsaW5rLmljb259PC9jLkJ1dHRvbj47XG4gIH07XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG5cbiAgICBsaW5rSWQsXG5cbiAgICBkZWxldGVEaXNjbG9zdXJlLFxuICAgIGZpbmRlckRpc2Nsb3N1cmUsXG4gICAgcmVhZG1lRGlzY2xvc3VyZSxcblxuICAgIGlzQWN0aXZlID0gZmFsc2UsXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IHsgY3kgfSA9IGdvLnVzZUdyYXBoKCk7XG5cbiAgICBjb25zdCBbbGlua10gPSBkZWVwLnVzZUxpbmtzKGxpbmtJZCk7XG4gICAgY29uc3QgW2NvbnRhaW5dID0gZGVlcC51c2VMb2NhbFF1ZXJ5KHsgdHlwZV9pZDogQ29udGFpbiwgdG9faWQ6IGxpbmtJZCB9KTtcblxuICAgIGNvbnN0IGxpbmtzID0gW1xuICAgICAgeyBpZDogJ2NvbnRhaW5zJywgaWNvbjogPD7wn5eC77iPPC8+IH0sXG4gICAgICB7IGlkOiAnZmluZGVyJywgaWNvbjogPD7wn6qsPC8+IH0sXG4gICAgICB7IGlkOiAnZGVsZXRlJywgaWNvbjogPD7inYw8Lz4gfSxcbiAgICAgIHsgaWQ6ICdoYW5kbGVycycsIGljb246IDw+8J+Rge+4jzwvPiB9LFxuICAgICAgeyBpZDogJ3JlYWRtZScsIGljb246IDw+PzwvPiB9LFxuICAgICAgeyBpZDogJ3RyZWVzJywgaWNvbjogPD7wn46EPC8+IH0sXG4gICAgICB7IGlkOiAnY29udGFpbmVySWQnLCBpY29uOiA8PvCfl4PvuI88Lz4gfSxcbiAgICAgIHsgaWQ6ICdzcGFjZUlkJywgaWNvbjogPD7wn5SuPC8+IH0sXG4gICAgXTtcblxuICAgIGNvbnN0IGZvY3VzID0ge307XG4gICAgZm9yIChsZXQgbCBpbiBsaW5rcykge1xuICAgICAgZm9jdXNbbGlua3NbbF0uaWRdID0gKGcsdixvKSA9PiB7fVxuICAgIH1cblxuICAgIGNvbnN0IFtyZWFkbWUsIHNldFJlYWRtZV0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIGNvbnN0IHJlYWRtZVJlZiA9IFJlYWN0LnVzZVJlZigpO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKCkgPT4gZ28uZG8oZ28udmFsdWUpLFxuXG4gICAgICBjb250YWluczogYXN5bmMgKGcsdixvKSA9PiB7XG4gICAgICAgIGdvLmRvKCdxdWVyeScsIHsgbmFtZTogdiwgcGFyZW50SWQ6IGxpbmtJZCwgcXVlcnk6IHtcbiAgICAgICAgICBpbjogeyB0eXBlX2lkOiBDb250YWluLCBmcm9tX2lkOiBsaW5rSWQgfSxcbiAgICAgICAgICByZXR1cm46IHtcbiAgICAgICAgICAgIGNvbnRhaW5zOiB7IHJlbGF0aW9uOiAnaW4nLCB0eXBlX2lkOiBDb250YWluIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9IH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG4gICAgICBkZWxldGU6ICgpID0+IHtcbiAgICAgICAgZGVsZXRlRGlzY2xvc3VyZS5vbk9wZW4oKTtcbiAgICAgIH0sXG4gICAgICByZWFkbWU6IGFzeW5jIChnLHYsbykgPT4ge1xuICAgICAgICBjb25zdCB7IGRhdGE6IFtyZWFkbWVdIH0gPSBhd2FpdCBkZWVwLnNlbGVjdCh7IHR5cGVfaWQ6IFJlYWRtZSwgdG9faWQ6IGxpbmtJZCB9KTtcbiAgICAgICAgaWYgKHJlYWRtZSkge1xuICAgICAgICAgIHNldFJlYWRtZShyZWFkbWUuaWQpOyByZWFkbWVSZWYuY3VycmVudCA9IHJlYWRtZS5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlYWRtZVJlZj8uY3VycmVudCkge1xuICAgICAgICAgIGNvbnN0IHsgZGF0YTogW3JlYWRtZV0gfSA9IGF3YWl0IGRlZXAuaW5zZXJ0KHtcbiAgICAgICAgICAgIHR5cGVfaWQ6IFJlYWRtZSxcbiAgICAgICAgICAgIHN0cmluZzogJyAnLFxuICAgICAgICAgICAgZnJvbV9pZDogbGlua0lkLFxuICAgICAgICAgICAgdG9faWQ6IGxpbmtJZCxcbiAgICAgICAgICAgIG5hbWU6IGAke2xpbmsubmFtZX1SZWFkbWVgLFxuICAgICAgICAgICAgY29udGFpbmVySWQ6IGNvbnRhaW4uZnJvbV9pZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRSZWFkbWUocmVhZG1lLmlkKTsgcmVhZG1lUmVmLmN1cnJlbnQgPSByZWFkbWUuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmVhZG1lRGlzY2xvc3VyZS5vbk9wZW4oKTtcbiAgICAgIH0sXG4gICAgICBmaW5kZXI6IChnLHYsbykgPT4ge1xuICAgICAgICBmaW5kZXJEaXNjbG9zdXJlLm9uT3BlbigpO1xuICAgICAgfSxcblxuICAgICAgY29udGFpbmVySWQ6IChnLHYsbykgPT4ge1xuICAgICAgICBnby5wYXJlbnQoR3JhcGgpLmRvKCdjb250YWluZXJJZCcsIHsgaWQ6IGxpbmtJZCB9KTtcbiAgICAgICAgZ28uZ28uc2V0KCk7XG4gICAgICB9LFxuICAgICAgc3BhY2VJZDogKGcsdixvKSA9PiB7XG4gICAgICAgIGdvLnBhcmVudChHcmFwaCkuZG8oJ2NvbnRhaW5lcklkJywgeyBpZDogbGlua0lkIH0pO1xuICAgICAgICBnby5wYXJlbnQoR3JhcGgpLmRvKCdzcGFjZUlkJywgeyBpZDogbGlua0lkIH0pO1xuICAgICAgICBnby5nby5zZXQoKTtcbiAgICAgIH0sXG4gICAgfX0gZm9jdXM9e2ZvY3VzfT5cbiAgICAgIDxnby5Db21wb25lbnRcbiAgICAgICAgb3Blbj17aXNBY3RpdmV9XG4gICAgICAgIHBhdGg9e1tkcGwsICdQbGFuZXQnXX0gbGlua3M9e2xpbmtzfVxuICAgICAgICBJdGVtPXtJdGVtfVxuICAgICAgICBvcmJpdFJhZGl1cz17MTMwfSBtYXNzPXszfVxuICAgICAgLz5cbiAgICAgIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ0xpbmtEZWxldGVNb2RhbCddfSBkaXNjbG9zdXJlPXtkZWxldGVEaXNjbG9zdXJlfSBsaW5rSWQ9e2xpbmtJZH0vPlxuICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVyJ119XG4gICAgICAgIGRpc2Nsb3N1cmU9e2ZpbmRlckRpc2Nsb3N1cmV9IGluaXRpYWxJZD17bGlua0lkfVxuICAgICAgICBvblN1Ym1pdD17KGlkKSA9PiBnby5kbygnb3BlbicsIHsgaWQgfSl9XG4gICAgICAgIG9wZXJhdGlvbnNcbiAgICAgIC8+XG4gICAgICB7ISFyZWFkbWUgJiYgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnRmluZGVyJ119XG4gICAgICAgIGRpc2Nsb3N1cmU9e3JlYWRtZURpc2Nsb3N1cmV9IGluaXRpYWxJZD17cmVhZG1lfVxuICAgICAgLz59XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1384
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1393,
      "src_id": 911,
      "handler_id": 912,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1393,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 456,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const moment = require('moment');\n    const { useDebounceCallback } = require('@react-hook/debounce');\n    var dpl = '@deep-foundation/perception-links';\n    var dc = '@deep-foundation/core';\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const Queries = deep.idLocal(dpl, 'Queries');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const Query = deep.idLocal(dpl, 'Query');\n    const QueriesClient = deep.idLocal(dpl, 'QueriesClient');\n    let initialMemoryObject = {\n        useQuery: {}, useSubscription: {}, select: {}, subscribe: {}, insert: {}, update: {}, 'delete': {},\n    };\n    if (typeof (window) === 'object') {\n        if (window._deep_perception_queries_memory)\n            initialMemoryObject = window._deep_perception_queries_memory;\n        window._deep_perception_queries_memory = initialMemoryObject;\n    }\n    return ({ go, isActive = false, children, }, ref) => {\n        const containerRef = React.useMemo(() => go.root().ref, []);\n        const { sync, setSync } = React.useContext(go.HandlerConfigContext);\n        const mode = React.useState('useQuery');\n        const modeRef = React.useRef(mode);\n        modeRef.current = mode[0];\n        const modes = Object.keys(initialMemoryObject);\n        const [list, setList] = React.useState([]);\n        const generateList = React.useCallback(() => {\n            if (!modeRef.current)\n                return;\n            const list = _.chain(Object.values(initialMemoryObject[modeRef.current] || {})).sortBy('mounted').reverse().value();\n            setList(list);\n        }, []);\n        const generateListDebounced = useDebounceCallback(generateList, 1000);\n        const apply = React.useCallback((mode, event) => {\n            const prev = initialMemoryObject[mode][event.name] || {};\n            const next = initialMemoryObject[mode][event.name] = { id: event.name, mode, ...prev, ...event, count: (prev?.count || 0) + 1 };\n            next[next.mounted ? 'updated' : 'mounted'] = new Date().valueOf();\n            if (mode === modeRef.current)\n                generateListDebounced();\n        }, []);\n        const unapply = React.useCallback((mode, event) => {\n            delete initialMemoryObject[mode][event.name];\n            if (mode === modeRef.current)\n                generateListDebounced();\n        }, []);\n        const events = React.useMemo(() => ({\n            'useQuery.mount': (event) => apply('useQuery', event),\n            'useQuery': (event) => apply('useQuery', event),\n            'useQuery.unmount': (event) => unapply('useQuery', event),\n            'useSubscription.mount': (event) => apply('useSubscription', event),\n            'useSubscription': (event) => apply('useSubscription', event),\n            'useSubscription.unmount': (event) => unapply('useSubscription', event),\n            'select': (event) => apply('select', event),\n            'subscribe.before': (event) => apply('subscribe', event),\n            'subscribe': (event) => apply('subscribe', event),\n            'insert': (event) => {\n                if (event?.table === 'links' && event.remoteData?.length) {\n                    event.remoteData.forEach(l => go.root().do('open', { id: l?.id }));\n                }\n                apply('insert', event);\n            },\n            'update': (event) => apply('update', event),\n            'delete': (event) => apply('delete', event),\n        }), []);\n        React.useEffect(() => {\n            const sub = (name) => events?.[name] && deep.emitter.on(name, events?.[name]);\n            Object.keys(events).forEach(name => sub(name));\n        }, []);\n        const [opened, setOpened] = React.useState();\n        const Item = React.useMemo(() => React.memo(({ link, isActive }) => {\n            const go = Go.useGo();\n            const q = JSON.stringify(link?.query) || '';\n            return React.createElement(go.On, { do: {\n                    exec: (g, v, o) => setOpened(link),\n                } },\n                React.createElement(c.Button, { bg: isActive ? 'deepBgDark' : undefined, onClick: () => go.do('exec'), w: '100%' },\n                    React.createElement(c.Flex, { w: '100%' },\n                        React.createElement(c.Box, { flex: '1', p: '0.5em', pl: '1em' },\n                            React.createElement(c.Box, { noOfLines: 1, textAlign: 'left' },\n                                q.slice(0, 43),\n                                q.length > 43 ? '...' : ''),\n                            !!link?.value && React.createElement(c.Box, { noOfLines: 1 }, JSON.stringify(link?.value))),\n                        React.createElement(c.Box, { p: '0.25em', pr: '1em', fontSize: 'xs' },\n                            React.createElement(c.Box, null, moment(link.mounted).format('HH:mm:ss')),\n                            !!link.updated && React.createElement(c.Box, null, moment(link.updated).format('HH:mm:ss'))))));\n        }, _.isEqual), []);\n        React.useMemo(() => {\n            setOpened();\n            generateList();\n        }, [mode[0]]);\n        React.useMemo(() => {\n            if (!go.value)\n                mode[1]();\n            else if (!mode)\n                mode[1]('useQuery');\n        }, [go.value]);\n        React.useMemo(() => {\n            opened && go.focus(Query);\n        }, [opened]);\n        return React.createElement(go.On, { do: {\n                focus: (g, v, id, o) => {\n                    if (!v)\n                        go.set('useQuery');\n                    else if (modes.includes(v))\n                        setMode(v);\n                },\n                right: (g, v, o) => {\n                    mode[1](go.next(modes.map(m => ({ id: m })), mode[0]));\n                },\n                left: (g, v, o) => {\n                    modes[0] === mode[0] ? go.set() : mode[1](go.prev(modes.map(m => ({ id: m })), mode[0]));\n                },\n            } },\n            React.createElement(c.Popover, { placement: 'right-end', closeOnBlur: false, isOpen: !!go.value, onClose: () => go.set() },\n                React.createElement(c.PopoverTrigger, null,\n                    React.createElement(c.Button, { ref: ref, w: '3em', h: '3em', variant: !!go.value || isActive ? 'active' : undefined, onClick: () => go.value ? go.set() : go.set('useQuery') }, children)),\n                React.createElement(c.Portal, { containerRef: containerRef },\n                    React.createElement(c.PopoverContent, { w: '30em', maxH: '30em', minH: '30em', position: 'relative' },\n                        React.createElement(c.PopoverArrow, null),\n                        React.createElement(c.Flex, { direction: 'column', position: 'absolute', top: '0', left: '0', w: '100%', h: '100%' },\n                            React.createElement(c.Flex, { overflowX: 'scroll', css: go.noScrollBar },\n                                React.createElement(c.Flex, { columns: modes.length, flex: '1' }, modes.map(m => React.createElement(c.Button, { ...go.activator(mode, m) }, m))),\n                                React.createElement(c.Divider, { orientation: 'vertical' }),\n                                React.createElement(c.Button, { ...go.activator([sync, setSync], true) }, \"sync\")),\n                            React.createElement(c.Divider, null),\n                            React.createElement(go.Provider, { linkId: Stack, value: list?.[0]?.id }, !opened && React.createElement(go.Component, { key: mode[0], path: [dpl, 'Stack'], direction: 'vertical', links: list, Item: Item, flex: '1' })),\n                            !!opened && React.createElement(React.Fragment, null,\n                                React.createElement(go.Provider, { linkId: Query, value: list?.[0]?.id },\n                                    React.createElement(go.Component, { path: [dpl, 'Query'], event: opened }))))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNqQyxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUVoRSxJQUFJLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUM5QyxJQUFJLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVqQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNuRCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsQ0FBQztJQUV6RCxJQUFJLG1CQUFtQixHQUFHO1FBQ3hCLFFB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RSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7b0NBQzlDLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxFQUFFLEtBQUssRUFBRSxNQUFNLEdBQUcsQ0FDeEMsQ0FNYixDQUNJLENBQ1EsQ0FDVixDQUNELENBQ04sQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuICBjb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbiAgY29uc3QgeyB1c2VEZWJvdW5jZUNhbGxiYWNrIH0gPSByZXF1aXJlKCdAcmVhY3QtaG9vay9kZWJvdW5jZScpO1xuXG4gIHZhciBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgdmFyIGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgU3RhY2sgPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2snKTtcbiAgY29uc3QgUXVlcmllcyA9IGRlZXAuaWRMb2NhbChkcGwsICdRdWVyaWVzJyk7XG4gIGNvbnN0IENvbXBhdGFibGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQ29tcGF0YWJsZScpO1xuICBjb25zdCBIYW5kbGVyID0gZGVlcC5pZExvY2FsKGRjLCAnSGFuZGxlcicpO1xuICBjb25zdCBRdWVyeSA9IGRlZXAuaWRMb2NhbChkcGwsICdRdWVyeScpO1xuICBjb25zdCBRdWVyaWVzQ2xpZW50ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1F1ZXJpZXNDbGllbnQnKTtcblxuICBsZXQgaW5pdGlhbE1lbW9yeU9iamVjdCA9IHtcbiAgICB1c2VRdWVyeToge30sIHVzZVN1YnNjcmlwdGlvbjoge30sIHNlbGVjdDoge30sIHN1YnNjcmliZToge30sIGluc2VydDoge30sIHVwZGF0ZToge30sICdkZWxldGUnOiB7fSxcbiAgfTtcbiAgaWYgKHR5cGVvZih3aW5kb3cpID09PSAnb2JqZWN0Jykge1xuICAgIGlmICh3aW5kb3cuX2RlZXBfcGVyY2VwdGlvbl9xdWVyaWVzX21lbW9yeSkgaW5pdGlhbE1lbW9yeU9iamVjdCA9IHdpbmRvdy5fZGVlcF9wZXJjZXB0aW9uX3F1ZXJpZXNfbWVtb3J5O1xuICAgIHdpbmRvdy5fZGVlcF9wZXJjZXB0aW9uX3F1ZXJpZXNfbWVtb3J5ID0gaW5pdGlhbE1lbW9yeU9iamVjdDtcbiAgfVxuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgaXNBY3RpdmUgPSBmYWxzZSxcblxuICAgIGNoaWxkcmVuLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBjb250YWluZXJSZWYgPSBSZWFjdC51c2VNZW1vKCgpID0+IGdvLnJvb3QoKS5yZWYsIFtdKTtcblxuICAgIGNvbnN0IHsgc3luYywgc2V0U3luYyB9ID0gUmVhY3QudXNlQ29udGV4dChnby5IYW5kbGVyQ29uZmlnQ29udGV4dCk7XG4gICAgY29uc3QgbW9kZSA9IFJlYWN0LnVzZVN0YXRlKCd1c2VRdWVyeScpO1xuICAgIGNvbnN0IG1vZGVSZWYgPSBSZWFjdC51c2VSZWYobW9kZSk7IG1vZGVSZWYuY3VycmVudCA9IG1vZGVbMF07XG5cbiAgICBjb25zdCBtb2RlcyA9IE9iamVjdC5rZXlzKGluaXRpYWxNZW1vcnlPYmplY3QpO1xuXG4gICAgY29uc3QgW2xpc3QsIHNldExpc3RdID0gUmVhY3QudXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IGdlbmVyYXRlTGlzdCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIGlmICghbW9kZVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBjb25zdCBsaXN0ID0gXy5jaGFpbihPYmplY3QudmFsdWVzKGluaXRpYWxNZW1vcnlPYmplY3RbbW9kZVJlZi5jdXJyZW50XSB8fCB7fSkpLnNvcnRCeSgnbW91bnRlZCcpLnJldmVyc2UoKS52YWx1ZSgpO1xuICAgICAgc2V0TGlzdChsaXN0KTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgZ2VuZXJhdGVMaXN0RGVib3VuY2VkID0gdXNlRGVib3VuY2VDYWxsYmFjayhnZW5lcmF0ZUxpc3QsIDEwMDApO1xuXG4gICAgY29uc3QgYXBwbHkgPSBSZWFjdC51c2VDYWxsYmFjaygobW9kZSwgZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHByZXYgPSBpbml0aWFsTWVtb3J5T2JqZWN0W21vZGVdW2V2ZW50Lm5hbWVdIHx8IHt9O1xuICAgICAgY29uc3QgbmV4dCA9IGluaXRpYWxNZW1vcnlPYmplY3RbbW9kZV1bZXZlbnQubmFtZV0gPSB7IGlkOiBldmVudC5uYW1lLCBtb2RlLCAuLi5wcmV2LCAuLi5ldmVudCwgY291bnQ6IChwcmV2Py5jb3VudCB8fCAwKSArIDEgfTtcbiAgICAgIG5leHRbbmV4dC5tb3VudGVkID8gJ3VwZGF0ZWQnIDogJ21vdW50ZWQnXSA9IG5ldyBEYXRlKCkudmFsdWVPZigpO1xuICAgICAgaWYgKG1vZGUgPT09IG1vZGVSZWYuY3VycmVudCkgZ2VuZXJhdGVMaXN0RGVib3VuY2VkKCk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgdW5hcHBseSA9IFJlYWN0LnVzZUNhbGxiYWNrKChtb2RlLCBldmVudCkgPT4ge1xuICAgICAgZGVsZXRlIGluaXRpYWxNZW1vcnlPYmplY3RbbW9kZV1bZXZlbnQubmFtZV07XG4gICAgICBpZiAobW9kZSA9PT0gbW9kZVJlZi5jdXJyZW50KSBnZW5lcmF0ZUxpc3REZWJvdW5jZWQoKTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBldmVudHMgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgICAndXNlUXVlcnkubW91bnQnOiAoZXZlbnQpID0+IGFwcGx5KCd1c2VRdWVyeScsIGV2ZW50KSxcbiAgICAgICd1c2VRdWVyeSc6IChldmVudCkgPT4gYXBwbHkoJ3VzZVF1ZXJ5JywgZXZlbnQpLFxuICAgICAgJ3VzZVF1ZXJ5LnVubW91bnQnOiAoZXZlbnQpID0+IHVuYXBwbHkoJ3VzZVF1ZXJ5JywgZXZlbnQpLFxuICAgICAgJ3VzZVN1YnNjcmlwdGlvbi5tb3VudCc6IChldmVudCkgPT4gYXBwbHkoJ3VzZVN1YnNjcmlwdGlvbicsIGV2ZW50KSxcbiAgICAgICd1c2VTdWJzY3JpcHRpb24nOiAoZXZlbnQpID0+IGFwcGx5KCd1c2VTdWJzY3JpcHRpb24nLCBldmVudCksXG4gICAgICAndXNlU3Vic2NyaXB0aW9uLnVubW91bnQnOiAoZXZlbnQpID0+IHVuYXBwbHkoJ3VzZVN1YnNjcmlwdGlvbicsIGV2ZW50KSxcbiAgICAgICdzZWxlY3QnOiAoZXZlbnQpID0+IGFwcGx5KCdzZWxlY3QnLCBldmVudCksXG4gICAgICAnc3Vic2NyaWJlLmJlZm9yZSc6IChldmVudCkgPT4gYXBwbHkoJ3N1YnNjcmliZScsIGV2ZW50KSxcbiAgICAgICdzdWJzY3JpYmUnOiAoZXZlbnQpID0+IGFwcGx5KCdzdWJzY3JpYmUnLCBldmVudCksXG4gICAgICAnaW5zZXJ0JzogKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudD8udGFibGUgPT09ICdsaW5rcycgJiYgZXZlbnQucmVtb3RlRGF0YT8ubGVuZ3RoKSB7XG4gICAgICAgICAgZXZlbnQucmVtb3RlRGF0YS5mb3JFYWNoKGwgPT4gZ28ucm9vdCgpLmRvKCdvcGVuJywgeyBpZDogbD8uaWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGFwcGx5KCdpbnNlcnQnLCBldmVudCk7XG4gICAgICB9LFxuICAgICAgJ3VwZGF0ZSc6IChldmVudCkgPT4gYXBwbHkoJ3VwZGF0ZScsIGV2ZW50KSxcbiAgICAgICdkZWxldGUnOiAoZXZlbnQpID0+IGFwcGx5KCdkZWxldGUnLCBldmVudCksXG4gICAgfSksIFtdKTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBzdWIgPSAobmFtZSkgPT4gZXZlbnRzPy5bbmFtZV0gJiYgZGVlcC5lbWl0dGVyLm9uKG5hbWUsIGV2ZW50cz8uW25hbWVdKTtcbiAgICAgIE9iamVjdC5rZXlzKGV2ZW50cykuZm9yRWFjaChuYW1lID0+IHN1YihuYW1lKSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgW29wZW5lZCwgc2V0T3BlbmVkXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG5cbiAgICBjb25zdCBJdGVtID0gUmVhY3QudXNlTWVtbygoKSA9PiBSZWFjdC5tZW1vKCh7IGxpbmssIGlzQWN0aXZlIH0pID0+IHtcbiAgICAgIGNvbnN0IGdvID0gR28udXNlR28oKTtcblxuICAgICAgY29uc3QgcSA9IEpTT04uc3RyaW5naWZ5KGxpbms/LnF1ZXJ5KSB8fCAnJztcblxuICAgICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgICBleGVjOiAoZyx2LG8pID0+IHNldE9wZW5lZChsaW5rKSxcbiAgICAgIH19PlxuICAgICAgICA8Yy5CdXR0b24gYmc9e2lzQWN0aXZlID8gJ2RlZXBCZ0RhcmsnIDogdW5kZWZpbmVkfSBvbkNsaWNrPXsoKSA9PiBnby5kbygnZXhlYycpfSB3PScxMDAlJz5cbiAgICAgICAgICA8Yy5GbGV4IHc9JzEwMCUnPlxuICAgICAgICAgICAgPGMuQm94IGZsZXg9JzEnIHA9JzAuNWVtJyBwbD0nMWVtJz5cbiAgICAgICAgICAgICAgPGMuQm94IG5vT2ZMaW5lcz17MX0gdGV4dEFsaWduPSdsZWZ0Jz5cbiAgICAgICAgICAgICAgICB7cS5zbGljZSgwLCA0Myl9e3EubGVuZ3RoID4gNDMgPyAnLi4uJyA6ICcnfVxuICAgICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgICB7ISFsaW5rPy52YWx1ZSAmJiA8Yy5Cb3ggbm9PZkxpbmVzPXsxfT5cbiAgICAgICAgICAgICAgICB7SlNPTi5zdHJpbmdpZnkobGluaz8udmFsdWUpfVxuICAgICAgICAgICAgICA8L2MuQm94Pn1cbiAgICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgICAgICA8Yy5Cb3ggcD0nMC4yNWVtJyBwcj0nMWVtJyBmb250U2l6ZT0neHMnPlxuICAgICAgICAgICAgICA8Yy5Cb3g+e21vbWVudChsaW5rLm1vdW50ZWQpLmZvcm1hdCgnSEg6bW06c3MnKX08L2MuQm94PlxuICAgICAgICAgICAgICB7ISFsaW5rLnVwZGF0ZWQgJiYgPGMuQm94Pnttb21lbnQobGluay51cGRhdGVkKS5mb3JtYXQoJ0hIOm1tOnNzJyl9PC9jLkJveD59XG4gICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgIDwvYy5GbGV4PlxuICAgICAgICA8L2dvLkJ1dHRvbj5cbiAgICAgIDwvZ28uT24+XG4gICAgfSwgXy5pc0VxdWFsKSwgW10pO1xuXG4gICAgUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBzZXRPcGVuZWQoKTtcbiAgICAgIGdlbmVyYXRlTGlzdCgpO1xuICAgIH0sIFttb2RlWzBdXSk7XG5cbiAgICBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGlmICghZ28udmFsdWUpIG1vZGVbMV0oKTtcbiAgICAgIGVsc2UgaWYgKCFtb2RlKSBtb2RlWzFdKCd1c2VRdWVyeScpO1xuICAgIH0sIFtnby52YWx1ZV0pO1xuXG4gICAgUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICBvcGVuZWQgJiYgZ28uZm9jdXMoUXVlcnkpO1xuICAgIH0sIFtvcGVuZWRdKTtcblxuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICAgIGZvY3VzOiAoZyx2LGlkLG8pID0+IHtcbiAgICAgICAgICBpZiAoIXYpIGdvLnNldCgndXNlUXVlcnknKTtcbiAgICAgICAgICBlbHNlIGlmIChtb2Rlcy5pbmNsdWRlcyh2KSkgc2V0TW9kZSh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHQ6IChnLHYsbykgPT4ge1xuICAgICAgICAgIG1vZGVbMV0oZ28ubmV4dChtb2Rlcy5tYXAobSA9PiAoeyBpZDogbSB9KSksIG1vZGVbMF0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGVmdDogKGcsdixvKSA9PiB7XG4gICAgICAgICAgbW9kZXNbMF0gPT09IG1vZGVbMF0gID8gZ28uc2V0KCkgOiBtb2RlWzFdKGdvLnByZXYobW9kZXMubWFwKG0gPT4gKHsgaWQ6IG0gfSkpLCBtb2RlWzBdKSk7XG4gICAgICAgIH0sXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLlBvcG92ZXIgcGxhY2VtZW50PSdyaWdodC1lbmQnIGNsb3NlT25CbHVyPXtmYWxzZX0gaXNPcGVuPXshIWdvLnZhbHVlfSBvbkNsb3NlPXsoKSA9PiBnby5zZXQoKX0+XG4gICAgICAgIDxjLlBvcG92ZXJUcmlnZ2VyPlxuICAgICAgICAgIDxjLkJ1dHRvblxuICAgICAgICAgICAgcmVmPXtyZWZ9IHc9JzNlbScgaD0nM2VtJyB2YXJpYW50PXshIWdvLnZhbHVlIHx8IGlzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby52YWx1ZSA/IGdvLnNldCgpIDogZ28uc2V0KCd1c2VRdWVyeScpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICA8L2MuUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgIDxjLlBvcnRhbCBjb250YWluZXJSZWY9e2NvbnRhaW5lclJlZn0+XG4gICAgICAgICAgPGMuUG9wb3ZlckNvbnRlbnQgdz0nMzBlbScgbWF4SD0nMzBlbScgbWluSD0nMzBlbScgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICAgIDxjLlBvcG92ZXJBcnJvdyAvPlxuICAgICAgICAgICAgPGMuRmxleCBkaXJlY3Rpb249J2NvbHVtbicgcG9zaXRpb249J2Fic29sdXRlJyB0b3A9JzAnIGxlZnQ9JzAnIHc9JzEwMCUnIGg9JzEwMCUnPlxuICAgICAgICAgICAgICA8Yy5GbGV4IG92ZXJmbG93WD0nc2Nyb2xsJyBjc3M9e2dvLm5vU2Nyb2xsQmFyfT5cbiAgICAgICAgICAgICAgICA8Yy5GbGV4IGNvbHVtbnM9e21vZGVzLmxlbmd0aH0gZmxleD0nMSc+XG4gICAgICAgICAgICAgICAgICB7bW9kZXMubWFwKG0gPT4gPGMuQnV0dG9uIHsuLi5nby5hY3RpdmF0b3IobW9kZSwgbSl9PnttfTwvYy5CdXR0b24+KX1cbiAgICAgICAgICAgICAgICA8L2MuRmxleD5cbiAgICAgICAgICAgICAgICA8Yy5EaXZpZGVyIG9yaWVudGF0aW9uPSd2ZXJ0aWNhbCcgLz5cbiAgICAgICAgICAgICAgICA8Yy5CdXR0b24gey4uLmdvLmFjdGl2YXRvcihbc3luYywgc2V0U3luY10sIHRydWUpfT5zeW5jPC9jLkJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9jLkZsZXg+XG4gICAgICAgICAgICAgIDxjLkRpdmlkZXIvPlxuICAgICAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtTdGFja30gdmFsdWU9e2xpc3Q/LlswXT8uaWR9PlxuICAgICAgICAgICAgICAgIHshb3BlbmVkICYmIDxnby5Db21wb25lbnQga2V5PXttb2RlWzBdfSBwYXRoPXtbZHBsLCAnU3RhY2snXX0gZGlyZWN0aW9uPSd2ZXJ0aWNhbCcgbGlua3M9e2xpc3R9IEl0ZW09e0l0ZW19IGZsZXg9JzEnLz59XG4gICAgICAgICAgICAgIDwvZ28uUHJvdmlkZXI+XG4gICAgICAgICAgICAgIHshIW9wZW5lZCAmJiA8PlxuICAgICAgICAgICAgICAgIDxnby5Qcm92aWRlciBsaW5rSWQ9e1F1ZXJ5fSB2YWx1ZT17bGlzdD8uWzBdPy5pZH0+XG4gICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdRdWVyeSddfSBldmVudD17b3BlbmVkfS8+XG4gICAgICAgICAgICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICAgICAgICAgICAgICB7LyogPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnU3RhY2snXX0gZGlyZWN0aW9uPSdob3Jpem9udGFsJyBsaW5rcz17dmlld3N9IEl0ZW09e1ZpZXdJdGVtfS8+ICovfVxuICAgICAgICAgICAgICAgIHsvKiA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdRdWVyaWVzR1FMJ119IGV4dGVuZEluc2VydD17eyBvdXQ6IHsgdHlwZV9pZDogQ29tcGF0YWJsZSwgdG9faWQ6IFF1ZXJpZXMgfSB9fS8+XG4gICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnUXVlcmllc1JlYWN0J119IGV4dGVuZEluc2VydD17eyBvdXQ6IHsgdHlwZV9pZDogQ29tcGF0YWJsZSwgdG9faWQ6IFF1ZXJpZXMgfSB9fS8+XG4gICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnUXVlcmllc0NsaWVudCddfSBleHRlbmRJbnNlcnQ9e3sgb3V0OiB7IHR5cGVfaWQ6IENvbXBhdGFibGUsIHRvX2lkOiBRdWVyaWVzIH0gfX0vPlxuICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ1F1ZXJpZXNSZXN1bHRzJ119IGV4dGVuZEluc2VydD17eyBvdXQ6IHsgdHlwZV9pZDogQ29tcGF0YWJsZSwgdG9faWQ6IFF1ZXJpZXMgfSB9fS8+ICovfVxuICAgICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICA8L2MuRmxleD5cbiAgICAgICAgICA8L2MuUG9wb3ZlckNvbnRlbnQ+XG4gICAgICAgIDwvYy5Qb3J0YWw+XG4gICAgICA8L2MuUG9wb3Zlcj5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1393
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1402,
      "src_id": 913,
      "handler_id": 914,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1402,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 459,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    return ({ go, children, }, ref) => {\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.Box, { ref: ref, h: '3em' }, `${go}`));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUVGLFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUNYLEVBQUUsRUFBRSxFQUNIO1lBRUQsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBQyxLQUFLLElBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBUyxDQUNwQyxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuXG4gICAgY2hpbGRyZW4sXG4gIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLkJveCByZWY9e3JlZn0gaD0nM2VtJz57YCR7Z299YH08L2MuQm94PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1402
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1411,
      "src_id": 915,
      "handler_id": 916,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1411,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 462,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { GrGraphQl } = require(\"react-icons/gr\");\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, handlerId, isActive, }, ref) => {\n        const View = React.useCallback(({ event }) => {\n            const value = `// query\n${event?.remoteQuery?.query?.queryString || ''}\n\n// variables\n${JSON.stringify(event?.remoteQuery?.query?.variables || {}, null, 2)}\n`;\n            return React.createElement(Go.Editor, { editable: false, value: value, fillSize: true });\n        }, []);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.do('view', { id: go.linkId, Component: View })\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(GrGraphQl, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDaEQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsUUFBUSxHQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO1lBQzNDLE1BQU0sS0FBSyxHQUFHO0VBQ2xCLEtBQUssRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLFdBQVcsSUFBSSxFQUFFOzs7RUFHNUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxTQUFTLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7Q0FDcEUsQ0FBQTtZQUVLLE9BQU8sb0JBQUMsRUFBRSxDQUFDLE1BQU0sSUFBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsUUFBUSxTQUFFLENBQUM7UUFDOUQsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRVAsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUFDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxDQUFDO2FBQ25FO1lBQ0Msb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDUCxDQUFDLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxLQUFLLEVBQ2YsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQ3hDLEdBQUcsRUFBRSxHQUFHLEVBQ1IsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2dCQUU1QixvQkFBQyxTQUFTLE9BQUUsQ0FDSCxDQUNMLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCBHbywgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBHckdyYXBoUWwgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9nclwiKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGhhbmRsZXJJZCxcblxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBWaWV3ID0gUmVhY3QudXNlQ2FsbGJhY2soKHsgZXZlbnQgfSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBgLy8gcXVlcnlcbiR7ZXZlbnQ/LnJlbW90ZVF1ZXJ5Py5xdWVyeT8ucXVlcnlTdHJpbmcgfHwgJyd9XG5cbi8vIHZhcmlhYmxlc1xuJHtKU09OLnN0cmluZ2lmeShldmVudD8ucmVtb3RlUXVlcnk/LnF1ZXJ5Py52YXJpYWJsZXMgfHwge30sIG51bGwsIDIpfVxuYFxuICBcbiAgICAgIHJldHVybiA8R28uRWRpdG9yIGVkaXRhYmxlPXtmYWxzZX0gdmFsdWU9e3ZhbHVlfSBmaWxsU2l6ZS8+O1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6IChnLHYsbykgPT4gZ28uZG8oJ3ZpZXcnLCB7IGlkOiBnby5saW5rSWQsIENvbXBvbmVudDogVmlldyB9KSksXG4gICAgfX0+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgdz0nM2VtJyBoPSczZW0nXG4gICAgICAgIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnZXhlYycpfVxuICAgICAgPlxuICAgICAgICA8R3JHcmFwaFFsLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1411
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1420,
      "src_id": 918,
      "handler_id": 919,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1420,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 465,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { FaReact } = require(\"react-icons/fa\");\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, handlerId, isActive, }, ref) => {\n        const View = React.useCallback(({ event }) => {\n            let value = event.mode;\n            const q = JSON.stringify(event.query, null, 2);\n            const r = JSON.stringify(event.plainLinks).slice(1, 30);\n            const v = JSON.stringify(event.value || {}, null, 2);\n            const _o = { ...event.options };\n            if (_o.table === 'links')\n                delete _o.table;\n            const o = _.isEmpty(_o) ? '' : JSON.stringify(_o, null, 2);\n            const oo = o ? `, ${o}` : '';\n            if (event.mode === 'useQuery' || event.mode === 'useSubscription' || event.mode === 'select' || event.mode === 'subscribe') {\n                value = `// basically deep.select and deep.subscribe returns plain data\n// but deep.useQuery and deep.useSubscriptions always\n// apply synced from server to deep.minilinks local memory\n\n// load links once\nconst { data } = deep.useQuery(${q}${o});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... }, loading: false }\n\n// load and subscribe to reactive links\nconst { data } = deep.useSubscription(${q}${o})\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... }, loading: false }\n\n// equal queries can be used in local memory\n\n// find links once\nconst data = deep.useLocalSubscription(${q}${o});\n// data // Link[];\n\n// find links with reactive subscription\nconst data = deep.useLocalSubscription(${q}${o});\n// data // Link[];\n\n// links fetched from hooks already exists in minilinks and\n// related each other\n// you can travel by it simply:\nhandler.to.value // { value: \\`my new component\\` }\n\n// you can get reactive links from static links or ids\nconst [user, handler] = deep.useLinks(deep.linkId, notReactiveLink);\n\n// pretty handy use traveler:\nconst data = deep.useSubscription(myLink.travel().out({ type: Contain }).to().query());\n`;\n            }\n            if (event.mode === 'insert') {\n                value = `// hints for react\n\n// if not need to await result\nReact.useEffect(() => {\n  deep.insert(${q}${oo});\n}, []);\n\n// if need to await\nReact.useEffect(() => { (async () => {\n  deep.insert(${q}${oo});\n})() }, []);\n\n<c.Box onChange={async () => {\n  await deep.insert(${q}${oo});\n}}>button</Button>`;\n            }\n            if (event.mode === 'update') {\n                value = `// hints for react\n\n// if not need to await result\nReact.useEffect(() => {\n  deep.update(${q}, ${v}${oo});\n}, []);\n\n// if need to await\nReact.useEffect(() => { (async () => {\n  deep.update(${q}, ${v}${oo});\n})() }, []);\n\n<c.Box onChange={async () => {\n  await deep.update(${q}, ${v}${oo});\n}}>button</Button>`;\n            }\n            if (event.mode === 'delete') {\n                value = `// hints for react\n\n// if not need to await result\nReact.useEffect(() => {\n  deep.delete(${q}${oo});\n}, []);\n\n// if need to await\nReact.useEffect(() => { (async () => {\n  deep.delete(${q}${oo});\n})() }, []);\n\n<c.Box onChange={async () => {\n  await deep.delete(${q}${oo});\n}}>button</Button>`;\n            }\n            return React.createElement(Go.Editor, { editable: false, value: value, fillSize: true });\n        }, []);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.do('view', { id: go.linkId, Component: View })\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(FaReact, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDOUMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsUUFBUSxHQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO1lBQzNDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFFdkIsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMvQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZELE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRXJE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LEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFFNUIsb0JBQUMsT0FBTyxPQUFFLENBQ0QsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgR28sIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgRmFSZWFjdCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2ZhXCIpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbiAgY29uc3QgZHBsID0gJ0BkZWVwLWZvdW5kYXRpb24vcGVyY2VwdGlvbi1saW5rcyc7XG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgaGFuZGxlcklkLFxuXG4gICAgaXNBY3RpdmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IFZpZXcgPSBSZWFjdC51c2VDYWxsYmFjaygoeyBldmVudCB9KSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBldmVudC5tb2RlO1xuICBcbiAgICAgIGNvbnN0IHEgPSBKU09OLnN0cmluZ2lmeShldmVudC5xdWVyeSwgbnVsbCwgMik7XG4gICAgICBjb25zdCByID0gSlNPTi5zdHJpbmdpZnkoZXZlbnQucGxhaW5MaW5rcykuc2xpY2UoMSwzMCk7XG4gICAgICBjb25zdCB2ID0gSlNPTi5zdHJpbmdpZnkoZXZlbnQudmFsdWUgfHwge30sIG51bGwsIDIpO1xuXG4gICAgICBjb25zdCBfbyA9IHsgLi4uZXZlbnQub3B0aW9ucyB9O1xuICAgICAgaWYgKF9vLnRhYmxlID09PSAnbGlua3MnKSBkZWxldGUgX28udGFibGU7XG5cbiAgICAgIGNvbnN0IG8gPSBfLmlzRW1wdHkoX28pID8gJycgOiBKU09OLnN0cmluZ2lmeShfbywgbnVsbCwgMik7XG4gICAgICBjb25zdCBvbyA9IG8gPyBgLCAke299YCA6ICcnO1xuICAgICAgXG4gICAgICBpZiAoZXZlbnQubW9kZSA9PT0gJ3VzZVF1ZXJ5JyB8fCBldmVudC5tb2RlID09PSAndXNlU3Vic2NyaXB0aW9uJyB8fCBldmVudC5tb2RlID09PSAnc2VsZWN0JyB8fCBldmVudC5tb2RlID09PSAnc3Vic2NyaWJlJykge1xuICAgICAgICB2YWx1ZSA9IGAvLyBiYXNpY2FsbHkgZGVlcC5zZWxlY3QgYW5kIGRlZXAuc3Vic2NyaWJlIHJldHVybnMgcGxhaW4gZGF0YVxuLy8gYnV0IGRlZXAudXNlUXVlcnkgYW5kIGRlZXAudXNlU3Vic2NyaXB0aW9ucyBhbHdheXNcbi8vIGFwcGx5IHN5bmNlZCBmcm9tIHNlcnZlciB0byBkZWVwLm1pbmlsaW5rcyBsb2NhbCBtZW1vcnlcblxuLy8gbG9hZCBsaW5rcyBvbmNlXG5jb25zdCB7IGRhdGEgfSA9IGRlZXAudXNlUXVlcnkoJHtxfSR7b30pO1xuLy8geyBlcnJvcjogJHtldmVudC5lcnJvciA/IGRlZXAuc3RyaW5naWZ5KGV2ZW50LmVycm9yKSA6ICdudWxsJ30sIGRhdGE6IHsgJHtyfS4uLiB9LCBsb2FkaW5nOiBmYWxzZSB9XG5cbi8vIGxvYWQgYW5kIHN1YnNjcmliZSB0byByZWFjdGl2ZSBsaW5rc1xuY29uc3QgeyBkYXRhIH0gPSBkZWVwLnVzZVN1YnNjcmlwdGlvbigke3F9JHtvfSlcbi8vIHsgZXJyb3I6ICR7ZXZlbnQuZXJyb3IgPyBkZWVwLnN0cmluZ2lmeShldmVudC5lcnJvcikgOiAnbnVsbCd9LCBkYXRhOiB7ICR7cn0uLi4gfSwgbG9hZGluZzogZmFsc2UgfVxuXG4vLyBlcXVhbCBxdWVyaWVzIGNhbiBiZSB1c2VkIGluIGxvY2FsIG1lbW9yeVxuXG4vLyBmaW5kIGxpbmtzIG9uY2VcbmNvbnN0IGRhdGEgPSBkZWVwLnVzZUxvY2FsU3Vic2NyaXB0aW9uKCR7cX0ke299KTtcbi8vIGRhdGEgLy8gTGlua1tdO1xuXG4vLyBmaW5kIGxpbmtzIHdpdGggcmVhY3RpdmUgc3Vic2NyaXB0aW9uXG5jb25zdCBkYXRhID0gZGVlcC51c2VMb2NhbFN1YnNjcmlwdGlvbigke3F9JHtvfSk7XG4vLyBkYXRhIC8vIExpbmtbXTtcblxuLy8gbGlua3MgZmV0Y2hlZCBmcm9tIGhvb2tzIGFscmVhZHkgZXhpc3RzIGluIG1pbmlsaW5rcyBhbmRcbi8vIHJlbGF0ZWQgZWFjaCBvdGhlclxuLy8geW91IGNhbiB0cmF2ZWwgYnkgaXQgc2ltcGx5OlxuaGFuZGxlci50by52YWx1ZSAvLyB7IHZhbHVlOiBcXGBteSBuZXcgY29tcG9uZW50XFxgIH1cblxuLy8geW91IGNhbiBnZXQgcmVhY3RpdmUgbGlua3MgZnJvbSBzdGF0aWMgbGlua3Mgb3IgaWRzXG5jb25zdCBbdXNlciwgaGFuZGxlcl0gPSBkZWVwLnVzZUxpbmtzKGRlZXAubGlua0lkLCBub3RSZWFjdGl2ZUxpbmspO1xuXG4vLyBwcmV0dHkgaGFuZHkgdXNlIHRyYXZlbGVyOlxuY29uc3QgZGF0YSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKG15TGluay50cmF2ZWwoKS5vdXQoeyB0eXBlOiBDb250YWluIH0pLnRvKCkucXVlcnkoKSk7XG5gO1xuICAgICAgfVxuICBcbiAgICAgIGlmIChldmVudC5tb2RlID09PSAnaW5zZXJ0Jykge1xuICAgICAgICB2YWx1ZSA9IGAvLyBoaW50cyBmb3IgcmVhY3RcblxuLy8gaWYgbm90IG5lZWQgdG8gYXdhaXQgcmVzdWx0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICBkZWVwLmluc2VydCgke3F9JHtvb30pO1xufSwgW10pO1xuXG4vLyBpZiBuZWVkIHRvIGF3YWl0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4geyAoYXN5bmMgKCkgPT4ge1xuICBkZWVwLmluc2VydCgke3F9JHtvb30pO1xufSkoKSB9LCBbXSk7XG5cbjxjLkJveCBvbkNoYW5nZT17YXN5bmMgKCkgPT4ge1xuICBhd2FpdCBkZWVwLmluc2VydCgke3F9JHtvb30pO1xufX0+YnV0dG9uPC9CdXR0b24+YFxuICAgICAgfVxuICBcbiAgICAgIGlmIChldmVudC5tb2RlID09PSAndXBkYXRlJykge1xuICAgICAgICB2YWx1ZSA9IGAvLyBoaW50cyBmb3IgcmVhY3RcblxuLy8gaWYgbm90IG5lZWQgdG8gYXdhaXQgcmVzdWx0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICBkZWVwLnVwZGF0ZSgke3F9LCAke3Z9JHtvb30pO1xufSwgW10pO1xuXG4vLyBpZiBuZWVkIHRvIGF3YWl0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4geyAoYXN5bmMgKCkgPT4ge1xuICBkZWVwLnVwZGF0ZSgke3F9LCAke3Z9JHtvb30pO1xufSkoKSB9LCBbXSk7XG5cbjxjLkJveCBvbkNoYW5nZT17YXN5bmMgKCkgPT4ge1xuICBhd2FpdCBkZWVwLnVwZGF0ZSgke3F9LCAke3Z9JHtvb30pO1xufX0+YnV0dG9uPC9CdXR0b24+YFxuICAgICAgfVxuICBcbiAgICAgIGlmIChldmVudC5tb2RlID09PSAnZGVsZXRlJykge1xuICAgICAgICB2YWx1ZSA9IGAvLyBoaW50cyBmb3IgcmVhY3RcblxuLy8gaWYgbm90IG5lZWQgdG8gYXdhaXQgcmVzdWx0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICBkZWVwLmRlbGV0ZSgke3F9JHtvb30pO1xufSwgW10pO1xuXG4vLyBpZiBuZWVkIHRvIGF3YWl0XG5SZWFjdC51c2VFZmZlY3QoKCkgPT4geyAoYXN5bmMgKCkgPT4ge1xuICBkZWVwLmRlbGV0ZSgke3F9JHtvb30pO1xufSkoKSB9LCBbXSk7XG5cbjxjLkJveCBvbkNoYW5nZT17YXN5bmMgKCkgPT4ge1xuICBhd2FpdCBkZWVwLmRlbGV0ZSgke3F9JHtvb30pO1xufX0+YnV0dG9uPC9CdXR0b24+YFxuICAgICAgfVxuICBcbiAgICAgIHJldHVybiA8R28uRWRpdG9yIGVkaXRhYmxlPXtmYWxzZX0gdmFsdWU9e3ZhbHVlfSBmaWxsU2l6ZS8+O1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiA8Z28uT24gZG89e3tcbiAgICAgIGV4ZWM6IChnLHYsbykgPT4gZ28uZG8oJ3ZpZXcnLCB7IGlkOiBnby5saW5rSWQsIENvbXBvbmVudDogVmlldyB9KSksXG4gICAgfX0+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgdz0nM2VtJyBoPSczZW0nXG4gICAgICAgIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnZXhlYycpfVxuICAgICAgPlxuICAgICAgICA8RmFSZWFjdC8+XG4gICAgICA8L2MuQnV0dG9uPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1420
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1429,
      "src_id": 921,
      "handler_id": 922,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1429,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 468,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { VscJson } = require(\"react-icons/vsc\");\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, handlerId, isActive, }, ref) => {\n        const View = React.useCallback(({ event }) => {\n            const value = JSON.stringify(event.plainLinks, null, 2);\n            return React.createElement(Go.Editor, { editable: false, value: value, fillSize: true });\n        }, []);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.do('view', { id: go.linkId, Component: View })\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(VscJson, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDL0MsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsUUFBUSxHQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO1lBQzNDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFFeEQsT0FBTyxvQkFBQyxFQUFFLENBQUMsTUFBTSxJQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxRQUFRLFNBQUUsQ0FBQztRQUM5RCxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFUCxPQUFPLG9CQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUMsRUFBRSxFQUFFO2dCQUNoQixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7YUFDbkU7WUFDQyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLENBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFDZixPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDeEMsR0FBRyxFQUFFLEdBQUcsRUFDUixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0JBRTVCLG9CQUFDLE9BQU8sT0FBRSxDQUNELENBQ0wsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIEdvLCByZXF1aXJlIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBjb25zdCB7IFZzY0pzb24gfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy92c2NcIik7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG4gIGNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBoYW5kbGVySWQsXG5cbiAgICBpc0FjdGl2ZSxcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgVmlldyA9IFJlYWN0LnVzZUNhbGxiYWNrKCh7IGV2ZW50IH0pID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gSlNPTi5zdHJpbmdpZnkoZXZlbnQucGxhaW5MaW5rcywgbnVsbCwgMik7XG4gIFxuICAgICAgcmV0dXJuIDxHby5FZGl0b3IgZWRpdGFibGU9e2ZhbHNlfSB2YWx1ZT17dmFsdWV9IGZpbGxTaXplLz47XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKGcsdixvKSA9PiBnby5kbygndmlldycsIHsgaWQ6IGdvLmxpbmtJZCwgQ29tcG9uZW50OiBWaWV3IH0pKSxcbiAgICB9fT5cbiAgICAgIDxjLkJ1dHRvblxuICAgICAgICB3PSczZW0nIGg9JzNlbSdcbiAgICAgICAgdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICA+XG4gICAgICAgIDxWc2NKc29uLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1429
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1438,
      "src_id": 924,
      "handler_id": 925,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1438,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 471,
          "value": "async ({ deep, data, Go, require }) => {\n    const React = require('react');\n    const { FaNodeJs } = require(\"react-icons/fa\");\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    return ({ go, handlerId, isActive, }, ref) => {\n        const View = React.useCallback(({ event }) => {\n            let value = event.mode;\n            const q = JSON.stringify(event.query, null, 2);\n            const r = JSON.stringify(event.plainLinks).slice(1, 30);\n            const v = JSON.stringify(event.value || {}, null, 2);\n            const _o = { ...event.options };\n            if (_o.table === 'links')\n                delete _o.table;\n            const o = _.isEmpty(_o) ? '' : JSON.stringify(_o, null, 2);\n            const oo = o ? `, ${o}` : '';\n            if (event.mode === 'useQuery' || event.mode === 'useSubscription' || event.mode === 'select' || event.mode === 'subscribe') {\n                value = `// request to links on remote server\n\n// load links once\nawait deep.select(${q}${o});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// load and subscribe to changes\ndeep.subscribe(${q}${o})\n.subscribe({ next: (links) => {}, error: (error) => {} });\n// links // ${r}...\n\n// hint: feel free to use deep variable in browser console!\n\n${!!_o.table && `// minilinks awailable only for { table: 'links' }`}\n${!_o.table && `// request to links in local memory (minilinks)\n\n// find once\ndeep.ml.select(${q}${o});\n// Link[]...\n\n// subscribe to changes locally\ndeep.ml.subscribe(${q}${o})\n.subscribe({ next: (links) => {}, error: (error) => {} });\n// links // Link[]...\n\n// loaded with deep.select and deep.subscribe plain links\nconst Contain = deep.idLocal('@deep-foundation/core', 'Contain');\nconst results = await deep.select({\n  in: { type: Contain, from: deep.linkId, },\n  return: { contain: { in: { type: Contain } } } // get related links too\n}),\n// can be added to minilinks with:\ndeep.minilinks.apply(\n  results,\n  'name', // STRICTLY UNIQUE\n);\n// you can update links stage in minilinks, by some select/subscription flow manually\n// in react hooks deep.useSubscription and deep.useQuery apply always automatically\n// then you can simply travel by it\nconst user = deep.get(deep.linkId);\nuser.travel().out({ type: Contain }).select();\n`}`;\n            }\n            if (event.mode === 'insert') {\n                value = `// request to links on remote server\nawait deep.insert(${q}${oo});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// possible to insert multiple links at request\nawait deep.insert({\n  from: deep.idLocal('@deep-foundation/core', 'clientSupportsJs'),\n  type: deep.idLocal('@deep-foundation/core', 'Handler'),\n  to: {\n    // from/to/type as single relations can be\n    // Id of existed link or link to insert:\n    type_id: deep.idLocal('@deep-foundation/core', 'TSX'),\n    string: \\`({ deep, require }) => { var React = require('react'); return () => <div>my new component</div>; }\\`,\n  },\n  // short cut for create Contain links:\n  containerId: deep.linkId, // current user\n  name: 'my new component',\n});\n\n// hint: feel free to use deep variable in browser console!\n\n// by default only remote request\n// you can set option once\nawait deep.insert({ ... }, { local: true, ... });\n// or globally\ndeep.local = true;\n// and link will be inserted in local deep.minilinks\n// before transaction to server\n// links inserted on client side first is virtual with -123 negative id\n`;\n            }\n            if (event.mode === 'update') {\n                value = `// request to links on remote server\nawait deep.update(${q}, ${v}${oo});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// hint: feel free to use deep variable in browser console!\n\n// by default only remote request\n// you can set option once\nawait deep.update({ ... }, { ... }, { local: true, ... });\n// or globally\ndeep.local = true;\n// and link will be updated in local deep.minilinks\n// before transaction to server\n`;\n            }\n            if (event.mode === 'delete') {\n                value = `// request to links on remote server\nawait deep.delete(${q}${oo});\n// { error: ${event.error ? deep.stringify(event.error) : 'null'}, data: { ${r}... } }\n\n// hint: feel free to use deep variable in browser console!\n\n// by default only remote request\n// you can set option once\nawait deep.delete({ ... }, { ... }, { local: true, ... });\n// or globally\ndeep.local = true;\n// and link will be deleted in local deep.minilinks\n// before transaction to server\n`;\n            }\n            return React.createElement(Go.Editor, { editable: false, value: value, fillSize: true });\n        }, []);\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.do('view', { id: go.linkId, Component: View })\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(FaNodeJs, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDL0MsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sR0FBRyxHQUFHLG1DQUFtQyxDQUFDO0lBQ2hELE1BQU0sRUFBRSxHQUFHLHVCQUF1QixDQUFDO0lBRW5DLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsUUFBUSxHQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO1lBQzNDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFFdkIsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMvQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZELE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRXJELE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDaEMsSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLE9BQU87Z0JBQUUsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBRTFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzNELE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBRTdCLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxVQUFVLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxpQkFBaUIsSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLFFBQVEsSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLFdBQVcsRUFBRSxDQUFDO2dCQUMzSCxLQUFLLEdBQUc7OztvQkFHSSxDQUFDLEdBQUcsQ0FBQztjQUNYLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLGFBQWEsQ0FBQzs7O2lCQUc3RCxDQUFDLEdBQUcsQ0FBQzs7Y0FFUixDQUFDOzs7O0VBSWIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksb0RBQW9EO0VBQ2xFLENBQUMsRUFBRSxDQUFDLEtBQUssSUFBSTs7O2lCQUdFLENBQUMsR0FBRyxDQUFDOzs7O29CQUlGLENBQUMsR0FBRyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW9CeEIsRUFBRSxDQUFDO1lBQ0UsQ0FBQztZQUVELElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUUsQ0FBQztnQkFDNUIsS0FBSyxHQUFHO29CQUNJLENBQUMsR0FBRyxFQUFFO2NBQ1osS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sYUFBYSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0EyQjdFLENBQUM7WUFDSSxDQUFDO1lBRUQsSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLFFBQVEsRUFBRSxDQUFDO2dCQUM1QixLQUFLLEdBQUc7b0JBQ0ksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFO2NBQ2xCLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLGFBQWEsQ0FBQzs7Ozs7Ozs7Ozs7Q0FXN0UsQ0FBQztZQUNJLENBQUM7WUFFRCxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssUUFBUSxFQUFFLENBQUM7Z0JBQzVCLEtBQUssR0FBRztvQkFDSSxDQUFDLEdBQUcsRUFBRTtjQUNaLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLGFBQWEsQ0FBQzs7Ozs7Ozs7Ozs7Q0FXN0UsQ0FBQztZQUNJLENBQUM7WUFFRCxPQUFPLG9CQUFDLEVBQUUsQ0FBQyxNQUFNLElBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFFBQVEsU0FBRSxDQUFDO1FBQzlELENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVQLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUU7Z0JBQ2hCLElBQUksRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQzthQUNuRTtZQUNDLG9CQUFDLENBQUMsQ0FBQyxNQUFNLElBQ1AsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUNmLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4QyxHQUFHLEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFFNUIsb0JBQUMsUUFBUSxPQUFFLENBQ0YsQ0FDTCxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgR28sIHJlcXVpcmUgfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgRmFOb2RlSnMgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9mYVwiKTtcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGhhbmRsZXJJZCxcblxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBWaWV3ID0gUmVhY3QudXNlQ2FsbGJhY2soKHsgZXZlbnQgfSkgPT4ge1xuICAgICAgbGV0IHZhbHVlID0gZXZlbnQubW9kZTtcbiAgXG4gICAgICBjb25zdCBxID0gSlNPTi5zdHJpbmdpZnkoZXZlbnQucXVlcnksIG51bGwsIDIpO1xuICAgICAgY29uc3QgciA9IEpTT04uc3RyaW5naWZ5KGV2ZW50LnBsYWluTGlua3MpLnNsaWNlKDEsMzApO1xuICAgICAgY29uc3QgdiA9IEpTT04uc3RyaW5naWZ5KGV2ZW50LnZhbHVlIHx8IHt9LCBudWxsLCAyKTtcblxuICAgICAgY29uc3QgX28gPSB7IC4uLmV2ZW50Lm9wdGlvbnMgfTtcbiAgICAgIGlmIChfby50YWJsZSA9PT0gJ2xpbmtzJykgZGVsZXRlIF9vLnRhYmxlO1xuXG4gICAgICBjb25zdCBvID0gXy5pc0VtcHR5KF9vKSA/ICcnIDogSlNPTi5zdHJpbmdpZnkoX28sIG51bGwsIDIpO1xuICAgICAgY29uc3Qgb28gPSBvID8gYCwgJHtvfWAgOiAnJztcbiAgICAgIFxuICAgICAgaWYgKGV2ZW50Lm1vZGUgPT09ICd1c2VRdWVyeScgfHwgZXZlbnQubW9kZSA9PT0gJ3VzZVN1YnNjcmlwdGlvbicgfHwgZXZlbnQubW9kZSA9PT0gJ3NlbGVjdCcgfHwgZXZlbnQubW9kZSA9PT0gJ3N1YnNjcmliZScpIHtcbiAgICAgICAgdmFsdWUgPSBgLy8gcmVxdWVzdCB0byBsaW5rcyBvbiByZW1vdGUgc2VydmVyXG5cbi8vIGxvYWQgbGlua3Mgb25jZVxuYXdhaXQgZGVlcC5zZWxlY3QoJHtxfSR7b30pO1xuLy8geyBlcnJvcjogJHtldmVudC5lcnJvciA/IGRlZXAuc3RyaW5naWZ5KGV2ZW50LmVycm9yKSA6ICdudWxsJ30sIGRhdGE6IHsgJHtyfS4uLiB9IH1cblxuLy8gbG9hZCBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXNcbmRlZXAuc3Vic2NyaWJlKCR7cX0ke299KVxuLnN1YnNjcmliZSh7IG5leHQ6IChsaW5rcykgPT4ge30sIGVycm9yOiAoZXJyb3IpID0+IHt9IH0pO1xuLy8gbGlua3MgLy8gJHtyfS4uLlxuXG4vLyBoaW50OiBmZWVsIGZyZWUgdG8gdXNlIGRlZXAgdmFyaWFibGUgaW4gYnJvd3NlciBjb25zb2xlIVxuXG4keyEhX28udGFibGUgJiYgYC8vIG1pbmlsaW5rcyBhd2FpbGFibGUgb25seSBmb3IgeyB0YWJsZTogJ2xpbmtzJyB9YH1cbiR7IV9vLnRhYmxlICYmIGAvLyByZXF1ZXN0IHRvIGxpbmtzIGluIGxvY2FsIG1lbW9yeSAobWluaWxpbmtzKVxuXG4vLyBmaW5kIG9uY2VcbmRlZXAubWwuc2VsZWN0KCR7cX0ke299KTtcbi8vIExpbmtbXS4uLlxuXG4vLyBzdWJzY3JpYmUgdG8gY2hhbmdlcyBsb2NhbGx5XG5kZWVwLm1sLnN1YnNjcmliZSgke3F9JHtvfSlcbi5zdWJzY3JpYmUoeyBuZXh0OiAobGlua3MpID0+IHt9LCBlcnJvcjogKGVycm9yKSA9PiB7fSB9KTtcbi8vIGxpbmtzIC8vIExpbmtbXS4uLlxuXG4vLyBsb2FkZWQgd2l0aCBkZWVwLnNlbGVjdCBhbmQgZGVlcC5zdWJzY3JpYmUgcGxhaW4gbGlua3NcbmNvbnN0IENvbnRhaW4gPSBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdDb250YWluJyk7XG5jb25zdCByZXN1bHRzID0gYXdhaXQgZGVlcC5zZWxlY3Qoe1xuICBpbjogeyB0eXBlOiBDb250YWluLCBmcm9tOiBkZWVwLmxpbmtJZCwgfSxcbiAgcmV0dXJuOiB7IGNvbnRhaW46IHsgaW46IHsgdHlwZTogQ29udGFpbiB9IH0gfSAvLyBnZXQgcmVsYXRlZCBsaW5rcyB0b29cbn0pLFxuLy8gY2FuIGJlIGFkZGVkIHRvIG1pbmlsaW5rcyB3aXRoOlxuZGVlcC5taW5pbGlua3MuYXBwbHkoXG4gIHJlc3VsdHMsXG4gICduYW1lJywgLy8gU1RSSUNUTFkgVU5JUVVFXG4pO1xuLy8geW91IGNhbiB1cGRhdGUgbGlua3Mgc3RhZ2UgaW4gbWluaWxpbmtzLCBieSBzb21lIHNlbGVjdC9zdWJzY3JpcHRpb24gZmxvdyBtYW51YWxseVxuLy8gaW4gcmVhY3QgaG9va3MgZGVlcC51c2VTdWJzY3JpcHRpb24gYW5kIGRlZXAudXNlUXVlcnkgYXBwbHkgYWx3YXlzIGF1dG9tYXRpY2FsbHlcbi8vIHRoZW4geW91IGNhbiBzaW1wbHkgdHJhdmVsIGJ5IGl0XG5jb25zdCB1c2VyID0gZGVlcC5nZXQoZGVlcC5saW5rSWQpO1xudXNlci50cmF2ZWwoKS5vdXQoeyB0eXBlOiBDb250YWluIH0pLnNlbGVjdCgpO1xuYH1gO1xuICAgICAgfVxuICBcbiAgICAgIGlmIChldmVudC5tb2RlID09PSAnaW5zZXJ0Jykge1xuICAgICAgICB2YWx1ZSA9IGAvLyByZXF1ZXN0IHRvIGxpbmtzIG9uIHJlbW90ZSBzZXJ2ZXJcbmF3YWl0IGRlZXAuaW5zZXJ0KCR7cX0ke29vfSk7XG4vLyB7IGVycm9yOiAke2V2ZW50LmVycm9yID8gZGVlcC5zdHJpbmdpZnkoZXZlbnQuZXJyb3IpIDogJ251bGwnfSwgZGF0YTogeyAke3J9Li4uIH0gfVxuXG4vLyBwb3NzaWJsZSB0byBpbnNlcnQgbXVsdGlwbGUgbGlua3MgYXQgcmVxdWVzdFxuYXdhaXQgZGVlcC5pbnNlcnQoe1xuICBmcm9tOiBkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vY29yZScsICdjbGllbnRTdXBwb3J0c0pzJyksXG4gIHR5cGU6IGRlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ0hhbmRsZXInKSxcbiAgdG86IHtcbiAgICAvLyBmcm9tL3RvL3R5cGUgYXMgc2luZ2xlIHJlbGF0aW9ucyBjYW4gYmVcbiAgICAvLyBJZCBvZiBleGlzdGVkIGxpbmsgb3IgbGluayB0byBpbnNlcnQ6XG4gICAgdHlwZV9pZDogZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnVFNYJyksXG4gICAgc3RyaW5nOiBcXGAoeyBkZWVwLCByZXF1aXJlIH0pID0+IHsgdmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTsgcmV0dXJuICgpID0+IDxkaXY+bXkgbmV3IGNvbXBvbmVudDwvZGl2PjsgfVxcYCxcbiAgfSxcbiAgLy8gc2hvcnQgY3V0IGZvciBjcmVhdGUgQ29udGFpbiBsaW5rczpcbiAgY29udGFpbmVySWQ6IGRlZXAubGlua0lkLCAvLyBjdXJyZW50IHVzZXJcbiAgbmFtZTogJ215IG5ldyBjb21wb25lbnQnLFxufSk7XG5cbi8vIGhpbnQ6IGZlZWwgZnJlZSB0byB1c2UgZGVlcCB2YXJpYWJsZSBpbiBicm93c2VyIGNvbnNvbGUhXG5cbi8vIGJ5IGRlZmF1bHQgb25seSByZW1vdGUgcmVxdWVzdFxuLy8geW91IGNhbiBzZXQgb3B0aW9uIG9uY2VcbmF3YWl0IGRlZXAuaW5zZXJ0KHsgLi4uIH0sIHsgbG9jYWw6IHRydWUsIC4uLiB9KTtcbi8vIG9yIGdsb2JhbGx5XG5kZWVwLmxvY2FsID0gdHJ1ZTtcbi8vIGFuZCBsaW5rIHdpbGwgYmUgaW5zZXJ0ZWQgaW4gbG9jYWwgZGVlcC5taW5pbGlua3Ncbi8vIGJlZm9yZSB0cmFuc2FjdGlvbiB0byBzZXJ2ZXJcbi8vIGxpbmtzIGluc2VydGVkIG9uIGNsaWVudCBzaWRlIGZpcnN0IGlzIHZpcnR1YWwgd2l0aCAtMTIzIG5lZ2F0aXZlIGlkXG5gO1xuICAgICAgfVxuICBcbiAgICAgIGlmIChldmVudC5tb2RlID09PSAndXBkYXRlJykge1xuICAgICAgICB2YWx1ZSA9IGAvLyByZXF1ZXN0IHRvIGxpbmtzIG9uIHJlbW90ZSBzZXJ2ZXJcbmF3YWl0IGRlZXAudXBkYXRlKCR7cX0sICR7dn0ke29vfSk7XG4vLyB7IGVycm9yOiAke2V2ZW50LmVycm9yID8gZGVlcC5zdHJpbmdpZnkoZXZlbnQuZXJyb3IpIDogJ251bGwnfSwgZGF0YTogeyAke3J9Li4uIH0gfVxuXG4vLyBoaW50OiBmZWVsIGZyZWUgdG8gdXNlIGRlZXAgdmFyaWFibGUgaW4gYnJvd3NlciBjb25zb2xlIVxuXG4vLyBieSBkZWZhdWx0IG9ubHkgcmVtb3RlIHJlcXVlc3Rcbi8vIHlvdSBjYW4gc2V0IG9wdGlvbiBvbmNlXG5hd2FpdCBkZWVwLnVwZGF0ZSh7IC4uLiB9LCB7IC4uLiB9LCB7IGxvY2FsOiB0cnVlLCAuLi4gfSk7XG4vLyBvciBnbG9iYWxseVxuZGVlcC5sb2NhbCA9IHRydWU7XG4vLyBhbmQgbGluayB3aWxsIGJlIHVwZGF0ZWQgaW4gbG9jYWwgZGVlcC5taW5pbGlua3Ncbi8vIGJlZm9yZSB0cmFuc2FjdGlvbiB0byBzZXJ2ZXJcbmA7XG4gICAgICB9XG4gIFxuICAgICAgaWYgKGV2ZW50Lm1vZGUgPT09ICdkZWxldGUnKSB7XG4gICAgICAgIHZhbHVlID0gYC8vIHJlcXVlc3QgdG8gbGlua3Mgb24gcmVtb3RlIHNlcnZlclxuYXdhaXQgZGVlcC5kZWxldGUoJHtxfSR7b299KTtcbi8vIHsgZXJyb3I6ICR7ZXZlbnQuZXJyb3IgPyBkZWVwLnN0cmluZ2lmeShldmVudC5lcnJvcikgOiAnbnVsbCd9LCBkYXRhOiB7ICR7cn0uLi4gfSB9XG5cbi8vIGhpbnQ6IGZlZWwgZnJlZSB0byB1c2UgZGVlcCB2YXJpYWJsZSBpbiBicm93c2VyIGNvbnNvbGUhXG5cbi8vIGJ5IGRlZmF1bHQgb25seSByZW1vdGUgcmVxdWVzdFxuLy8geW91IGNhbiBzZXQgb3B0aW9uIG9uY2VcbmF3YWl0IGRlZXAuZGVsZXRlKHsgLi4uIH0sIHsgLi4uIH0sIHsgbG9jYWw6IHRydWUsIC4uLiB9KTtcbi8vIG9yIGdsb2JhbGx5XG5kZWVwLmxvY2FsID0gdHJ1ZTtcbi8vIGFuZCBsaW5rIHdpbGwgYmUgZGVsZXRlZCBpbiBsb2NhbCBkZWVwLm1pbmlsaW5rc1xuLy8gYmVmb3JlIHRyYW5zYWN0aW9uIHRvIHNlcnZlclxuYDtcbiAgICAgIH1cbiAgXG4gICAgICByZXR1cm4gPEdvLkVkaXRvciBlZGl0YWJsZT17ZmFsc2V9IHZhbHVlPXt2YWx1ZX0gZmlsbFNpemUvPjtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gPGdvLk9uIGRvPXt7XG4gICAgICBleGVjOiAoZyx2LG8pID0+IGdvLmRvKCd2aWV3JywgeyBpZDogZ28ubGlua0lkLCBDb21wb25lbnQ6IFZpZXcgfSkpLFxuICAgIH19PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIHc9JzNlbScgaD0nM2VtJ1xuICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgb25DbGljaz17KCkgPT4gZ28uZG8oJ2V4ZWMnKX1cbiAgICAgID5cbiAgICAgICAgPEZhTm9kZUpzLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1438
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1447,
      "src_id": 927,
      "handler_id": 928,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1447,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 474,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const _ = require('lodash');\n    const moment = require('moment');\n    const { useDebounceCallback } = require('@react-hook/debounce');\n    var dpl = '@deep-foundation/perception-links';\n    var dc = '@deep-foundation/core';\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const Queries = deep.idLocal(dpl, 'Queries');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const QueriesClient = deep.idLocal(dpl, 'QueriesClient');\n    return ({ go, event, children, }, ref) => {\n        const { data: views } = deep.useQuery({\n            type_id: Handler,\n            out: {\n                type_id: Compatable,\n                to_id: Queries,\n            },\n        });\n        const ViewItem = React.useMemo(() => React.memo(({ link: handler, isActive }) => {\n            return React.createElement(Go.Handler, { handlerId: handler.id, event: event, isActive: isActive });\n        }), []);\n        const [o, setO] = React.useState();\n        React.useEffect(() => {\n            go.set(Stack);\n        }, []);\n        return React.createElement(go.On, { do: {\n                view: (g, v, o) => setO(o),\n            } },\n            React.createElement(c.Flex, { ref: ref, direction: 'column', h: '100%' },\n                React.createElement(c.Box, { h: '3em' },\n                    React.createElement(go.Provider, { linkId: Stack },\n                        React.createElement(go.Component, { path: [dpl, 'Stack'], direction: 'horizontal', links: views, Item: ViewItem }))),\n                typeof (o?.Component) === 'function' && [React.createElement(go.Provider, { key: o.id, linkId: o.id },\n                        React.createElement(c.Box, { flex: '1', position: 'relative' },\n                            React.createElement(o.Component, { event: event })))]));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNqQyxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUVoRSxJQUFJLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUM5QyxJQUFJLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVqQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNuRCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsQ0FBQztJQUV6RCxPQUFPLENBQUMsRUFDTixFQUFFLEVBRUYsS0FBSyxFQUVMLFFBQVEsR0FDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3BDLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLEdBQUcsRUFBRTtnQkFDSCxPQUFPLEVBQUUsVUFBVTtnQkFDbkIsS0FBSyxFQUFFLE9BQU87YUFDZjtTQUNGLENBQUMsQ0FBQztRQUVILE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFO1lBQzlFLE9BQU8sb0JBQUMsRUFBRSxDQUFDLE9BQU8sSUFBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxRQUFRLEdBQUcsQ0FBQztRQUNoRixDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVSLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ25DLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO1lBQ25CLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRVAsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUNYLEVBQUUsRUFBRTtnQkFDRixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzthQUN6QjtZQUVELG9CQUFDLENBQUMsQ0FBQyxJQUFJLElBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxNQUFNO2dCQUMzQyxvQkFBQyxDQUFDLENBQUMsR0FBRyxJQUFDLENBQUMsRUFBQyxLQUFLO29CQUFDLG9CQUFDLEVBQUUsQ0FBQyxRQUFRLElBQUMsTUFBTSxFQUFFLEtBQUs7d0JBQ3ZDLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxFQUFFLFNBQVMsRUFBQyxZQUFZLEVBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxHQUFHLENBQzlFLENBQVE7Z0JBQ3JCLE9BQU0sQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLEtBQUssVUFBVSxJQUFJLENBQUMsb0JBQUMsRUFBRSxDQUFDLFFBQVEsSUFBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUU7d0JBQzNFLG9CQUFDLENBQUMsQ0FBQyxHQUFHLElBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsVUFBVTs0QkFDakMsb0JBQUMsQ0FBQyxDQUFDLFNBQVMsSUFBQyxLQUFLLEVBQUUsS0FBSyxHQUFHLENBQ3RCLENBQ0ksQ0FBQyxDQUNSLENBQ0gsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuICBjb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbiAgY29uc3QgeyB1c2VEZWJvdW5jZUNhbGxiYWNrIH0gPSByZXF1aXJlKCdAcmVhY3QtaG9vay9kZWJvdW5jZScpO1xuXG4gIHZhciBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgdmFyIGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgU3RhY2sgPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2snKTtcbiAgY29uc3QgUXVlcmllcyA9IGRlZXAuaWRMb2NhbChkcGwsICdRdWVyaWVzJyk7XG4gIGNvbnN0IENvbXBhdGFibGUgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQ29tcGF0YWJsZScpO1xuICBjb25zdCBIYW5kbGVyID0gZGVlcC5pZExvY2FsKGRjLCAnSGFuZGxlcicpO1xuICBjb25zdCBRdWVyaWVzQ2xpZW50ID0gZGVlcC5pZExvY2FsKGRwbCwgJ1F1ZXJpZXNDbGllbnQnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcblxuICAgIGV2ZW50LFxuXG4gICAgY2hpbGRyZW4sXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IHsgZGF0YTogdmlld3MgfSA9IGRlZXAudXNlUXVlcnkoe1xuICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgIG91dDoge1xuICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICB0b19pZDogUXVlcmllcyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIFxuICAgIGNvbnN0IFZpZXdJdGVtID0gUmVhY3QudXNlTWVtbygoKSA9PiBSZWFjdC5tZW1vKCh7IGxpbms6IGhhbmRsZXIsIGlzQWN0aXZlIH0pID0+IHtcbiAgICAgIHJldHVybiA8R28uSGFuZGxlciBoYW5kbGVySWQ9e2hhbmRsZXIuaWR9IGV2ZW50PXtldmVudH0gaXNBY3RpdmU9e2lzQWN0aXZlfS8+O1xuICAgIH0pLCBbXSk7XG5cbiAgICBjb25zdCBbbywgc2V0T10gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBnby5zZXQoU3RhY2spO1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICAgIHZpZXc6IChnLHYsbykgPT4gc2V0TyhvKSxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGMuRmxleCByZWY9e3JlZn0gZGlyZWN0aW9uPSdjb2x1bW4nIGg9JzEwMCUnPlxuICAgICAgICA8Yy5Cb3ggaD0nM2VtJz48Z28uUHJvdmlkZXIgbGlua0lkPXtTdGFja30+XG4gICAgICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnU3RhY2snXX0gZGlyZWN0aW9uPSdob3Jpem9udGFsJyBsaW5rcz17dmlld3N9IEl0ZW09e1ZpZXdJdGVtfS8+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+PC9jLkJveD5cbiAgICAgICAge3R5cGVvZihvPy5Db21wb25lbnQpID09PSAnZnVuY3Rpb24nICYmIFs8Z28uUHJvdmlkZXIga2V5PXtvLmlkfSBsaW5rSWQ9e28uaWR9PlxuICAgICAgICAgIDxjLkJveCBmbGV4PScxJyBwb3NpdGlvbj0ncmVsYXRpdmUnPlxuICAgICAgICAgICAgPG8uQ29tcG9uZW50IGV2ZW50PXtldmVudH0vPlxuICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgIDwvZ28uUHJvdmlkZXI+XX1cbiAgICAgIDwvYy5GbGV4PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1447
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1456,
      "src_id": 929,
      "handler_id": 930,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1456,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 477,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, insertProps = {}, ...props }, ref) => {\n        const disclosure = c.useDisclosure();\n        return React.createElement(go.On, { do: {\n                'exec': () => disclosure.onOpen(),\n            } },\n            React.createElement(c.Button, { ref: ref, h: '3em', w: '3em', variant: isActive ? 'active' : undefined, onClick: () => go.do('exec'), ...props }, children),\n            React.createElement(go.Component, { path: [dpl, 'LinkInsertModal'], disclosure: disclosure, ...insertProps }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFFaEQsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUNGLFNBQVMsRUFFVCxTQUFTLEVBQ1QsU0FBUyxFQUVULE1BQU0sRUFDTixJQUFJLEVBRUosUUFBUSxFQUVSLFFBQVEsRUFFUixXQUFXLEdBQUcsRUFBRSxFQUVoQixHQUFHLEtBQUssRUFDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBRXJDLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFDWCxFQUFFLEVBQUU7Z0JBQ0YsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7YUFDbEM7WUFFRCxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUN6QixPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDeEMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQ3hCLEtBQUssSUFDVCxRQUFRLENBQVk7WUFDdEIsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLENBQUMsRUFBRSxVQUFVLEVBQUUsVUFBVSxLQUM5RCxXQUFXLEdBQ2YsQ0FDSSxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG5cbiAgICBpbnNlcnRQcm9wcyA9IHt9LFxuXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgZGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuXG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgJ2V4ZWMnOiAoKSA9PiBkaXNjbG9zdXJlLm9uT3BlbigpLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5CdXR0b25cbiAgICAgICAgcmVmPXtyZWZ9IGg9JzNlbScgdz0nM2VtJ1xuICAgICAgICB2YXJpYW50PXtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBnby5kbygnZXhlYycpfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICA+e2NoaWxkcmVufTwvYy5CdXR0b24+XG4gICAgICA8Z28uQ29tcG9uZW50IHBhdGg9e1tkcGwsICdMaW5rSW5zZXJ0TW9kYWwnXX0gZGlzY2xvc3VyZT17ZGlzY2xvc3VyZX1cbiAgICAgICAgey4uLmluc2VydFByb3BzfVxuICAgICAgLz5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1456
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1465,
      "src_id": 931,
      "handler_id": 932,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 1465,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 480,
          "value": "async ({ deep, data, require }) => {\n    const React = require('react');\n    const { IoIosHome } = require(\"react-icons/io\");\n    const c = require('@chakra-ui/react');\n    const dpl = '@deep-foundation/perception-links';\n    const dc = '@deep-foundation/core';\n    const Site = await deep.id(dpl, 'Site');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        return React.createElement(go.On, { do: {\n                exec: (g, v, o) => go.go.do('right', { ...o, id: Site }),\n                click: (g, v, o) => go.do('exec', o),\n                right: (g, v, o) => go.do('exec', o),\n            } },\n            React.createElement(c.Button, { w: '3em', h: '3em', p: '0.3em', variant: isActive ? 'active' : undefined, ref: ref, onClick: () => go.do('exec') },\n                React.createElement(IoIosHome, null)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUVoRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUVuQyxNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRXhDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsU0FBUyxFQUNULFNBQVMsRUFFVCxNQUFNLEVBQ04sSUFBSSxFQUVKLFFBQVEsRUFFUixRQUFRLEVBRVIsR0FBRyxLQUFLLEVBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUU7Z0JBQ2hCLElBQUksRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUM7Z0JBQ3RELEtBQUssRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7Z0JBQ2xDLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7YUFDbkM7WUFDQyxvQkFBQyxDQUFDLENBQUMsTUFBTSxJQUNQLENBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUN6QixPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDeEMsR0FBRyxFQUFFLEdBQUcsRUFDUixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0JBRzVCLG9CQUFDLFNBQVMsT0FBRSxDQUNILENBQ0wsQ0FBQztJQUNiLENBQUMsQ0FBQTtBQUFBLENBQUMsQUFBRCxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgY29uc3QgeyBJb0lvc0hvbWUgfSA9IHJlcXVpcmUoXCJyZWFjdC1pY29ucy9pb1wiKTtcbiAgLy8gY29uc3QgeyBkZWZhdWx0OiBJbWFnZSB9ID0gcmVxdWlyZSgnbmV4dC9pbWFnZScpO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuXG4gIGNvbnN0IFNpdGUgPSBhd2FpdCBkZWVwLmlkKGRwbCwgJ1NpdGUnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBnb0hhbmRsZXIsXG5cbiAgICBoYW5kbGVySWQsXG4gICAgQ29tcG9uZW50LFxuXG4gICAgbGlua0lkLFxuICAgIGxpbmssXG5cbiAgICBjaGlsZHJlbixcblxuICAgIGlzQWN0aXZlLFxuXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIDxnby5PbiBkbz17e1xuICAgICAgZXhlYzogKGcsdixvKSA9PiBnby5nby5kbygncmlnaHQnLCB7IC4uLm8sIGlkOiBTaXRlIH0pKSxcbiAgICAgIGNsaWNrOiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgICByaWdodDogKGcsdixvKSA9PiBnby5kbygnZXhlYycsIG8pLFxuICAgIH19PlxuICAgICAgPGMuQnV0dG9uXG4gICAgICAgIHc9JzNlbScgaD0nM2VtJyBwPScwLjNlbSdcbiAgICAgICAgdmFyaWFudD17aXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9XG4gICAgICA+XG4gICAgICAgIHsvKiA8SW1hZ2Ugc3JjPVwiL2xvZ28uc3ZnXCIgd2lkdGg9ezMyfSBoZWlnaHQ9ezMyfS8+ICovfVxuICAgICAgICA8SW9Jb3NIb21lLz5cbiAgICAgIDwvYy5CdXR0b24+XG4gICAgPC9nby5Pbj47XG59Il19",
          "link_id": 1465
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1474,
      "src_id": 934,
      "handler_id": 935,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1474,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 483,
          "value": "async ({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const ds = '@deep-foundation/site-links';\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, ...props }, ref) => {\n        return React.createElement(go.On, { do: {\n                focus: (g, v, linkId, o) => { },\n                use: (g, v, o) => { },\n                open: (g, v, { id, prevId, handlerId, focus } = {}) => { },\n                close: (g, v, o) => { },\n                concentrate: (g, v, o) => { },\n            } },\n            React.createElement(c.Box, { ref: ref, position: 'absolute', h: '100%', w: '100%', left: '0', top: '0', color: 'deepColor', overflowY: 'scroll', css: go.noScrollBar },\n                React.createElement(c.Heading, { as: 'h1', size: '3xl', color: 'deepColorActive' }, \"Deep.Foundation\"),\n                React.createElement(c.Heading, { as: 'h2', size: '2xl' }, \"Landing\"),\n                React.createElement(c.Heading, { as: 'h3', size: 'xl' }, \"Features\"),\n                React.createElement(c.Heading, { as: 'h3', size: 'xl' }, \"Founders and Members\"),\n                React.createElement(c.Heading, { as: 'h2', size: '2xl' }, \"Quick start\"),\n                React.createElement(c.Heading, { as: 'h2', size: '2xl' }, \"Documentation\"),\n                React.createElement(c.Tabs, null,\n                    React.createElement(c.TabList, null,\n                        React.createElement(c.Tab, null, \"Links\"),\n                        React.createElement(c.Tab, null, \"DeepLinks\"),\n                        React.createElement(c.Tab, null, \"DeepClient\"),\n                        React.createElement(c.Tab, null, \"Minilinks\"),\n                        React.createElement(c.Tab, null, \"React\"),\n                        React.createElement(c.Tab, null, \"Traveler\"),\n                        React.createElement(c.Tab, null, \"Storage\"),\n                        React.createElement(c.Tab, null, \"Permissions\"),\n                        React.createElement(c.Tab, null, \"Handlers\"),\n                        React.createElement(c.Tab, null, \"Packager\"),\n                        React.createElement(c.Tab, null, \"DeepChain\"),\n                        React.createElement(c.Tab, null, \"Perception\"),\n                        React.createElement(c.Tab, null, \"SDK\")),\n                    React.createElement(c.TabPanels, null,\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Links\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'LinkStructure'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Link typing\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Link relations\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Link trees\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Subjectivity\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Permissions\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Handlers\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"DeepLinks\"),\n                            React.createElement(c.Tabs, null,\n                                React.createElement(c.TabList, null,\n                                    React.createElement(c.Tab, null, \"architecture\"),\n                                    React.createElement(c.Tab, null, \"npx @deep-foundation/deeplinks\"),\n                                    React.createElement(c.Tab, null, \"docker compose\"),\n                                    React.createElement(c.Tab, null, \"kubernetes\"),\n                                    React.createElement(c.Tab, null, \"source code\")),\n                                React.createElement(c.TabPanels, null,\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"architecture\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepLinksDockerArchitecture'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"npx @deep-foundation/deeplinks\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepLinksNpx'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"docker compose\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepLinksDockerCompose'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"kubernetes\")),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"source code\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepLinksDockerSourceCode'] }))))),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"DeepClient\"),\n                            React.createElement(c.Tabs, null,\n                                React.createElement(c.TabList, null,\n                                    React.createElement(c.Tab, null, \"operations\"),\n                                    React.createElement(c.Tab, null, \"authorization\"),\n                                    React.createElement(c.Tab, null, \"shorts\"),\n                                    React.createElement(c.Tab, null, \"react\"),\n                                    React.createElement(c.Tab, null, \"handlers\")),\n                                React.createElement(c.TabPanels, null,\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"operations\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.select\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.select'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.subscribe\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.subscribe'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.insert\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.insert'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.update\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.update'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.delete\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.delete'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.value\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.value'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.search\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.search'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.useSearch\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSearch'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.searchQuery\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.searchQuery'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.serializeQuery\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.serializeQuery'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"authorization\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.jwt\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.jwt'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.login\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.login'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.logout\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.logout'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.guest\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.guest'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"shorts\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.id\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.id'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.idLocal\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.idLocal'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.useId\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useId'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.name\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.name'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.nameLocal\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.nameLocal'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.symbol\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.symbol'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.symbolLocal\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.symbolLocal'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.get\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.get'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"link.toPlain\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'Link.toPlain'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"react\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useDeep\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useDeep'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useSubscription\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSubscription'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.useLocalSubscription\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalSubscription'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.useMinilinksSubscription\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useMinilinksSubscription'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useQuery\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useQuery'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.useLocalQuery\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalQuery'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"deep.useMinilinksQuery\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useMinilinksQuery'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLink\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLink'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLinks\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLinks'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useSearch\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSearch'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLocalApply\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalApply'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.useMinilinksApply\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useMinilinksApply'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"handlers\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.eval\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.eval'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.await\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.await'] }),\n                                        React.createElement(c.Heading, { as: 'h6', size: 'xs' }, \"go.Handler\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'Go.Handler'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.reserve\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'Go.reserve'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.stringify\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'Go.stringify'] }))))),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Minilinks\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Link\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Link'] }),\n                            React.createElement(c.Text, null, \".id .type_id .from_id .to_id .value\"),\n                            React.createElement(c.Text, null, \".type .typed .from .out .to .in\"),\n                            React.createElement(c.Text, null, \".name .symbol .toString .valueOf\"),\n                            React.createElement(c.Text, null, \".traveler\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.select\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.select'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLocalQuery\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalQuery'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.subscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.subscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLocalSubscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalSubscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.apply\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.apply'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.add\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.add'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.update\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.update'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.ml.remove\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Minilinks.remove'] })),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"React\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useDeep\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useDeep'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useQuery\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useQuery'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useSubscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSubscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLocalQuery\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalQuery'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.useMinilinksQuery\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useMinilinksQuery'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.ml.useQuery\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useQuery'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLocalSubscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLocalSubscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.ml.useSubscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSubscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"deep.useMinilinksSubscription\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useMinilinksSubscription'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLink\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLink'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useLinks\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useLinks'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.useSearch\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.useSearch'] })),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Traveler\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"new Traveler\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Traveler'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"available from results.travel() and each link.travel()\"),\n                            React.createElement(c.Text, null, \".type .typed .from .out .to .in .up .down\"),\n                            React.createElement(c.Text, null, \".query\"),\n                            React.createElement(c.Text, null, \".select .subscription .count .sum .avg .min .max\"),\n                            React.createElement(c.Text, null, \".and\"),\n                            React.createElement(c.Text, null, \".local .remote\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Storage\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Storage'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"/file\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.value\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.insert file:\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.DropZone\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Permissions\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Permissions'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Rule Object Subject Action\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Selectors\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Selectors'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Filter Query\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.can\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'DeepClient.can'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"custom actions\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Handlers\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Handlers'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Supports structure\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Async Docker, Sync PLV8, Client handlers\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"HandleInsert HandleUpdate HandleDelete\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'HandleLinks'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"HandleRoute\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'HandleRoute'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"HandleGql\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'HandleGql'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"HandleSchedule\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'HandleSchedule'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"HandlePort\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'HandlePort'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"custom handles\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'CustomHandle'] })),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Packager\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Packager'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"Package structure\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"npm packages\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'PackagerNpm'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep.chain packages\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"packager.import\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Packager.import'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"packager.export\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'Packager.export'] })),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"DeepChain\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"Perception\"),\n                            React.createElement(c.Tabs, null,\n                                React.createElement(c.TabList, null,\n                                    React.createElement(c.Tab, null, \"conception\"),\n                                    React.createElement(c.Tab, null, \"go\"),\n                                    React.createElement(c.Tab, null, \"builds\")),\n                                React.createElement(c.TabPanels, null,\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"conception\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'PerceptionConception'] })),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"go\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'Go'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.linkId go.link\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.go\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.parent\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.value go.set\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"go.do\")),\n                                    React.createElement(c.TabPanel, null,\n                                        React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"builds\"),\n                                        React.createElement(go.Component, { provide: true, path: [ds, 'PerceptionBuilds'] }),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"any component as application\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"publishing\"),\n                                        React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"already with memory\"))))),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"SDK\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'SDK'] }),\n                            React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"manual\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"NextJS static/server/dev\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"Capacitor Android/iOS/Windows/Linux/Max\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"browser-extensions\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'xs' }, \"NodeOS butable\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'md' }, \"github actions\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"deep handlers\"),\n                            React.createElement(c.Heading, { as: 'h5', size: 'sm' }, \"preload\")),\n                        React.createElement(c.TabPanel, null,\n                            React.createElement(c.Heading, { as: 'h4', size: 'md' }, \"GQL\"),\n                            React.createElement(go.Component, { provide: true, path: [ds, 'GQL'] }))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUUvQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLEVBQUUsR0FBRyw2QkFBNkIsQ0FBQztJQUV6QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFNBQVMsRUFDVCxTQUFTLEVBRVQsTUFBTSxFQUNOLElBQUksRUFFSixRQUFRLEVBRVIsR0FBRyxLQUFLLEVBQ1QsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNSLE9BQU8sb0JBQUMsRUFBRSxDQUFDLEVBQUUsSUFDWCxFQUFFLEVBQUU7Z0JBQ0YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRSxDQUFDO2dCQUMzQixHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUUsQ0FBQztnQkFDbEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLEtBQUssS0FBVSxFQUFFLEVBQUUsRUFBRSxHQUFFLENBQUM7Z0JBQzVELEtBQUssRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRSxDQUFDO2dCQUNwQixXQUFXLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUUsQ0FBQzthQUMzQjtZQUVELG9CQUFDLENBQUMsQ0FBQyxHQUFHLElBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsUUFBUSxFQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsV0FBVztnQkFDOUgsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsS0FBSyxFQUFDLGlCQUFpQixzQkFBNEI7Z0JBQ2pGLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsS0FBSyxjQUFvQjtnQkFDakQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGVBQXFCO2dCQUNqRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksMkJBQWlDO2dCQUM3RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLEtBQUssa0JBQXdCO2dCQUNyRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLEtBQUssb0JBQTBCO2dCQUN2RCxvQkFBQyxDQUFDLENBQUMsSUFBSTtvQkFDTCxvQkFBQyxDQUFDLENBQUMsT0FBTzt3QkFDUixvQkFBQyxDQUFDLENBQUMsR0FBRyxnQkFBYzt3QkFDcEIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsb0JBQWtCO3dCQUN4QixvQkFBQyxDQUFDLENBQUMsR0FBRyxxQkFBbUI7d0JBQ3pCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLG9CQUFrQjt3QkFDeEIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsZ0JBQWM7d0JBQ3BCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLG1CQUFpQjt3QkFDdkIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsa0JBQWdCO3dCQUN0QixvQkFBQyxDQUFDLENBQUMsR0FBRyxzQkFBb0I7d0JBQzFCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLG1CQUFpQjt3QkFDdkIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsbUJBQWlCO3dCQUN2QixvQkFBQyxDQUFDLENBQUMsR0FBRyxvQkFBa0I7d0JBQ3hCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLHFCQUFtQjt3QkFDekIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsY0FBWSxDQUNSO29CQUVaLG9CQUFDLENBQUMsQ0FBQyxTQUFTO3dCQUNWLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxZQUFrQjs0QkFDOUMsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGVBQWUsQ0FBQyxHQUFHOzRCQUNwRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksa0JBQXdCOzRCQUNwRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkscUJBQTJCOzRCQUN2RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCOzRCQUNuRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCOzRCQUNyRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksa0JBQXdCOzRCQUNwRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksZUFBcUIsQ0FDdEM7d0JBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7NEJBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGdCQUFzQjs0QkFDbEQsb0JBQUMsQ0FBQyxDQUFDLElBQUk7Z0NBQ0wsb0JBQUMsQ0FBQyxDQUFDLE9BQU87b0NBQ1Isb0JBQUMsQ0FBQyxDQUFDLEdBQUcsdUJBQXFCO29DQUMzQixvQkFBQyxDQUFDLENBQUMsR0FBRyx5Q0FBdUM7b0NBQzdDLG9CQUFDLENBQUMsQ0FBQyxHQUFHLHlCQUF1QjtvQ0FDN0Isb0JBQUMsQ0FBQyxDQUFDLEdBQUcscUJBQW1CO29DQUN6QixvQkFBQyxDQUFDLENBQUMsR0FBRyxzQkFBb0IsQ0FDaEI7Z0NBRVosb0JBQUMsQ0FBQyxDQUFDLFNBQVM7b0NBQ1Ysb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG1CQUF5Qjt3Q0FDckQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDZCQUE2QixDQUFDLEdBQUcsQ0FDdkQ7b0NBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFDQUEyQzt3Q0FDdkUsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGNBQWMsQ0FBQyxHQUFHLENBQ3hDO29DQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFRO3dDQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7d0NBQ3ZELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSx3QkFBd0IsQ0FBQyxHQUFHLENBQ2xEO29DQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFRO3dDQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxpQkFBdUIsQ0FDeEM7b0NBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjt3Q0FDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDJCQUEyQixDQUFDLEdBQUcsQ0FDckQsQ0FDRCxDQUNQLENBQ0U7d0JBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7NEJBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGlCQUF1Qjs0QkFDbkQsb0JBQUMsQ0FBQyxDQUFDLElBQUk7Z0NBQ0wsb0JBQUMsQ0FBQyxDQUFDLE9BQU87b0NBQ1Isb0JBQUMsQ0FBQyxDQUFDLEdBQUcscUJBQW1CO29DQUN6QixvQkFBQyxDQUFDLENBQUMsR0FBRyx3QkFBc0I7b0NBQzVCLG9CQUFDLENBQUMsQ0FBQyxHQUFHLGlCQUFlO29DQUNyQixvQkFBQyxDQUFDLENBQUMsR0FBRyxnQkFBYztvQ0FDcEIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsbUJBQWlCLENBQ2I7Z0NBRVosb0JBQUMsQ0FBQyxDQUFDLFNBQVM7b0NBQ1Ysb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGlCQUF1Qjt3Q0FFbkQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjt3Q0FDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFtQixDQUFDLEdBQUc7d0NBQ3hELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7d0NBQ3ZELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHO3dDQUMzRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksa0JBQXdCO3dDQUNwRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsbUJBQW1CLENBQUMsR0FBRzt3Q0FDeEQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjt3Q0FDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFtQixDQUFDLEdBQUc7d0NBQ3hELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxrQkFBd0I7d0NBQ3BELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHO3dDQUV4RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCO3dDQUNuRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLENBQUMsR0FBRzt3Q0FFdkQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjt3Q0FDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFtQixDQUFDLEdBQUc7d0NBQ3hELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7d0NBQ3ZELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHO3dDQUMzRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksdUJBQTZCO3dDQUN6RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsd0JBQXdCLENBQUMsR0FBRzt3Q0FFN0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDBCQUFnQzt3Q0FDNUQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDJCQUEyQixDQUFDLEdBQUcsQ0FDckQ7b0NBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG9CQUEwQjt3Q0FFdEQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGVBQXFCO3dDQUNqRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsZ0JBQWdCLENBQUMsR0FBRzt3Q0FDckQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGlCQUF1Qjt3Q0FDbkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGtCQUFrQixDQUFDLEdBQUc7d0NBQ3ZELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxrQkFBd0I7d0NBQ3BELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHO3dDQUN4RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCO3dDQUNuRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLENBQUMsR0FBRyxDQUM1QztvQ0FDYixvQkFBQyxDQUFDLENBQUMsUUFBUTt3Q0FDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksYUFBbUI7d0NBRS9DLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxjQUFvQjt3Q0FDaEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGVBQWUsQ0FBQyxHQUFHO3dDQUNwRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCO3dDQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsb0JBQW9CLENBQUMsR0FBRzt3Q0FDekQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGlCQUF1Qjt3Q0FDbkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGtCQUFrQixDQUFDLEdBQUc7d0NBRXZELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQkFBc0I7d0NBQ2xELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxpQkFBaUIsQ0FBQyxHQUFHO3dDQUN0RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkscUJBQTJCO3dDQUN2RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsc0JBQXNCLENBQUMsR0FBRzt3Q0FFM0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjt3Q0FDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFtQixDQUFDLEdBQUc7d0NBQ3hELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSx1QkFBNkI7d0NBQ3pELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSx3QkFBd0IsQ0FBQyxHQUFHO3dDQUU3RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksZUFBcUI7d0NBQ2pELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxnQkFBZ0IsQ0FBQyxHQUFHO3dDQUNyRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCO3dDQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsY0FBYyxDQUFDLEdBQUcsQ0FDeEM7b0NBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7d0NBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLFlBQWtCO3dDQUU5QyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCO3dDQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsb0JBQW9CLENBQUMsR0FBRzt3Q0FFekQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDJCQUFpQzt3Q0FDN0Qsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDRCQUE0QixDQUFDLEdBQUc7d0NBQ2pFLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQ0FBc0M7d0NBQ2xFLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxpQ0FBaUMsQ0FBQyxHQUFHO3dDQUN0RSxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksb0NBQTBDO3dDQUN0RSxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUscUNBQXFDLENBQUMsR0FBRzt3Q0FFMUUsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG9CQUEwQjt3Q0FDdEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLHFCQUFxQixDQUFDLEdBQUc7d0NBQzFELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSx5QkFBK0I7d0NBQzNELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSwwQkFBMEIsQ0FBQyxHQUFHO3dDQUMvRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksNkJBQW1DO3dDQUMvRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsOEJBQThCLENBQUMsR0FBRzt3Q0FFbkUsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG1CQUF5Qjt3Q0FDckQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLG9CQUFvQixDQUFDLEdBQUc7d0NBQ3pELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxvQkFBMEI7d0NBQ3RELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxxQkFBcUIsQ0FBQyxHQUFHO3dDQUUxRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkscUJBQTJCO3dDQUN2RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsc0JBQXNCLENBQUMsR0FBRzt3Q0FFM0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHlCQUErQjt3Q0FDM0Qsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDBCQUEwQixDQUFDLEdBQUc7d0NBQy9ELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSw2QkFBbUM7d0NBQy9ELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSw4QkFBOEIsQ0FBQyxHQUFHLENBQ3hEO29DQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFRO3dDQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxlQUFxQjt3Q0FDakQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGdCQUFzQjt3Q0FDbEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGlCQUFpQixDQUFDLEdBQUc7d0NBQ3RELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxpQkFBdUI7d0NBQ25ELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxHQUFHO3dDQUN2RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCO3dDQUNuRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsWUFBWSxDQUFDLEdBQUc7d0NBQ2pELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxtQkFBeUI7d0NBQ3JELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxZQUFZLENBQUMsR0FBRzt3Q0FDakQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFCQUEyQjt3Q0FDdkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGNBQWMsQ0FBQyxHQUFHLENBQ3hDLENBQ0QsQ0FDUCxDQUNFO3dCQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQkFBc0I7NEJBQ2xELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxXQUFpQjs0QkFDN0Msb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxHQUFHOzRCQUMzQyxvQkFBQyxDQUFDLENBQUMsSUFBSSw4Q0FBNkM7NEJBQ3BELG9CQUFDLENBQUMsQ0FBQyxJQUFJLDBDQUF5Qzs0QkFDaEQsb0JBQUMsQ0FBQyxDQUFDLElBQUksMkNBQTBDOzRCQUNqRCxvQkFBQyxDQUFDLENBQUMsSUFBSSxvQkFBbUI7NEJBQzFCLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7NEJBQ3ZELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxHQUFHOzRCQUN2RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkseUJBQStCOzRCQUMzRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsMEJBQTBCLENBQUMsR0FBRzs0QkFDL0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDJCQUFpQzs0QkFDN0Qsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLHdCQUF3QixDQUFDLEdBQUc7NEJBQzdELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQ0FBc0M7NEJBQ2xFLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxpQ0FBaUMsQ0FBQyxHQUFHOzRCQUN0RSxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksb0JBQTBCOzRCQUN0RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsaUJBQWlCLENBQUMsR0FBRzs0QkFDdEQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3Qjs0QkFDcEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGVBQWUsQ0FBQyxHQUFHOzRCQUNwRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkscUJBQTJCOzRCQUN2RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLENBQUMsR0FBRzs0QkFDdkQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFCQUEyQjs0QkFDdkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGtCQUFrQixDQUFDLEdBQUcsQ0FDNUM7d0JBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7NEJBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLFlBQWtCOzRCQUM5QyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCOzRCQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsb0JBQW9CLENBQUMsR0FBRzs0QkFDekQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG9CQUEwQjs0QkFDdEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLHFCQUFxQixDQUFDLEdBQUc7NEJBQzFELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSwyQkFBaUM7NEJBQzdELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSw0QkFBNEIsQ0FBQyxHQUFHOzRCQUNqRSxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUkseUJBQStCOzRCQUMzRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsMEJBQTBCLENBQUMsR0FBRzs0QkFDL0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDZCQUFtQzs0QkFDL0Qsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDhCQUE4QixDQUFDLEdBQUc7NEJBQ25FLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSx1QkFBNkI7NEJBQ3pELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxxQkFBcUIsQ0FBQyxHQUFHOzRCQUMxRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksZ0NBQXNDOzRCQUNsRSxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsaUNBQWlDLENBQUMsR0FBRzs0QkFDdEUsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDhCQUFvQzs0QkFDaEUsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLDRCQUE0QixDQUFDLEdBQUc7NEJBQ2pFLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxvQ0FBMEM7NEJBQ3RFLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxxQ0FBcUMsQ0FBQyxHQUFHOzRCQUMxRSxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCOzRCQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsb0JBQW9CLENBQUMsR0FBRzs0QkFDekQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG9CQUEwQjs0QkFDdEQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLHFCQUFxQixDQUFDLEdBQUc7NEJBQzFELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7NEJBQ3ZELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHLENBQ2hEO3dCQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxlQUFxQjs0QkFDakQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG1CQUF5Qjs0QkFDckQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxHQUFHOzRCQUMvQyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksNkRBQW1FOzRCQUMvRixvQkFBQyxDQUFDLENBQUMsSUFBSSxvREFBbUQ7NEJBQzFELG9CQUFDLENBQUMsQ0FBQyxJQUFJLGlCQUFnQjs0QkFDdkIsb0JBQUMsQ0FBQyxDQUFDLElBQUksMkRBQTBEOzRCQUNqRSxvQkFBQyxDQUFDLENBQUMsSUFBSSxlQUFjOzRCQUNyQixvQkFBQyxDQUFDLENBQUMsSUFBSSx5QkFBd0IsQ0FDcEI7d0JBQ2Isb0JBQUMsQ0FBQyxDQUFDLFFBQVE7NEJBQ1Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGNBQW9COzRCQUNoRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLEdBQUc7NEJBQzlDLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxZQUFrQjs0QkFDOUMsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGlCQUF1Qjs0QkFDbkQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHdCQUE4Qjs0QkFDMUQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGtCQUF3QixDQUN6Qzt3QkFDYixvQkFBQyxDQUFDLENBQUMsUUFBUTs0QkFDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksa0JBQXdCOzRCQUNwRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsYUFBYSxDQUFDLEdBQUc7NEJBQ2xELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxpQ0FBdUM7NEJBQ25FLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQkFBc0I7NEJBQ2xELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsR0FBRzs0QkFDaEQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLG1CQUF5Qjs0QkFDckQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLGVBQXFCOzRCQUNqRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsZ0JBQWdCLENBQUMsR0FBRzs0QkFDckQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFCQUEyQixDQUM1Qzt3QkFDYixvQkFBQyxDQUFDLENBQUMsUUFBUTs0QkFDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksZUFBcUI7NEJBQ2pELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsR0FBRzs0QkFDL0Msb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHlCQUErQjs0QkFDM0Qsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLCtDQUFxRDs0QkFDakYsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLDZDQUFtRDs0QkFDL0Usb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGFBQWEsQ0FBQyxHQUFHOzRCQUNsRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksa0JBQXdCOzRCQUNwRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsYUFBYSxDQUFDLEdBQUc7NEJBQ2xELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQkFBc0I7NEJBQ2xELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsR0FBRzs0QkFDaEQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFCQUEyQjs0QkFDdkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGdCQUFnQixDQUFDLEdBQUc7NEJBQ3JELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxpQkFBdUI7NEJBQ25ELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxZQUFZLENBQUMsR0FBRzs0QkFDakQsb0JBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLHFCQUEyQjs0QkFDdkQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLGNBQWMsQ0FBQyxHQUFHLENBQ3hDO3dCQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxlQUFxQjs0QkFDakQsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxHQUFHOzRCQUMvQyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksd0JBQThCOzRCQUMxRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUJBQXlCOzRCQUNyRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsYUFBYSxDQUFDLEdBQUc7NEJBQ2xELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSwwQkFBZ0M7NEJBQzVELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxzQkFBNEI7NEJBQ3hELG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxpQkFBaUIsQ0FBQyxHQUFHOzRCQUN0RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksc0JBQTRCOzRCQUN4RCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsaUJBQWlCLENBQUMsR0FBRyxDQUMzQzt3QkFDYixvQkFBQyxDQUFDLENBQUMsUUFBUTs0QkFDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksZ0JBQXNCLENBQ3ZDO3dCQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxpQkFBdUI7NEJBQ25ELG9CQUFDLENBQUMsQ0FBQyxJQUFJO2dDQUNMLG9CQUFDLENBQUMsQ0FBQyxPQUFPO29DQUNSLG9CQUFDLENBQUMsQ0FBQyxHQUFHLHFCQUFtQjtvQ0FDekIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsYUFBVztvQ0FDakIsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsaUJBQWUsQ0FDWDtnQ0FFWixvQkFBQyxDQUFDLENBQUMsU0FBUztvQ0FDVixvQkFBQyxDQUFDLENBQUMsUUFBUTt3Q0FDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCO3dDQUNuRCxvQkFBQyxFQUFFLENBQUMsU0FBUyxJQUFDLE9BQU8sUUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsc0JBQXNCLENBQUMsR0FBRyxDQUNoRDtvQ0FDYixvQkFBQyxDQUFDLENBQUMsUUFBUTt3Q0FDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksU0FBZTt3Q0FDM0Msb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFHO3dDQUV6QyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksd0JBQThCO3dDQUMxRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksWUFBa0I7d0NBQzlDLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxnQkFBc0I7d0NBQ2xELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxzQkFBNEI7d0NBQ3hELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxZQUFrQixDQUNuQztvQ0FDYixvQkFBQyxDQUFDLENBQUMsUUFBUTt3Q0FDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksYUFBbUI7d0NBQy9DLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxHQUFHO3dDQUV2RCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksbUNBQXlDO3dDQUNyRSxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksaUJBQXVCO3dDQUNuRCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksMEJBQWdDLENBQ2pELENBQ0QsQ0FDUCxDQUNFO3dCQUNiLG9CQUFDLENBQUMsQ0FBQyxRQUFROzRCQUNULG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxVQUFnQjs0QkFDNUMsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxPQUFPLFFBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxHQUFHOzRCQUUxQyxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksYUFBbUI7NEJBQy9DLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSwrQkFBcUM7NEJBQ2pFLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSw4Q0FBb0Q7NEJBQ2hGLG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSx5QkFBK0I7NEJBQzNELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7NEJBRXZELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxxQkFBMkI7NEJBQ3ZELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxvQkFBMEI7NEJBRXRELG9CQUFDLENBQUMsQ0FBQyxPQUFPLElBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxjQUFvQixDQUNyQzt3QkFDYixvQkFBQyxDQUFDLENBQUMsUUFBUTs0QkFDVCxvQkFBQyxDQUFDLENBQUMsT0FBTyxJQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksVUFBZ0I7NEJBQzVDLG9CQUFDLEVBQUUsQ0FBQyxTQUFTLElBQUMsT0FBTyxRQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUMvQixDQUNELENBQ1AsQ0FDSCxDQUNGLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBHbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgXG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgZHMgPSAnQGRlZXAtZm91bmRhdGlvbi9zaXRlLWxpbmtzJztcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBnb0hhbmRsZXIsXG5cbiAgICBoYW5kbGVySWQsXG4gICAgQ29tcG9uZW50LFxuXG4gICAgbGlua0lkLFxuICAgIGxpbmssXG5cbiAgICBjaGlsZHJlbixcblxuICAgIC4uLnByb3BzXG4gIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICAgIGZvY3VzOiAoZyx2LGxpbmtJZCxvKSA9PiB7fSxcbiAgICAgICAgdXNlOiAoZyx2LG8pID0+IHt9LFxuICAgICAgICBvcGVuOiAoZyx2LHsgaWQsIHByZXZJZCwgaGFuZGxlcklkLCBmb2N1cyB9OiBhbnkgPSB7fSkgPT4ge30sXG4gICAgICAgIGNsb3NlOiAoZyx2LG8pID0+IHt9LFxuICAgICAgICBjb25jZW50cmF0ZTogKGcsdixvKSA9PiB7fSxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGMuQm94IHJlZj17cmVmfSBwb3NpdGlvbj0nYWJzb2x1dGUnIGg9JzEwMCUnIHc9JzEwMCUnIGxlZnQ9JzAnIHRvcD0nMCcgY29sb3I9J2RlZXBDb2xvcicgb3ZlcmZsb3dZPSdzY3JvbGwnIGNzcz17Z28ubm9TY3JvbGxCYXJ9PlxuICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoMScgc2l6ZT0nM3hsJyBjb2xvcj0nZGVlcENvbG9yQWN0aXZlJz5EZWVwLkZvdW5kYXRpb248L2MuSGVhZGluZz5cbiAgICAgICAgPGMuSGVhZGluZyBhcz0naDInIHNpemU9JzJ4bCc+TGFuZGluZzwvYy5IZWFkaW5nPlxuICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoMycgc2l6ZT0neGwnPkZlYXR1cmVzPC9jLkhlYWRpbmc+XG4gICAgICAgIDxjLkhlYWRpbmcgYXM9J2gzJyBzaXplPSd4bCc+Rm91bmRlcnMgYW5kIE1lbWJlcnM8L2MuSGVhZGluZz5cbiAgICAgICAgPGMuSGVhZGluZyBhcz0naDInIHNpemU9JzJ4bCc+UXVpY2sgc3RhcnQ8L2MuSGVhZGluZz5cbiAgICAgICAgPGMuSGVhZGluZyBhcz0naDInIHNpemU9JzJ4bCc+RG9jdW1lbnRhdGlvbjwvYy5IZWFkaW5nPlxuICAgICAgICA8Yy5UYWJzPlxuICAgICAgICAgIDxjLlRhYkxpc3Q+XG4gICAgICAgICAgICA8Yy5UYWI+TGlua3M8L2MuVGFiPlxuICAgICAgICAgICAgPGMuVGFiPkRlZXBMaW5rczwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+RGVlcENsaWVudDwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+TWluaWxpbmtzPC9jLlRhYj5cbiAgICAgICAgICAgIDxjLlRhYj5SZWFjdDwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+VHJhdmVsZXI8L2MuVGFiPlxuICAgICAgICAgICAgPGMuVGFiPlN0b3JhZ2U8L2MuVGFiPlxuICAgICAgICAgICAgPGMuVGFiPlBlcm1pc3Npb25zPC9jLlRhYj5cbiAgICAgICAgICAgIDxjLlRhYj5IYW5kbGVyczwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+UGFja2FnZXI8L2MuVGFiPlxuICAgICAgICAgICAgPGMuVGFiPkRlZXBDaGFpbjwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+UGVyY2VwdGlvbjwvYy5UYWI+XG4gICAgICAgICAgICA8Yy5UYWI+U0RLPC9jLlRhYj5cbiAgICAgICAgICA8L2MuVGFiTGlzdD5cbiAgICAgICAgXG4gICAgICAgICAgPGMuVGFiUGFuZWxzPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+TGlua3M8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0xpbmtTdHJ1Y3R1cmUnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPkxpbmsgdHlwaW5nPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+TGluayByZWxhdGlvbnM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5MaW5rIHRyZWVzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+U3ViamVjdGl2aXR5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+UGVybWlzc2lvbnM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5IYW5kbGVyczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+RGVlcExpbmtzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLlRhYnM+XG4gICAgICAgICAgICAgICAgPGMuVGFiTGlzdD5cbiAgICAgICAgICAgICAgICAgIDxjLlRhYj5hcmNoaXRlY3R1cmU8L2MuVGFiPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiPm5weCBAZGVlcC1mb3VuZGF0aW9uL2RlZXBsaW5rczwvYy5UYWI+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+ZG9ja2VyIGNvbXBvc2U8L2MuVGFiPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiPmt1YmVybmV0ZXM8L2MuVGFiPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiPnNvdXJjZSBjb2RlPC9jLlRhYj5cbiAgICAgICAgICAgICAgICA8L2MuVGFiTGlzdD5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGMuVGFiUGFuZWxzPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+YXJjaGl0ZWN0dXJlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwTGlua3NEb2NrZXJBcmNoaXRlY3R1cmUnXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+bnB4IEBkZWVwLWZvdW5kYXRpb24vZGVlcGxpbmtzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwTGlua3NOcHgnXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZG9ja2VyIGNvbXBvc2U8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBMaW5rc0RvY2tlckNvbXBvc2UnXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+a3ViZXJuZXRlczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+c291cmNlIGNvZGU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBMaW5rc0RvY2tlclNvdXJjZUNvZGUnXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgIDwvYy5UYWJQYW5lbHM+XG4gICAgICAgICAgICAgIDwvYy5UYWJzPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+RGVlcENsaWVudDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Yy5UYWJzPlxuICAgICAgICAgICAgICAgIDxjLlRhYkxpc3Q+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+b3BlcmF0aW9uczwvYy5UYWI+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+YXV0aG9yaXphdGlvbjwvYy5UYWI+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+c2hvcnRzPC9jLlRhYj5cbiAgICAgICAgICAgICAgICAgIDxjLlRhYj5yZWFjdDwvYy5UYWI+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+aGFuZGxlcnM8L2MuVGFiPlxuICAgICAgICAgICAgICAgIDwvYy5UYWJMaXN0PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8Yy5UYWJQYW5lbHM+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWJQYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J21kJz5vcGVyYXRpb25zPC9jLkhlYWRpbmc+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnNlbGVjdDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC5zZWxlY3QnXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuc3Vic2NyaWJlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnN1YnNjcmliZSddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5pbnNlcnQ8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuaW5zZXJ0J119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVwZGF0ZTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51cGRhdGUnXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuZGVsZXRlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LmRlbGV0ZSddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnZhbHVlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnZhbHVlJ119Lz5cblxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuc2VhcmNoPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnNlYXJjaCddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g2JyBzaXplPSd4cyc+ZGVlcC51c2VTZWFyY2g8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlU2VhcmNoJ119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDYnIHNpemU9J3hzJz5kZWVwLnNlYXJjaFF1ZXJ5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnNlYXJjaFF1ZXJ5J119Lz5cblxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNicgc2l6ZT0neHMnPmRlZXAuc2VyaWFsaXplUXVlcnk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuc2VyaWFsaXplUXVlcnknXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdtZCc+YXV0aG9yaXphdGlvbjwvYy5IZWFkaW5nPlxuXG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5qd3Q8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuand0J119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLmxvZ2luPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LmxvZ2luJ119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLmxvZ291dDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC5sb2dvdXQnXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuZ3Vlc3Q8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuZ3Vlc3QnXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+c2hvcnRzPC9jLkhlYWRpbmc+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLmlkPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LmlkJ119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDYnIHNpemU9J3hzJz5kZWVwLmlkTG9jYWw8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuaWRMb2NhbCddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+ZGVlcC51c2VJZDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VJZCddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLm5hbWU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQubmFtZSddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g2JyBzaXplPSd4cyc+ZGVlcC5uYW1lTG9jYWw8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQubmFtZUxvY2FsJ119Lz5cblxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuc3ltYm9sPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnN5bWJvbCddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g2JyBzaXplPSd4cyc+ZGVlcC5zeW1ib2xMb2NhbDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC5zeW1ib2xMb2NhbCddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLmdldDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC5nZXQnXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmxpbmsudG9QbGFpbjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnTGluay50b1BsYWluJ119Lz5cbiAgICAgICAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPnJlYWN0PC9jLkhlYWRpbmc+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZURlZXA8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlRGVlcCddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZVN1YnNjcmlwdGlvbjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VTdWJzY3JpcHRpb24nXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNicgc2l6ZT0neHMnPmRlZXAudXNlTG9jYWxTdWJzY3JpcHRpb248L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTG9jYWxTdWJzY3JpcHRpb24nXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNicgc2l6ZT0neHMnPmRlZXAudXNlTWluaWxpbmtzU3Vic2NyaXB0aW9uPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZU1pbmlsaW5rc1N1YnNjcmlwdGlvbiddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZVF1ZXJ5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZVF1ZXJ5J119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDYnIHNpemU9J3hzJz5kZWVwLnVzZUxvY2FsUXVlcnk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTG9jYWxRdWVyeSddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g2JyBzaXplPSd4cyc+ZGVlcC51c2VNaW5pbGlua3NRdWVyeTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VNaW5pbGlua3NRdWVyeSddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZUxpbms8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTGluayddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VMaW5rczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VMaW5rcyddfS8+XG5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZVNlYXJjaDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VTZWFyY2gnXX0vPlxuXG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VMb2NhbEFwcGx5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZUxvY2FsQXBwbHknXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0neHMnPmRlZXAudXNlTWluaWxpbmtzQXBwbHk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTWluaWxpbmtzQXBwbHknXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+aGFuZGxlcnM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLmV2YWw8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuZXZhbCddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5hd2FpdDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC5hd2FpdCddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g2JyBzaXplPSd4cyc+Z28uSGFuZGxlcjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnR28uSGFuZGxlciddfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5yZXNlcnZlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdHby5yZXNlcnZlJ119Lz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnN0cmluZ2lmeTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnR28uc3RyaW5naWZ5J119Lz5cbiAgICAgICAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgICAgICA8L2MuVGFiUGFuZWxzPlxuICAgICAgICAgICAgICA8L2MuVGFicz5cbiAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNCcgc2l6ZT0nbWQnPk1pbmlsaW5rczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPkxpbms8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0xpbmsnXX0vPlxuICAgICAgICAgICAgICA8Yy5UZXh0Pi5pZCAudHlwZV9pZCAuZnJvbV9pZCAudG9faWQgLnZhbHVlPC9jLlRleHQ+XG4gICAgICAgICAgICAgIDxjLlRleHQ+LnR5cGUgLnR5cGVkIC5mcm9tIC5vdXQgLnRvIC5pbjwvYy5UZXh0PlxuICAgICAgICAgICAgICA8Yy5UZXh0Pi5uYW1lIC5zeW1ib2wgLnRvU3RyaW5nIC52YWx1ZU9mPC9jLlRleHQ+XG4gICAgICAgICAgICAgIDxjLlRleHQ+LnRyYXZlbGVyPC9jLlRleHQ+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5tbC5zZWxlY3Q8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ01pbmlsaW5rcy5zZWxlY3QnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAudXNlTG9jYWxRdWVyeTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VMb2NhbFF1ZXJ5J119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLm1sLnN1YnNjcmlwdGlvbjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnTWluaWxpbmtzLnN1YnNjcmlwdGlvbiddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VMb2NhbFN1YnNjcmlwdGlvbjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VMb2NhbFN1YnNjcmlwdGlvbiddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5tbC5hcHBseTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnTWluaWxpbmtzLmFwcGx5J119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLm1sLmFkZDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnTWluaWxpbmtzLmFkZCddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5tbC51cGRhdGU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ01pbmlsaW5rcy51cGRhdGUnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAubWwucmVtb3ZlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdNaW5pbGlua3MucmVtb3ZlJ119Lz5cbiAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNCcgc2l6ZT0nbWQnPlJlYWN0PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VEZWVwPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZURlZXAnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAudXNlUXVlcnk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlUXVlcnknXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAudXNlU3Vic2NyaXB0aW9uPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZVN1YnNjcmlwdGlvbiddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VMb2NhbFF1ZXJ5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZUxvY2FsUXVlcnknXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0neHMnPmRlZXAudXNlTWluaWxpbmtzUXVlcnk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTWluaWxpbmtzUXVlcnknXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0neHMnPmRlZXAubWwudXNlUXVlcnk8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlUXVlcnknXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAudXNlTG9jYWxTdWJzY3JpcHRpb248L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTG9jYWxTdWJzY3JpcHRpb24nXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0neHMnPmRlZXAubWwudXNlU3Vic2NyaXB0aW9uPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdEZWVwQ2xpZW50LnVzZVN1YnNjcmlwdGlvbiddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+ZGVlcC51c2VNaW5pbGlua3NTdWJzY3JpcHRpb248L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTWluaWxpbmtzU3Vic2NyaXB0aW9uJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5kZWVwLnVzZUxpbms8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlTGluayddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VMaW5rczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnRGVlcENsaWVudC51c2VMaW5rcyddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC51c2VTZWFyY2g8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQudXNlU2VhcmNoJ119Lz5cbiAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNCcgc2l6ZT0nbWQnPlRyYXZlbGVyPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+bmV3IFRyYXZlbGVyPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdUcmF2ZWxlciddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+YXZhaWxhYmxlIGZyb20gcmVzdWx0cy50cmF2ZWwoKSBhbmQgZWFjaCBsaW5rLnRyYXZlbCgpPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLlRleHQ+LnR5cGUgLnR5cGVkIC5mcm9tIC5vdXQgLnRvIC5pbiAudXAgLmRvd248L2MuVGV4dD5cbiAgICAgICAgICAgICAgPGMuVGV4dD4ucXVlcnk8L2MuVGV4dD5cbiAgICAgICAgICAgICAgPGMuVGV4dD4uc2VsZWN0IC5zdWJzY3JpcHRpb24gLmNvdW50IC5zdW0gLmF2ZyAubWluIC5tYXg8L2MuVGV4dD5cbiAgICAgICAgICAgICAgPGMuVGV4dD4uYW5kPC9jLlRleHQ+XG4gICAgICAgICAgICAgIDxjLlRleHQ+LmxvY2FsIC5yZW1vdGU8L2MuVGV4dD5cbiAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNCcgc2l6ZT0nbWQnPlN0b3JhZ2U8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ1N0b3JhZ2UnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPi9maWxlPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC52YWx1ZTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuaW5zZXJ0IGZpbGU6PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+Z28uRHJvcFpvbmU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgIDwvYy5UYWJQYW5lbD5cbiAgICAgICAgICAgIDxjLlRhYlBhbmVsPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNCcgc2l6ZT0nbWQnPlBlcm1pc3Npb25zPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdQZXJtaXNzaW9ucyddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+UnVsZSBPYmplY3QgU3ViamVjdCBBY3Rpb248L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5TZWxlY3RvcnM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ1NlbGVjdG9ycyddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+RmlsdGVyIFF1ZXJ5PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcC5jYW48L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0RlZXBDbGllbnQuY2FuJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5jdXN0b20gYWN0aW9uczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+SGFuZGxlcnM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0hhbmRsZXJzJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5TdXBwb3J0cyBzdHJ1Y3R1cmU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5Bc3luYyBEb2NrZXIsIFN5bmMgUExWOCwgQ2xpZW50IGhhbmRsZXJzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+SGFuZGxlSW5zZXJ0IEhhbmRsZVVwZGF0ZSBIYW5kbGVEZWxldGU8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0hhbmRsZUxpbmtzJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5IYW5kbGVSb3V0ZTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnSGFuZGxlUm91dGUnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPkhhbmRsZUdxbDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnSGFuZGxlR3FsJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5IYW5kbGVTY2hlZHVsZTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnSGFuZGxlU2NoZWR1bGUnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPkhhbmRsZVBvcnQ8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0hhbmRsZVBvcnQnXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmN1c3RvbSBoYW5kbGVzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdDdXN0b21IYW5kbGUnXX0vPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+UGFja2FnZXI8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ1BhY2thZ2VyJ119Lz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5QYWNrYWdlIHN0cnVjdHVyZTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPm5wbSBwYWNrYWdlczwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnUGFja2FnZXJOcG0nXX0vPlxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmRlZXAuY2hhaW4gcGFja2FnZXM8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5wYWNrYWdlci5pbXBvcnQ8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ1BhY2thZ2VyLmltcG9ydCddfS8+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+cGFja2FnZXIuZXhwb3J0PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdQYWNrYWdlci5leHBvcnQnXX0vPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+RGVlcENoYWluPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICA8L2MuVGFiUGFuZWw+XG4gICAgICAgICAgICA8Yy5UYWJQYW5lbD5cbiAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDQnIHNpemU9J21kJz5QZXJjZXB0aW9uPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLlRhYnM+XG4gICAgICAgICAgICAgICAgPGMuVGFiTGlzdD5cbiAgICAgICAgICAgICAgICAgIDxjLlRhYj5jb25jZXB0aW9uPC9jLlRhYj5cbiAgICAgICAgICAgICAgICAgIDxjLlRhYj5nbzwvYy5UYWI+XG4gICAgICAgICAgICAgICAgICA8Yy5UYWI+YnVpbGRzPC9jLlRhYj5cbiAgICAgICAgICAgICAgICA8L2MuVGFiTGlzdD5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGMuVGFiUGFuZWxzPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdtZCc+Y29uY2VwdGlvbjwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8Z28uQ29tcG9uZW50IHByb3ZpZGUgcGF0aD17W2RzLCAnUGVyY2VwdGlvbkNvbmNlcHRpb24nXX0vPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdtZCc+Z288L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcywgJ0dvJ119Lz5cblxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nc20nPmdvLmxpbmtJZCBnby5saW5rPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+Z28uZ288L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5nby5wYXJlbnQ8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5nby52YWx1ZSBnby5zZXQ8L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3NtJz5nby5kbzwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+YnVpbGRzPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdQZXJjZXB0aW9uQnVpbGRzJ119Lz5cblxuICAgICAgICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0neHMnPmFueSBjb21wb25lbnQgYXMgYXBwbGljYXRpb248L2MuSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgPGMuSGVhZGluZyBhcz0naDUnIHNpemU9J3hzJz5wdWJsaXNoaW5nPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+YWxyZWFkeSB3aXRoIG1lbW9yeTwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgICAgIDwvYy5UYWJQYW5lbHM+XG4gICAgICAgICAgICAgIDwvYy5UYWJzPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+U0RLPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdTREsnXX0vPlxuXG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdtZCc+bWFudWFsPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+TmV4dEpTIHN0YXRpYy9zZXJ2ZXIvZGV2PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+Q2FwYWNpdG9yIEFuZHJvaWQvaU9TL1dpbmRvd3MvTGludXgvTWF4PC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+YnJvd3Nlci1leHRlbnNpb25zPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSd4cyc+Tm9kZU9TIGJ1dGFibGU8L2MuSGVhZGluZz5cblxuICAgICAgICAgICAgICA8Yy5IZWFkaW5nIGFzPSdoNScgc2l6ZT0nbWQnPmdpdGh1YiBhY3Rpb25zPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+ZGVlcCBoYW5kbGVyczwvYy5IZWFkaW5nPlxuXG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g1JyBzaXplPSdzbSc+cHJlbG9hZDwvYy5IZWFkaW5nPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgICAgPGMuVGFiUGFuZWw+XG4gICAgICAgICAgICAgIDxjLkhlYWRpbmcgYXM9J2g0JyBzaXplPSdtZCc+R1FMPC9jLkhlYWRpbmc+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnQgcHJvdmlkZSBwYXRoPXtbZHMsICdHUUwnXX0vPlxuICAgICAgICAgICAgPC9jLlRhYlBhbmVsPlxuICAgICAgICAgIDwvYy5UYWJQYW5lbHM+XG4gICAgICAgIDwvYy5UYWJzPlxuICAgICAgPC9jLkJveD5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1474
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1483,
      "src_id": 936,
      "handler_id": 937,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1483,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 486,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const c = require('@chakra-ui/react');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.Box, { ref: ref, h: '3em' }, `${go}`));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUNGLFNBQVMsRUFFVCxTQUFTLEVBQ1QsU0FBUyxFQUVULE1BQU0sRUFDTixJQUFJLEVBRUosUUFBUSxFQUVSLFFBQVEsRUFFUixHQUFHLEtBQUssRUFDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUNYLEVBQUUsRUFBRSxFQUNIO1lBRUQsb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBQyxLQUFLLElBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBUyxDQUNwQyxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBnb0hhbmRsZXIsXG5cbiAgICBoYW5kbGVySWQsXG4gICAgQ29tcG9uZW50LFxuXG4gICAgbGlua0lkLFxuICAgIGxpbmssXG5cbiAgICBjaGlsZHJlbixcblxuICAgIGlzQWN0aXZlLFxuXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGMuQm94IHJlZj17cmVmfSBoPSczZW0nPntgJHtnb31gfTwvYy5Cb3g+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1483
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1492,
      "src_id": 938,
      "handler_id": 939,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1492,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 489,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const c = require('@chakra-ui/react');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        return React.createElement(go.On, { do: {} },\n            React.createElement(go.Component, { path: [dpl, 'TreeLink'], ...props, linkId: linkId }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFFdEMsT0FBTyxDQUFDLEVBQ04sRUFBRSxFQUNGLFNBQVMsRUFFVCxTQUFTLEVBQ1QsU0FBUyxFQUVULE1BQU0sRUFDTixJQUFJLEVBRUosUUFBUSxFQUVSLFFBQVEsRUFFUixHQUFHLEtBQUssRUFDVCxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1IsT0FBTyxvQkFBQyxFQUFFLENBQUMsRUFBRSxJQUNYLEVBQUUsRUFBRSxFQUNIO1lBR0Qsb0JBQUMsRUFBRSxDQUFDLFNBQVMsSUFBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLEtBQU0sS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEdBQWlCLENBQzNFLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCBkYXRhLCByZXF1aXJlLCBHbyB9KSA9PiB7XG4gIGNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgXG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG5cbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgfX1cbiAgICA+XG4gICAgICB7LyogPGMuQm94IHJlZj17cmVmfSBoPSczZW0nPntgJHtnb31gfTwvYy5Cb3g+ICovfVxuICAgICAgPGdvLkNvbXBvbmVudCBwYXRoPXtbZHBsLCAnVHJlZUxpbmsnXX0gey4uLnByb3BzfSBsaW5rSWQ9e2xpbmtJZH0+PC9nby5Db21wb25lbnQ+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 1492
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1510,
      "src_id": 941,
      "handler_id": 942,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1510,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 495,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const dc = '@deep-foundation/core';\n    const dnpm = '@deep-foundation/npm-packager';\n    const dpl = '@deep-foundation/perception-links';\n    const c = require('@chakra-ui/react');\n    const semver = require('semver');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const PackageNamespace = deep.idLocal(dc, 'PackageNamespace');\n    const promiseTree = deep.idLocal(dc, 'promiseTree');\n    const Resolved = deep.idLocal(dc, 'Resolved');\n    const Rejected = deep.idLocal(dc, 'Rejected');\n    const Then = deep.idLocal(dc, 'Then');\n    const PackageVersion = deep.idLocal(dc, 'PackageVersion');\n    const PackageQuery = deep.idLocal(dc, 'PackageQuery');\n    const Publish = deep.idLocal(dnpm, 'Publish');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        const { data: [version], loading: vl } = deep.useSubscription({\n            type_id: PackageVersion,\n            to_id: linkId,\n        });\n        const { data: publishs } = deep.useSubscription({\n            type_id: Publish,\n            from_id: linkId,\n        });\n        const [publish, setPublish] = React.useState(null);\n        const { data: [result] } = deep.useSubscription({\n            type_id: { _in: [Resolved, Rejected] },\n            up: {\n                tree_id: promiseTree,\n                parent_id: publish,\n            },\n        });\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.Button, { isDisabled: true, w: '100%', isLoading: vl }, version ? `${version.symbol} ${version?.value?.value}` : 'no version'),\n            React.createElement(c.Flex, null,\n                !!result && React.createElement(React.Fragment, null,\n                    React.createElement(c.Button, { onClick: () => go.do('open', { id: result.to_id }) }, result.symbol)),\n                React.createElement(c.Button, { flex: '1', w: '100%', isDisabled: !link?.value?.value, onClick: async () => {\n                        setPublish(true);\n                        let namespace = await deep.one({ type_id: PackageNamespace, string: link?.value?.value });\n                        if (!namespace)\n                            namespace = (await deep.insert({ type_id: PackageNamespace, string: link?.value?.value }))?.data?.[0];\n                        if (!version)\n                            await deep.insert({ type_id: PackageVersion, from_id: namespace.id, to_id: linkId, string: '0.0.1' });\n                        else\n                            await deep.value(version.id, semver.inc(version?.value?.value || '0.0.0', 'patch'));\n                        const pq = await deep.one({ type_id: PackageQuery, string: link?.value?.value });\n                        const { data: [p] } = await deep.insert({\n                            type_id: Publish,\n                            from_id: linkId,\n                            ...(pq ? { to_id: pq.id } : { to: { type_id: PackageQuery, string: link?.value?.value } }),\n                        });\n                        setPublish(p.id);\n                    }, isLoading: publish !== null && !result }, \"publish\")),\n            React.createElement(go.Provider, { linkId: Stack },\n                React.createElement(go.Handler, { handlerId: Stack, links: publishs })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxJQUFJLEdBQUcsK0JBQStCLENBQUM7SUFDN0MsTUFBTSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDaEQsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRWpDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUM5RCxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUNwRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUM5QyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUM5QyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN0QyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzFELE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxP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LENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZG5wbSA9ICdAZGVlcC1mb3VuZGF0aW9uL25wbS1wYWNrYWdlcic7XG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCBzZW12ZXIgPSByZXF1aXJlKCdzZW12ZXInKTtcblxuICBjb25zdCBTdGFjayA9IGRlZXAuaWRMb2NhbChkcGwsICdTdGFjaycpO1xuICBjb25zdCBQYWNrYWdlTmFtZXNwYWNlID0gZGVlcC5pZExvY2FsKGRjLCAnUGFja2FnZU5hbWVzcGFjZScpO1xuICBjb25zdCBwcm9taXNlVHJlZSA9IGRlZXAuaWRMb2NhbChkYywgJ3Byb21pc2VUcmVlJyk7XG4gIGNvbnN0IFJlc29sdmVkID0gZGVlcC5pZExvY2FsKGRjLCAnUmVzb2x2ZWQnKTtcbiAgY29uc3QgUmVqZWN0ZWQgPSBkZWVwLmlkTG9jYWwoZGMsICdSZWplY3RlZCcpO1xuICBjb25zdCBUaGVuID0gZGVlcC5pZExvY2FsKGRjLCAnVGhlbicpO1xuICBjb25zdCBQYWNrYWdlVmVyc2lvbiA9IGRlZXAuaWRMb2NhbChkYywgJ1BhY2thZ2VWZXJzaW9uJyk7XG4gIGNvbnN0IFBhY2thZ2VRdWVyeSA9IGRlZXAuaWRMb2NhbChkYywgJ1BhY2thZ2VRdWVyeScpO1xuICBjb25zdCBQdWJsaXNoID0gZGVlcC5pZExvY2FsKGRucG0sICdQdWJsaXNoJyk7XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgZ29IYW5kbGVyLFxuXG4gICAgaGFuZGxlcklkLFxuICAgIENvbXBvbmVudCxcblxuICAgIGxpbmtJZCxcbiAgICBsaW5rLFxuXG4gICAgY2hpbGRyZW4sXG5cbiAgICBpc0FjdGl2ZSxcblxuICAgIC4uLnByb3BzXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IHsgZGF0YTogW3ZlcnNpb25dLCBsb2FkaW5nOiB2bCB9ID0gZGVlcC51c2VTdWJzY3JpcHRpb24oe1xuICAgICAgdHlwZV9pZDogUGFja2FnZVZlcnNpb24sXG4gICAgICB0b19pZDogbGlua0lkLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZGF0YTogcHVibGlzaHMgfSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IFB1Ymxpc2gsXG4gICAgICBmcm9tX2lkOiBsaW5rSWQsXG4gICAgfSk7XG4gICAgY29uc3QgW3B1Ymxpc2gsIHNldFB1Ymxpc2hdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgeyBkYXRhOiBbcmVzdWx0XSB9ID0gZGVlcC51c2VTdWJzY3JpcHRpb24oe1xuICAgICAgdHlwZV9pZDogeyBfaW46IFtSZXNvbHZlZCwgUmVqZWN0ZWRdIH0sXG4gICAgICB1cDoge1xuICAgICAgICB0cmVlX2lkOiBwcm9taXNlVHJlZSxcbiAgICAgICAgcGFyZW50X2lkOiBwdWJsaXNoLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5CdXR0b24gaXNEaXNhYmxlZCB3PScxMDAlJyBpc0xvYWRpbmc9e3ZsfT57dmVyc2lvbiA/IGAke3ZlcnNpb24uc3ltYm9sfSAke3ZlcnNpb24/LnZhbHVlPy52YWx1ZX1gIDogJ25vIHZlcnNpb24nfTwvYy5CdXR0b24+XG4gICAgICA8Yy5GbGV4PlxuICAgICAgICB7ISFyZXN1bHQgJiYgPD5cbiAgICAgICAgICA8Yy5CdXR0b24gb25DbGljaz17KCkgPT4gZ28uZG8oJ29wZW4nLCB7IGlkOiByZXN1bHQudG9faWQgfSl9PntyZXN1bHQuc3ltYm9sfTwvYy5CdXR0b24+XG4gICAgICAgIDwvPn1cbiAgICAgICAgPGMuQnV0dG9uIGZsZXg9JzEnIHc9JzEwMCUnIGlzRGlzYWJsZWQ9eyFsaW5rPy52YWx1ZT8udmFsdWV9IG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICBzZXRQdWJsaXNoKHRydWUpO1xuICAgICAgICAgIGxldCBuYW1lc3BhY2UgPSBhd2FpdCBkZWVwLm9uZSh7IHR5cGVfaWQ6IFBhY2thZ2VOYW1lc3BhY2UsIHN0cmluZzogbGluaz8udmFsdWU/LnZhbHVlIH0pO1xuICAgICAgICAgIGlmICghbmFtZXNwYWNlKSBuYW1lc3BhY2UgPSAoYXdhaXQgZGVlcC5pbnNlcnQoeyB0eXBlX2lkOiBQYWNrYWdlTmFtZXNwYWNlLCBzdHJpbmc6IGxpbms/LnZhbHVlPy52YWx1ZSB9KSk/LmRhdGE/LlswXTtcbiAgICAgICAgICBpZiAoIXZlcnNpb24pIGF3YWl0IGRlZXAuaW5zZXJ0KHsgdHlwZV9pZDogUGFja2FnZVZlcnNpb24sIGZyb21faWQ6IG5hbWVzcGFjZS5pZCwgdG9faWQ6IGxpbmtJZCwgc3RyaW5nOiAnMC4wLjEnIH0pO1xuICAgICAgICAgIGVsc2UgYXdhaXQgZGVlcC52YWx1ZSh2ZXJzaW9uLmlkLCBzZW12ZXIuaW5jKHZlcnNpb24/LnZhbHVlPy52YWx1ZSB8fCAnMC4wLjAnLCAncGF0Y2gnKSk7XG4gICAgICAgICAgY29uc3QgcHEgPSBhd2FpdCBkZWVwLm9uZSh7IHR5cGVfaWQ6IFBhY2thZ2VRdWVyeSwgc3RyaW5nOiBsaW5rPy52YWx1ZT8udmFsdWUgfSk7XG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBbcF0gfSA9IGF3YWl0IGRlZXAuaW5zZXJ0KHtcbiAgICAgICAgICAgIHR5cGVfaWQ6IFB1Ymxpc2gsXG4gICAgICAgICAgICBmcm9tX2lkOiBsaW5rSWQsXG4gICAgICAgICAgICAuLi4ocHEgPyB7IHRvX2lkOiBwcS5pZCB9IDogeyB0bzogeyB0eXBlX2lkOiBQYWNrYWdlUXVlcnksIHN0cmluZzogbGluaz8udmFsdWU/LnZhbHVlIH0gfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0UHVibGlzaChwLmlkKTtcbiAgICAgICAgfX0gaXNMb2FkaW5nPXtwdWJsaXNoICE9PSBudWxsICYmICFyZXN1bHR9PnB1Ymxpc2g8L2MuQnV0dG9uPlxuICAgICAgPC9jLkZsZXg+XG4gICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtTdGFja30+XG4gICAgICAgIDxnby5IYW5kbGVyIGhhbmRsZXJJZD17U3RhY2t9IGxpbmtzPXtwdWJsaXNoc30vPlxuICAgICAgPC9nby5Qcm92aWRlcj5cbiAgICA8L2dvLk9uPjtcbiAgfTtcbn0iXX0=",
          "link_id": 1510
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1519,
      "src_id": 945,
      "handler_id": 946,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1519,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 498,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const { IoFingerPrintOutline } = require(\"react-icons/io5\");\n    var dtsx = '@deep-foundation/tsx';\n    var dpl = '@deep-foundation/perception-links';\n    var dc = '@deep-foundation/core';\n    const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const TSX = deep.idLocal(dtsx, 'TSX');\n    const MenuAuth = deep.idLocal(dpl, 'MenuAuth');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const After = deep.idLocal(dpl, 'After');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const StackInsertButton = deep.idLocal(dpl, 'StackInsertButton');\n    const templateLayerButton = (id) => `      <go.On do={{\n        exec: async (g,v,o) => go.go.do('right', { ...o, id: await deep.id(${id}, 'NameOfComponent') }),\n        click: (g,v,o) => go.do('exec', o),\n        right: (g,v,o) => go.do('exec', o),\n      }}>\n        <c.Button w='3em' h='3em' variant={isActive ? 'active' : undefined} onClick={() => go.do('exec')}>?</c.Button>\n        {/*<go.Component path={[${id}, 'NameOfComponent']}/>*/}\n      </go.On>`;\n    const Item = ({ link, isActive }) => {\n        const go = Go.useGo();\n        return (link?.id === After ? (React.createElement(go.Handler, { handlerId: StackInsertButton, insertProps: { customInsert: ({ name }) => ({\n                    containerId: dpl,\n                    type_id: Handler,\n                    from_id: clientSupportsJs,\n                    to: {\n                        type_id: TSX,\n                        string: go.componentTemplate({ children: templateLayerButton('dpl') }),\n                        name: `${name}Component`,\n                    },\n                    out: {\n                        type_id: Compatable,\n                        to_id: MenuAuth,\n                        name: `${name}CompatableMenuAuth`,\n                    },\n                }) } }, \"+\")) : (React.createElement(Go.Handler, { handlerId: link.id, linkId: link.id, isActive: isActive })));\n    };\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, }, ref) => {\n        const containerRef = React.useMemo(() => go.root().ref, []);\n        const [opened, setOpened] = React.useState();\n        const { data: auths } = deep.useQuery({\n            type_id: Handler,\n            out: {\n                type_id: Compatable,\n                to_id: handlerId,\n            },\n            order_by: { id: 'desc' }\n        });\n        return React.createElement(go.On, { do: {\n                focus: (g, v, id, o) => {\n                    if (!v)\n                        go.set('current');\n                },\n                right: (g, v, o) => {\n                },\n                left: (g, v, o) => {\n                },\n            } },\n            React.createElement(c.Popover, { placement: 'right-end', closeOnBlur: false, isOpen: !!go.value, onClose: () => go.set() },\n                React.createElement(c.PopoverTrigger, null,\n                    React.createElement(c.Button, { ref: ref, w: '3em', h: '3em', variant: !!go.value || isActive ? 'active' : undefined, onClick: () => go.value ? go.set() : go.set('current') },\n                        React.createElement(IoFingerPrintOutline, null))),\n                React.createElement(c.Portal, { containerRef: containerRef },\n                    React.createElement(c.PopoverContent, { w: '30em', maxH: '30em', minH: '30em', position: 'relative' },\n                        React.createElement(go.Provider, { linkId: Stack },\n                            React.createElement(go.Component, { path: [dpl, 'Stack'], links: [...auths, { id: After }], direction: 'vertical', Item: Item }))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFFNUQsSUFBSSxJQUFJLEdBQUcsc0JBQXNCLENBQUM7SUFDbEMsSUFBSSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDOUMsSUFBSSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFFakMsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0lBQzlELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ25ELE1BQU0saUJBQWlCLEdB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Q0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIih7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgY29uc3QgeyBJb0ZpbmdlclByaW50T3V0bGluZSB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2lvNVwiKTtcblxuICB2YXIgZHRzeCA9ICdAZGVlcC1mb3VuZGF0aW9uL3RzeCc7XG4gIHZhciBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgdmFyIGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG5cbiAgY29uc3QgY2xpZW50U3VwcG9ydHNKcyA9IGRlZXAuaWRMb2NhbChkYywgJ2NsaWVudFN1cHBvcnRzSnMnKTtcbiAgY29uc3QgSGFuZGxlciA9IGRlZXAuaWRMb2NhbChkYywgJ0hhbmRsZXInKTtcbiAgY29uc3QgVFNYID0gZGVlcC5pZExvY2FsKGR0c3gsICdUU1gnKTtcbiAgY29uc3QgTWVudUF1dGggPSBkZWVwLmlkTG9jYWwoZHBsLCAnTWVudUF1dGgnKTtcbiAgY29uc3QgU3RhY2sgPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2snKTtcbiAgY29uc3QgQWZ0ZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQWZ0ZXInKTtcbiAgY29uc3QgQ29tcGF0YWJsZSA9IGRlZXAuaWRMb2NhbChkcGwsICdDb21wYXRhYmxlJyk7XG4gIGNvbnN0IFN0YWNrSW5zZXJ0QnV0dG9uID0gZGVlcC5pZExvY2FsKGRwbCwgJ1N0YWNrSW5zZXJ0QnV0dG9uJyk7XG5cbiAgY29uc3QgdGVtcGxhdGVMYXllckJ1dHRvbiA9IChpZCkgPT4gYCAgICAgIDxnby5PbiBkbz17e1xuICAgICAgICBleGVjOiBhc3luYyAoZyx2LG8pID0+IGdvLmdvLmRvKCdyaWdodCcsIHsgLi4ubywgaWQ6IGF3YWl0IGRlZXAuaWQoJHtpZH0sICdOYW1lT2ZDb21wb25lbnQnKSB9KSxcbiAgICAgICAgY2xpY2s6IChnLHYsbykgPT4gZ28uZG8oJ2V4ZWMnLCBvKSxcbiAgICAgICAgcmlnaHQ6IChnLHYsbykgPT4gZ28uZG8oJ2V4ZWMnLCBvKSxcbiAgICAgIH19PlxuICAgICAgICA8Yy5CdXR0b24gdz0nM2VtJyBoPSczZW0nIHZhcmlhbnQ9e2lzQWN0aXZlID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IGdvLmRvKCdleGVjJyl9Pj88L2MuQnV0dG9uPlxuICAgICAgICB7Lyo8Z28uQ29tcG9uZW50IHBhdGg9e1ske2lkfSwgJ05hbWVPZkNvbXBvbmVudCddfS8+Ki99XG4gICAgICA8L2dvLk9uPmA7XG5cbiAgY29uc3QgSXRlbSA9ICh7IGxpbmssIGlzQWN0aXZlIH0pID0+IHtcbiAgICBjb25zdCBnbyA9IEdvLnVzZUdvKCk7XG4gICAgcmV0dXJuIChsaW5rPy5pZCA9PT0gQWZ0ZXIgPyAoXG4gICAgICA8Z28uSGFuZGxlciBoYW5kbGVySWQ9e1N0YWNrSW5zZXJ0QnV0dG9ufSBpbnNlcnRQcm9wcz17eyBjdXN0b21JbnNlcnQ6ICh7IG5hbWUgfSkgPT4gKHtcbiAgICAgICAgY29udGFpbmVySWQ6IGRwbCxcbiAgICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgICAgZnJvbV9pZDogY2xpZW50U3VwcG9ydHNKcyxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICB0eXBlX2lkOiBUU1gsXG4gICAgICAgICAgc3RyaW5nOiBnby5jb21wb25lbnRUZW1wbGF0ZSh7IGNoaWxkcmVuOiB0ZW1wbGF0ZUxheWVyQnV0dG9uKCdkcGwnKSB9KSxcbiAgICAgICAgICBuYW1lOiBgJHtuYW1lfUNvbXBvbmVudGAsXG4gICAgICAgIH0sXG4gICAgICAgIG91dDoge1xuICAgICAgICAgIHR5cGVfaWQ6IENvbXBhdGFibGUsXG4gICAgICAgICAgdG9faWQ6IE1lbnVBdXRoLFxuICAgICAgICAgIG5hbWU6IGAke25hbWV9Q29tcGF0YWJsZU1lbnVBdXRoYCxcbiAgICAgICAgfSxcbiAgICAgIH0pIH19Pis8L2dvLkhhbmRsZXI+XG4gICAgKSA6ICg8R28uSGFuZGxlclxuICAgICAgaGFuZGxlcklkPXtsaW5rLmlkfVxuICAgICAgbGlua0lkPXtsaW5rLmlkfVxuICAgICAgaXNBY3RpdmU9e2lzQWN0aXZlfVxuICAgIC8+KSlcbiAgfTtcblxuICByZXR1cm4gKHtcbiAgICBnbyxcbiAgICBnb0hhbmRsZXIsXG5cbiAgICBoYW5kbGVySWQsXG4gICAgQ29tcG9uZW50LFxuXG4gICAgbGlua0lkLFxuICAgIGxpbmssXG5cbiAgICBjaGlsZHJlbixcblxuICAgIGlzQWN0aXZlLFxuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBjb250YWluZXJSZWYgPSBSZWFjdC51c2VNZW1vKCgpID0+IGdvLnJvb3QoKS5yZWYsIFtdKTtcbiAgICBjb25zdCBbb3BlbmVkLCBzZXRPcGVuZWRdID0gUmVhY3QudXNlU3RhdGUoKTtcblxuICAgIGNvbnN0IHsgZGF0YTogYXV0aHMgfSA9IGRlZXAudXNlUXVlcnkoe1xuICAgICAgdHlwZV9pZDogSGFuZGxlcixcbiAgICAgIG91dDoge1xuICAgICAgICB0eXBlX2lkOiBDb21wYXRhYmxlLFxuICAgICAgICB0b19pZDogaGFuZGxlcklkLFxuICAgICAgfSxcbiAgICAgIG9yZGVyX2J5OiB7IGlkOiAnZGVzYycgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIDxnby5PblxuICAgICAgZG89e3tcbiAgICAgICAgZm9jdXM6IChnLHYsaWQsbykgPT4ge1xuICAgICAgICAgIGlmICghdikgZ28uc2V0KCdjdXJyZW50Jyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IHtcbiAgICAgICAgICAvLyBtb2RlWzFdKGdvLm5leHQobW9kZXMubWFwKG0gPT4gKHsgaWQ6IG0gfSkpLCBtb2RlWzBdKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGxlZnQ6IChnLHYsbykgPT4ge1xuICAgICAgICAgIC8vIG1vZGVzWzBdID09PSBtb2RlWzBdICA/IGdvLnNldCgpIDogbW9kZVsxXShnby5wcmV2KG1vZGVzLm1hcChtID0+ICh7IGlkOiBtIH0pKSwgbW9kZVswXSkpO1xuICAgICAgICB9LFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8Yy5Qb3BvdmVyIHBsYWNlbWVudD0ncmlnaHQtZW5kJyBjbG9zZU9uQmx1cj17ZmFsc2V9IGlzT3Blbj17ISFnby52YWx1ZX0gb25DbG9zZT17KCkgPT4gZ28uc2V0KCl9PlxuICAgICAgICA8Yy5Qb3BvdmVyVHJpZ2dlcj5cbiAgICAgICAgICA8Yy5CdXR0b25cbiAgICAgICAgICAgIHJlZj17cmVmfSB3PSczZW0nIGg9JzNlbScgdmFyaWFudD17ISFnby52YWx1ZSB8fCBpc0FjdGl2ZSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ28udmFsdWUgPyBnby5zZXQoKSA6IGdvLnNldCgnY3VycmVudCcpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxJb0ZpbmdlclByaW50T3V0bGluZS8+XG4gICAgICAgICAgPC9jLkJ1dHRvbj5cbiAgICAgICAgPC9jLlBvcG92ZXJUcmlnZ2VyPlxuICAgICAgICA8Yy5Qb3J0YWwgY29udGFpbmVyUmVmPXtjb250YWluZXJSZWZ9PlxuICAgICAgICAgIDxjLlBvcG92ZXJDb250ZW50IHc9JzMwZW0nIG1heEg9JzMwZW0nIG1pbkg9JzMwZW0nIHBvc2l0aW9uPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgICA8Z28uUHJvdmlkZXIgbGlua0lkPXtTdGFja30+XG4gICAgICAgICAgICAgIDxnby5Db21wb25lbnRcbiAgICAgICAgICAgICAgICBwYXRoPXtbZHBsLCAnU3RhY2snXX0gbGlua3M9e1suLi5hdXRocywgeyBpZDogQWZ0ZXIgfV19IGRpcmVjdGlvbj0ndmVydGljYWwnIEl0ZW09e0l0ZW19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2dvLlByb3ZpZGVyPlxuICAgICAgICAgIDwvYy5Qb3BvdmVyQ29udGVudD5cbiAgICAgICAgPC9jLlBvcnRhbD5cbiAgICAgIDwvYy5Qb3BvdmVyPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1519
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1546,
      "src_id": 1546,
      "handler_id": 1547,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 1546,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 632,
          "value": "async (req, res, next, { deep, require, gql }) => {\n  const { PassThrough, Readable } = require('stream');\n  const express = require('express');\n  const http = require('http');\n  const ApolloServer = require('apollo-server-express').ApolloServer;\n  const { ApolloServerPluginDrainHttpServer, ApolloServerPluginLandingPageGraphQLPlayground } = require('apollo-server-core');\n  const axios = require('axios');\n  const ffmpeg = require('fluent-ffmpeg');\n  const FormData = require('form-data');\n  var Chance = require('chance');\n  var chance = new Chance();\n\n  const da = '@deep-foundation/authorization';\n\n  const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n  const Authorization = deep.idLocal('@deep-foundation/core', 'Authorization');\n\n  const typeDefs = `\n    type Query {\n      authorization: Authorization\n    }\n    type Authorization {\n      try(input: AuthorizationTryInput): AuthorizationTryOutput\n      set(input: AuthorizationSetInput): AuthorizationSetOutput\n      get(input: AuthorizationGetInput): AuthorizationGetOutput\n    }\n    input AuthorizationTryInput {\n      linkId: Int\n    }\n    type AuthorizationTryOutput {\n      id: String\n      error: String\n    }\n    input AuthorizationSetInput {\n      id: String!\n      authId: Int\n      error: String\n    }\n    type AuthorizationSetOutput {\n      linkId: Int\n      token: String\n      error: String\n    }\n    input AuthorizationGetInput {\n      id: String!\n    }\n    type AuthorizationGetOutput {\n      linkId: Int\n      token: String\n      error: String\n    }\n  `;\n\n  const resolvers = {\n    Query: {\n      authorization: () => ({}),\n    },\n    Authorization: {\n      // создает попытку авторизации связь Try str: id\n      try: async (source, args, context, info) => {\n        const { linkId } = args.input;\n        if (linkId && linkId !== +context?.headers?.['x-hasura-user-id']) {\n          return { error: '!linkId must be currentUser' };\n        }\n\n        const id = chance.string({ length: 16, pool: 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789' });\n        await deep.insert({\n          type_id: await deep.id(da, 'Try'), from_id: linkId, to_id: linkId, string: id\n        });\n\n        return { id };\n      },\n      // устанавливает Allow или Error от try\n      // authId это символ способа авторизации сообщенная провайдером способа авторизации\n      set: async (source, args, context, info) => {\n        const { id, authId, error } = args.input;\n        const { data: [tr] } = await deep.select({\n          type_id: await deep.id(da, 'Try'), string: id,\n        });\n        if (!tr) return { error: '!try' };\n\n        let linkId = tr.to_id; // кто пытается сделать авторизацию\n\n        if (error) {\n          await deep.insert({\n            type_id: await deep.id(da, 'Error'), from_id: tr.id, to_id: tr.id,\n            string: String(error),\n          });\n          return {};\n        }\n\n        // если привязанный способ авторизации, либо привязать его\n        const { data: [auth] } = await deep.select({\n          type_id: deep.idLocal('@deep-foundation/core', 'Authorization'),\n          to_id: authId,\n        });\n        if (auth) linkId = auth.from_id;\n        if (!auth) {\n          await deep.insert([\n            {\n              type_id: deep.idLocal('@deep-foundation/core', 'Authorization'),\n              from_id: linkId, // авторизация привязывается к тому юзеру который выполняет операцию try\n              to_id: authId,\n              in: { type_id: Contain, from_id: linkId },\n            },\n            {\n              type_id: Contain,\n              from_id: linkId,\n              to_id: authId,\n            },\n          ]);\n        }\n\n        await deep.insert({\n          type_id: await deep.id(da, 'Allow'), from_id: tr.id, to_id: linkId,\n        });\n\n        return await deep.jwt({ linkId });\n      },\n      get: async (source, args, context, info) => {\n        const { id } = args.input;\n        const { data: [tr] } = await deep.select({\n          type_id: await deep.id(da, 'Try'), string: id,\n        });\n        if (!tr) return { error: '!try' };\n\n        const { data: [error] } = await deep.select({\n          type_id: await deep.id(da, 'Error'), from_id: tr.id\n        });\n        if (error) return { error: error?.value?.value };\n        const { data: [allow] } = await deep.select({\n          type_id: await deep.id(da, 'Allow'), from_id: tr.id\n        });\n        if (!allow) return { error: '!allow' };\n        const linkId = allow.to_id;\n        return await deep.jwt({ linkId });\n      },\n    },\n  };\n  \n  const context = ({ req }) => { return { headers: req.headers }; };\n  \n  const generateApolloServer = () => {\n      return new ApolloServer({\n          introspection: true,\n          typeDefs, \n          resolvers,\n          context,\n          plugins: [\n              ApolloServerPluginLandingPageGraphQLPlayground(),\n          ],\n      });\n  };\n\n  const router = express.Router();\n  const apolloServer = generateApolloServer();\n  await apolloServer.start();\n  apolloServer.applyMiddleware({ app: router, path: '/' });\n  router.handle(req, res);\n}",
          "link_id": 1546
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1640,
      "src_id": 1640,
      "handler_id": 1641,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 1640,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 662,
          "value": "async ({deep, require, data: {\r\n  newLink: { \r\n    id: actionLoginId, \r\n    from_id: youUserId, \r\n    to_id: loginedUserId,  \r\n  } \r\n  }}) => {\r\n\r\n    await deep.insert({\r\n          type_id: await deep.id('@deep-foundation/core', 'Rule'),\r\n          out: { data: [\r\n            {\r\n              type_id: await deep.id('@deep-foundation/core', 'RuleSubject'),\r\n              to: { data: {\r\n                type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n                out: { data: {\r\n                  type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\r\n                  to_id: youUserId,\r\n                  out: { data: {\r\n                    type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\r\n                    to_id: await deep.id('@deep-foundation/core', 'containTree'),\r\n                  } },\r\n                } }\r\n              } }\r\n            },\r\n            {\r\n              type_id: await deep.id('@deep-foundation/core', 'RuleObject'),\r\n              to: { data: {\r\n                type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n                out: { data: {\r\n                  type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\r\n                  to_id: youUserId,\r\n                  out: { data: {\r\n                    type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\r\n                    to_id: await deep.id('@deep-foundation/core', 'containTree'),\r\n                  } },\r\n                } }\r\n              } }\r\n            },\r\n            {\r\n              type_id: await deep.id('@deep-foundation/core', 'RuleAction'),\r\n              to: { data: {\r\n                type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n                out: { data: {\r\n                  type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\r\n                  to_id: await deep.id('@deep-foundation/core', 'AllowSelect'),\r\n                  out: { data: {\r\n                    type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\r\n                    to_id: await deep.id('@deep-foundation/core', 'containTree'),\r\n                  } },\r\n                } }\r\n              } }\r\n            },\r\n          ] },\r\n        });\r\n}",
          "link_id": 1640
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1643,
      "src_id": 1643,
      "handler_id": 1644,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 1643,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 663,
          "value": "async ({deep, require, data: {\n  newLink: { \n    id: actionLoginId, \n    from_id: youUserId, \n    to_id: loginedUserId,  \n  } \n  }}) => {\n    const insertRule = async (options) => {\n      const { data: [{ id: ruleId }] } = await deep.insert({\n        type_id: await deep.id('@deep-foundation/core', 'Rule'),\n        out: { data: [\n          {\n            type_id: await deep.id('@deep-foundation/core', 'RuleSubject'),\n            to: { data: {\n              type_id: await deep.id('@deep-foundation/core', 'Selector'),\n              out: { data: options.subject },\n            } }\n          },\n          {\n            type_id: await deep.id('@deep-foundation/core', 'RuleObject'),\n            to: { data: {\n              type_id: await deep.id('@deep-foundation/core', 'Selector'),\n              out: { data: options.object },\n            } }\n          },\n          {\n            type_id: await deep.id('@deep-foundation/core', 'RuleAction'),\n            to: { data: {\n              type_id: await deep.id('@deep-foundation/core', 'Selector'),\n              out: { data: options.action },\n            } }\n          },\n        ] },\n    });\n    };\n\n    await insertRule({\n      subject: {\n        type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\n        to_id: youUserId,\n        out: { data: {\n          type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\n          to_id: await deep.id('@deep-foundation/core', 'joinTree'),\n        } },\n      },\n      object: [\n        {\n          type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\n          to_id: loginedUserId,\n          out: { data: {\n            type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\n            to_id: await deep.id('@deep-foundation/core', 'containTree'),\n          } },\n        }\n      ],\n      action: [\n        {\n          type_id: await deep.id('@deep-foundation/core', 'SelectorInclude'),\n          to_id: await deep.id('@deep-foundation/core', 'AllowLogin'),\n          out: { data: {\n            type_id: await deep.id('@deep-foundation/core', 'SelectorTree'),\n            to_id: await deep.id('@deep-foundation/core', 'containTree'),\n          } },\n        },\n      ],\n    });\n}",
          "link_id": 1643
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1674,
      "src_id": 1674,
      "handler_id": 1675,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 1674,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 676,
          "value": "async (req, res, next, { deep, require, gql }) => {\r\n  console.log(\"test\")\r\n  res.header('Access-Control-Allow-Origin', '*');\r\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, Authorization');\r\n  res.header('Access-Control-Allow-Methods', 'GET, POST, PUT, PATCH, DELETE, OPTIONS');\r\n\r\n  if(req.method === 'OPTIONS') {\r\n    res.send();\r\n    return;\r\n  }\r\n\r\n  if(!req.body.username){\r\n    res.send({\r\n      \"error\": \"Username is empty\"\r\n    });\r\n    return;\r\n  }\r\n  if(!req.body.password){\r\n    res.send({\r\n      \"error\": \"Password is empty\"\r\n    });\r\n    return;\r\n  }\r\n  var path = require('path');\r\n  var express = require('express');\r\n  var passport = require('passport');\r\n  var LocalStrategy = require('passport-local');\r\n  var session = require('express-session');\r\n  var crypto = require('crypto');\r\n\r\n  \r\n\r\n  const getJWT = async (linkId) => {\r\n    const result = await deep.apolloClient.query({\r\n      query: gql`query GET_JWT($linkId: Int) { \r\n        jwt(input: {linkId: $linkId}) {\r\n\t\t      linkId,\r\n          token\r\n        } \r\n      }`,\r\n      variables: { linkId },\r\n    });\r\n    console.log(result);\r\n    return result;\r\n  }\r\n\r\n  const insertRule = async (options) => {\r\n    const { data: [{ id: ruleId }] } = await deep.insert({\r\n      type_id: await deep.id('@deep-foundation/core', 'Rule'),\r\n      out: { data: [\r\n        {\r\n          type_id: await deep.id('@deep-foundation/core', 'RuleSubject'),\r\n          to: { data: {\r\n            type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n            out: { data: options.subject },\r\n          } }\r\n        },\r\n        {\r\n          type_id: await deep.id('@deep-foundation/core', 'RuleObject'),\r\n          to: { data: {\r\n            type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n            out: { data: options.object },\r\n          } }\r\n        },\r\n        {\r\n          type_id: await deep.id('@deep-foundation/core', 'RuleAction'),\r\n          to: { data: {\r\n            type_id: await deep.id('@deep-foundation/core', 'Selector'),\r\n            out: { data: options.action },\r\n          } }\r\n        },\r\n      ] },\r\n    });\r\n  };\r\n\r\n\r\n  const currentLinkId = req.body.linkId;\r\n\r\n  let globalUserId = null;\r\n\r\n  const router = express.Router();\r\n  router.use(session({\r\n    secret: 'keyboard cat',\r\n    resave: false,\r\n    saveUninitialized: false,\r\n  }));\r\n  router.use(passport.initialize());\r\n  router.use(passport.session());\r\n  router.use(passport.authenticate('session'));\r\n\r\n  passport.serializeUser(function(user, cb) {\r\n    process.nextTick(function() {\r\n      console.log('serializeUser', user);\r\n      cb(null, { id: user.id });\r\n    });\r\n  });\r\n  passport.deserializeUser(function(user, cb) {\r\n    process.nextTick(function() {\r\n      console.log('deserializeUser', user);\r\n      return cb(null, user);\r\n    });\r\n  });\r\n\r\n  passport.use(new LocalStrategy(async function verify(username, password, cb) {\r\n    crypto.pbkdf2(password, 'salt', 310000, 32, 'sha256', async function(err, hashedPassword) {\r\n      if (err) {\r\n        // if error, return error\r\n        console.log(err);\r\n        cb(err, null);\r\n        return;\r\n      }\r\n      // try to found exists username      \r\n      const { data: usernames } = await deep.select({\r\n        type_id: await deep.id('@timax/passport-authorization', 'Username'),\r\n        string: { value: { _eq: username } },\r\n      });\r\n      console.log(usernames.length)\r\n      if (usernames.length) {\r\n        // if username found\r\n        const usernameId = usernames[0].id;\r\n        const { data: passwords } = await deep.select({\r\n          type_id: await deep.id('@timax/passport-authorization', 'Password'),\r\n          from_id: usernameId,\r\n        });\r\n\r\n        if (!passwords.length) {\r\n          // if password not found\r\n          cb(\"Password not found\", null);\r\n          return;\r\n        }\r\n        const foundedPassword = passwords?.[0]?.value?.value;\r\n        console.log(passwords,foundedPassword )\r\n        console.log(hashedPassword.toString() )\r\n        if (foundedPassword != hashedPassword.toString()) {\r\n          // if password incorrect\r\n          cb('Incorrect password', null);\r\n          return;\r\n        }\r\n        // if password correct\r\n        const { data: [{id: userId}] } = await deep.select({\r\n          type_id: await deep.id('@deep-foundation/core', 'User'),\r\n          in: {\r\n            id: passwords[0].id\r\n          },\r\n        });\r\n\r\n        \r\n        globalUserId = userId;\r\n        cb(null, usernameId);\r\n      } else {\r\n        // if username not found, create new username\r\n        cb('Пользователь не найден');\r\n\r\n      }\r\n\r\n      const hasAllowLogin = await deep.can(\r\n        currentLinkId,\r\n        globalUserId,\r\n        await deep.id('@deep-foundation/core', 'AllowLogin')\r\n      )\r\n      if(!hasAllowLogin) {\r\n        const r = await deep.insert({\r\n          type_id: await deep.id('@l4legenda/auth-core', 'ActionLoginUser'),\r\n          from_id: currentLinkId,\r\n          to_id: globalUserId,\r\n        })\r\n        console.log(r);\r\n      }\r\n      \r\n\r\n    return;\r\n\r\n\r\n    });\r\n  }));\r\n  router.use('*', passport.authenticate('local', {}));\r\n\r\n  router.handle(req, res, async (err) => {\r\n    if(err) {\r\n      res.send({ \"error\": err });\r\n    } else {\r\n      const {data: {jwt: {linkId, token}}} = await getJWT(globalUserId);\r\n      res.send({ linkId, token });\r\n    }\r\n\r\n  });\r\n}",
          "link_id": 1674
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1721,
      "src_id": 1721,
      "handler_id": 1726,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 1721,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 693,
          "value": "async (req, res, next, { deep, require, gql }) => {\n  // res.send({ error: '!!!!' });\n  // return {};\n  // ?username=<username>&password=<password>&try=<tryId>\n  const q = req?.query;\n  if (!q?.username) return res.send({ error: '!username must be ?username=<username>&password=<password>&try=<tryId>' });\n  if (!q?.password) return res.send({ error: '!password must be ?username=<username>&password=<password>&try=<tryId>' });\n  if (!q?.try) return res.send({ error: '!try must be ?username=<username>&password=<password>&try=<tryId>' });\n\n  var path = require('path');\n  var express = require('express');\n  var passport = require('passport');\n  var LocalStrategy = require('passport-local');\n  var session = require('express-session');\n  var crypto = require('crypto');\n\n  const authorization = async (op, input) => {\n    const type = op === 'try' ? 'AuthorizationTryInput' : op === 'get' ? 'AuthorizationGetInput' : op === 'set' ? 'AuthorizationSetInput' : undefined;\n    const result = op === 'try' ? 'id error' : op === 'get' ? 'id' : op === 'set' ? 'error' : undefined;\n    const response = await deep.apolloClient.query({\n      query: deep.gql`query Authorization($input: ${type}) { authorization { ${op}(input: $input) { ${result} } } }`,\n      variables: { input },\n    });\n    return response?.data?.authorization?.[op];\n  };\n\n  // const setError = async (error) => {\n  //   console.log('setError', error);\n  //   await deep.apolloClient.query({\n  //     query: gql`query SET($id: String!, $error: String) { authorization { set(input: { id: $id, error: $error }) { error } } }`,\n  //     variables: { id, error },\n  //   });\n  // };\n\n  const router = express.Router();\n  router.use(session({\n    secret: 'keyboard cat',\n    resave: false,\n    saveUninitialized: false,\n  }));\n  router.use(passport.initialize());\n  router.use(passport.session());\n  router.use(passport.authenticate('session'));\n  passport.serializeUser(function(user, cb) {\n    process.nextTick(function() {\n      console.log('serializeUser', user);\n      cb(null, user);\n    });\n  });\n  passport.deserializeUser(function(user, cb) {\n    process.nextTick(function() {\n      console.log('deserializeUser', user);\n      return cb(null, user);\n    });\n  });\n  passport.use(new LocalStrategy(async function verify(username, password, cb) {\n    crypto.pbkdf2(password, 'salt', 310000, 32, 'sha256', async function(err, hashedPassword) {\n      if (err) {\n        // if error, return error\n        await authorization('set', { id: q.try, error: String(err) });\n        cb(err, null);\n        return;\n      }\n      // try to found exists username\n      const { data: usernames } = await deep.select({\n        type_id: await deep.id('@deep-foundation/passport-username-password', 'Username'),\n        string: { value: { _eq: username } },\n      });\n      if (usernames.length) {\n        // if username found\n        const usernameId = usernames[0].id;\n        const { data: passwords } = await deep.select({\n          type_id: await deep.id('@deep-foundation/passport-username-password', 'Password'),\n          from_id: usernameId,\n        });\n        if (!passwords.length) {\n          // if password not found\n          await authorization('set', { id: q.try, error: '!password' });\n          cb('!password', null);\n          return;\n        }\n        const foundedPassword = passwords[0]?.value?.value;\n        if (foundedPassword != hashedPassword.toString()) {\n          // if password incorrect\n          await authorization('set', { id: q.try, error: 'incorrect' });\n          cb('incorrect', null);\n          return;\n        }\n        // if password correct\n        const jwt = await authorization('set', { id: q.try, authId: usernameId });\n        cb(null, jwt);\n        return;\n      } else {\n        // if username not found, create new username\n        const { data: [{ id: usernameId }] } = await deep.insert({\n          type_id: await deep.id('@deep-foundation/passport-username-password', 'Username'),\n          string: { data: { value: username } },\n        });\n        // and create new password\n        const { data: [{ id: passwordId }] } = await deep.insert({\n          type_id: await deep.id('@deep-foundation/passport-username-password', 'Password'),\n          string: { data: { value: hashedPassword.toString() } },\n          from_id: usernameId,\n          to_id: usernameId,\n        });\n        // and set authorization\n        const jwt = await authorization('set', { id: q.try, authId: usernameId });\n        cb(null, jwt);\n        return;\n      }\n    });\n  }));\n  router.use('*', passport.authenticate('local', {}));\n  router.handle(req, res, () => {\n    res.send(JSON.stringify(req.user));\n  });\n}",
          "link_id": 1721
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 1782,
      "src_id": 1728,
      "handler_id": 1729,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 1782,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 696,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const { useDebounce } = require('@react-hook/debounce');\n    const axios = require('axios');\n    const dc = '@deep-foundation/core';\n    const dpl = '@deep-foundation/perception-links';\n    const da = '@deep-foundation/authorization';\n    const dup = '@deep-foundation/passport-username-password';\n    const c = require('@chakra-ui/react');\n    const Authorization = deep.idLocal(dc, 'Authorization');\n    const Username = deep.idLocal(dup, 'Username');\n    const authorization = async (op, input) => {\n        console.log('authorization input', op, input);\n        const type = op === 'try' ? 'AuthorizationTryInput' : op === 'get' ? 'AuthorizationGetInput' : op === 'set' ? 'AuthorizationSetInput' : undefined;\n        const result = op === 'try' ? 'id error' : op === 'get' ? 'linkId token error' : op === 'set' ? 'error' : undefined;\n        const response = await deep.apolloClient.query({\n            query: deep.gql `query Authorization($input: ${type}) { authorization { ${op}(input: $input) { ${result} } } }`,\n            variables: { input },\n        });\n        console.log('authorization output', op, input, response?.data?.authorization?.[op]);\n        return response?.data?.authorization?.[op];\n    };\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, onRequest, onResponse, ...props }, ref) => {\n        const [username, setUsername] = React.useState('');\n        const [password, setPassword] = React.useState('');\n        const [password1, setPassword1] = React.useState('');\n        const [password2, setPassword2] = React.useState('');\n        const { data: [u] } = deep.useQuery({\n            type_id: Username,\n            string: username,\n        }, { skip: !username, debounce: 1000 });\n        const [tryId, setTryId] = React.useState();\n        const [error, setError] = React.useState();\n        React.useEffect(() => {\n            if (!tryId)\n                clearInterval(intervalRef.current);\n        }, [tryId]);\n        const intervalRef = React.useRef();\n        const login = React.useCallback(async (username, password, operation) => {\n            onRequest && onRequest(operation, username);\n            const { id: tryId } = await authorization('try', { linkId: deep.linkId });\n            setTryId(tryId);\n            axios.get(`${deep.url('deeplinks')}/deep-foundation/passport-username-password?username=${username}&password=${password}&try=${tryId}`);\n            const nextTimeout = () => {\n                intervalRef.current = setInterval(() => {\n                    authorization('get', { id: tryId }).then(({ linkId, token, error }) => {\n                        let prevented = false;\n                        if (token || (!!error && error !== '!allow'))\n                            clearInterval(intervalRef.current);\n                        if (!!error && error !== '!allow') {\n                            onResponse && onResponse(operation, username, { linkId, token, error }, () => prevented = true);\n                            setError(error);\n                        }\n                        if (token) {\n                            onResponse && onResponse(operation, username, { linkId, token, error }, () => prevented = true);\n                            console.log('deep.login', { linkId, token });\n                            if (!prevented)\n                                deep.login({ linkId, token });\n                        }\n                        else {\n                            nextTimeout();\n                        }\n                    });\n                }, 3000);\n            };\n            nextTimeout();\n        }, []);\n        return React.createElement(go.On, { do: {} },\n            React.createElement(go.On, { do: {\n                    exec: async (g, v, o) => go.go.do('right', { ...o, id: await deep.id(dpl, 'NameOfComponent') }),\n                    click: (g, v, o) => go.do('exec', o),\n                    right: (g, v, o) => go.do('exec', o),\n                } },\n                React.createElement(c.Box, { p: '1em' },\n                    !username && React.createElement(c.Box, null, \"Login or Register\"),\n                    React.createElement(c.Input, { placeholder: 'username', value: username, onChange: e => setUsername(e.target.value) }),\n                    !!username && React.createElement(React.Fragment, null, !!u ? React.createElement(React.Fragment, null,\n                        React.createElement(c.Input, { placeholder: 'password', value: password, type: 'password', onChange: e => setPassword(e.target.value) }),\n                        !!password && React.createElement(c.Flex, null,\n                            !!tryId && React.createElement(c.Button, { onClick: () => setTryId() }, \"x\"),\n                            React.createElement(c.Button, { flex: '1', isLoading: tryId, onClick: () => login(username, password, 'login') }, \"Login\"),\n                            !!error && React.createElement(React.Fragment, null,\n                                React.createElement(c.Alert, { status: 'error' },\n                                    React.createElement(c.AlertIcon, null),\n                                    error)))) : React.createElement(React.Fragment, null,\n                        React.createElement(c.Input, { placeholder: 'password', value: password1, type: 'password', onChange: e => setPassword1(e.target.value) }),\n                        React.createElement(c.Input, { placeholder: 'password', value: password2, type: 'password', onChange: e => setPassword2(e.target.value) }),\n                        !!password1 && (password1 != password2 ? React.createElement(React.Fragment, null,\n                            React.createElement(c.Alert, { status: 'error' },\n                                React.createElement(c.AlertIcon, null),\n                                \"Passwords must be equal\")) : React.createElement(React.Fragment, null,\n                            React.createElement(c.Alert, { status: 'success' },\n                                React.createElement(c.AlertIcon, null),\n                                \"Passwords valid\"),\n                            React.createElement(c.Flex, null,\n                                !!tryId && React.createElement(c.Button, { onClick: () => setTryId() }, \"x\"),\n                                React.createElement(c.Button, { flex: '1', isLoading: tryId, isDisabled: !password1 || (password1 !== password2), onClick: () => login(username, password1, 'register') }, \"Register\")))))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQ3hELE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUUvQixNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLEVBQUUsR0FBRyxnQ0FBZ0MsQ0FBQztJQUM1QyxNQUFNLEdBQUcsR0FBRyw2Q0FBNkMsQ0FBQztJQUMxRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQztJQUN4RCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUUvQyxNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsRUFBVSxFQUFFLEtBQVUsRUFBRSxFQUFFO1FBQ3JELE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzlDLE1BQU0sSUFBSSxHQUFHLEVBQUUsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsdUJB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YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIGNvbnN0IHsgdXNlRGVib3VuY2UgfSA9IHJlcXVpcmUoJ0ByZWFjdC1ob29rL2RlYm91bmNlJyk7XG4gIGNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcbiAgXG4gIGNvbnN0IGRjID0gJ0BkZWVwLWZvdW5kYXRpb24vY29yZSc7XG4gIGNvbnN0IGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICBjb25zdCBkYSA9ICdAZGVlcC1mb3VuZGF0aW9uL2F1dGhvcml6YXRpb24nO1xuICBjb25zdCBkdXAgPSAnQGRlZXAtZm91bmRhdGlvbi9wYXNzcG9ydC11c2VybmFtZS1wYXNzd29yZCc7XG4gIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG5cbiAgY29uc3QgQXV0aG9yaXphdGlvbiA9IGRlZXAuaWRMb2NhbChkYywgJ0F1dGhvcml6YXRpb24nKTtcbiAgY29uc3QgVXNlcm5hbWUgPSBkZWVwLmlkTG9jYWwoZHVwLCAnVXNlcm5hbWUnKTtcblxuICBjb25zdCBhdXRob3JpemF0aW9uID0gYXN5bmMgKG9wOiBzdHJpbmcsIGlucHV0OiBhbnkpID0+IHtcbiAgICBjb25zb2xlLmxvZygnYXV0aG9yaXphdGlvbiBpbnB1dCcsIG9wLCBpbnB1dCk7XG4gICAgY29uc3QgdHlwZSA9IG9wID09PSAndHJ5JyA/ICdBdXRob3JpemF0aW9uVHJ5SW5wdXQnIDogb3AgPT09ICdnZXQnID8gJ0F1dGhvcml6YXRpb25HZXRJbnB1dCcgOiBvcCA9PT0gJ3NldCcgPyAnQXV0aG9yaXphdGlvblNldElucHV0JyA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCByZXN1bHQgPSBvcCA9PT0gJ3RyeScgPyAnaWQgZXJyb3InIDogb3AgPT09ICdnZXQnID8gJ2xpbmtJZCB0b2tlbiBlcnJvcicgOiBvcCA9PT0gJ3NldCcgPyAnZXJyb3InIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGVlcC5hcG9sbG9DbGllbnQucXVlcnkoe1xuICAgICAgcXVlcnk6IGRlZXAuZ3FsYHF1ZXJ5IEF1dGhvcml6YXRpb24oJGlucHV0OiAke3R5cGV9KSB7IGF1dGhvcml6YXRpb24geyAke29wfShpbnB1dDogJGlucHV0KSB7ICR7cmVzdWx0fSB9IH0gfWAsXG4gICAgICB2YXJpYWJsZXM6IHsgaW5wdXQgfSxcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygnYXV0aG9yaXphdGlvbiBvdXRwdXQnLCBvcCwgaW5wdXQsIHJlc3BvbnNlPy5kYXRhPy5hdXRob3JpemF0aW9uPy5bb3BdKTtcbiAgICByZXR1cm4gcmVzcG9uc2U/LmRhdGE/LmF1dGhvcml6YXRpb24/LltvcF07XG4gIH07XG5cbiAgcmV0dXJuICh7XG4gICAgZ28sXG4gICAgZ29IYW5kbGVyLFxuXG4gICAgaGFuZGxlcklkLFxuICAgIENvbXBvbmVudCxcblxuICAgIGxpbmtJZCxcbiAgICBsaW5rLFxuXG4gICAgY2hpbGRyZW4sXG5cbiAgICBpc0FjdGl2ZSxcblxuICAgIG9uUmVxdWVzdCwgLy8gKG9wZXJhdGlvbjogJ2xvZ2luJyB8ICdyZWdpc3RlcicsIHVzZXJuYW1lKSA9PlxuICAgIG9uUmVzcG9uc2UsIC8vIChvcGVyYXRpb246ICdsb2dpbicgfCAncmVnaXN0ZXInLCB1c2VybmFtZSwgand0OiB7IGxpbmtJZCwgdG9rZW4sIGVycm9yIH0sIHByZXZlbnQ6ICgpID0+IHZvaWQpID0+XG5cbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBbdXNlcm5hbWUsIHNldFVzZXJuYW1lXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBbcGFzc3dvcmQsIHNldFBhc3N3b3JkXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBbcGFzc3dvcmQxLCBzZXRQYXNzd29yZDFdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtwYXNzd29yZDIsIHNldFBhc3N3b3JkMl0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgeyBkYXRhOiBbdV0gfSA9IGRlZXAudXNlUXVlcnkoe1xuICAgICAgdHlwZV9pZDogVXNlcm5hbWUsXG4gICAgICBzdHJpbmc6IHVzZXJuYW1lLFxuICAgIH0sIHsgc2tpcDogIXVzZXJuYW1lLCBkZWJvdW5jZTogMTAwMCB9KTtcblxuICAgIGNvbnN0IFt0cnlJZCwgc2V0VHJ5SWRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmICghdHJ5SWQpIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgfSwgW3RyeUlkXSk7XG4gICAgY29uc3QgaW50ZXJ2YWxSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCBsb2dpbiA9IFJlYWN0LnVzZUNhbGxiYWNrKGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIG9wZXJhdGlvbikgPT4ge1xuICAgICAgb25SZXF1ZXN0ICYmIG9uUmVxdWVzdChvcGVyYXRpb24sIHVzZXJuYW1lKTtcbiAgICAgIGNvbnN0IHsgaWQ6IHRyeUlkIH0gPSBhd2FpdCBhdXRob3JpemF0aW9uKCd0cnknLCB7IGxpbmtJZDogZGVlcC5saW5rSWQgfSk7XG4gICAgICBzZXRUcnlJZCh0cnlJZCk7XG4gICAgICBheGlvcy5nZXQoYCR7ZGVlcC51cmwoJ2RlZXBsaW5rcycpfS9kZWVwLWZvdW5kYXRpb24vcGFzc3BvcnQtdXNlcm5hbWUtcGFzc3dvcmQ/dXNlcm5hbWU9JHt1c2VybmFtZX0mcGFzc3dvcmQ9JHtwYXNzd29yZH0mdHJ5PSR7dHJ5SWR9YCk7XG4gICAgICBjb25zdCBuZXh0VGltZW91dCA9ICgpID0+IHtcbiAgICAgICAgaW50ZXJ2YWxSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uKCdnZXQnLCB7IGlkOiB0cnlJZCB9KS50aGVuKCh7IGxpbmtJZCwgdG9rZW4sIGVycm9yIH0pID0+IHtcbiAgICAgICAgICAgIGxldCBwcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0b2tlbiB8fCAoISFlcnJvciAmJiBlcnJvciAhPT0gJyFhbGxvdycpKSBjbGVhckludGVydmFsKGludGVydmFsUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgaWYgKCEhZXJyb3IgJiYgZXJyb3IgIT09ICchYWxsb3cnKSB7XG4gICAgICAgICAgICAgIG9uUmVzcG9uc2UgJiYgb25SZXNwb25zZShvcGVyYXRpb24sIHVzZXJuYW1lLCB7IGxpbmtJZCwgdG9rZW4sIGVycm9yIH0sICgpID0+IHByZXZlbnRlZCA9IHRydWUpO1xuICAgICAgICAgICAgICBzZXRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgICAgb25SZXNwb25zZSAmJiBvblJlc3BvbnNlKG9wZXJhdGlvbiwgdXNlcm5hbWUsIHsgbGlua0lkLCB0b2tlbiwgZXJyb3IgfSwgKCkgPT4gcHJldmVudGVkID0gdHJ1ZSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWVwLmxvZ2luJywgeyBsaW5rSWQsIHRva2VuIH0pO1xuICAgICAgICAgICAgICBpZiAoIXByZXZlbnRlZCkgZGVlcC5sb2dpbih7IGxpbmtJZCwgdG9rZW4gfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXh0VGltZW91dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAzMDAwKTtcbiAgICAgIH07XG4gICAgICBuZXh0VGltZW91dCgpO1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxnby5PbiBkbz17e1xuICAgICAgICBleGVjOiBhc3luYyAoZyx2LG8pID0+IGdvLmdvLmRvKCdyaWdodCcsIHsgLi4ubywgaWQ6IGF3YWl0IGRlZXAuaWQoZHBsLCAnTmFtZU9mQ29tcG9uZW50JykgfSksXG4gICAgICAgIGNsaWNrOiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IGdvLmRvKCdleGVjJywgbyksXG4gICAgICB9fT5cbiAgICAgICAgPGMuQm94IHA9JzFlbSc+XG4gICAgICAgICAgeyF1c2VybmFtZSAmJiA8Yy5Cb3g+TG9naW4gb3IgUmVnaXN0ZXI8L2MuQm94Pn1cbiAgICAgICAgICA8Yy5JbnB1dCBwbGFjZWhvbGRlcj0ndXNlcm5hbWUnIHZhbHVlPXt1c2VybmFtZX0gb25DaGFuZ2U9e2UgPT4gc2V0VXNlcm5hbWUoZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgeyEhdXNlcm5hbWUgJiYgPD57ISF1ID8gPD5cbiAgICAgICAgICAgIDxjLklucHV0IHBsYWNlaG9sZGVyPSdwYXNzd29yZCcgdmFsdWU9e3Bhc3N3b3JkfSB0eXBlPSdwYXNzd29yZCcgb25DaGFuZ2U9e2UgPT4gc2V0UGFzc3dvcmQoZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICB7ISFwYXNzd29yZCAmJiA8Yy5GbGV4PlxuICAgICAgICAgICAgICB7ISF0cnlJZCAmJiA8Yy5CdXR0b24gb25DbGljaz17KCkgPT4gc2V0VHJ5SWQoKX0+eDwvYy5CdXR0b24+fVxuICAgICAgICAgICAgICA8Yy5CdXR0b24gZmxleD0nMScgaXNMb2FkaW5nPXt0cnlJZH0gb25DbGljaz17KCkgPT4gbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkLCAnbG9naW4nKX0+TG9naW48L2MuQnV0dG9uPlxuICAgICAgICAgICAgICB7ISFlcnJvciAmJiA8PlxuICAgICAgICAgICAgICAgIDxjLkFsZXJ0IHN0YXR1cz0nZXJyb3InPlxuICAgICAgICAgICAgICAgICAgPGMuQWxlcnRJY29uIC8+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICAgICAgPC9jLkFsZXJ0PlxuICAgICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICA8L2MuRmxleD59XG4gICAgICAgICAgPC8+IDogPD5cbiAgICAgICAgICAgIDxjLklucHV0IHBsYWNlaG9sZGVyPSdwYXNzd29yZCcgdmFsdWU9e3Bhc3N3b3JkMX0gdHlwZT0ncGFzc3dvcmQnIG9uQ2hhbmdlPXtlID0+IHNldFBhc3N3b3JkMShlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIDxjLklucHV0IHBsYWNlaG9sZGVyPSdwYXNzd29yZCcgdmFsdWU9e3Bhc3N3b3JkMn0gdHlwZT0ncGFzc3dvcmQnIG9uQ2hhbmdlPXtlID0+IHNldFBhc3N3b3JkMihlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIHshIXBhc3N3b3JkMSAmJiAocGFzc3dvcmQxICE9IHBhc3N3b3JkMiA/IDw+XG4gICAgICAgICAgICAgIDxjLkFsZXJ0IHN0YXR1cz0nZXJyb3InPlxuICAgICAgICAgICAgICAgIDxjLkFsZXJ0SWNvbiAvPlxuICAgICAgICAgICAgICAgIFBhc3N3b3JkcyBtdXN0IGJlIGVxdWFsXG4gICAgICAgICAgICAgIDwvYy5BbGVydD5cbiAgICAgICAgICAgIDwvPiA6IDw+XG4gICAgICAgICAgICAgIDxjLkFsZXJ0IHN0YXR1cz0nc3VjY2Vzcyc+XG4gICAgICAgICAgICAgICAgPGMuQWxlcnRJY29uIC8+XG4gICAgICAgICAgICAgICAgUGFzc3dvcmRzIHZhbGlkXG4gICAgICAgICAgICAgIDwvYy5BbGVydD5cbiAgICAgICAgICAgICAgPGMuRmxleD5cbiAgICAgICAgICAgICAgICB7ISF0cnlJZCAmJiA8Yy5CdXR0b24gb25DbGljaz17KCkgPT4gc2V0VHJ5SWQoKX0+eDwvYy5CdXR0b24+fVxuICAgICAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyBpc0xvYWRpbmc9e3RyeUlkfSBpc0Rpc2FibGVkPXshcGFzc3dvcmQxIHx8IChwYXNzd29yZDEgIT09IHBhc3N3b3JkMn0gb25DbGljaz17KCkgPT4gbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkMSwgJ3JlZ2lzdGVyJyl9PlJlZ2lzdGVyPC9jLkJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9jLkZsZXg+XG4gICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgIDwvPn08Lz59XG4gICAgICAgIDwvYy5Cb3g+XG4gICAgICAgIHsvKjxnby5Db21wb25lbnQgcGF0aD17W2RwbCwgJ05hbWVPZkNvbXBvbmVudCddfS8+Ki99XG4gICAgICA8L2dvLk9uPlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 1782
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 2167,
      "src_id": 2140,
      "handler_id": 2141,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 2167,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 791,
          "value": "({ deep, require }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const { useState, useEffect, useCallback, useRef } = React;\n    const { withTheme } = require('@rjsf/core');\n    const { Theme: ChakraUITheme } = require('@rjsf/chakra-ui');\n    const { default: validator } = require('@rjsf/validator-ajv8');\n    const Form = withTheme(ChakraUITheme);\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }) => {\n        const schemaId = link.type_id;\n        const { data: ids } = deep.useDeepSubscription({\n            down: {\n                tree_id: { _eq: deep.idLocal('@deep-foundation/core', 'containTree') },\n                _or: [{\n                        link_id: { _id: ['@deep-foundation/jsonschema', 'Property'] },\n                    }, {\n                        link_id: { _id: ['@deep-foundation/jsonschema', 'Required'] },\n                    }, {\n                        link_id: { _id: ['@deep-foundation/jsonschema-form', 'UIProperty'] },\n                    }]\n            }\n        });\n        const formDown = deep.useDeepSubscription({\n            up: {\n                tree_id: deep.idLocal('@deep-foundation/core', 'containTree'),\n                parent_id: schemaId,\n            },\n        });\n        const schemaLink = deep.minilinks?.byId?.[schemaId];\n        const propertyLinks = {};\n        const properties = {};\n        const uipropertyLinks = {};\n        const uiproperties = {};\n        const schema = {\n            type: 'object',\n            properties,\n            required: [],\n        };\n        if (ids.length)\n            schemaLink?.outByType[deep.idLocal('@deep-foundation/core', 'Contain')]?.forEach((contain) => {\n                const item = contain?.to;\n                const propery = item?.outByType[deep.idLocal('@deep-foundation/jsonschema', 'Property')]?.[0];\n                const uipropery = item?.outByType[deep.idLocal('@deep-foundation/jsonschema-form', 'UIProperty')]?.[0];\n                const required = propery?.inByType?.[deep.idLocal('@deep-foundation/jsonschema', 'Required')]?.find(r => r.from_id === schemaId);\n                const name = contain?.value?.value || contain?.id;\n                if (propery) {\n                    if (required)\n                        schema.required.push(name);\n                    propertyLinks[name] = propery;\n                    properties[name] = propery?.value?.value;\n                }\n                if (uipropery) {\n                    uipropertyLinks[name] = uipropery;\n                    uiproperties[name] = uipropery?.value?.value;\n                }\n            });\n        const propertyLinksRef = go.useRefValue(propertyLinks);\n        return React.createElement(c.Box, null,\n            React.createElement(Form, { schema: schema, validator: validator, uiSchema: uiproperties, noHtml5Validate: false, liveValidate: true, onSubmit: useCallback(async ({ errors, formData }) => {\n                    const insert = [];\n                    for (let key in formData) {\n                        const type = typeof (formData[key]);\n                        insert.push({\n                            type_id: propertyLinksRef.current[key]?.to?.id,\n                            [type]: { data: { value: formData[key] } },\n                            in: { data: {\n                                    type_id: deep.idLocal('@deep-foundation/core', 'Contain'),\n                                    from_id: link.id,\n                                } },\n                        });\n                    }\n                    await deep.insert(insert);\n                }, []) },\n                React.createElement(c.Box, null,\n                    React.createElement(c.Button, { type: \"submit\", w: \"100%\" }, \"Insert\"))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDbEIsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDM0QsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM1QyxNQUFNLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzVELE1BQU0sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDL0QsTUFBTSxJQUFJLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBRXRDLE9BQU8sQ0FBQyxFQUNOLEVBQUUsRUFDRixTQUFTLEVBRVQsU0FBUyxFQUNULFNBQVMsRUFFVCxNQUFNLEVBQ04sSUFBSSxFQUVKLFFBQVEsRUFFUixRQUFRLEVBRVIsR0FBRyxLQUFLLEVBQ1QsRUFBRSxFQUFFO1FBQ0gsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUM5QixNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztZQUM3QyxJQUFJLEVBQUU7Z0JBQ0osT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsdUJBQXVCLEVBQUUsYUFBYSxDQUFDLEVBQUU7Z0JBQ3RFLEdBQUcsRUFBRSxDQUFDO3dCQUNKLE9BQU8s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b25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gICAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcbiAgICBjb25zdCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSA9IFJlYWN0O1xuICAgIGNvbnN0IHsgd2l0aFRoZW1lIH0gPSByZXF1aXJlKCdAcmpzZi9jb3JlJyk7XG4gICAgY29uc3QgeyBUaGVtZTogQ2hha3JhVUlUaGVtZSB9ID0gcmVxdWlyZSgnQHJqc2YvY2hha3JhLXVpJyk7XG4gICAgY29uc3QgeyBkZWZhdWx0OiB2YWxpZGF0b3IgfSA9IHJlcXVpcmUoJ0ByanNmL3ZhbGlkYXRvci1hanY4Jyk7XG4gICAgY29uc3QgRm9ybSA9IHdpdGhUaGVtZShDaGFrcmFVSVRoZW1lKTtcblxuICAgIHJldHVybiAoe1xuICAgICAgZ28sXG4gICAgICBnb0hhbmRsZXIsXG4gIFxuICAgICAgaGFuZGxlcklkLFxuICAgICAgQ29tcG9uZW50LFxuICBcbiAgICAgIGxpbmtJZCxcbiAgICAgIGxpbmssXG4gIFxuICAgICAgY2hpbGRyZW4sXG4gIFxuICAgICAgaXNBY3RpdmUsXG4gIFxuICAgICAgLi4ucHJvcHNcbiAgICB9KSA9PiB7XG4gICAgICBjb25zdCBzY2hlbWFJZCA9IGxpbmsudHlwZV9pZDtcbiAgICAgIGNvbnN0IHsgZGF0YTogaWRzIH0gPSBkZWVwLnVzZURlZXBTdWJzY3JpcHRpb24oe1xuICAgICAgICBkb3duOiB7XG4gICAgICAgICAgdHJlZV9pZDogeyBfZXE6IGRlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ2NvbnRhaW5UcmVlJykgfSxcbiAgICAgICAgICBfb3I6IFt7XG4gICAgICAgICAgICBsaW5rX2lkOiB7IF9pZDogWydAZGVlcC1mb3VuZGF0aW9uL2pzb25zY2hlbWEnLCAnUHJvcGVydHknXSB9LFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGxpbmtfaWQ6IHsgX2lkOiBbJ0BkZWVwLWZvdW5kYXRpb24vanNvbnNjaGVtYScsICdSZXF1aXJlZCddIH0sXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbGlua19pZDogeyBfaWQ6IFsnQGRlZXAtZm91bmRhdGlvbi9qc29uc2NoZW1hLWZvcm0nLCAnVUlQcm9wZXJ0eSddIH0sXG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBmb3JtRG93biA9IGRlZXAudXNlRGVlcFN1YnNjcmlwdGlvbih7XG4gICAgICAgIHVwOiB7XG4gICAgICAgICAgdHJlZV9pZDogZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnY29udGFpblRyZWUnKSxcbiAgICAgICAgICBwYXJlbnRfaWQ6IHNjaGVtYUlkLFxuICAgICAgICB9LFxuXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHNjaGVtYUxpbmsgPSBkZWVwLm1pbmlsaW5rcz8uYnlJZD8uW3NjaGVtYUlkXTtcbiAgICAgIGNvbnN0IHByb3BlcnR5TGlua3M6IGFueSA9IHt9O1xuICAgICAgY29uc3QgcHJvcGVydGllczogYW55ID0ge307XG4gICAgICBjb25zdCB1aXByb3BlcnR5TGlua3M6IGFueSA9IHt9O1xuICAgICAgY29uc3QgdWlwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcbiAgICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIHJlcXVpcmVkOiBbXSxcbiAgICAgIH07XG4gICAgICBpZiAoaWRzLmxlbmd0aCkgc2NoZW1hTGluaz8ub3V0QnlUeXBlW2RlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ0NvbnRhaW4nKV0/LmZvckVhY2goKGNvbnRhaW4pID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbnRhaW4/LnRvO1xuICAgICAgICBjb25zdCBwcm9wZXJ5ID0gaXRlbT8ub3V0QnlUeXBlW2RlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9qc29uc2NoZW1hJywgJ1Byb3BlcnR5JyldPy5bMF07XG4gICAgICAgIGNvbnN0IHVpcHJvcGVyeSA9IGl0ZW0/Lm91dEJ5VHlwZVtkZWVwLmlkTG9jYWwoJ0BkZWVwLWZvdW5kYXRpb24vanNvbnNjaGVtYS1mb3JtJywgJ1VJUHJvcGVydHknKV0/LlswXTtcbiAgICAgICAgY29uc3QgcmVxdWlyZWQgPSBwcm9wZXJ5Py5pbkJ5VHlwZT8uW2RlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9qc29uc2NoZW1hJywgJ1JlcXVpcmVkJyldPy5maW5kKHIgPT4gci5mcm9tX2lkID09PSBzY2hlbWFJZCk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBjb250YWluPy52YWx1ZT8udmFsdWUgfHwgY29udGFpbj8uaWQ7XG4gICAgICAgIGlmIChwcm9wZXJ5KSB7XG4gICAgICAgICAgaWYgKHJlcXVpcmVkKSBzY2hlbWEucmVxdWlyZWQucHVzaChuYW1lKTtcbiAgICAgICAgICBwcm9wZXJ0eUxpbmtzW25hbWVdID0gcHJvcGVyeTtcbiAgICAgICAgICBwcm9wZXJ0aWVzW25hbWVdID0gcHJvcGVyeT8udmFsdWU/LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1aXByb3BlcnkpIHtcbiAgICAgICAgICB1aXByb3BlcnR5TGlua3NbbmFtZV0gPSB1aXByb3Blcnk7XG4gICAgICAgICAgdWlwcm9wZXJ0aWVzW25hbWVdID0gdWlwcm9wZXJ5Py52YWx1ZT8udmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgcHJvcGVydHlMaW5rc1JlZiA9IGdvLnVzZVJlZlZhbHVlKHByb3BlcnR5TGlua3MpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ3NjaGVtYScsIHNjaGVtYSwgcHJvcGVydHlMaW5rcyk7XG4gICAgICByZXR1cm4gIDxjLkJveD5cbiAgICAgICAgPEZvcm1cbiAgICAgICAgICBzY2hlbWE9e3NjaGVtYX1cbiAgICAgICAgICB2YWxpZGF0b3I9e3ZhbGlkYXRvcn1cbiAgICAgICAgICB1aVNjaGVtYT17dWlwcm9wZXJ0aWVzfVxuICAgICAgICAgIG5vSHRtbDVWYWxpZGF0ZT17ZmFsc2V9XG4gICAgICAgICAgbGl2ZVZhbGlkYXRlXG4gICAgICAgICAgLy8gb25DaGFuZ2U9e3VzZUNhbGxiYWNrKCh7fSkgPT4ge1xuICAgICAgICAgIC8vIH0sIFtdKX1cbiAgICAgICAgICBvblN1Ym1pdD17dXNlQ2FsbGJhY2soYXN5bmMgKHtcbiAgICAgICAgICAgIGVycm9ycywgZm9ybURhdGFcbiAgICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnNlcnQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBmb3JtRGF0YSkge1xuICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mKGZvcm1EYXRhW2tleV0pO1xuICAgICAgICAgICAgICBpbnNlcnQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZV9pZDogcHJvcGVydHlMaW5rc1JlZi5jdXJyZW50W2tleV0/LnRvPy5pZCxcbiAgICAgICAgICAgICAgICBbdHlwZV06IHsgZGF0YTogeyB2YWx1ZTogZm9ybURhdGFba2V5XSB9IH0sXG4gICAgICAgICAgICAgICAgaW46IHsgZGF0YToge1xuICAgICAgICAgICAgICAgICAgdHlwZV9pZDogZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnQ29udGFpbicpLFxuICAgICAgICAgICAgICAgICAgZnJvbV9pZDogbGluay5pZCxcbiAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgZGVlcC5pbnNlcnQoaW5zZXJ0KTtcbiAgICAgICAgICB9LCBbXSl9XG4gICAgICAgICAgLy8gb25FcnJvcj17bG9nKCdlcnJvcnMnKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjLkJveD5cbiAgICAgICAgICAgIDxjLkJ1dHRvbiB0eXBlPVwic3VibWl0XCIgdz1cIjEwMCVcIj5JbnNlcnQ8L2MuQnV0dG9uPlxuICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgIDwvRm9ybT5cbiAgICAgIDwvYy5Cb3g+O1xuICAgIH1cbiAgfVxuIl19",
          "link_id": 2167
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 2176,
      "src_id": 2142,
      "handler_id": 2143,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 2176,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 794,
          "value": "async ({ deep, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const { useState, useEffect, useCallback, useRef } = React;\n    const { withTheme } = require('@rjsf/core');\n    const { Theme: ChakraUITheme } = require('@rjsf/chakra-ui');\n    const { default: validator } = require('@rjsf/validator-ajv8');\n    const { Button, ButtonGroup } = require('@chakra-ui/react');\n    const Form = withTheme(ChakraUITheme);\n    const dc = '@deep-foundation/core';\n    const dj = '@deep-foundation/jsonschema';\n    const djf = '@deep-foundation/jsonschema-form';\n    const Contain = await deep.id(dc, 'Contain');\n    const Possible = await deep.id(dj, 'Possible');\n    const Property = await deep.id(dj, 'Property');\n    const Required = await deep.id(dj, 'Required');\n    const UIProperty = await deep.id(djf, 'UIProperty');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, buttonProps = {}, onSubmit: _onSubmit, ...props }) => {\n        const typeId = link.type_id;\n        const { data: schemaData, loading: schemaLoading } = deep.useSubscription({\n            type_id: { _in: [Possible, Required] },\n            from_id: typeId,\n            return: {\n                _type: { relation: 'type' },\n                _properties: {\n                    relation: 'to',\n                    return: {\n                        _property: {\n                            relation: 'in',\n                            type_id: { _in: [Property, UIProperty] },\n                        },\n                    },\n                },\n            },\n        });\n        const possibles = deep.useLocalQuery({ type_id: Possible, from_id: typeId });\n        const { data, loading: dataLoading } = deep.useSubscription(schemaLoading ? {} : {\n            type_id: Contain,\n            from_id: linkId,\n            string: { value: { _in: possibles.map(p => p?.value?.value) } },\n            to: {\n                type_id: { _in: possibles.map(p => p.to_id) },\n            },\n            return: {\n                _to: { relation: 'to' },\n            },\n        }, { skip: !!schemaLoading });\n        const { schema, uiproperties, formData } = React.useMemo(() => {\n            if (!!schemaLoading || !!dataLoading)\n                return {};\n            const schema = {\n                type: 'object',\n                properties: {},\n                required: [],\n            };\n            const formData = {};\n            const uiproperties = {};\n            const type = deep.get(typeId);\n            possibles.forEach(p => {\n                const [required] = deep.ml.select({ type_id: Required, from_id: typeId, to_id: p.to_id });\n                const [property] = deep.ml.select({ type_id: Property, to_id: p.to_id });\n                const [uiproperty] = deep.ml.select({ type_id: UIProperty, to_id: p.to_id });\n                schema.properties[p?.value?.value] = property?.value?.value;\n                if (uiproperty?.value?.value)\n                    uiproperties[p?.value?.value] = uiproperty?.value?.value;\n                if (required)\n                    schema.required.push(p?.value?.value);\n                const [field] = deep.ml.select({ type_id: Contain, from_id: linkId, string: p?.value?.value });\n                if (field)\n                    formData[p?.value?.value] = field?.to?.value?.value;\n            });\n            return { schema, uiproperties, formData };\n        }, [schemaData]);\n        const memRef = React.useRef({});\n        const define = React.useCallback(async (name, value) => {\n            const [possible] = deep.ml.select({ type_id: Possible, from_id: typeId });\n            const [exists] = deep.ml.select({ type_id: Contain, from_id: linkId, string: name });\n            if (memRef.current[name] || exists)\n                await deep.value(exists.to_id, value);\n            else if (possible) {\n                await deep.insert({\n                    type_id: possible.to_id, [typeof (value)]: value,\n                    containerId: linkId, name,\n                });\n            }\n            else\n                throw new Error(`!possible for name ${name} value ${value}`);\n        }, []);\n        const onSubmit = useCallback(async (input) => {\n            for (let key in formData) {\n                define(key, formData[key]);\n            }\n            _onSubmit && _onSubmit(input);\n        }, []);\n        console.log({ schema, validator, formData, uiproperties, schemaData, data });\n        return React.createElement(c.Box, { color: 'deepColor' }, !!schema ? React.createElement(React.Fragment, null,\n            React.createElement(Form, { schema: schema, validator: validator, formData: formData, uiSchema: uiproperties, noHtml5Validate: false, liveValidate: true, ...props, onSubmit: onSubmit },\n                React.createElement(c.Box, null,\n                    React.createElement(Button, { type: \"submit\", w: '100%', children: React.createElement(React.Fragment, null, \"Update\"), ...buttonProps })))) : React.createElement(c.Button, { isLoading: true }));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7SUFDNUIsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDM0QsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM1QyxNQUFNLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzVELE1BQU0sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDL0QsTUFBTSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUM1RCxNQUFNLElBQUksR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUM7SUFFdEMsTUFBTSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDbkMsTUFBTSxFQUFFLEdBQUcsNkJBQTZCLENBQUM7SUFDekMsTUFBTSxHQUFHLEdBQUcsa0NBQWtDLENBQUM7SUFFL0MsTUFBTSxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBSSxD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dCI6WyJhc3luYyAoeyBkZWVwLCByZXF1aXJlLCBHbyB9KSA9PiB7XG4gICAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICAgIGNvbnN0IGMgPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG4gICAgY29uc3QgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gPSBSZWFjdDtcbiAgICBjb25zdCB7IHdpdGhUaGVtZSB9ID0gcmVxdWlyZSgnQHJqc2YvY29yZScpO1xuICAgIGNvbnN0IHsgVGhlbWU6IENoYWtyYVVJVGhlbWUgfSA9IHJlcXVpcmUoJ0ByanNmL2NoYWtyYS11aScpO1xuICAgIGNvbnN0IHsgZGVmYXVsdDogdmFsaWRhdG9yIH0gPSByZXF1aXJlKCdAcmpzZi92YWxpZGF0b3ItYWp2OCcpO1xuICAgIGNvbnN0IHsgQnV0dG9uLCBCdXR0b25Hcm91cCB9ID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICAgIGNvbnN0IEZvcm0gPSB3aXRoVGhlbWUoQ2hha3JhVUlUaGVtZSk7XG5cbiAgICBjb25zdCBkYyA9ICdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnO1xuICAgIGNvbnN0IGRqID0gJ0BkZWVwLWZvdW5kYXRpb24vanNvbnNjaGVtYSc7XG4gICAgY29uc3QgZGpmID0gJ0BkZWVwLWZvdW5kYXRpb24vanNvbnNjaGVtYS1mb3JtJztcblxuICAgIGNvbnN0IENvbnRhaW4gPSBhd2FpdCBkZWVwLmlkKGRjLCAnQ29udGFpbicpO1xuICAgIGNvbnN0IFBvc3NpYmxlID0gYXdhaXQgZGVlcC5pZChkaiwgJ1Bvc3NpYmxlJyk7XG4gICAgY29uc3QgUHJvcGVydHkgPSBhd2FpdCBkZWVwLmlkKGRqLCAnUHJvcGVydHknKTtcbiAgICBjb25zdCBSZXF1aXJlZCA9IGF3YWl0IGRlZXAuaWQoZGosICdSZXF1aXJlZCcpO1xuICAgIGNvbnN0IFVJUHJvcGVydHkgPSBhd2FpdCBkZWVwLmlkKGRqZiwgJ1VJUHJvcGVydHknKTtcblxuICAgIHJldHVybiAoe1xuICAgICAgZ28sXG4gICAgICBnb0hhbmRsZXIsXG4gIFxuICAgICAgaGFuZGxlcklkLFxuICAgICAgQ29tcG9uZW50LFxuICBcbiAgICAgIGxpbmtJZCxcbiAgICAgIGxpbmssXG4gIFxuICAgICAgY2hpbGRyZW4sXG4gIFxuICAgICAgaXNBY3RpdmUsXG5cbiAgICAgIGJ1dHRvblByb3BzID0ge30sXG5cbiAgICAgIG9uU3VibWl0OiBfb25TdWJtaXQsXG5cbiAgICAgIC8vIGh0dHBzOi8vcmpzZi10ZWFtLmdpdGh1Yi5pby9yZWFjdC1qc29uc2NoZW1hLWZvcm0vZG9jcy9hcGktcmVmZXJlbmNlL2Zvcm0tcHJvcHNcbiAgICAgIC8vIGh0dHBzOi8vcmpzZi10ZWFtLmdpdGh1Yi5pby9yZWFjdC1qc29uc2NoZW1hLWZvcm0vZG9jcy9hZHZhbmNlZC1jdXN0b21pemF0aW9uL2N1c3RvbS10ZW1wbGF0ZXNcbiAgICAgIC4uLnByb3BzXG4gICAgfSkgPT4ge1xuICAgICAgY29uc3QgdHlwZUlkID0gbGluay50eXBlX2lkO1xuXG4gICAgICBjb25zdCB7IGRhdGE6IHNjaGVtYURhdGEsIGxvYWRpbmc6IHNjaGVtYUxvYWRpbmcgfSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAgICAgdHlwZV9pZDogeyBfaW46IFtQb3NzaWJsZSwgUmVxdWlyZWRdIH0sXG4gICAgICAgIGZyb21faWQ6IHR5cGVJZCxcbiAgICAgICAgcmV0dXJuOiB7XG4gICAgICAgICAgX3R5cGU6IHsgcmVsYXRpb246ICd0eXBlJyB9LFxuICAgICAgICAgIF9wcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICByZWxhdGlvbjogJ3RvJyxcbiAgICAgICAgICAgIHJldHVybjoge1xuICAgICAgICAgICAgICBfcHJvcGVydHk6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogJ2luJyxcbiAgICAgICAgICAgICAgICB0eXBlX2lkOiB7IF9pbjogW1Byb3BlcnR5LCBVSVByb3BlcnR5XSB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHBvc3NpYmxlcyA9IGRlZXAudXNlTG9jYWxRdWVyeSh7IHR5cGVfaWQ6IFBvc3NpYmxlLCBmcm9tX2lkOiB0eXBlSWQgfSk7XG5cbiAgICAgIGNvbnN0IHsgZGF0YSwgbG9hZGluZzogZGF0YUxvYWRpbmcgfSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKHNjaGVtYUxvYWRpbmcgPyB7fSA6IHtcbiAgICAgICAgdHlwZV9pZDogQ29udGFpbixcbiAgICAgICAgZnJvbV9pZDogbGlua0lkLFxuICAgICAgICBzdHJpbmc6IHsgdmFsdWU6IHsgX2luOiBwb3NzaWJsZXMubWFwKHAgPT4gcD8udmFsdWU/LnZhbHVlKSB9IH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgdHlwZV9pZDogeyBfaW46IHBvc3NpYmxlcy5tYXAocCA9PiBwLnRvX2lkKSB9LFxuICAgICAgICB9LFxuICAgICAgICByZXR1cm46IHtcbiAgICAgICAgICBfdG86IHsgcmVsYXRpb246ICd0bycgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sIHsgc2tpcDogISFzY2hlbWFMb2FkaW5nIH0pO1xuXG4gICAgICBjb25zdCB7IHNjaGVtYSwgdWlwcm9wZXJ0aWVzLCBmb3JtRGF0YSB9ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmICghIXNjaGVtYUxvYWRpbmcgfHwgISFkYXRhTG9hZGluZykgcmV0dXJuIHt9O1xuXG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgICByZXF1aXJlZDogW10sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSB7fTtcblxuICAgICAgICBjb25zdCB1aXByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICBjb25zdCB0eXBlID0gZGVlcC5nZXQodHlwZUlkKTtcblxuICAgICAgICBwb3NzaWJsZXMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICBjb25zdCBbcmVxdWlyZWRdID0gZGVlcC5tbC5zZWxlY3QoeyB0eXBlX2lkOiBSZXF1aXJlZCwgZnJvbV9pZDogdHlwZUlkLCB0b19pZDogcC50b19pZCB9KTtcbiAgICAgICAgICBjb25zdCBbcHJvcGVydHldID0gZGVlcC5tbC5zZWxlY3QoeyB0eXBlX2lkOiBQcm9wZXJ0eSwgdG9faWQ6IHAudG9faWQgfSk7XG4gICAgICAgICAgY29uc3QgW3VpcHJvcGVydHldID0gZGVlcC5tbC5zZWxlY3QoeyB0eXBlX2lkOiBVSVByb3BlcnR5LCB0b19pZDogcC50b19pZCB9KTtcbiAgICAgICAgICBzY2hlbWEucHJvcGVydGllc1twPy52YWx1ZT8udmFsdWVdID0gcHJvcGVydHk/LnZhbHVlPy52YWx1ZTtcbiAgICAgICAgICBpZiAodWlwcm9wZXJ0eT8udmFsdWU/LnZhbHVlKSB1aXByb3BlcnRpZXNbcD8udmFsdWU/LnZhbHVlXSA9IHVpcHJvcGVydHk/LnZhbHVlPy52YWx1ZTtcbiAgICAgICAgICBpZiAocmVxdWlyZWQpIHNjaGVtYS5yZXF1aXJlZC5wdXNoKHA/LnZhbHVlPy52YWx1ZSk7XG4gICAgICAgICAgY29uc3QgW2ZpZWxkXSA9IGRlZXAubWwuc2VsZWN0KHsgdHlwZV9pZDogQ29udGFpbiwgZnJvbV9pZDogbGlua0lkLCBzdHJpbmc6IHA/LnZhbHVlPy52YWx1ZSB9KTtcbiAgICAgICAgICBpZiAoZmllbGQpIGZvcm1EYXRhW3A/LnZhbHVlPy52YWx1ZV0gPSBmaWVsZD8udG8/LnZhbHVlPy52YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHsgc2NoZW1hLCB1aXByb3BlcnRpZXMsIGZvcm1EYXRhIH07XG4gICAgICB9LCBbc2NoZW1hRGF0YV0pO1xuXG4gICAgICBjb25zdCBtZW1SZWYgPSBSZWFjdC51c2VSZWYoe30pO1xuICAgICAgY29uc3QgZGVmaW5lID0gUmVhY3QudXNlQ2FsbGJhY2soYXN5bmMgKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IFtwb3NzaWJsZV0gPSBkZWVwLm1sLnNlbGVjdCh7IHR5cGVfaWQ6IFBvc3NpYmxlLCBmcm9tX2lkOiB0eXBlSWQgfSk7XG4gICAgICAgIGNvbnN0IFtleGlzdHNdID0gZGVlcC5tbC5zZWxlY3QoeyB0eXBlX2lkOiBDb250YWluLCBmcm9tX2lkOiBsaW5rSWQsIHN0cmluZzogbmFtZSB9KTtcbiAgICAgICAgaWYgKG1lbVJlZi5jdXJyZW50W25hbWVdIHx8IGV4aXN0cykgYXdhaXQgZGVlcC52YWx1ZShleGlzdHMudG9faWQsIHZhbHVlKTtcbiAgICAgICAgZWxzZSBpZiAocG9zc2libGUpIHtcbiAgICAgICAgICBhd2FpdCBkZWVwLmluc2VydCh7XG4gICAgICAgICAgICB0eXBlX2lkOiBwb3NzaWJsZS50b19pZCwgW3R5cGVvZih2YWx1ZSldOiB2YWx1ZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcklkOiBsaW5rSWQsIG5hbWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYCFwb3NzaWJsZSBmb3IgbmFtZSAke25hbWV9IHZhbHVlICR7dmFsdWV9YCk7XG4gICAgICB9LCBbXSk7XG5cbiAgICAgIGNvbnN0IG9uU3VibWl0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlucHV0KSA9PiB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBmb3JtRGF0YSkgeyBkZWZpbmUoa2V5LCBmb3JtRGF0YVtrZXldKTsgfVxuICAgICAgICBfb25TdWJtaXQgJiYgX29uU3VibWl0KGlucHV0KTtcbiAgICAgIH0sIFtdKVxuXG4gICAgICBjb25zb2xlLmxvZyh7IHNjaGVtYSwgdmFsaWRhdG9yLCBmb3JtRGF0YSwgdWlwcm9wZXJ0aWVzLCBzY2hlbWFEYXRhLCBkYXRhIH0pO1xuXG4gICAgICByZXR1cm4gIDxjLkJveCBjb2xvcj0nZGVlcENvbG9yJz5cbiAgICAgICAgeyEhc2NoZW1hID8gPD5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgc2NoZW1hPXtzY2hlbWF9XG4gICAgICAgICAgICB2YWxpZGF0b3I9e3ZhbGlkYXRvcn1cbiAgICAgICAgICAgIGZvcm1EYXRhPXtmb3JtRGF0YX1cbiAgICAgICAgICAgIHVpU2NoZW1hPXt1aXByb3BlcnRpZXN9XG4gICAgICAgICAgICBub0h0bWw1VmFsaWRhdGU9e2ZhbHNlfVxuICAgICAgICAgICAgbGl2ZVZhbGlkYXRlXG4gICAgICAgICAgICAvLyBvbkNoYW5nZT17dXNlQ2FsbGJhY2soKHt9KSA9PiB7XG4gICAgICAgICAgICAvLyB9LCBbXSl9XG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICBvblN1Ym1pdD17b25TdWJtaXR9XG4gICAgICAgICAgICAvLyBvbkVycm9yPXtsb2coJ2Vycm9ycycpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxjLkJveD5cbiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwic3VibWl0XCIgdz0nMTAwJScgY2hpbGRyZW49ezw+VXBkYXRlPC8+fSB7Li4uYnV0dG9uUHJvcHN9Lz5cbiAgICAgICAgICAgIDwvYy5Cb3g+XG4gICAgICAgICAgPC9Gb3JtPlxuICAgICAgICA8Lz4gOiA8Yy5CdXR0b24gaXNMb2FkaW5nLz59XG4gICAgICA8L2MuQm94PjtcbiAgICB9XG4gIH1cbiJdfQ==",
          "link_id": 2176
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 2582,
      "src_id": 2574,
      "handler_id": 2578,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 2582,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 870,
          "value": "({ deep, data, require, Go }) => {\n    const React = require('react');\n    const c = require('@chakra-ui/react');\n    const { IoFingerPrintOutline } = require(\"react-icons/io5\");\n    const { LuPackageSearch } = require(\"react-icons/lu\");\n    const { BsCheck2 } = require(\"react-icons/bs\");\n    const { MdOutlineVerticalAlignBottom, MdOutlineVerticalAlignTop } = require(\"react-icons/md\");\n    const { useDebounce } = require('@react-hook/debounce');\n    const { makeUseAxios } = require(\"axios-hooks\");\n    const axios = require('axios');\n    const useAxios = makeUseAxios({ axios: axios.create() });\n    var dtsx = '@deep-foundation/tsx';\n    var dpl = '@deep-foundation/perception-links';\n    var dc = '@deep-foundation/core';\n    var dnpm = '@deep-foundation/npm-packager';\n    const clientSupportsJs = deep.idLocal(dc, 'clientSupportsJs');\n    const Package = deep.idLocal(dc, 'Package');\n    const promiseTree = deep.idLocal(dc, 'promiseTree');\n    const Resolved = deep.idLocal(dc, 'Resolved');\n    const Rejected = deep.idLocal(dc, 'Rejected');\n    const PackageVersion = deep.idLocal(dc, 'PackageVersion');\n    const Handler = deep.idLocal(dc, 'Handler');\n    const TSX = deep.idLocal(dtsx, 'TSX');\n    const MenuAuth = deep.idLocal(dpl, 'MenuAuth');\n    const Stack = deep.idLocal(dpl, 'Stack');\n    const TreeLink = deep.idLocal(dpl, 'TreeLink');\n    const After = deep.idLocal(dpl, 'After');\n    const Compatable = deep.idLocal(dpl, 'Compatable');\n    const StackInsertButton = deep.idLocal(dpl, 'StackInsertButton');\n    const Install = deep.idLocal(dnpm, 'Install');\n    const PackageQuery = deep.idLocal(dc, 'PackageQuery');\n    const makeNpmPackagesUrl = (query) => {\n        const deepPackageKeyword = 'deep-package';\n        const textParameter = encodeURIComponent(`${query} keywords:${deepPackageKeyword}`);\n        return `https://registry.npmjs.com/-/v1/search?text=${textParameter}&size=250`;\n    };\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, }, ref) => {\n        const containerRef = React.useMemo(() => go.root().ref, []);\n        const [opened, setOpened] = React.useState();\n        const disclosure = c.useDisclosure();\n        const [packageId, setPackageId] = React.useState();\n        React.useEffect(() => {\n            !disclosure.isOpen && setPackageId();\n        }, [disclosure.isOpen]);\n        React.useEffect(() => {\n            !!packageId && disclosure.onOpen();\n        }, [packageId]);\n        const Item = React.useCallback(({ link, isActive }) => {\n            const go = Go.useGo();\n            const [pckg] = deep.useLocalSubscription({ type_id: Package, string: link.name });\n            const version = pckg?.inByType?.[PackageVersion]?.[0];\n            const [install, setInstall] = React.useState(null);\n            const { data: [rejected] } = deep.useSubscription({\n                type_id: Rejected,\n                up: {\n                    tree_id: promiseTree,\n                    parent_id: install,\n                },\n            }, { skip: typeof (install) !== 'number' });\n            return React.createElement(c.Flex, { bg: isActive ? 'deepBgActive' : undefined, onClick: () => go.go.set(link.id) },\n                React.createElement(c.Box, { flex: '1', p: '0.25em', pl: '1em', pr: '1em', alignContent: 'center', minH: '3em', fontSize: 'sm' },\n                    React.createElement(c.Box, null,\n                        link.name,\n                        \" \",\n                        React.createElement(c.Text, { fontSize: 'xs', opacity: 0.5 },\n                            \"last version: \",\n                            link.version)),\n                    !!pckg && React.createElement(c.Box, { pt: '0.25em' },\n                        React.createElement(c.Button, { rightIcon: React.createElement(c.Circle, { size: '1em', ml: '0.25em', bg: 'deepBgActive' }, \"\\uD83E\\uDEAC\"), size: 'xs', borderRadius: 'full', variant: 'solid', bg: 'deepBgDark', onClick: () => setPackageId(pckg.id) }, version?.value?.value))),\n                React.createElement(c.Box, { w: '3em', p: '0.5em 0.25em 0' },\n                    React.createElement(c.Progress, { size: 'xs', mb: '0.2em', value: (link?.score?.detail?.popularity || 0) * 100, colorScheme: 'cyan', bg: 'transparent' }),\n                    React.createElement(c.Progress, { size: 'xs', mb: '0.2em', value: (link?.score?.detail?.quality || 0) * 100, colorScheme: 'purple', bg: 'transparent' }),\n                    React.createElement(c.Progress, { size: 'xs', mb: '0.2em', value: (link?.score?.detail?.maintenance || 0) * 100, colorScheme: 'red', bg: 'transparent' })),\n                pckg ? (React.createElement(c.Button, { w: '3em', h: '100%', minH: '3em', isDisabled: true, color: 'deepColorActive' },\n                    React.createElement(BsCheck2, null))) : rejected ? (React.createElement(c.Button, { w: '3em', h: '100%', minH: '3em', onClick: () => go.do('open', { id: rejected.id }) }, \"\\uD83D\\uDD34\")) : (React.createElement(c.Button, { w: '3em', h: '100%', minH: '3em', isLoading: !!install, onClick: async () => {\n                        setInstall(true);\n                        const { data: [{ id }] } = await deep.insert({\n                            type_id: Install,\n                            from_id: deep.linkId,\n                            to: {\n                                type_id: PackageQuery,\n                                string: link.name,\n                            },\n                            containerId: deep.linkId,\n                        });\n                        setInstall(id);\n                    } },\n                    React.createElement(MdOutlineVerticalAlignBottom, null))));\n        }, []);\n        const [search, __setSearch] = React.useState('@deep-foundation/');\n        const [_search, _setSearch] = useDebounce('@deep-foundation/');\n        const setSearch = React.useCallback((value) => {\n            __setSearch(value);\n            _setSearch(value);\n        });\n        const [{ data, loading, error }, refetch] = useAxios(makeNpmPackagesUrl(_search), { manual: true });\n        React.useEffect(() => {\n            try {\n                refetch();\n            }\n            catch (e) { }\n        }, [_search]);\n        deep.useSubscription({\n            type_id: Package,\n            return: {\n                _version: { relation: 'in', type_id: PackageVersion },\n            },\n        });\n        const [mode, setMode] = React.useState('all');\n        const links = React.useMemo(() => {\n            const p = data?.objects?.[0];\n            if (!p)\n                return [];\n            const links = data.objects.map(p => ({\n                id: `${p.package.name}@${p.package.version}`,\n                name: p.package.name,\n                version: p.package.version,\n                ...p,\n            }));\n            return mode === 'all' ? links : deep.ml.select({ type_id: Package }).map(l => ({\n                id: l?.id,\n                name: l?.value?.value,\n                version: l?.inByType?.[PackageVersion]?.[0]?.value?.value,\n            }));\n        }, [data, mode]);\n        return React.createElement(go.On, { do: {\n                focus: (g, v, id, o) => {\n                    console.log('FOCUS', v, o, go.value);\n                    if (!o.id && !go.value)\n                        go.set(Stack);\n                },\n                right: (g, v, o) => {\n                },\n                left: (g, v, o) => {\n                },\n                open: (g, v, o) => {\n                    disclosure.onClose();\n                    o?.id && go.go.do('open', o);\n                },\n            } },\n            disclosure.isOpen && React.createElement(go.Component, { provide: true, path: [dpl, 'Finder'], disclosure: disclosure, initialId: packageId, initialHandlerId: TreeLink, onSubmit: ((id) => go.do('open', { id })) }),\n            React.createElement(c.Popover, { placement: 'right-end', closeOnBlur: false, isOpen: !!go.value, onClose: () => go.set(), onOpen: () => refetch() },\n                React.createElement(c.PopoverTrigger, null,\n                    React.createElement(c.Button, { ref: ref, w: '3em', h: '3em', variant: !!go.value || isActive ? 'active' : undefined, onClick: () => go.value ? go.set() : go.set('current') },\n                        React.createElement(LuPackageSearch, null))),\n                React.createElement(c.Portal, { containerRef: containerRef },\n                    React.createElement(c.PopoverContent, { w: '30em', maxH: '30em', minH: '30em', position: 'relative' },\n                        React.createElement(c.Flex, { direction: 'column', h: '100%', maxH: '100%', w: '100%', position: 'absolute', left: '0', top: '0' },\n                            React.createElement(c.Flex, null,\n                                React.createElement(c.Input, { flex: '1', w: '100%', value: search, onChange: e => setSearch(e.target.value) }),\n                                React.createElement(c.Button, { variant: mode === 'all' ? 'active' : undefined, onClick: () => setMode('all') }, \"all\"),\n                                React.createElement(c.Button, { variant: mode === 'installed' ? 'active' : undefined, onClick: () => setMode('installed') }, \"installed\")),\n                            search != _search || loading ? (React.createElement(c.Progress, { size: 'xs', isIndeterminate: true })) : (React.createElement(c.Box, { flex: '1', css: go.noScrollBar, overflowY: 'scroll' },\n                                React.createElement(go.Handler, { provide: true, handlerId: Stack, links: links, Item: Item }))))))));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFL0IsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdEMsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDNUQsTUFBTSxFQUFFLGVBQWUsRUFBRSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3RELE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUMvQyxNQUFNLEVBQUUsNEJBQTRCLEVBQUUseUJBQXlCLEVBQUUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUU5RixNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFFeEQsTUFBTSxFQUFFLFlBQVksRUFBRSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNoRCxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxRQUFRLEdBQUcsWUFBWSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFekQsSUFBSSxJQUFJLEdBQUcsc0JBQXNCLENBQUM7SUFDbEMsSUFBSSxHQUFHLEdBQUcsbUNBQW1DLENBQUM7SUFDOUMsSUFBSSxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDakMsSUFBSSxJQUFJLEdBQUcsK0JBQStCLENBQUM7SUFFM0MsTUFBTSxnQkFBZ0IsR0FBRyxJ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QUksT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUM5QixvQkFBQyxDQUFDLENBQUMsUUFBUSxJQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsZUFBZSxTQUFHLENBQ3pDLENBQUMsQ0FBQyxDQUFDLENBQ0Ysb0JBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsV0FBVyxFQUFFLFNBQVMsRUFBQyxRQUFRO2dDQUNyRCxvQkFBQyxFQUFFLENBQUMsT0FBTyxJQUFDLE9BQU8sUUFBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksR0FBRyxDQUMzRCxDQUNULENBQ00sQ0FDUSxDQUNWLENBQ0QsQ0FDTixDQUFDO0lBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKHsgZGVlcCwgZGF0YSwgcmVxdWlyZSwgR28gfSkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIFxuICBjb25zdCBjID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICBjb25zdCB7IElvRmluZ2VyUHJpbnRPdXRsaW5lIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvaW81XCIpO1xuICBjb25zdCB7IEx1UGFja2FnZVNlYXJjaCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL2x1XCIpO1xuICBjb25zdCB7IEJzQ2hlY2syIH0gPSByZXF1aXJlKFwicmVhY3QtaWNvbnMvYnNcIik7XG4gIGNvbnN0IHsgTWRPdXRsaW5lVmVydGljYWxBbGlnbkJvdHRvbSwgTWRPdXRsaW5lVmVydGljYWxBbGlnblRvcCB9ID0gcmVxdWlyZShcInJlYWN0LWljb25zL21kXCIpO1xuXG4gIGNvbnN0IHsgdXNlRGVib3VuY2UgfSA9IHJlcXVpcmUoJ0ByZWFjdC1ob29rL2RlYm91bmNlJyk7XG4gIFxuICBjb25zdCB7IG1ha2VVc2VBeGlvcyB9ID0gcmVxdWlyZShcImF4aW9zLWhvb2tzXCIpO1xuICBjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XG4gIGNvbnN0IHVzZUF4aW9zID0gbWFrZVVzZUF4aW9zKHsgYXhpb3M6IGF4aW9zLmNyZWF0ZSgpIH0pO1xuXG4gIHZhciBkdHN4ID0gJ0BkZWVwLWZvdW5kYXRpb24vdHN4JztcbiAgdmFyIGRwbCA9ICdAZGVlcC1mb3VuZGF0aW9uL3BlcmNlcHRpb24tbGlua3MnO1xuICB2YXIgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgdmFyIGRucG0gPSAnQGRlZXAtZm91bmRhdGlvbi9ucG0tcGFja2FnZXInO1xuXG4gIGNvbnN0IGNsaWVudFN1cHBvcnRzSnMgPSBkZWVwLmlkTG9jYWwoZGMsICdjbGllbnRTdXBwb3J0c0pzJyk7XG4gIGNvbnN0IFBhY2thZ2UgPSBkZWVwLmlkTG9jYWwoZGMsICdQYWNrYWdlJyk7XG4gIGNvbnN0IHByb21pc2VUcmVlID0gZGVlcC5pZExvY2FsKGRjLCAncHJvbWlzZVRyZWUnKTtcbiAgY29uc3QgUmVzb2x2ZWQgPSBkZWVwLmlkTG9jYWwoZGMsICdSZXNvbHZlZCcpO1xuICBjb25zdCBSZWplY3RlZCA9IGRlZXAuaWRMb2NhbChkYywgJ1JlamVjdGVkJyk7XG4gIGNvbnN0IFBhY2thZ2VWZXJzaW9uID0gZGVlcC5pZExvY2FsKGRjLCAnUGFja2FnZVZlcnNpb24nKTtcbiAgY29uc3QgSGFuZGxlciA9IGRlZXAuaWRMb2NhbChkYywgJ0hhbmRsZXInKTtcbiAgY29uc3QgVFNYID0gZGVlcC5pZExvY2FsKGR0c3gsICdUU1gnKTtcbiAgY29uc3QgTWVudUF1dGggPSBkZWVwLmlkTG9jYWwoZHBsLCAnTWVudUF1dGgnKTtcbiAgY29uc3QgU3RhY2sgPSBkZWVwLmlkTG9jYWwoZHBsLCAnU3RhY2snKTtcbiAgY29uc3QgVHJlZUxpbmsgPSBkZWVwLmlkTG9jYWwoZHBsLCAnVHJlZUxpbmsnKTtcbiAgY29uc3QgQWZ0ZXIgPSBkZWVwLmlkTG9jYWwoZHBsLCAnQWZ0ZXInKTtcbiAgY29uc3QgQ29tcGF0YWJsZSA9IGRlZXAuaWRMb2NhbChkcGwsICdDb21wYXRhYmxlJyk7XG4gIGNvbnN0IFN0YWNrSW5zZXJ0QnV0dG9uID0gZGVlcC5pZExvY2FsKGRwbCwgJ1N0YWNrSW5zZXJ0QnV0dG9uJyk7XG4gIGNvbnN0IEluc3RhbGwgPSBkZWVwLmlkTG9jYWwoZG5wbSwgJ0luc3RhbGwnKTtcbiAgY29uc3QgUGFja2FnZVF1ZXJ5ID0gZGVlcC5pZExvY2FsKGRjLCAnUGFja2FnZVF1ZXJ5Jyk7XG5cbiAgY29uc3QgbWFrZU5wbVBhY2thZ2VzVXJsID0gKHF1ZXJ5KSA9PiB7XG4gICAgY29uc3QgZGVlcFBhY2thZ2VLZXl3b3JkID0gJ2RlZXAtcGFja2FnZSc7XG4gICAgY29uc3QgdGV4dFBhcmFtZXRlciA9IGVuY29kZVVSSUNvbXBvbmVudChgJHtxdWVyeX0ga2V5d29yZHM6JHtkZWVwUGFja2FnZUtleXdvcmR9YCk7XG4gICAgcmV0dXJuIGBodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLmNvbS8tL3YxL3NlYXJjaD90ZXh0PSR7dGV4dFBhcmFtZXRlcn0mc2l6ZT0yNTBgO1xuICB9O1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG4gIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gZ28ucm9vdCgpLnJlZiwgW10pO1xuICAgIGNvbnN0IFtvcGVuZWQsIHNldE9wZW5lZF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuXG4gICAgY29uc3QgZGlzY2xvc3VyZSA9IGMudXNlRGlzY2xvc3VyZSgpO1xuICAgIGNvbnN0IFtwYWNrYWdlSWQsIHNldFBhY2thZ2VJZF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAhZGlzY2xvc3VyZS5pc09wZW4gJiYgc2V0UGFja2FnZUlkKClcbiAgICB9LCBbZGlzY2xvc3VyZS5pc09wZW5dKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgISFwYWNrYWdlSWQgJiYgZGlzY2xvc3VyZS5vbk9wZW4oKTtcbiAgICB9LCBbcGFja2FnZUlkXSk7XG5cbiAgICBjb25zdCBJdGVtID0gUmVhY3QudXNlQ2FsbGJhY2soKHsgbGluaywgaXNBY3RpdmUgfSkgPT4ge1xuICAgICAgY29uc3QgZ28gPSBHby51c2VHbygpO1xuICAgICAgY29uc3QgW3Bja2ddID0gZGVlcC51c2VMb2NhbFN1YnNjcmlwdGlvbih7IHR5cGVfaWQ6IFBhY2thZ2UsIHN0cmluZzogbGluay5uYW1lIH0pO1xuICAgICAgY29uc3QgdmVyc2lvbiA9IHBja2c/LmluQnlUeXBlPy5bUGFja2FnZVZlcnNpb25dPy5bMF07XG5cbiAgICAgIGNvbnN0IFtpbnN0YWxsLCBzZXRJbnN0YWxsXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICAgICAgY29uc3QgeyBkYXRhOiBbcmVqZWN0ZWRdIH0gPSBkZWVwLnVzZVN1YnNjcmlwdGlvbih7XG4gICAgICAgIHR5cGVfaWQ6IFJlamVjdGVkLFxuICAgICAgICB1cDoge1xuICAgICAgICAgIHRyZWVfaWQ6IHByb21pc2VUcmVlLFxuICAgICAgICAgIHBhcmVudF9pZDogaW5zdGFsbCxcbiAgICAgICAgfSxcbiAgICAgIH0sIHsgc2tpcDogdHlwZW9mKGluc3RhbGwpICE9PSAnbnVtYmVyJyB9KTtcbiAgXG4gICAgICByZXR1cm4gPGMuRmxleCBiZz17aXNBY3RpdmUgPyAnZGVlcEJnQWN0aXZlJyA6IHVuZGVmaW5lZH0gb25DbGljaz17KCkgPT4gZ28uZ28uc2V0KGxpbmsuaWQpfT5cbiAgICAgICAgPGMuQm94IGZsZXg9JzEnIHA9JzAuMjVlbScgcGw9JzFlbScgcHI9JzFlbScgYWxpZ25Db250ZW50PSdjZW50ZXInIG1pbkg9JzNlbScgZm9udFNpemU9J3NtJz5cbiAgICAgICAgICA8Yy5Cb3g+e2xpbmsubmFtZX0gPGMuVGV4dCBmb250U2l6ZT0neHMnIG9wYWNpdHk9ezAuNX0+bGFzdCB2ZXJzaW9uOiB7bGluay52ZXJzaW9ufTwvYy5UZXh0PjwvYy5Cb3g+XG4gICAgICAgICAgeyEhcGNrZyAmJiA8Yy5Cb3ggcHQ9JzAuMjVlbSc+XG4gICAgICAgICAgICA8Yy5CdXR0b24gcmlnaHRJY29uPXs8Yy5DaXJjbGUgc2l6ZT0nMWVtJyBtbD0nMC4yNWVtJyBiZz0nZGVlcEJnQWN0aXZlJz7wn6qsPC9jLkNpcmNsZT59XG4gICAgICAgICAgICAgIHNpemU9eyd4cyd9IGJvcmRlclJhZGl1cz0nZnVsbCcgdmFyaWFudD0nc29saWQnIGJnPSdkZWVwQmdEYXJrJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRQYWNrYWdlSWQocGNrZy5pZCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt2ZXJzaW9uPy52YWx1ZT8udmFsdWV9XG4gICAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICAgIDwvYy5Cb3g+fVxuICAgICAgICA8L2MuQm94PlxuICAgICAgICA8Yy5Cb3ggdz0nM2VtJyBwPScwLjVlbSAwLjI1ZW0gMCc+XG4gICAgICAgICAgPGMuUHJvZ3Jlc3Mgc2l6ZT0neHMnIG1iPScwLjJlbScgdmFsdWU9eyhsaW5rPy5zY29yZT8uZGV0YWlsPy5wb3B1bGFyaXR5IHx8IDApICogMTAwfSBjb2xvclNjaGVtZT0nY3lhbicgYmc9J3RyYW5zcGFyZW50Jy8+XG4gICAgICAgICAgPGMuUHJvZ3Jlc3Mgc2l6ZT0neHMnIG1iPScwLjJlbScgdmFsdWU9eyhsaW5rPy5zY29yZT8uZGV0YWlsPy5xdWFsaXR5IHx8IDApICogMTAwfSBjb2xvclNjaGVtZT0ncHVycGxlJyBiZz0ndHJhbnNwYXJlbnQnLz5cbiAgICAgICAgICA8Yy5Qcm9ncmVzcyBzaXplPSd4cycgbWI9JzAuMmVtJyB2YWx1ZT17KGxpbms/LnNjb3JlPy5kZXRhaWw/Lm1haW50ZW5hbmNlIHx8IDApICogMTAwfSBjb2xvclNjaGVtZT0ncmVkJyBiZz0ndHJhbnNwYXJlbnQnLz5cbiAgICAgICAgPC9jLkJveD5cbiAgICAgICAge3Bja2cgPyAoPGMuQnV0dG9uIHc9JzNlbScgaD0nMTAwJScgbWluSD0nM2VtJyBpc0Rpc2FibGVkIGNvbG9yPSdkZWVwQ29sb3JBY3RpdmUnPlxuICAgICAgICAgIDxCc0NoZWNrMi8+XG4gICAgICAgIDwvYy5CdXR0b24+KSA6IHJlamVjdGVkID8gKDxjLkJ1dHRvbiB3PSczZW0nIGg9JzEwMCUnIG1pbkg9JzNlbScgb25DbGljaz17KCkgPT4gZ28uZG8oJ29wZW4nLCB7IGlkOiByZWplY3RlZC5pZCB9KX0+XG4gICAgICAgICAg8J+UtFxuICAgICAgICA8L2MuQnV0dG9uPikgOiAoPGMuQnV0dG9uIHc9JzNlbScgaD0nMTAwJScgbWluSD0nM2VtJyBpc0xvYWRpbmc9eyEhaW5zdGFsbH0gb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHNldEluc3RhbGwodHJ1ZSk7XG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBbeyBpZCB9XSB9ID0gYXdhaXQgZGVlcC5pbnNlcnQoe1xuICAgICAgICAgICAgdHlwZV9pZDogSW5zdGFsbCxcbiAgICAgICAgICAgIGZyb21faWQ6IGRlZXAubGlua0lkLFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgdHlwZV9pZDogUGFja2FnZVF1ZXJ5LFxuICAgICAgICAgICAgICBzdHJpbmc6IGxpbmsubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250YWluZXJJZDogZGVlcC5saW5rSWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0SW5zdGFsbChpZCk7XG4gICAgICAgIH19PlxuICAgICAgICAgIDxNZE91dGxpbmVWZXJ0aWNhbEFsaWduQm90dG9tLz5cbiAgICAgICAgPC9jLkJ1dHRvbj4pfVxuICAgICAgPC9jLkZsZXg+XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgW3NlYXJjaCwgX19zZXRTZWFyY2hdID0gUmVhY3QudXNlU3RhdGUoJ0BkZWVwLWZvdW5kYXRpb24vJyk7XG4gICAgY29uc3QgW19zZWFyY2gsIF9zZXRTZWFyY2hdID0gdXNlRGVib3VuY2UoJ0BkZWVwLWZvdW5kYXRpb24vJyk7XG4gICAgY29uc3Qgc2V0U2VhcmNoID0gUmVhY3QudXNlQ2FsbGJhY2soKHZhbHVlKSA9PiB7XG4gICAgICBfX3NldFNlYXJjaCh2YWx1ZSk7XG4gICAgICBfc2V0U2VhcmNoKHZhbHVlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IFt7IGRhdGEsIGxvYWRpbmcsIGVycm9yIH0sIHJlZmV0Y2hdID0gdXNlQXhpb3MobWFrZU5wbVBhY2thZ2VzVXJsKF9zZWFyY2gpLCB7IG1hbnVhbDogdHJ1ZSB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgdHJ5IHsgcmVmZXRjaCgpOyB9IGNhdGNoKGUpIHt9XG4gICAgfSwgW19zZWFyY2hdKTtcblxuICAgIGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IFBhY2thZ2UsXG4gICAgICByZXR1cm46IHtcbiAgICAgICAgX3ZlcnNpb246IHsgcmVsYXRpb246ICdpbicsIHR5cGVfaWQ6IFBhY2thZ2VWZXJzaW9uIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgW21vZGUsIHNldE1vZGVdID0gUmVhY3QudXNlU3RhdGUoJ2FsbCcpO1xuXG4gICAgY29uc3QgbGlua3MgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGNvbnN0IHAgPSBkYXRhPy5vYmplY3RzPy5bMF07XG4gICAgICBpZiAoIXApIHJldHVybiBbXTtcbiAgICAgIGNvbnN0IGxpbmtzID0gZGF0YS5vYmplY3RzLm1hcChwID0+ICh7XG4gICAgICAgIGlkOiBgJHtwLnBhY2thZ2UubmFtZX1AJHtwLnBhY2thZ2UudmVyc2lvbn1gLFxuICAgICAgICBuYW1lOiBwLnBhY2thZ2UubmFtZSxcbiAgICAgICAgdmVyc2lvbjogcC5wYWNrYWdlLnZlcnNpb24sXG4gICAgICAgIC4uLnAsXG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gbW9kZSA9PT0gJ2FsbCcgPyBsaW5rcyA6IGRlZXAubWwuc2VsZWN0KHsgdHlwZV9pZDogUGFja2FnZSB9KS5tYXAobCA9PiAoe1xuICAgICAgICBpZDogbD8uaWQsXG4gICAgICAgIG5hbWU6IGw/LnZhbHVlPy52YWx1ZSxcbiAgICAgICAgdmVyc2lvbjogbD8uaW5CeVR5cGU/LltQYWNrYWdlVmVyc2lvbl0/LlswXT8udmFsdWU/LnZhbHVlLFxuICAgICAgfSkpO1xuICAgIH0sIFtkYXRhLCBtb2RlXSk7XG5cbiAgICByZXR1cm4gPGdvLk9uXG4gICAgICBkbz17e1xuICAgICAgICBmb2N1czogKGcsdixpZCxvKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0ZPQ1VTJywgdiwgbywgZ28udmFsdWUpO1xuICAgICAgICAgIGlmICghby5pZCAmJiAhZ28udmFsdWUpIGdvLnNldChTdGFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0OiAoZyx2LG8pID0+IHtcbiAgICAgICAgICAvLyBtb2RlWzFdKGdvLm5leHQobW9kZXMubWFwKG0gPT4gKHsgaWQ6IG0gfSkpLCBtb2RlWzBdKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGxlZnQ6IChnLHYsbykgPT4ge1xuICAgICAgICAgIC8vIG1vZGVzWzBdID09PSBtb2RlWzBdICA/IGdvLnNldCgpIDogbW9kZVsxXShnby5wcmV2KG1vZGVzLm1hcChtID0+ICh7IGlkOiBtIH0pKSwgbW9kZVswXSkpO1xuICAgICAgICB9LFxuICAgICAgICBvcGVuOiAoZyx2LG8pID0+IHtcbiAgICAgICAgICBkaXNjbG9zdXJlLm9uQ2xvc2UoKTtcbiAgICAgICAgICBvPy5pZCAmJiBnby5nby5kbygnb3BlbicsIG8pO1xuICAgICAgICB9LFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7ZGlzY2xvc3VyZS5pc09wZW4gJiYgPGdvLkNvbXBvbmVudCBwcm92aWRlIHBhdGg9e1tkcGwsICdGaW5kZXInXX1cbiAgICAgICAgZGlzY2xvc3VyZT17ZGlzY2xvc3VyZX0gaW5pdGlhbElkPXtwYWNrYWdlSWR9IGluaXRpYWxIYW5kbGVySWQ9e1RyZWVMaW5rfVxuICAgICAgICBvblN1Ym1pdD17KChpZCkgPT4gZ28uZG8oJ29wZW4nLCB7IGlkIH0pKX1cbiAgICAgIC8+fVxuICAgICAgPGMuUG9wb3ZlciBwbGFjZW1lbnQ9J3JpZ2h0LWVuZCcgY2xvc2VPbkJsdXI9e2ZhbHNlfVxuICAgICAgICBpc09wZW49eyEhZ28udmFsdWV9IG9uQ2xvc2U9eygpID0+IGdvLnNldCgpfVxuICAgICAgICBvbk9wZW49eygpID0+IHJlZmV0Y2goKX1cbiAgICAgID5cbiAgICAgICAgPGMuUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgPGMuQnV0dG9uXG4gICAgICAgICAgICByZWY9e3JlZn0gdz0nM2VtJyBoPSczZW0nIHZhcmlhbnQ9eyEhZ28udmFsdWUgfHwgaXNBY3RpdmUgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvLnZhbHVlID8gZ28uc2V0KCkgOiBnby5zZXQoJ2N1cnJlbnQnKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8THVQYWNrYWdlU2VhcmNoLz5cbiAgICAgICAgICA8L2MuQnV0dG9uPlxuICAgICAgICA8L2MuUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgIDxjLlBvcnRhbCBjb250YWluZXJSZWY9e2NvbnRhaW5lclJlZn0+XG4gICAgICAgICAgPGMuUG9wb3ZlckNvbnRlbnQgdz0nMzBlbScgbWF4SD0nMzBlbScgbWluSD0nMzBlbScgcG9zaXRpb249J3JlbGF0aXZlJz5cbiAgICAgICAgICAgIDxjLkZsZXggZGlyZWN0aW9uPSdjb2x1bW4nIGg9JzEwMCUnIG1heEg9JzEwMCUnIHc9JzEwMCUnIHBvc2l0aW9uPSdhYnNvbHV0ZScgbGVmdD0nMCcgdG9wPScwJz5cbiAgICAgICAgICAgICAgPGMuRmxleD5cbiAgICAgICAgICAgICAgICA8Yy5JbnB1dCBmbGV4PScxJyB3PScxMDAlJyB2YWx1ZT17c2VhcmNofSBvbkNoYW5nZT17ZSA9PiBzZXRTZWFyY2goZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICAgICAgPGMuQnV0dG9uIHZhcmlhbnQ9e21vZGUgPT09ICdhbGwnID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9IG9uQ2xpY2s9eygpID0+IHNldE1vZGUoJ2FsbCcpfT5hbGw8L2MuQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxjLkJ1dHRvbiB2YXJpYW50PXttb2RlID09PSAnaW5zdGFsbGVkJyA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBvbkNsaWNrPXsoKSA9PiBzZXRNb2RlKCdpbnN0YWxsZWQnKX0+aW5zdGFsbGVkPC9jLkJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9jLkZsZXg+XG4gICAgICAgICAgICAgIHtzZWFyY2ggIT0gX3NlYXJjaCB8fCBsb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgIDxjLlByb2dyZXNzIHNpemU9J3hzJyBpc0luZGV0ZXJtaW5hdGUgLz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8Yy5Cb3ggZmxleD0nMScgY3NzPXtnby5ub1Njcm9sbEJhcn0gb3ZlcmZsb3dZPSdzY3JvbGwnPlxuICAgICAgICAgICAgICAgICAgPGdvLkhhbmRsZXIgcHJvdmlkZSBoYW5kbGVySWQ9e1N0YWNrfSBsaW5rcz17bGlua3N9IEl0ZW09e0l0ZW19Lz5cbiAgICAgICAgICAgICAgICA8L2MuQm94PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9jLkZsZXg+XG4gICAgICAgICAgPC9jLlBvcG92ZXJDb250ZW50PlxuICAgICAgICA8L2MuUG9ydGFsPlxuICAgICAgPC9jLlBvcG92ZXI+XG4gICAgPC9nby5Pbj47XG4gIH07XG59Il19",
          "link_id": 2582
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 3119,
      "src_id": 3100,
      "handler_id": 3101,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 3119,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 879,
          "value": "({ deep, require }) => {\n    const React = require('react');\n    const { useState } = React;\n    const { useColorModeValue } = require('@chakra-ui/react');\n    const { Resize, DeepWysiwyg, useStringSaver } = require('@deep-foundation/deepcase');\n    return ({ fillSize, link, ml, ...props }) => {\n        const [viewSize, setViewSize] = useState({ width: 300, height: 300 });\n        const { value, setValue, onFocusChanged } = useStringSaver(link);\n        const bgColor = useColorModeValue('white', '#111720');\n        const borderColor = useColorModeValue('#d2cece', '#718096');\n        const body = React.createElement(DeepWysiwyg, { fillSize: fillSize, backgroundColorEditor: bgColor, borderColorEditor: borderColor, value: value, onFocusChanged: onFocusChanged, onChange: ({ value }) => {\n                setValue(value);\n            }, ...props });\n        return (React.createElement(React.Fragment, null, fillSize\n            ? body\n            : React.createElement(Resize, { onChangeSize: (viewSize) => setViewSize(viewSize), style: {\n                    borderRadius: 5,\n                    border: 'none',\n                } }, body)));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDbEIsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDM0IsTUFBTSxFQUFFLGlCQUFpQixFQUFFLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDMUQsTUFBTSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUM7SUFHckYsT0FBTyxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFBRSxFQUFFO1FBQzFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLEdBQUcsUUFBUSxDQUFDLEVBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFDLENBQUMsQ0FBQztRQUVwRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxjQUFjLEVBQUUsR0FBRyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFakUsTUFBTSxPQUFPLEdBQUcsaUJBQWlCLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sV0FBVyxHQUFHLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUU1RCxNQUFNLElBQUksR0FBRyxvQkFBQyxXQUFXLElBQ3ZCLFFBQVEsRUFBRSxRQUFRLEVBQ2xCLHFCQUFxQixFQUFFLE9BQU8sRUFDOUIsaUJBQWlCLEVBQUUsV0FBVyxFQUM5QixLQUFLLEVBQUUsS0FBSyxFQUNaLGNBQWMsRUFBRSxjQUFjLEVBQzlCLFFBQVEsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtnQkFDdEIsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2xCLENBQUMsS0FDRyxLQUFLLEdBQ1QsQ0FBQztRQUVILE9BQU8sQ0FBQywwQ0FDTCxRQUFRO1lBQ1QsQ0FBQyxDQUFDLElBQUk7WUFDTixDQUFDLENBQUMsb0JBQUMsTUFBTSxJQUNMLFlBQVksRUFBRSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxFQUNqRCxLQUFLLEVBQUU7b0JBQ1AsWUFBWSxFQUFFLENBQUM7b0JBQ2YsTUFBTSxFQUFFLE1BQU07aUJBQ2YsSUFDRCxJQUFJLENBQVUsQ0FDZixDQUFDLENBQUM7SUFDUCxDQUFDLENBQUE7QUFDSCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoeyBkZWVwLCByZXF1aXJlIH0pID0+IHtcbiAgICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gICAgY29uc3QgeyB1c2VTdGF0ZSB9ID0gUmVhY3Q7XG4gICAgY29uc3QgeyB1c2VDb2xvck1vZGVWYWx1ZSB9ID0gcmVxdWlyZSgnQGNoYWtyYS11aS9yZWFjdCcpO1xuICAgIGNvbnN0IHsgUmVzaXplLCBEZWVwV3lzaXd5ZywgdXNlU3RyaW5nU2F2ZXIgfSA9IHJlcXVpcmUoJ0BkZWVwLWZvdW5kYXRpb24vZGVlcGNhc2UnKTtcbiAgICAgXG4gICAgLy8gT25seSBvYmplY3RzIGVkaXRvci5cbiAgICByZXR1cm4gKHsgZmlsbFNpemUsIGxpbmssIG1sLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgICBjb25zdCBbdmlld1NpemUsIHNldFZpZXdTaXplXSA9IHVzZVN0YXRlKHt3aWR0aDogMzAwLCBoZWlnaHQ6IDMwMH0pO1xuXG4gICAgICBjb25zdCB7IHZhbHVlLCBzZXRWYWx1ZSwgb25Gb2N1c0NoYW5nZWQgfSA9IHVzZVN0cmluZ1NhdmVyKGxpbmspO1xuXG4gICAgICBjb25zdCBiZ0NvbG9yID0gdXNlQ29sb3JNb2RlVmFsdWUoJ3doaXRlJywgJyMxMTE3MjAnKTtcbiAgICAgIGNvbnN0IGJvcmRlckNvbG9yID0gdXNlQ29sb3JNb2RlVmFsdWUoJyNkMmNlY2UnLCAnIzcxODA5NicpO1xuICAgIFxuICAgICAgY29uc3QgYm9keSA9IDxEZWVwV3lzaXd5Z1xuICAgICAgICBmaWxsU2l6ZT17ZmlsbFNpemV9XG4gICAgICAgIGJhY2tncm91bmRDb2xvckVkaXRvcj17YmdDb2xvcn1cbiAgICAgICAgYm9yZGVyQ29sb3JFZGl0b3I9e2JvcmRlckNvbG9yfVxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIG9uRm9jdXNDaGFuZ2VkPXtvbkZvY3VzQ2hhbmdlZH1cbiAgICAgICAgb25DaGFuZ2U9eyh7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgICBzZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH19XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+OyBcblxuICAgICAgcmV0dXJuICg8PlxuICAgICAgICB7ZmlsbFNpemUgXG4gICAgICAgID8gYm9keSBcbiAgICAgICAgOiA8UmVzaXplXG4gICAgICAgICAgICBvbkNoYW5nZVNpemU9eyh2aWV3U2l6ZSkgPT4gc2V0Vmlld1NpemUodmlld1NpemUpfSBcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDUsXG4gICAgICAgICAgICBib3JkZXI6ICdub25lJywgXG4gICAgICAgICAgfX1cbiAgICAgICAgPntib2R5fTwvUmVzaXplPn1cbiAgICAgIDwvPik7XG4gICAgfVxuICB9XG5cbiJdfQ==",
          "link_id": 3119
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 3198,
      "src_id": 3128,
      "handler_id": 3129,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 3198,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 888,
          "value": "async ({ deep, require }) => {\n    const React = require('react');\n    const { useRef, useState } = require('react');\n    const { pick } = require('lodash');\n    const { Button, Box, Flex, Grid, GridItem, useColorModeValue } = require('@chakra-ui/react');\n    const { ClientHandler, CytoGraph } = require('@deep-foundation/deepcase');\n    const Readme = await deep.id('@deep-foundation/readme', 'Readme');\n    const ReadmeClientHandler = await deep.id('@deep-foundation/readme', 'ReadmeClientHandler');\n    const containTree = deep.idLocal('@deep-foundation/core', 'containTree');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n    const typesTree = deep.idLocal('@deep-foundation/core', 'typesTree');\n    const wysiwygHandler = await deep.id('@deep-foundation/wysiwyg', 'wysiwygHandler');\n    const NoReadme = ({ link, containerId }) => {\n        return React.createElement(\"div\", null,\n            React.createElement(\"div\", null, \"readme not founded\"),\n            React.createElement(Button, { onClick: async () => {\n                    await deep.insert({\n                        type_id: Readme,\n                        from_id: link.id,\n                        to_id: link.id,\n                        string: { data: {\n                                value: ''\n                            } },\n                        in: { data: {\n                                type_id: Contain,\n                                from_id: containerId,\n                            } },\n                    });\n                } }, \"insert in package\"));\n    };\n    const Wysiwyg = ({ linkId }) => {\n        const [disabled, setDisabled] = useState(true);\n        return React.createElement(Flex, null,\n            React.createElement(ClientHandler, { topmenu: !disabled, disabled: disabled, linkId: linkId, handlerId: wysiwygHandler, onClick: () => setDisabled(false) }),\n            React.createElement(Flex, { direction: \"column\" },\n                !disabled && React.createElement(Button, { size: \"sm\", variant: \"outline\", onClick: async () => {\n                        setDisabled(true);\n                    } }, \"v\"),\n                React.createElement(Button, { size: \"sm\", colorScheme: 'red', variant: \"outline\", onClick: async () => {\n                        await deep.delete({\n                            _or: [\n                                { type_id: Contain, to_id: linkId },\n                                { id: linkId },\n                            ],\n                        });\n                    } }, \"x\")));\n    };\n    return ({ link, style }) => {\n        const { data: _parents } = deep.useDeepSubscription({\n            down: {\n                tree_id: { _in: [containTree, typesTree] },\n                link_id: link?.id || 0,\n            },\n        });\n        const parents = _parents.filter(l => l.type_id != Contain);\n        const { data: readmes } = deep.useDeepSubscription({\n            type_id: Readme,\n            to_id: { _in: parents.map(l => l?.id) },\n        });\n        const currentL = link;\n        const currentReadmeL = currentL?.inByType?.[Readme]?.[0];\n        const typeL = link?.type;\n        const typeReadmeL = typeL?.inByType?.[Readme]?.[0];\n        const containedL = link?.inByType?.[Contain]?.[0]?.from;\n        const containedReadmeL = containedL?.inByType?.[Readme]?.[0];\n        const cyRef = useRef();\n        return React.createElement(Box, { style: { ...style }, bg: 'bgColor', color: 'text', borderColor: 'borderColor', borderWidth: 'thin', borderWidth: '1px', borderRadius: 'lg', p: 1 },\n            React.createElement(\"div\", null,\n                \"current \",\n                deep.stringify(pick(currentL, ['id', 'type_id', 'from_id', 'to_id']))),\n            React.createElement(Grid, { templateColumns: 'repeat(4, 1fr)', gap: 6 },\n                React.createElement(GridItem, null,\n                    React.createElement(Button, { w: \"100%\", variant: \"disabled\", disabled: true },\n                        \"id\",\n                        React.createElement(\"br\", null),\n                        link?.id)),\n                React.createElement(GridItem, null,\n                    React.createElement(Button, { w: \"100%\", variant: \"outline\" },\n                        \"type\",\n                        React.createElement(\"br\", null),\n                        link?.type_id)),\n                React.createElement(GridItem, null,\n                    React.createElement(Button, { w: \"100%\", variant: \"outline\" },\n                        \"from\",\n                        React.createElement(\"br\", null),\n                        link?.from_id)),\n                React.createElement(GridItem, null,\n                    React.createElement(Button, { w: \"100%\", variant: \"outline\" },\n                        \"to\",\n                        React.createElement(\"br\", null),\n                        link?.to_id))),\n            !!currentReadmeL ? React.createElement(Wysiwyg, { linkId: currentReadmeL?.id }) : React.createElement(NoReadme, { link: currentL, containerId: containedL?.id }),\n            React.createElement(\"div\", null,\n                React.createElement(Button, { variant: \"outline\" },\n                    \"type\",\n                    React.createElement(\"br\", null),\n                    link?.type_id),\n                \" \",\n                deep.stringify(pick(typeL, ['id', 'type_id', 'from_id', 'to_id']))),\n            !!typeReadmeL ? React.createElement(Wysiwyg, { linkId: typeReadmeL?.id }) : React.createElement(NoReadme, { link: typeL, containerId: containedL?.id }),\n            React.createElement(\"div\", null,\n                React.createElement(Button, { variant: \"outline\" },\n                    \"container\",\n                    React.createElement(\"br\", null),\n                    containedL?.id),\n                \" \",\n                deep.stringify(pick(containedL, ['id', 'type_id', 'from_id', 'to_id']))),\n            !!containedReadmeL ? React.createElement(Wysiwyg, { linkId: containedReadmeL?.id }) : React.createElement(NoReadme, { link: containedL, containerId: containedL?.id }),\n            React.createElement(Box, { borderWidth: '1px', borderRadius: 'lg', position: \"relative\", height: 300 },\n                React.createElement(CytoGraph, { useSpaceId: () => [0, () => { }], links: [\n                        ..._parents,\n                        ...readmes\n                    ], cyRef: cyRef })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtJQUN4QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDOUMsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNuQyxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxpQkFBaUIsRUFBRSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQzdGLE1BQU0sRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUM7SUFDMUUsTUFBTSxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLHlCQUF5QixFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ2xFLE1BQU0sbUJBQW1CLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLHlCQUF5QixFQUFFLHFCQUFxQixDQUFDLENBQUM7SUFDNUYsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUN6RSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLHVCQUF1QixFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ2pFLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsdUJBQXVCLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDckUsTUFBTSxjQUFjLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLDBCQUEwQixF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LFdBQVcsRUFBRSxVQUFVLEVBQUUsRUFBRSxHQUFHO1lBQzVHO2dCQUFLLG9CQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUMsU0FBUzs7b0JBQVUsK0JBQUs7b0JBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBVTs7Z0JBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFPO1lBQ3JKLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsb0JBQUMsT0FBTyxJQUFDLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsb0JBQUMsUUFBUSxJQUFDLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBRSxFQUFFLEdBQUc7WUFDM0gsb0JBQUMsR0FBRyxJQUFDLFdBQVcsRUFBQyxLQUFLLEVBQUMsWUFBWSxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBRSxHQUFHO2dCQUNwRSxvQkFBQyxTQUFTLElBQ04sVUFBVSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFFLENBQUMsQ0FBQyxFQUMvQixLQUFLLEVBQUU7d0JBQ0gsR0FBRyxRQUFRO3dCQUNYLEdBQUcsT0FBTztxQkFDYixFQUNELEtBQUssRUFBRSxLQUFLLEdBQ2QsQ0FDQSxDQUNKLENBQUM7SUFDWCxDQUFDLENBQUM7QUFDTixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyAoeyBkZWVwLCByZXF1aXJlIH0pID0+IHtcbiAgICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gICAgY29uc3QgeyB1c2VSZWYsIHVzZVN0YXRlIH0gPSByZXF1aXJlKCdyZWFjdCcpO1xuICAgIGNvbnN0IHsgcGljayB9ID0gcmVxdWlyZSgnbG9kYXNoJyk7XG4gICAgY29uc3QgeyBCdXR0b24sIEJveCwgRmxleCwgR3JpZCwgR3JpZEl0ZW0sIHVzZUNvbG9yTW9kZVZhbHVlIH0gPSByZXF1aXJlKCdAY2hha3JhLXVpL3JlYWN0Jyk7XG4gICAgY29uc3QgeyBDbGllbnRIYW5kbGVyLCBDeXRvR3JhcGggfSA9IHJlcXVpcmUoJ0BkZWVwLWZvdW5kYXRpb24vZGVlcGNhc2UnKTtcbiAgICBjb25zdCBSZWFkbWUgPSBhd2FpdCBkZWVwLmlkKCdAZGVlcC1mb3VuZGF0aW9uL3JlYWRtZScsICdSZWFkbWUnKTtcbiAgICBjb25zdCBSZWFkbWVDbGllbnRIYW5kbGVyID0gYXdhaXQgZGVlcC5pZCgnQGRlZXAtZm91bmRhdGlvbi9yZWFkbWUnLCAnUmVhZG1lQ2xpZW50SGFuZGxlcicpO1xuICAgIGNvbnN0IGNvbnRhaW5UcmVlID0gZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnY29udGFpblRyZWUnKTtcbiAgICBjb25zdCBDb250YWluID0gZGVlcC5pZExvY2FsKCdAZGVlcC1mb3VuZGF0aW9uL2NvcmUnLCAnQ29udGFpbicpO1xuICAgIGNvbnN0IHR5cGVzVHJlZSA9IGRlZXAuaWRMb2NhbCgnQGRlZXAtZm91bmRhdGlvbi9jb3JlJywgJ3R5cGVzVHJlZScpO1xuICAgIGNvbnN0IHd5c2l3eWdIYW5kbGVyID0gYXdhaXQgZGVlcC5pZCgnQGRlZXAtZm91bmRhdGlvbi93eXNpd3lnJywgJ3d5c2l3eWdIYW5kbGVyJyk7XG4gICAgY29uc3QgTm9SZWFkbWUgPSAoeyBsaW5rLCBjb250YWluZXJJZCB9KSA9PiB7XG4gICAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICAgICAgPGRpdj5yZWFkbWUgbm90IGZvdW5kZWQ8L2Rpdj5cbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IGRlZXAuaW5zZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZV9pZDogUmVhZG1lLFxuICAgICAgICAgICAgICAgICAgICBmcm9tX2lkOiBsaW5rLmlkLFxuICAgICAgICAgICAgICAgICAgICB0b19pZDogbGluay5pZCxcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nOiB7IGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgIGluOiB7IGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfaWQ6IENvbnRhaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tX2lkOiBjb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfX0+aW5zZXJ0IGluIHBhY2thZ2U8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+O1xuICAgIH07XG5cbiAgICBjb25zdCBXeXNpd3lnID0gKHsgbGlua0lkIH0pID0+IHtcbiAgICAgICAgY29uc3QgW2Rpc2FibGVkLCBzZXREaXNhYmxlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIDxGbGV4PlxuICAgICAgICAgICAgPENsaWVudEhhbmRsZXIgdG9wbWVudT17IWRpc2FibGVkfSBkaXNhYmxlZD17ZGlzYWJsZWR9IGxpbmtJZD17bGlua0lkfSBoYW5kbGVySWQ9e3d5c2l3eWdIYW5kbGVyfSBvbkNsaWNrPXsoKSA9PiBzZXREaXNhYmxlZChmYWxzZSl9Lz5cbiAgICAgICAgICAgIDxGbGV4IGRpcmVjdGlvbj1cImNvbHVtblwiPlxuICAgICAgICAgICAgICAgIHshZGlzYWJsZWQgJiYgPEJ1dHRvbiBzaXplPVwic21cIiB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RGlzYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHZcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj59XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPVwic21cIiBjb2xvclNjaGVtZT0ncmVkJyB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGVlcC5kZWxldGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgX29yOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0eXBlX2lkOiBDb250YWluLCB0b19pZDogbGlua0lkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogbGlua0lkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICA8L0ZsZXg+O1xuICAgIH07XG5cbiAgICByZXR1cm4gKHsgbGluaywgc3R5bGUgfSkgPT4ge1xuICAgICAgICBjb25zdCB7IGRhdGE6IF9wYXJlbnRzIH0gPSBkZWVwLnVzZURlZXBTdWJzY3JpcHRpb24oe1xuICAgICAgICAgICAgZG93bjoge1xuICAgICAgICAgICAgICAgIHRyZWVfaWQ6IHsgX2luOiBbY29udGFpblRyZWUsIHR5cGVzVHJlZV0gfSxcbiAgICAgICAgICAgICAgICBsaW5rX2lkOiBsaW5rPy5pZCB8fCAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSBfcGFyZW50cy5maWx0ZXIobCA9PiBsLnR5cGVfaWQgIT0gQ29udGFpbik7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcmVhZG1lcyB9ID0gZGVlcC51c2VEZWVwU3Vic2NyaXB0aW9uKHtcbiAgICAgICAgICAgIHR5cGVfaWQ6IFJlYWRtZSxcbiAgICAgICAgICAgIHRvX2lkOiB7IF9pbjogcGFyZW50cy5tYXAobCA9PiBsPy5pZCkgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMID0gbGluaztcbiAgICAgICAgY29uc3QgY3VycmVudFJlYWRtZUwgPSBjdXJyZW50TD8uaW5CeVR5cGU/LltSZWFkbWVdPy5bMF07XG4gICAgICAgIGNvbnN0IHR5cGVMID0gbGluaz8udHlwZTtcbiAgICAgICAgY29uc3QgdHlwZVJlYWRtZUwgPSB0eXBlTD8uaW5CeVR5cGU/LltSZWFkbWVdPy5bMF07XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lZEwgPSBsaW5rPy5pbkJ5VHlwZT8uW0NvbnRhaW5dPy5bMF0/LmZyb207XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lZFJlYWRtZUwgPSBjb250YWluZWRMPy5pbkJ5VHlwZT8uW1JlYWRtZV0/LlswXTtcbiAgICAgICAgY29uc3QgY3lSZWYgPSB1c2VSZWYoKTtcblxuICAgICAgICByZXR1cm4gPEJveFxuICAgICAgICAgICAgc3R5bGU9e3sgLi4uc3R5bGUgfX1cbiAgICAgICAgICAgIGJnPXsnYmdDb2xvcid9XG4gICAgICAgICAgICBjb2xvcj17J3RleHQnfVxuICAgICAgICAgICAgYm9yZGVyQ29sb3I9eydib3JkZXJDb2xvcid9XG4gICAgICAgICAgICBib3JkZXJXaWR0aD0ndGhpbidcbiAgICAgICAgICAgIGJvcmRlcldpZHRoPScxcHgnIGJvcmRlclJhZGl1cz0nbGcnXG4gICAgICAgICAgICBwPXsxfVxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2PmN1cnJlbnQge2RlZXAuc3RyaW5naWZ5KHBpY2soY3VycmVudEwsIFsnaWQnLCAndHlwZV9pZCcsICdmcm9tX2lkJywgJ3RvX2lkJ10pKX08L2Rpdj5cbiAgICAgICAgICAgIDxHcmlkIHRlbXBsYXRlQ29sdW1ucz0ncmVwZWF0KDQsIDFmciknIGdhcD17Nn0+XG4gICAgICAgICAgICAgICAgPEdyaWRJdGVtPjxCdXR0b24gdz1cIjEwMCVcIiB2YXJpYW50PVwiZGlzYWJsZWRcIiBkaXNhYmxlZD5pZDxici8+e2xpbms/LmlkfTwvQnV0dG9uPjwvR3JpZEl0ZW0+XG4gICAgICAgICAgICAgICAgPEdyaWRJdGVtPjxCdXR0b24gdz1cIjEwMCVcIiB2YXJpYW50PVwib3V0bGluZVwiPnR5cGU8YnIvPntsaW5rPy50eXBlX2lkfTwvQnV0dG9uPjwvR3JpZEl0ZW0+XG4gICAgICAgICAgICAgICAgPEdyaWRJdGVtPjxCdXR0b24gdz1cIjEwMCVcIiB2YXJpYW50PVwib3V0bGluZVwiPmZyb208YnIvPntsaW5rPy5mcm9tX2lkfTwvQnV0dG9uPjwvR3JpZEl0ZW0+XG4gICAgICAgICAgICAgICAgPEdyaWRJdGVtPjxCdXR0b24gdz1cIjEwMCVcIiB2YXJpYW50PVwib3V0bGluZVwiPnRvPGJyLz57bGluaz8udG9faWR9PC9CdXR0b24+PC9HcmlkSXRlbT5cbiAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgIHshIWN1cnJlbnRSZWFkbWVMID8gPFd5c2l3eWcgbGlua0lkPXtjdXJyZW50UmVhZG1lTD8uaWR9Lz4gOiA8Tm9SZWFkbWUgbGluaz17Y3VycmVudEx9IGNvbnRhaW5lcklkPXtjb250YWluZWRMPy5pZH0vPn1cbiAgICAgICAgICAgIDxkaXY+PEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZVwiPnR5cGU8YnIvPntsaW5rPy50eXBlX2lkfTwvQnV0dG9uPiB7ZGVlcC5zdHJpbmdpZnkocGljayh0eXBlTCwgWydpZCcsICd0eXBlX2lkJywgJ2Zyb21faWQnLCAndG9faWQnXSkpfTwvZGl2PlxuICAgICAgICAgICAgeyEhdHlwZVJlYWRtZUwgPyA8V3lzaXd5ZyBsaW5rSWQ9e3R5cGVSZWFkbWVMPy5pZH0vPiA6IDxOb1JlYWRtZSBsaW5rPXt0eXBlTH0gY29udGFpbmVySWQ9e2NvbnRhaW5lZEw/LmlkfS8+fVxuICAgICAgICAgICAgPGRpdj48QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCI+Y29udGFpbmVyPGJyLz57Y29udGFpbmVkTD8uaWR9PC9CdXR0b24+IHtkZWVwLnN0cmluZ2lmeShwaWNrKGNvbnRhaW5lZEwsIFsnaWQnLCAndHlwZV9pZCcsICdmcm9tX2lkJywgJ3RvX2lkJ10pKX08L2Rpdj5cbiAgICAgICAgICAgIHshIWNvbnRhaW5lZFJlYWRtZUwgPyA8V3lzaXd5ZyBsaW5rSWQ9e2NvbnRhaW5lZFJlYWRtZUw/LmlkfS8+IDogPE5vUmVhZG1lIGxpbms9e2NvbnRhaW5lZEx9IGNvbnRhaW5lcklkPXtjb250YWluZWRMPy5pZH0vPn1cbiAgICAgICAgICAgIDxCb3ggYm9yZGVyV2lkdGg9JzFweCcgYm9yZGVyUmFkaXVzPSdsZycgcG9zaXRpb249XCJyZWxhdGl2ZVwiIGhlaWdodD17MzAwfT5cbiAgICAgICAgICAgICAgICA8Q3l0b0dyYXBoXG4gICAgICAgICAgICAgICAgICAgIHVzZVNwYWNlSWQ9eygpID0+IFswLCAoKSA9PiB7fV19XG4gICAgICAgICAgICAgICAgICAgIGxpbmtzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5fcGFyZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlYWRtZXNcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgY3lSZWY9e2N5UmVmfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0JveD5cbiAgICAgICAgPC9Cb3g+O1xuICAgIH07XG59OyJdfQ==",
          "link_id": 3198
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 3207,
      "src_id": 3130,
      "handler_id": 3131,
      "execution_provider_id": 33,
      "isolation_provider_id": 144,
      "dist": {
        "id": 3207,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 891,
          "value": "async ({ deep, data, require, Go }) => {\n    const React = require('react');\n    const dc = '@deep-foundation/core';\n    const dr = '@deep-foundation/readme';\n    const dpl = '@deep-foundation/perception-links';\n    const c = require('@chakra-ui/react');\n    const Contain = deep.idLocal(dc, 'Contain');\n    const Input = await deep.id(dr, 'Input');\n    const Output = await deep.id(dr, 'Output');\n    const Inherit = await deep.id(dr, 'Inherit');\n    return ({ go, goHandler, handlerId, Component, linkId, link, children, isActive, ...props }, ref) => {\n        const { loading } = deep.useSubscription({\n            type_id: { _in: [Input, Output, Inherit] },\n            to_id: link.to_id,\n        });\n        const [input] = deep.useLocalSubscription({\n            type_id: Input, to_id: link.to_id,\n        });\n        const [output] = deep.useLocalSubscription({\n            type_id: Output, to_id: link.to_id,\n        });\n        const [inherit] = deep.useLocalSubscription({\n            type_id: Inherit, to_id: link.to_id,\n        });\n        const [parent] = deep.useLocalQuery({ out: { type_id: Contain, to_id: link.to_id } });\n        const parentId = parent?.id;\n        return React.createElement(go.On, { do: {} },\n            React.createElement(c.Box, { ref: ref, h: '3em' },\n                React.createElement(c.Flex, null, !!loading || !link?.to ? React.createElement(React.Fragment, null,\n                    React.createElement(c.Button, { flex: '1', isLoading: true })) : React.createElement(React.Fragment, null,\n                    React.createElement(c.Button, { flex: '1', variant: !!input ? 'active' : undefined, onClick: () => {\n                            if (input)\n                                deep.delete({ _or: [{ id: input.id }, { type_id: Contain, to_id: input.id }] });\n                            else\n                                deep.insert({ type_id: Input, from_id: link.to_id, to_id: link.to_id, containerId: parentId, name: `${link.to.name}Input` });\n                        } }, \"input\"),\n                    React.createElement(c.Button, { flex: '1', variant: !!output ? 'active' : undefined, onClick: () => {\n                            if (output)\n                                deep.delete({ _or: [{ id: output.id }, { type_id: Contain, to_id: output.id }] });\n                            else\n                                deep.insert({ type_id: Output, from_id: link.to_id, to_id: link.to_id, containerId: parentId, name: `${link.to.name}Output` });\n                        } }, \"output\"),\n                    React.createElement(c.Button, { flex: '1', variant: !!inherit ? 'active' : undefined, onClick: () => {\n                            if (inherit)\n                                deep.delete({ _or: [{ id: inherit.id }, { type_id: Contain, to_id: inherit.id }] });\n                            else\n                                deep.insert({ type_id: Inherit, from_id: link.to_id, to_id: link.to_id, containerId: parentId, name: `${link.to.name}Inherit` });\n                        } }, \"inherit\"))),\n                React.createElement(go.Wysiwyg, { linkId: link?.id })));\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUUvQixNQUFNLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUNuQyxNQUFNLEVBQUUsR0FBRyx5QkFBeUIsQ0FBQztJQUNyQyxNQUFNLEdBQUcsR0FBRyxtQ0FBbUMsQ0FBQztJQUNoRCxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUV0QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QyxNQUFNLEtBQUssR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDM0MsTUFBTSxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUU3QyxPQUFPLENBQUMsRUFDTixFQUFFLEVBQ0YsU0FBUyxFQUVULFNBQVMsRUFDVCxTQUFTLEVBRVQsTUFBTSxFQUNOLElBQUksRUFFSixRQUFRLEVBRVIsUUFBUSxFQUVSLEdBQUcsS0FBSyxFQUNULEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDUixNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUN2QyxPQUFPLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQyxFQUFFO1lBQzFD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S0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksUUFBUSxFQUFFLENBQUMsQ0FBQzt3QkFDdEksQ0FBQyxhQUFtQjtvQkFDcEIsb0JBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFOzRCQUMxRSxJQUFJLE9BQU87Z0NBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzs7Z0NBQzVGLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLFNBQVMsRUFBRSxDQUFDLENBQUM7d0JBQ3hJLENBQUMsY0FBb0IsQ0FDcEIsQ0FDSTtnQkFFVCxvQkFBQyxFQUFFLENBQUMsT0FBTyxJQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRSxHQUFHLENBQ3pCLENBQ0YsQ0FBQztJQUNYLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImFzeW5jICh7IGRlZXAsIGRhdGEsIHJlcXVpcmUsIEdvIH0pID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICBcbiAgY29uc3QgZGMgPSAnQGRlZXAtZm91bmRhdGlvbi9jb3JlJztcbiAgY29uc3QgZHIgPSAnQGRlZXAtZm91bmRhdGlvbi9yZWFkbWUnO1xuICBjb25zdCBkcGwgPSAnQGRlZXAtZm91bmRhdGlvbi9wZXJjZXB0aW9uLWxpbmtzJztcbiAgY29uc3QgYyA9IHJlcXVpcmUoJ0BjaGFrcmEtdWkvcmVhY3QnKTtcblxuICBjb25zdCBDb250YWluID0gZGVlcC5pZExvY2FsKGRjLCAnQ29udGFpbicpO1xuICBjb25zdCBJbnB1dCA9IGF3YWl0IGRlZXAuaWQoZHIsICdJbnB1dCcpO1xuICBjb25zdCBPdXRwdXQgPSBhd2FpdCBkZWVwLmlkKGRyLCAnT3V0cHV0Jyk7XG4gIGNvbnN0IEluaGVyaXQgPSBhd2FpdCBkZWVwLmlkKGRyLCAnSW5oZXJpdCcpO1xuXG4gIHJldHVybiAoe1xuICAgIGdvLFxuICAgIGdvSGFuZGxlcixcblxuICAgIGhhbmRsZXJJZCxcbiAgICBDb21wb25lbnQsXG5cbiAgICBsaW5rSWQsXG4gICAgbGluayxcblxuICAgIGNoaWxkcmVuLFxuXG4gICAgaXNBY3RpdmUsXG5cbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCB7IGxvYWRpbmcgfSA9IGRlZXAudXNlU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IHsgX2luOiBbSW5wdXQsIE91dHB1dCwgSW5oZXJpdF0gfSxcbiAgICAgIHRvX2lkOiBsaW5rLnRvX2lkLFxuICAgIH0pO1xuICAgIGNvbnN0IFtpbnB1dF0gPSBkZWVwLnVzZUxvY2FsU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IElucHV0LCB0b19pZDogbGluay50b19pZCxcbiAgICB9KTtcbiAgICBjb25zdCBbb3V0cHV0XSA9IGRlZXAudXNlTG9jYWxTdWJzY3JpcHRpb24oe1xuICAgICAgdHlwZV9pZDogT3V0cHV0LCB0b19pZDogbGluay50b19pZCxcbiAgICB9KTtcbiAgICBjb25zdCBbaW5oZXJpdF0gPSBkZWVwLnVzZUxvY2FsU3Vic2NyaXB0aW9uKHtcbiAgICAgIHR5cGVfaWQ6IEluaGVyaXQsIHRvX2lkOiBsaW5rLnRvX2lkLFxuICAgIH0pO1xuICAgIGNvbnN0IFtwYXJlbnRdID0gZGVlcC51c2VMb2NhbFF1ZXJ5KHsgb3V0OiB7IHR5cGVfaWQ6IENvbnRhaW4sIHRvX2lkOiBsaW5rLnRvX2lkIH0gfSk7XG4gICAgY29uc3QgcGFyZW50SWQgPSBwYXJlbnQ/LmlkO1xuICAgIHJldHVybiA8Z28uT25cbiAgICAgIGRvPXt7XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjLkJveCByZWY9e3JlZn0gaD0nM2VtJz5cbiAgICAgICAgPGMuRmxleD5cbiAgICAgICAgICB7ISFsb2FkaW5nIHx8ICFsaW5rPy50byA/IDw+XG4gICAgICAgICAgICA8Yy5CdXR0b24gZmxleD0nMScgaXNMb2FkaW5nLz5cbiAgICAgICAgICA8Lz4gOiA8PlxuICAgICAgICAgICAgPGMuQnV0dG9uIGZsZXg9JzEnIHZhcmlhbnQ9eyEhaW5wdXQgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH0gb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQpIGRlZXAuZGVsZXRlKHsgX29yOiBbeyBpZDogaW5wdXQuaWQgfSwgeyB0eXBlX2lkOiBDb250YWluLCB0b19pZDogaW5wdXQuaWQgfV0gfSk7XG4gICAgICAgICAgICAgIGVsc2UgZGVlcC5pbnNlcnQoeyB0eXBlX2lkOiBJbnB1dCwgZnJvbV9pZDogbGluay50b19pZCwgdG9faWQ6IGxpbmsudG9faWQsIGNvbnRhaW5lcklkOiBwYXJlbnRJZCwgbmFtZTogYCR7bGluay50by5uYW1lfUlucHV0YCB9KTtcbiAgICAgICAgICAgIH19PmlucHV0PC9jLkJ1dHRvbj5cbiAgICAgICAgICAgIDxjLkJ1dHRvbiBmbGV4PScxJyB2YXJpYW50PXshIW91dHB1dCA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChvdXRwdXQpIGRlZXAuZGVsZXRlKHsgX29yOiBbeyBpZDogb3V0cHV0LmlkIH0sIHsgdHlwZV9pZDogQ29udGFpbiwgdG9faWQ6IG91dHB1dC5pZCB9XSB9KTtcbiAgICAgICAgICAgICAgZWxzZSBkZWVwLmluc2VydCh7IHR5cGVfaWQ6IE91dHB1dCwgZnJvbV9pZDogbGluay50b19pZCwgdG9faWQ6IGxpbmsudG9faWQsIGNvbnRhaW5lcklkOiBwYXJlbnRJZCwgbmFtZTogYCR7bGluay50by5uYW1lfU91dHB1dGAgfSk7XG4gICAgICAgICAgICB9fT5vdXRwdXQ8L2MuQnV0dG9uPlxuICAgICAgICAgICAgPGMuQnV0dG9uIGZsZXg9JzEnIHZhcmlhbnQ9eyEhaW5oZXJpdCA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfSBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpbmhlcml0KSBkZWVwLmRlbGV0ZSh7IF9vcjogW3sgaWQ6IGluaGVyaXQuaWQgfSwgeyB0eXBlX2lkOiBDb250YWluLCB0b19pZDogaW5oZXJpdC5pZCB9XSB9KTtcbiAgICAgICAgICAgICAgZWxzZSBkZWVwLmluc2VydCh7IHR5cGVfaWQ6IEluaGVyaXQsIGZyb21faWQ6IGxpbmsudG9faWQsIHRvX2lkOiBsaW5rLnRvX2lkLCBjb250YWluZXJJZDogcGFyZW50SWQsIG5hbWU6IGAke2xpbmsudG8ubmFtZX1Jbmhlcml0YCB9KTtcbiAgICAgICAgICAgIH19PmluaGVyaXQ8L2MuQnV0dG9uPlxuICAgICAgICAgIDwvPn1cbiAgICAgICAgPC9jLkZsZXg+XG4gICAgICAgIHsvKiA8Z28uV3lzaXd5ZyB2YWx1ZT17bGluaz8udmFsdWU/LnZhbHVlfS8+ICovfVxuICAgICAgICA8Z28uV3lzaXd5ZyBsaW5rSWQ9e2xpbms/LmlkfS8+XG4gICAgICA8L2MuQm94PlxuICAgIDwvZ28uT24+O1xuICB9O1xufSJdfQ==",
          "link_id": 3207
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 3375,
      "src_id": 3375,
      "handler_id": 3376,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 3375,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 943,
          "value": "async ({ deep, data: { oldLink }, require }) => {\n    const axios = require('axios');\n    const router = await deep.id('@deep-foundation/telegram-bot', 'router');\n    const onTelegramInHandler = await deep.id('@deep-foundation/telegram-bot', 'onTelegramInHandler');\n\n    const containTree = deep.idLocal('@deep-foundation/core', 'containTree');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n\n    const { data: deletedLinks } = await deep.delete({\n        up: {\n            tree_id: containTree,\n            parent: {\n                type_id: Contain,\n                string: { value: { _in: [\n                    'route'+oldLink.from_id,\n                    'handle'+oldLink.from_id,\n                    'use'+oldLink.from_id,\n                    'include'+oldLink.from_id,\n                    'tree'+oldLink.from_id,\n                    'ruleInclude'+oldLink.from_id,\n                    'ruleTree'+oldLink.from_id,\n                ] } },\n            },\n        },\n    });\n\n    const { data: deletedWebhook } = await axios.get(`https://api.telegram.org/bot${token?.value?.value}/deleteWebhook`);\n\n    return {\n        deletedLinks,\n        deletedWebhook\n    };\n}",
          "link_id": 3375
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 3377,
      "src_id": 3377,
      "handler_id": 3378,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 3377,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 944,
          "value": "async ({ deep, data: { newLink, triggeredByLinkId }, require }) => {\n    const { Telegraf } = require('telegraf');\n    const Markup = require('telegraf/markup');\n\n    const Bot = await deep.id('@deep-foundation/telegram-bot', 'Bot');\n    const Token = await deep.id('@deep-foundation/telegram-bot', 'Token');\n    const Active = await deep.id('@deep-foundation/telegram-bot', 'Active');\n    const Conversation = await deep.id('@deep-foundation/telegram-bot', 'Conversation');\n    const HandleTelegramBotOut = await deep.id('@deep-foundation/telegram-bot', 'HandleTelegramBotOut');\n    const messagingTree = await deep.id('@deep-foundation/messaging', 'messagingTree');\n    const containTree = deep.idLocal('@deep-foundation/core', 'containTree');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n\n    function splitStringIntoChunks(str, chunkSize = 4096) {\n        const chunks = [];\n        for (let i = 0, len = str.length; i < len; i += chunkSize) {\n            chunks.push(str.substring(i, i + chunkSize));\n        }\n        return chunks;\n    }\n\n    const botId = (await deep.select({\n        type_id: Bot,\n        down: {\n            tree_id: containTree,\n            link_id: triggeredByLinkId\n        },\n    }))?.data?.[0]?.id;\n    if (!botId) {\n        const botId = (await deep.select({\n            type_id: Bot,\n            down: {\n                tree_id: messagingTree,\n                link_id: newLink.id,\n            },\n        }))?.data?.[0]?.id;\n        const token = (await deep.select({\n            type_id: Token,\n            in: {\n                type_id: Active,\n                from: {\n                    down: {\n                        tree_id: messagingTree,\n                        link_id: newLink.id,\n                    },\n                },\n            },\n        }))?.data?.[0];\n        const conversationId = (await deep.select({\n            type_id: Conversation,\n            down: {\n                tree_id: messagingTree,\n                link_id: newLink.id,\n            },\n        }))?.data?.[0]?.id;\n        const replyToId = newLink.to_id;\n\n        const message = (await deep.select(newLink.from_id))?.data?.[0];\n\n        const bot = new Telegraf(token?.value?.value);\n\n        const { data: handles } = await deep.select({\n            type_id: HandleTelegramBotOut,\n            from_id: botId,\n            order_by: { id: 'asc' },\n        });\n\n        const state = {\n            defaultHandling: true,\n        };\n        const handled = {};\n        for (let h in handles) {\n            const packageId = (await deep.select({\n                out: { type_id: Contain, to_id: handles[h].to_id },\n            }))?.data?.[0]?.id;\n            if (!packageId) {\n                handled[handles[h].to_id] = { error: `!packageId by handler(${handles[h].to_id}).in(Contain).from` };\n                continue;\n            }\n            const hdeep = new deep.DeepClient({\n                deep, ...(await deep.jwt({ linkId: packageId }))\n            })\n            handled[handles[h].to_id] = await hdeep.eval({\n                linkId: botId,\n                handlerId: handles[h].to_id,\n                input: {\n                    data: {\n                        state,\n                        bot,\n                        botId,\n                        userId: triggeredByLinkId,\n                        conversationId,\n                        handlerId: handles[h].to_id,\n                        reply: newLink,\n                        message,\n                    },\n                },\n            });\n        }\n\n        if (state.defaultHandling) {\n            const chanks = splitStringIntoChunks(message?.value?.value);\n            for (let c in chanks) {\n                bot.telegram.sendMessage(\n                    await deep.name(conversationId),\n                    chanks[c],\n                );\n            }\n        }\n\n        return {\n            botId,\n            conversationId,\n            replyToId,\n            message,\n            token,\n        };\n    } else {\n        return { botId };\n    }\n}",
          "link_id": 3377
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 3380,
      "src_id": 3380,
      "handler_id": 3381,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 3380,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 945,
          "value": "async (req, res, next, { deep, require, data: { baseUrl, originalUrl, path } }) => {\n    const { DeepClient } = await import('@deep-foundation/deeplinks/imports/client.js');\n\n    const User = deep.idLocal('@deep-foundation/core', 'User');\n    const Join = deep.idLocal('@deep-foundation/core', 'Join');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n    const Message = await deep.id('@deep-foundation/messaging', 'Message');\n    const Reply = await deep.id('@deep-foundation/messaging', 'Reply');\n    const Conversation = await deep.id('@deep-foundation/telegram-bot', 'Conversation');\n\n    const HandleTelegramBotIn = await deep.id('@deep-foundation/telegram-bot', 'HandleTelegramBotIn');\n\n    const m = req?.body?.message || req?.body?.callback_query?.message;\n    const _message_id = m?.message_id;\n    const _date = m?.date;\n    const _message = m?.text;\n    const _voice = m?.voice;\n    const _audio = m?.audio;\n    const _userId = m?.from?.id;\n    const _is_bot = m?.from?.is_bot;\n    const _username = m?.from?.username;\n    const _conversationId = m?.chat?.id;\n    const _replyId = m?.reply_to_message?.message_id;\n\n    const botId = +baseUrl.split('/').slice(-1)[0];\n    \n    // found or insert user based on telegram nick\n    let userId;\n    userId = (await deep.select({\n        type_id: User,\n        in: {\n            type_id: Contain, from_id: botId,\n            string: { value: `${_userId}` },\n        },\n    }))?.data?.[0]?.id;\n    if (!userId) {\n        userId = (await deep.insert({\n            type_id: User,\n            out: { data: [\n                {\n                    type_id: Join,\n                    to_id: await deep.id('deep', 'users'),\n                },\n                {\n                    type_id: Join,\n                    to_id: botId,\n                },\n            ] },\n            in: { data: {\n                type_id: Contain, from_id: botId,\n                string: { data: { value: `${_userId}` } }, // telegram nick\n            } },\n        }))?.data?.[0]?.id;\n    }\n\n    const udeep = new DeepClient({ deep, ...(await deep.jwt({ linkId: userId })) });\n\n    // found or insert user based on telegram nick\n    let conversationId;\n    conversationId = (await deep.select({\n        type_id: Conversation,\n        in: {\n            type_id: Contain, from_id: userId,\n            string: { value: `${_conversationId}` },\n        },\n    }))?.data?.[0]?.id;\n    if (!conversationId) {\n        conversationId = (await deep.insert({\n            type_id: Conversation,\n            in: { data: {\n                type_id: Contain, from_id: userId,\n                string: { data: { value: `${_conversationId}` } }, // telegram conversation id\n            } },\n            out: { data: {\n                type_id: Reply,\n                to_id: botId,\n                in: { data: {\n                    type_id: Contain, from_id: userId,\n                } },\n            } },\n        }))?.data?.[0]?.id;\n    }\n\n    const { data: handles } = await deep.select({\n        type_id: HandleTelegramBotIn,\n        from_id: botId,\n        order_by: { id: 'asc' },\n    });\n\n    const state = {\n        defaultHandling: true,\n    };\n    const handled = {};\n    for (let h in handles) {\n        const packageId = (await deep.select({\n            out: { type_id: Contain, to_id: handles[h].to_id },\n        }))?.data?.[0]?.id;\n        if (!packageId) {\n            handled[handles[h].to_id] = { error: `!packageId by handler(${handles[h].to_id}).in(Contain).from` };\n            continue;\n        }\n        const hdeep = new deep.DeepClient({\n            deep, ...(await deep.jwt({ linkId: packageId }))\n        });\n        handled[handles[h].to_id] = await hdeep.eval({\n            linkId: botId,\n            handlerId: handles[h].to_id,\n            input: {\n                data: {\n                    state,\n                    req, res,\n                    botId,\n                    userId,\n                    conversationId,\n                    handlerId: handles[h].to_id,\n                    udeep,\n                },\n            },\n        });\n    }\n\n    if (state.defaultHandling) {\n        // found or insert user based on telegram nick\n        let replyId = conversationId; // if not exists, then convers\n        if (_replyId) replyId = (await deep.select({ \n            type_id: Contain,\n            string: { value: `${_replyId}` },\n        }))?.data?.[0]?.to_id;\n        const messageInserted = await udeep.insert({\n            type_id: Message,\n            string: { data: { value: _message } },\n            in: { data: {\n                type_id: Contain, from_id: userId,\n                string: { data: { value: `${_message_id}` } },\n            } },\n            out: { data: {\n                type_id: Reply,\n                to_id: replyId,\n                in: { data: {\n                    type_id: Contain, from_id: userId,\n                } },\n            } },\n        });\n        const { data: messageId } = messageInserted;\n        res.send(JSON.stringify({\n            userId,\n            conversationId,\n            messageId,\n        }));\n    }\n}",
          "link_id": 3380
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    },
    {
      "dist_id": 3382,
      "src_id": 3382,
      "handler_id": 3383,
      "execution_provider_id": 33,
      "isolation_provider_id": 81,
      "dist": {
        "id": 3382,
        "type_id": 30,
        "from_id": 0,
        "to_id": 0,
        "value": {
          "id": 946,
          "value": "async ({ deep, data: { newLink, deeplinksUrl }, require }) => {\n    const axios = require('axios');\n    const router = await deep.id('@deep-foundation/telegram-bot', 'router');\n    const onTelegramInHandler = await deep.id('@deep-foundation/telegram-bot', 'onTelegramInHandler');\n    const selector = await deep.id('@deep-foundation/telegram-bot', 'botSelector');\n    const tuaimRuleSubjectSelector = await deep.id('@deep-foundation/telegram-bot', 'tuaimRuleSubjectSelector');\n    const messagingTree = await deep.id('@deep-foundation/messaging', 'messagingTree');\n    const joinTree = await deep.id('@deep-foundation/core', 'joinTree');\n\n    let { data: [token] } = await deep.select({ id: newLink.to_id });\n\n    const Route = deep.idLocal('@deep-foundation/core', 'Route');\n    const RouterStringUse = deep.idLocal('@deep-foundation/core', 'RouterStringUse');\n    const HandleRoute = deep.idLocal('@deep-foundation/core', 'HandleRoute');\n    const Contain = deep.idLocal('@deep-foundation/core', 'Contain');\n    const SelectorTree = deep.idLocal('@deep-foundation/core', 'SelectorTree');\n    const SelectorInclude = deep.idLocal('@deep-foundation/core', 'SelectorInclude');\n\n    const contain = (value, from_id) => ({\n        in: { data: {\n            type_id: Contain,\n            from_id: from_id,\n            string: { data: { value } },\n        } },\n    });\n\n    const { data: insertedLinks } = await deep.insert([\n        {\n            type_id: SelectorInclude,\n            from_id: tuaimRuleSubjectSelector,\n            to_id: newLink.from_id,\n            ...contain('ruleInclude'+newLink.from_id, tuaimRuleSubjectSelector),\n            out: { data: {\n                type_id: SelectorTree,\n                to_id: joinTree,\n                ...contain('ruleTree'+newLink.from_id, tuaimRuleSubjectSelector),\n            } },\n        },\n        {\n            type_id: SelectorInclude,\n            from_id: selector,\n            to_id: newLink.from_id,\n            ...contain('include'+newLink.from_id, selector),\n            out: { data: {\n                type_id: SelectorTree,\n                to_id: messagingTree,\n                ...contain('tree'+newLink.from_id, selector),\n            } },\n        },\n        {\n            type_id: Route,\n            ...contain('route'+newLink.from_id, router),\n            out: { data: [\n                {\n                    type_id: HandleRoute,\n                    to_id: onTelegramInHandler,\n                    ...contain('handle'+newLink.from_id, router),\n                },\n                {\n                    type_id: RouterStringUse,\n                    to_id: router,\n                    string: { data: { value: '/packages/deep-foundation/telegram-bot/'+newLink.from_id } },\n                    ...contain('use'+newLink.from_id, router),\n                },\n            ] },\n        },\n    ]);\n\n    const { data: insertedWebhook } = await axios.get(`https://api.telegram.org/bot${token?.value?.value}/setWebhook?url=${deeplinksUrl}/packages/deep-foundation/telegram-bot/${newLink.from_id}`);\n\n    return {\n        insertedLinks,\n        insertedWebhook,\n    };\n}",
          "link_id": 3382
        },
        "__typename": "links"
      },
      "__typename": "handlers"
    }
  ]
}